"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/stream-chat";
exports.ids = ["vendor-chunks/stream-chat"];
exports.modules = {

/***/ "(ssr)/../node_modules/stream-chat/dist/index.es.js":
/*!****************************************************!*\
  !*** ../node_modules/stream-chat/dist/index.es.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Allow: () => (/* binding */ Allow),\n/* harmony export */   AllowAll: () => (/* binding */ AllowAll),\n/* harmony export */   AnyResource: () => (/* binding */ AnyResource),\n/* harmony export */   AnyRole: () => (/* binding */ AnyRole),\n/* harmony export */   BuiltinPermissions: () => (/* binding */ BuiltinPermissions),\n/* harmony export */   BuiltinRoles: () => (/* binding */ BuiltinRoles),\n/* harmony export */   Channel: () => (/* binding */ Channel),\n/* harmony export */   ChannelState: () => (/* binding */ ChannelState),\n/* harmony export */   CheckSignature: () => (/* binding */ CheckSignature),\n/* harmony export */   ClientState: () => (/* binding */ ClientState),\n/* harmony export */   Deny: () => (/* binding */ Deny),\n/* harmony export */   DenyAll: () => (/* binding */ DenyAll),\n/* harmony export */   DevToken: () => (/* binding */ DevToken),\n/* harmony export */   EVENT_MAP: () => (/* binding */ EVENT_MAP),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   InsightMetrics: () => (/* binding */ InsightMetrics),\n/* harmony export */   JWTServerToken: () => (/* binding */ JWTServerToken),\n/* harmony export */   JWTUserToken: () => (/* binding */ JWTUserToken),\n/* harmony export */   MaxPriority: () => (/* binding */ MaxPriority),\n/* harmony export */   MinPriority: () => (/* binding */ MinPriority),\n/* harmony export */   Permission: () => (/* binding */ Permission),\n/* harmony export */   StableWSConnection: () => (/* binding */ StableWSConnection),\n/* harmony export */   StreamChat: () => (/* binding */ StreamChat),\n/* harmony export */   TokenManager: () => (/* binding */ TokenManager),\n/* harmony export */   UserFromToken: () => (/* binding */ UserFromToken),\n/* harmony export */   buildWsFatalInsight: () => (/* binding */ buildWsFatalInsight),\n/* harmony export */   buildWsSuccessAfterFailureInsight: () => (/* binding */ buildWsSuccessAfterFailureInsight),\n/* harmony export */   chatCodes: () => (/* binding */ chatCodes),\n/* harmony export */   decodeBase64: () => (/* binding */ decodeBase64),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   isOwnUser: () => (/* binding */ isOwnUser),\n/* harmony export */   logChatPromiseExecution: () => (/* binding */ logChatPromiseExecution),\n/* harmony export */   postInsights: () => (/* binding */ postInsights)\n/* harmony export */ });\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base64-js */ \"(ssr)/../node_modules/base64-js/index.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"(ssr)/../node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"(ssr)/../node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"(ssr)/../node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"(ssr)/../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"(ssr)/../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"(ssr)/../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/axios/lib/axios.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"(ssr)/../node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! form-data */ \"(ssr)/../node_modules/form-data/lib/form_data.js\");\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(form_data__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! isomorphic-ws */ \"(ssr)/../node_modules/isomorphic-ws/node.js\");\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(isomorphic_ws__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! jsonwebtoken */ \"(ssr)/../node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"(ssr)/../node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"(ssr)/../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"(ssr)/../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime/helpers/wrapNativeSuper */ \"(ssr)/../node_modules/@babel/runtime/helpers/wrapNativeSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction isString$1(arrayOrString) {\n    return typeof arrayOrString === \"string\";\n}\nfunction isMapStringCallback(arrayOrString, callback) {\n    return !!callback && isString$1(arrayOrString);\n} // source - https://github.com/beatgammit/base64-js/blob/master/test/convert.js#L72\nfunction map(arrayOrString, callback) {\n    var res = [];\n    if (isString$1(arrayOrString) && isMapStringCallback(arrayOrString, callback)) {\n        for(var k = 0, len = arrayOrString.length; k < len; k++){\n            if (arrayOrString.charAt(k)) {\n                var kValue = arrayOrString.charAt(k);\n                var mappedValue = callback(kValue, k, arrayOrString);\n                res[k] = mappedValue;\n            }\n        }\n    } else if (!isString$1(arrayOrString) && !isMapStringCallback(arrayOrString, callback)) {\n        for(var _k = 0, _len = arrayOrString.length; _k < _len; _k++){\n            if (_k in arrayOrString) {\n                var _kValue = arrayOrString[_k];\n                var _mappedValue = callback(_kValue, _k, arrayOrString);\n                res[_k] = _mappedValue;\n            }\n        }\n    }\n    return res;\n}\nvar encodeBase64 = function encodeBase64(data) {\n    return (0,base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray)(new Uint8Array(map(data, function(char) {\n        return char.charCodeAt(0);\n    })));\n}; // base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nvar decodeBase64 = function decodeBase64(s) {\n    var e = {}, w = String.fromCharCode, L = s.length;\n    var i, b = 0, c, x, l = 0, a, r = \"\";\n    var A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n        }\n    }\n    return r;\n};\nfunction ownKeys$6(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$6(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$6(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$6(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * ChannelState - A container class for the channel state.\n */ var ChannelState = /*#__PURE__*/ function() {\n    /**\n   * Flag which indicates if channel state contain latest/recent messages or no.\n   * This flag should be managed by UI sdks using a setter - setIsUpToDate.\n   * When false, any new message (received by websocket event - message.new) will not\n   * be pushed on to message list.\n   */ /**\n   * Disjoint lists of messages\n   * Users can jump in the message list (with searching) and this can result in disjoint lists of messages\n   * The state manages these lists and merges them when lists overlap\n   * The messages array contains the currently active set\n   */ function ChannelState(channel) {\n        var _this = this, _channel$state;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ChannelState);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_channel\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"watcher_count\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"typing\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"read\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pinnedMessages\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pending_messages\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"threads\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedUsers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"watchers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"members\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"unreadCount\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"membership\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"last_message_at\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isUpToDate\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"messageSets\", []);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setIsUpToDate\", function(isUpToDate) {\n            _this.isUpToDate = isUpToDate;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"removeMessageFromArray\", function(msgArray, msg) {\n            var result = msgArray.filter(function(message) {\n                return !(!!message.id && !!msg.id && message.id === msg.id);\n            });\n            return {\n                removed: result.length < msgArray.length,\n                result: result\n            };\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUserMessages\", function(user) {\n            var _updateUserMessages = function _updateUserMessages(messages, user) {\n                for(var i = 0; i < messages.length; i++){\n                    var _m$user;\n                    var m = messages[i];\n                    if (((_m$user = m.user) === null || _m$user === void 0 ? void 0 : _m$user.id) === user.id) {\n                        messages[i] = _objectSpread$6(_objectSpread$6({}, m), {}, {\n                            user: user\n                        });\n                    }\n                }\n            };\n            _this.messageSets.forEach(function(set) {\n                return _updateUserMessages(set.messages, user);\n            });\n            for(var parentId in _this.threads){\n                _updateUserMessages(_this.threads[parentId], user);\n            }\n            _updateUserMessages(_this.pinnedMessages, user);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"deleteUserMessages\", function(user) {\n            var hardDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var _deleteUserMessages = function _deleteUserMessages(messages, user) {\n                var hardDelete = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                for(var i = 0; i < messages.length; i++){\n                    var _m$user2;\n                    var m = messages[i];\n                    if (((_m$user2 = m.user) === null || _m$user2 === void 0 ? void 0 : _m$user2.id) !== user.id) {\n                        continue;\n                    }\n                    if (hardDelete) {\n                        /**\n             * In case of hard delete, we need to strip down all text, html,\n             * attachments and all the custom properties on message\n             */ messages[i] = {\n                            cid: m.cid,\n                            created_at: m.created_at,\n                            deleted_at: user.deleted_at,\n                            id: m.id,\n                            latest_reactions: [],\n                            mentioned_users: [],\n                            own_reactions: [],\n                            parent_id: m.parent_id,\n                            reply_count: m.reply_count,\n                            status: m.status,\n                            thread_participants: m.thread_participants,\n                            type: \"deleted\",\n                            updated_at: m.updated_at,\n                            user: m.user\n                        };\n                    } else {\n                        messages[i] = _objectSpread$6(_objectSpread$6({}, m), {}, {\n                            type: \"deleted\",\n                            deleted_at: user.deleted_at\n                        });\n                    }\n                }\n            };\n            _this.messageSets.forEach(function(set) {\n                return _deleteUserMessages(set.messages, user, hardDelete);\n            });\n            for(var parentId in _this.threads){\n                _deleteUserMessages(_this.threads[parentId], user, hardDelete);\n            }\n            _deleteUserMessages(_this.pinnedMessages, user, hardDelete);\n        });\n        this._channel = channel;\n        this.watcher_count = 0;\n        this.typing = {};\n        this.read = {};\n        this.initMessages();\n        this.pinnedMessages = [];\n        this.pending_messages = [];\n        this.threads = {}; // a list of users to hide messages from\n        this.mutedUsers = [];\n        this.watchers = {};\n        this.members = {};\n        this.membership = {};\n        this.unreadCount = 0;\n        /**\n     * Flag which indicates if channel state contain latest/recent messages or no.\n     * This flag should be managed by UI sdks using a setter - setIsUpToDate.\n     * When false, any new message (received by websocket event - message.new) will not\n     * be pushed on to message list.\n     */ this.isUpToDate = true;\n        this.last_message_at = (channel === null || channel === void 0 ? void 0 : (_channel$state = channel.state) === null || _channel$state === void 0 ? void 0 : _channel$state.last_message_at) != null ? new Date(channel.state.last_message_at) : null;\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(ChannelState, [\n        {\n            key: \"messages\",\n            get: function get() {\n                var _this$messageSets$fin;\n                return ((_this$messageSets$fin = this.messageSets.find(function(s) {\n                    return s.isCurrent;\n                })) === null || _this$messageSets$fin === void 0 ? void 0 : _this$messageSets$fin.messages) || [];\n            },\n            set: function set(messages) {\n                var index = this.messageSets.findIndex(function(s) {\n                    return s.isCurrent;\n                });\n                this.messageSets[index].messages = messages;\n            }\n        },\n        {\n            key: \"latestMessages\",\n            get: function get() {\n                var _this$messageSets$fin2;\n                return ((_this$messageSets$fin2 = this.messageSets.find(function(s) {\n                    return s.isLatest;\n                })) === null || _this$messageSets$fin2 === void 0 ? void 0 : _this$messageSets$fin2.messages) || [];\n            },\n            set: function set(messages) {\n                var index = this.messageSets.findIndex(function(s) {\n                    return s.isLatest;\n                });\n                this.messageSets[index].messages = messages;\n            }\n        },\n        {\n            key: \"addMessageSorted\",\n            value: function addMessageSorted(newMessage) {\n                var timestampChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n                var addIfDoesNotExist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"latest\";\n                return this.addMessagesSorted([\n                    newMessage\n                ], timestampChanged, false, addIfDoesNotExist, messageSetToAddToIfDoesNotExist);\n            }\n        },\n        {\n            key: \"formatMessage\",\n            value: function formatMessage(message) {\n                return _objectSpread$6(_objectSpread$6({}, message), {}, {\n                    /**\n         * @deprecated please use `html`\n         */ __html: message.html,\n                    // parse the date..\n                    pinned_at: message.pinned_at ? new Date(message.pinned_at) : null,\n                    created_at: message.created_at ? new Date(message.created_at) : new Date(),\n                    updated_at: message.updated_at ? new Date(message.updated_at) : new Date(),\n                    status: message.status || \"received\"\n                });\n            }\n        },\n        {\n            key: \"addMessagesSorted\",\n            value: function addMessagesSorted(newMessages) {\n                var timestampChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n                var initializing = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                var addIfDoesNotExist = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"current\";\n                var _this$findTargetMessa = this.findTargetMessageSet(newMessages, addIfDoesNotExist, messageSetToAddToIfDoesNotExist), messagesToAdd = _this$findTargetMessa.messagesToAdd, targetMessageSetIndex = _this$findTargetMessa.targetMessageSetIndex;\n                for(var i = 0; i < messagesToAdd.length; i += 1){\n                    var isFromShadowBannedUser = messagesToAdd[i].shadowed;\n                    if (isFromShadowBannedUser) {\n                        continue;\n                    } // If message is already formatted we can skip the tasks below\n                    // This will be true for messages that are already present at the state -> this happens when we perform merging of message sets\n                    // This will be also true for message previews used by some SDKs\n                    var isMessageFormatted = messagesToAdd[i].created_at instanceof Date;\n                    var message = void 0;\n                    if (isMessageFormatted) {\n                        message = messagesToAdd[i];\n                    } else {\n                        var _this$_channel;\n                        message = this.formatMessage(messagesToAdd[i]);\n                        if (message.user && (_this$_channel = this._channel) !== null && _this$_channel !== void 0 && _this$_channel.cid) {\n                            /**\n             * Store the reference to user for this channel, so that when we have to\n             * handle updates to user, we can use the reference map, to determine which\n             * channels need to be updated with updated user object.\n             */ this._channel.getClient().state.updateUserReference(message.user, this._channel.cid);\n                        }\n                        if (initializing && message.id && this.threads[message.id]) {\n                            // If we are initializing the state of channel (e.g., in case of connection recovery),\n                            // then in that case we remove thread related to this message from threads object.\n                            // This way we can ensure that we don't have any stale data in thread object\n                            // and consumer can refetch the replies.\n                            delete this.threads[message.id];\n                        }\n                        if (!this.last_message_at) {\n                            this.last_message_at = new Date(message.created_at.getTime());\n                        }\n                        if (message.created_at.getTime() > this.last_message_at.getTime()) {\n                            this.last_message_at = new Date(message.created_at.getTime());\n                        }\n                    } // update or append the messages...\n                    var parentID = message.parent_id; // add to the given message set\n                    if ((!parentID || message.show_in_channel) && targetMessageSetIndex !== -1) {\n                        this.messageSets[targetMessageSetIndex].messages = this._addToMessageList(this.messageSets[targetMessageSetIndex].messages, message, timestampChanged, \"created_at\", addIfDoesNotExist);\n                    }\n                    /**\n         * Add message to thread if applicable and the message\n         * was added when querying for replies, or the thread already exits.\n         * This is to prevent the thread state from getting out of sync if\n         * a thread message is shown in channel but older than the newest thread\n         * message. This situation can result in a thread state where a random\n         * message is \"oldest\" message, and newer messages are therefore not loaded.\n         * This can also occur if an old thread message is updated.\n         */ if (parentID && !initializing) {\n                        var thread = this.threads[parentID] || [];\n                        var threadMessages = this._addToMessageList(thread, message, timestampChanged, \"created_at\", addIfDoesNotExist);\n                        this.threads[parentID] = threadMessages;\n                    }\n                }\n                return {\n                    messageSet: this.messageSets[targetMessageSetIndex]\n                };\n            }\n        },\n        {\n            key: \"addPinnedMessages\",\n            value: function addPinnedMessages(pinnedMessages) {\n                for(var i = 0; i < pinnedMessages.length; i += 1){\n                    this.addPinnedMessage(pinnedMessages[i]);\n                }\n            }\n        },\n        {\n            key: \"addPinnedMessage\",\n            value: function addPinnedMessage(pinnedMessage) {\n                this.pinnedMessages = this._addToMessageList(this.pinnedMessages, this.formatMessage(pinnedMessage), false, \"pinned_at\");\n            }\n        },\n        {\n            key: \"removePinnedMessage\",\n            value: function removePinnedMessage(message) {\n                var _this$removeMessageFr = this.removeMessageFromArray(this.pinnedMessages, message), result = _this$removeMessageFr.result;\n                this.pinnedMessages = result;\n            }\n        },\n        {\n            key: \"addReaction\",\n            value: function addReaction(reaction, message, enforce_unique) {\n                var _this2 = this;\n                if (!message) return;\n                var messageWithReaction = message;\n                this._updateMessage(message, function(msg) {\n                    messageWithReaction.own_reactions = _this2._addOwnReactionToMessage(msg.own_reactions, reaction, enforce_unique);\n                    return _this2.formatMessage(messageWithReaction);\n                });\n                return messageWithReaction;\n            }\n        },\n        {\n            key: \"_addOwnReactionToMessage\",\n            value: function _addOwnReactionToMessage(ownReactions, reaction, enforce_unique) {\n                if (enforce_unique) {\n                    ownReactions = [];\n                } else {\n                    ownReactions = this._removeOwnReactionFromMessage(ownReactions, reaction);\n                }\n                ownReactions = ownReactions || [];\n                if (this._channel.getClient().userID === reaction.user_id) {\n                    ownReactions.push(reaction);\n                }\n                return ownReactions;\n            }\n        },\n        {\n            key: \"_removeOwnReactionFromMessage\",\n            value: function _removeOwnReactionFromMessage(ownReactions, reaction) {\n                if (ownReactions) {\n                    return ownReactions.filter(function(item) {\n                        return item.user_id !== reaction.user_id || item.type !== reaction.type;\n                    });\n                }\n                return ownReactions;\n            }\n        },\n        {\n            key: \"removeReaction\",\n            value: function removeReaction(reaction, message) {\n                var _this3 = this;\n                if (!message) return;\n                var messageWithReaction = message;\n                this._updateMessage(message, function(msg) {\n                    messageWithReaction.own_reactions = _this3._removeOwnReactionFromMessage(msg.own_reactions, reaction);\n                    return _this3.formatMessage(messageWithReaction);\n                });\n                return messageWithReaction;\n            }\n        },\n        {\n            key: \"removeQuotedMessageReferences\",\n            value: function removeQuotedMessageReferences(message) {\n                var _this4 = this;\n                var parseMessage = function parseMessage(m) {\n                    var _m$pinned_at, _m$updated_at;\n                    return _objectSpread$6(_objectSpread$6({}, m), {}, {\n                        created_at: m.created_at.toISOString(),\n                        pinned_at: (_m$pinned_at = m.pinned_at) === null || _m$pinned_at === void 0 ? void 0 : _m$pinned_at.toISOString(),\n                        updated_at: (_m$updated_at = m.updated_at) === null || _m$updated_at === void 0 ? void 0 : _m$updated_at.toISOString()\n                    });\n                };\n                this.messageSets.forEach(function(set) {\n                    var updatedMessages = set.messages.filter(function(msg) {\n                        return msg.quoted_message_id === message.id;\n                    }).map(parseMessage).map(function(msg) {\n                        return _objectSpread$6(_objectSpread$6({}, msg), {}, {\n                            quoted_message: _objectSpread$6(_objectSpread$6({}, message), {}, {\n                                attachments: []\n                            })\n                        });\n                    });\n                    _this4.addMessagesSorted(updatedMessages, true);\n                });\n            }\n        },\n        {\n            key: \"_updateMessage\",\n            value: function _updateMessage(message, updateFunc) {\n                var parent_id = message.parent_id, show_in_channel = message.show_in_channel, pinned = message.pinned;\n                if (parent_id && this.threads[parent_id]) {\n                    var thread = this.threads[parent_id];\n                    var msgIndex = thread.findIndex(function(msg) {\n                        return msg.id === message.id;\n                    });\n                    if (msgIndex !== -1) {\n                        thread[msgIndex] = updateFunc(thread[msgIndex]);\n                        this.threads[parent_id] = thread;\n                    }\n                }\n                if (!show_in_channel && !parent_id || show_in_channel) {\n                    var messageSetIndex = this.findMessageSetIndex(message);\n                    if (messageSetIndex !== -1) {\n                        var _msgIndex = this.messageSets[messageSetIndex].messages.findIndex(function(msg) {\n                            return msg.id === message.id;\n                        });\n                        if (_msgIndex !== -1) {\n                            this.messageSets[messageSetIndex].messages[_msgIndex] = updateFunc(this.messageSets[messageSetIndex].messages[_msgIndex]);\n                        }\n                    }\n                }\n                if (pinned) {\n                    var _msgIndex2 = this.pinnedMessages.findIndex(function(msg) {\n                        return msg.id === message.id;\n                    });\n                    if (_msgIndex2 !== -1) {\n                        this.pinnedMessages[_msgIndex2] = updateFunc(this.pinnedMessages[_msgIndex2]);\n                    }\n                }\n            }\n        },\n        {\n            key: \"_addToMessageList\",\n            value: /**\n     * _addToMessageList - Adds a message to a list of messages, tries to update first, appends if message isn't found\n     *\n     * @param {Array<ReturnType<ChannelState<StreamChatGenerics>['formatMessage']>>} messages A list of messages\n     * @param message\n     * @param {boolean} timestampChanged Whether updating a message with changed created_at value.\n     * @param {string} sortBy field name to use to sort the messages by\n     * @param {boolean} addIfDoesNotExist Add message if it is not in the list, used to prevent out of order updated messages from being added.\n     */ function _addToMessageList(messages, message) {\n                var timestampChanged = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                var sortBy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"created_at\";\n                var addIfDoesNotExist = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n                var addMessageToList = addIfDoesNotExist || timestampChanged;\n                var messageArr = messages; // if created_at has changed, message should be filtered and re-inserted in correct order\n                // slow op but usually this only happens for a message inserted to state before actual response with correct timestamp\n                if (timestampChanged) {\n                    messageArr = messageArr.filter(function(msg) {\n                        return !(msg.id && message.id === msg.id);\n                    });\n                } // Get array length after filtering\n                var messageArrayLength = messageArr.length; // for empty list just concat and return unless it's an update or deletion\n                if (messageArrayLength === 0 && addMessageToList) {\n                    return messageArr.concat(message);\n                } else if (messageArrayLength === 0) {\n                    return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                }\n                var messageTime = message[sortBy].getTime();\n                var messageIsNewest = messageArr[messageArrayLength - 1][sortBy].getTime() < messageTime; // if message is newer than last item in the list concat and return unless it's an update or deletion\n                if (messageIsNewest && addMessageToList) {\n                    return messageArr.concat(message);\n                } else if (messageIsNewest) {\n                    return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                } // find the closest index to push the new message\n                var left = 0;\n                var middle = 0;\n                var right = messageArrayLength - 1;\n                while(left <= right){\n                    middle = Math.floor((right + left) / 2);\n                    if (messageArr[middle][sortBy].getTime() <= messageTime) left = middle + 1;\n                    else right = middle - 1;\n                } // message already exists and not filtered due to timestampChanged, update and return\n                if (!timestampChanged && message.id) {\n                    if (messageArr[left] && message.id === messageArr[left].id) {\n                        messageArr[left] = message;\n                        return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                    }\n                    if (messageArr[left - 1] && message.id === messageArr[left - 1].id) {\n                        messageArr[left - 1] = message;\n                        return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                    }\n                } // Do not add updated or deleted messages to the list if they do not already exist\n                // or have a timestamp change.\n                if (addMessageToList) {\n                    messageArr.splice(left, 0, message);\n                }\n                return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n            }\n        },\n        {\n            key: \"removeMessage\",\n            value: function removeMessage(messageToRemove) {\n                var isRemoved = false;\n                if (messageToRemove.parent_id && this.threads[messageToRemove.parent_id]) {\n                    var _this$removeMessageFr2 = this.removeMessageFromArray(this.threads[messageToRemove.parent_id], messageToRemove), removed = _this$removeMessageFr2.removed, threadMessages = _this$removeMessageFr2.result;\n                    this.threads[messageToRemove.parent_id] = threadMessages;\n                    isRemoved = removed;\n                } else {\n                    var _messageToRemove$mess;\n                    var messageSetIndex = (_messageToRemove$mess = messageToRemove.messageSetIndex) !== null && _messageToRemove$mess !== void 0 ? _messageToRemove$mess : this.findMessageSetIndex(messageToRemove);\n                    if (messageSetIndex !== -1) {\n                        var _this$removeMessageFr3 = this.removeMessageFromArray(this.messageSets[messageSetIndex].messages, messageToRemove), _removed = _this$removeMessageFr3.removed, messages = _this$removeMessageFr3.result;\n                        this.messageSets[messageSetIndex].messages = messages;\n                        isRemoved = _removed;\n                    }\n                }\n                return isRemoved;\n            }\n        },\n        {\n            key: \"filterErrorMessages\",\n            value: /**\n     * filterErrorMessages - Removes error messages from the channel state.\n     *\n     */ function filterErrorMessages() {\n                var filteredMessages = this.latestMessages.filter(function(message) {\n                    return message.type !== \"error\";\n                });\n                this.latestMessages = filteredMessages;\n            }\n        },\n        {\n            key: \"clean\",\n            value: function clean() {\n                var now = new Date(); // prevent old users from showing up as typing\n                for(var _i = 0, _Object$entries = Object.entries(this.typing); _i < _Object$entries.length; _i++){\n                    var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default()(_Object$entries[_i], 2), userID = _Object$entries$_i[0], lastEvent = _Object$entries$_i[1];\n                    var receivedAt = typeof lastEvent.received_at === \"string\" ? new Date(lastEvent.received_at) : lastEvent.received_at || new Date();\n                    if (now.getTime() - receivedAt.getTime() > 7000) {\n                        delete this.typing[userID];\n                        this._channel.getClient().dispatchEvent({\n                            cid: this._channel.cid,\n                            type: \"typing.stop\",\n                            user: {\n                                id: userID\n                            }\n                        });\n                    }\n                }\n            }\n        },\n        {\n            key: \"clearMessages\",\n            value: function clearMessages() {\n                this.initMessages();\n                this.pinnedMessages = [];\n            }\n        },\n        {\n            key: \"initMessages\",\n            value: function initMessages() {\n                this.messageSets = [\n                    {\n                        messages: [],\n                        isLatest: true,\n                        isCurrent: true\n                    }\n                ];\n            }\n        },\n        {\n            key: \"loadMessageIntoState\",\n            value: function() {\n                var _loadMessageIntoState = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(messageId, parentMessageId) {\n                    var _this$threads$parentM;\n                    var limit, messageSetIndex, switchedToMessageSet, loadedMessageThread, messageIdToFind, _args = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    limit = _args.length > 2 && _args[2] !== undefined ? _args[2] : 25;\n                                    switchedToMessageSet = false;\n                                    loadedMessageThread = false;\n                                    messageIdToFind = parentMessageId || messageId;\n                                    if (!(messageId === \"latest\")) {\n                                        _context.next = 10;\n                                        break;\n                                    }\n                                    if (!(this.messages === this.latestMessages)) {\n                                        _context.next = 7;\n                                        break;\n                                    }\n                                    return _context.abrupt(\"return\");\n                                case 7:\n                                    messageSetIndex = this.messageSets.findIndex(function(s) {\n                                        return s.isLatest;\n                                    });\n                                    _context.next = 11;\n                                    break;\n                                case 10:\n                                    messageSetIndex = this.findMessageSetIndex({\n                                        id: messageIdToFind\n                                    });\n                                case 11:\n                                    if (messageSetIndex !== -1) {\n                                        this.switchToMessageSet(messageSetIndex);\n                                        switchedToMessageSet = true;\n                                    }\n                                    loadedMessageThread = !parentMessageId || !!((_this$threads$parentM = this.threads[parentMessageId]) !== null && _this$threads$parentM !== void 0 && _this$threads$parentM.find(function(m) {\n                                        return m.id === messageId;\n                                    }));\n                                    if (!(switchedToMessageSet && loadedMessageThread)) {\n                                        _context.next = 15;\n                                        break;\n                                    }\n                                    return _context.abrupt(\"return\");\n                                case 15:\n                                    if (switchedToMessageSet) {\n                                        _context.next = 18;\n                                        break;\n                                    }\n                                    _context.next = 18;\n                                    return this._channel.query({\n                                        messages: {\n                                            id_around: messageIdToFind,\n                                            limit: limit\n                                        }\n                                    }, \"new\");\n                                case 18:\n                                    if (!(!loadedMessageThread && parentMessageId)) {\n                                        _context.next = 21;\n                                        break;\n                                    }\n                                    _context.next = 21;\n                                    return this._channel.getReplies(parentMessageId, {\n                                        id_around: messageId,\n                                        limit: limit\n                                    });\n                                case 21:\n                                    messageSetIndex = this.findMessageSetIndex({\n                                        id: messageIdToFind\n                                    });\n                                    if (messageSetIndex !== -1) {\n                                        this.switchToMessageSet(messageSetIndex);\n                                    }\n                                case 23:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this);\n                }));\n                function loadMessageIntoState(_x, _x2) {\n                    return _loadMessageIntoState.apply(this, arguments);\n                }\n                return loadMessageIntoState;\n            }()\n        },\n        {\n            key: \"findMessage\",\n            value: function findMessage(messageId, parentMessageId) {\n                if (parentMessageId) {\n                    var messages = this.threads[parentMessageId];\n                    if (!messages) {\n                        return undefined;\n                    }\n                    return messages.find(function(m) {\n                        return m.id === messageId;\n                    });\n                }\n                var messageSetIndex = this.findMessageSetIndex({\n                    id: messageId\n                });\n                if (messageSetIndex === -1) {\n                    return undefined;\n                }\n                return this.messageSets[messageSetIndex].messages.find(function(m) {\n                    return m.id === messageId;\n                });\n            }\n        },\n        {\n            key: \"switchToMessageSet\",\n            value: function switchToMessageSet(index) {\n                var currentMessages = this.messageSets.find(function(s) {\n                    return s.isCurrent;\n                });\n                if (!currentMessages) {\n                    return;\n                }\n                currentMessages.isCurrent = false;\n                this.messageSets[index].isCurrent = true;\n            }\n        },\n        {\n            key: \"areMessageSetsOverlap\",\n            value: function areMessageSetsOverlap(messages1, messages2) {\n                return messages1.some(function(m1) {\n                    return messages2.find(function(m2) {\n                        return m1.id === m2.id;\n                    });\n                });\n            }\n        },\n        {\n            key: \"findMessageSetIndex\",\n            value: function findMessageSetIndex(message) {\n                return this.messageSets.findIndex(function(set) {\n                    return !!set.messages.find(function(m) {\n                        return m.id === message.id;\n                    });\n                });\n            }\n        },\n        {\n            key: \"findTargetMessageSet\",\n            value: function findTargetMessageSet(newMessages) {\n                var _this5 = this;\n                var addIfDoesNotExist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"current\";\n                var messagesToAdd = newMessages;\n                var targetMessageSetIndex;\n                if (addIfDoesNotExist) {\n                    var overlappingMessageSetIndices = this.messageSets.map(function(_, i) {\n                        return i;\n                    }).filter(function(i) {\n                        return _this5.areMessageSetsOverlap(_this5.messageSets[i].messages, newMessages);\n                    });\n                    switch(messageSetToAddToIfDoesNotExist){\n                        case \"new\":\n                            if (overlappingMessageSetIndices.length > 0) {\n                                targetMessageSetIndex = overlappingMessageSetIndices[0]; // No new message set is created if newMessages only contains thread replies\n                            } else if (newMessages.some(function(m) {\n                                return !m.parent_id;\n                            })) {\n                                this.messageSets.push({\n                                    messages: [],\n                                    isCurrent: false,\n                                    isLatest: false\n                                });\n                                targetMessageSetIndex = this.messageSets.length - 1;\n                            }\n                            break;\n                        case \"current\":\n                            targetMessageSetIndex = this.messageSets.findIndex(function(s) {\n                                return s.isCurrent;\n                            });\n                            break;\n                        case \"latest\":\n                            targetMessageSetIndex = this.messageSets.findIndex(function(s) {\n                                return s.isLatest;\n                            });\n                            break;\n                        default:\n                            targetMessageSetIndex = -1;\n                    } // when merging the target set will be the first one from the overlapping message sets\n                    var mergeTargetMessageSetIndex = overlappingMessageSetIndices.splice(0, 1)[0];\n                    var mergeSourceMessageSetIndices = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(overlappingMessageSetIndices);\n                    if (mergeTargetMessageSetIndex !== undefined && mergeTargetMessageSetIndex !== targetMessageSetIndex) {\n                        mergeSourceMessageSetIndices.push(targetMessageSetIndex);\n                    } // merge message sets\n                    if (mergeSourceMessageSetIndices.length > 0) {\n                        var target = this.messageSets[mergeTargetMessageSetIndex];\n                        var sources = this.messageSets.filter(function(_, i) {\n                            return mergeSourceMessageSetIndices.indexOf(i) !== -1;\n                        });\n                        sources.forEach(function(messageSet) {\n                            target.isLatest = target.isLatest || messageSet.isLatest;\n                            target.isCurrent = target.isCurrent || messageSet.isCurrent;\n                            messagesToAdd = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messagesToAdd), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageSet.messages));\n                        });\n                        sources.forEach(function(s) {\n                            return _this5.messageSets.splice(_this5.messageSets.indexOf(s), 1);\n                        });\n                        var overlappingMessageSetIndex = this.messageSets.findIndex(function(s) {\n                            return _this5.areMessageSetsOverlap(s.messages, newMessages);\n                        });\n                        targetMessageSetIndex = overlappingMessageSetIndex;\n                    }\n                } else {\n                    // assumes that all new messages belong to the same set\n                    targetMessageSetIndex = this.findMessageSetIndex(newMessages[0]);\n                }\n                return {\n                    targetMessageSetIndex: targetMessageSetIndex,\n                    messagesToAdd: messagesToAdd\n                };\n            }\n        }\n    ]);\n    return ChannelState;\n}();\nfunction _createForOfIteratorHelper$3(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function(_e) {\n                    function e(_x) {\n                        return _e.apply(this, arguments);\n                    }\n                    e.toString = function() {\n                        return _e.toString();\n                    };\n                    return e;\n                }(function(e) {\n                    throw e;\n                }),\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function(_e2) {\n            function e(_x2) {\n                return _e2.apply(this, arguments);\n            }\n            e.toString = function() {\n                return _e2.toString();\n            };\n            return e;\n        }(function(e) {\n            didErr = true;\n            err = e;\n        }),\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$3(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen);\n}\nfunction _arrayLikeToArray$3(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\n/**\n * logChatPromiseExecution - utility function for logging the execution of a promise..\n *  use this when you want to run the promise and handle errors by logging a warning\n *\n * @param {Promise<T>} promise The promise you want to run and log\n * @param {string} name    A descriptive name of what the promise does for log output\n *\n */ function logChatPromiseExecution(promise, name) {\n    promise.then().catch(function(error) {\n        console.warn(\"failed to do \".concat(name, \", ran into error: \"), error);\n    });\n}\nvar sleep = function sleep(m) {\n    return new Promise(function(r) {\n        return setTimeout(r, m);\n    });\n};\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\nvar chatCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000\n};\nfunction isReadableStream(obj) {\n    return obj !== null && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(obj) === \"object\" && (obj.readable || typeof obj._read === \"function\");\n}\nfunction isBuffer(obj) {\n    return obj != null && obj.constructor != null && // @ts-expect-error\n    typeof obj.constructor.isBuffer === \"function\" && // @ts-expect-error\n    obj.constructor.isBuffer(obj);\n}\nfunction isFileWebAPI(uri) {\n    return  false && 0;\n}\nfunction isOwnUser(user) {\n    return (user === null || user === void 0 ? void 0 : user.total_unread_count) !== undefined;\n}\nfunction isBlobWebAPI(uri) {\n    return  false && 0;\n}\nfunction isOwnUserBaseProperty(property) {\n    var ownUserBaseProperties = {\n        channel_mutes: true,\n        devices: true,\n        mutes: true,\n        total_unread_count: true,\n        unread_channels: true,\n        unread_count: true,\n        invisible: true,\n        roles: true\n    };\n    return ownUserBaseProperties[property];\n}\nfunction addFileToFormData(uri, name, contentType) {\n    var data = new (form_data__WEBPACK_IMPORTED_MODULE_12___default())();\n    if (isReadableStream(uri) || isBuffer(uri) || isFileWebAPI(uri) || isBlobWebAPI(uri)) {\n        if (name) data.append(\"file\", uri, name);\n        else data.append(\"file\", uri);\n    } else {\n        data.append(\"file\", {\n            uri: uri,\n            name: name || uri.split(\"/\").reverse()[0],\n            contentType: contentType || undefined,\n            type: contentType || undefined\n        });\n    }\n    return data;\n}\nfunction normalizeQuerySort(sort) {\n    var sortFields = [];\n    var sortArr = Array.isArray(sort) ? sort : [\n        sort\n    ];\n    var _iterator = _createForOfIteratorHelper$3(sortArr), _step;\n    try {\n        for(_iterator.s(); !(_step = _iterator.n()).done;){\n            var item = _step.value;\n            var entries = Object.entries(item);\n            if (entries.length > 1) {\n                console.warn(\"client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed\");\n            }\n            for(var _i = 0, _entries = entries; _i < _entries.length; _i++){\n                var _entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default()(_entries[_i], 2), field = _entries$_i[0], direction = _entries$_i[1];\n                sortFields.push({\n                    field: field,\n                    direction: direction\n                });\n            }\n        }\n    } catch (err) {\n        _iterator.e(err);\n    } finally{\n        _iterator.f();\n    }\n    return sortFields;\n}\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-25 seconds (random to spread out the load from failures)\n    var max = Math.min(500 + numberOfFailures * 2000, 25000);\n    var min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 25000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction randomId() {\n    return generateUUIDv4();\n}\nfunction hex(bytes) {\n    var s = \"\";\n    for(var i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n} // https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    var bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return hex(bytes.subarray(0, 4)) + \"-\" + hex(bytes.subarray(4, 6)) + \"-\" + hex(bytes.subarray(6, 8)) + \"-\" + hex(bytes.subarray(8, 10)) + \"-\" + hex(bytes.subarray(10, 16));\n}\nfunction getRandomValuesWithMathRandom(bytes) {\n    var max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n    for(var i = 0; i < bytes.length; i++){\n        bytes[i] = Math.random() * max;\n    }\n}\nvar getRandomValues = function() {\n    var _crypto;\n    if (typeof crypto !== \"undefined\" && typeof ((_crypto = crypto) === null || _crypto === void 0 ? void 0 : _crypto.getRandomValues) !== \"undefined\") {\n        return crypto.getRandomValues.bind(crypto);\n    } else if (typeof msCrypto !== \"undefined\") {\n        return msCrypto.getRandomValues.bind(msCrypto);\n    } else {\n        return getRandomValuesWithMathRandom;\n    }\n}();\nfunction getRandomBytes(length) {\n    var bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\nfunction convertErrorToJson(err) {\n    var jsonObj = {};\n    if (!err) return jsonObj;\n    try {\n        Object.getOwnPropertyNames(err).forEach(function(key) {\n            jsonObj[key] = Object.getOwnPropertyDescriptor(err, key);\n        });\n    } catch (_) {\n        return {\n            error: \"failed to serialize the error\"\n        };\n    }\n    return jsonObj;\n}\n/**\n * isOnline safely return the navigator.online value for browser env\n * if navigator is not in global object, it always return true\n */ function isOnline() {\n    var nav = typeof navigator !== \"undefined\" ? navigator :  false ? 0 : undefined;\n    if (!nav) {\n        console.warn(\"isOnline failed to access window.navigator and assume browser is online\");\n        return true;\n    } // RN navigator has undefined for onLine\n    if (typeof nav.onLine !== \"boolean\") {\n        return true;\n    }\n    return nav.onLine;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\nvar axiosParamsSerializer = function axiosParamsSerializer(params) {\n    var newParams = [];\n    for(var k in params){\n        // Stream backend doesn't treat \"undefined\" value same as value not being present.\n        // So, we need to skip the undefined values.\n        if (params[k] === undefined) continue;\n        if (Array.isArray(params[k]) || _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(params[k]) === \"object\") {\n            newParams.push(\"\".concat(k, \"=\").concat(encodeURIComponent(JSON.stringify(params[k]))));\n        } else {\n            newParams.push(\"\".concat(k, \"=\").concat(encodeURIComponent(params[k])));\n        }\n    }\n    return newParams.join(\"&\");\n};\nfunction _createForOfIteratorHelper$2(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$2(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\nfunction _arrayLikeToArray$2(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nfunction ownKeys$5(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$5(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$5(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$5(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * Channel - The Channel class manages it's own state.\n */ var Channel = /*#__PURE__*/ function() {\n    /**  */ /**\n   * This boolean is a vague indication of weather the channel exists on chat backend.\n   *\n   * If the value is true, then that means the channel has been initialized by either calling\n   * channel.create() or channel.query() or channel.watch().\n   *\n   * If the value is false, then channel may or may not exist on the backend. The only way to ensure\n   * is by calling channel.create() or channel.query() or channel.watch().\n   */ /**\n   * Indicates weather channel has been initialized by manually populating the state with some messages, members etc.\n   * Static state indicates that channel exists on backend, but is not being watched yet.\n   */ /**\n   * constructor - Create a channel\n   *\n   * @param {StreamChat<StreamChatGenerics>} client the chat client\n   * @param {string} type  the type of channel\n   * @param {string} [id]  the id of the chat\n   * @param {ChannelData<StreamChatGenerics>} data any additional custom params\n   *\n   * @return {Channel<StreamChatGenerics>} Returns a new uninitialized channel\n   */ function Channel(client, type, id, data) {\n        var _this = this;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Channel);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"type\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"id\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"data\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_data\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cid\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"listeners\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"initialized\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"offlineMode\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastKeyStroke\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastTypingEvent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isTyping\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnected\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"create\", /*#__PURE__*/ function() {\n            var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(options) {\n                var defaultOptions;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                defaultOptions = _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                    watch: false,\n                                    state: false,\n                                    presence: false\n                                });\n                                _context.next = 3;\n                                return _this.query(defaultOptions, \"latest\");\n                            case 3:\n                                return _context.abrupt(\"return\", _context.sent);\n                            case 4:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee);\n            }));\n            return function(_x) {\n                return _ref.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_callChannelListeners\", function(event) {\n            var channel = _this; // gather and call the listeners\n            var listeners = [];\n            if (channel.listeners.all) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(channel.listeners.all));\n            }\n            if (channel.listeners[event.type]) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(channel.listeners[event.type]));\n            } // call the event and send it to the listeners\n            for(var _i = 0, _listeners = listeners; _i < _listeners.length; _i++){\n                var listener = _listeners[_i];\n                if (typeof listener !== \"string\") {\n                    listener(event);\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_channelURL\", function() {\n            if (!_this.id) {\n                throw new Error(\"channel id is not defined\");\n            }\n            return \"\".concat(_this.getClient().baseURL, \"/channels/\").concat(_this.type, \"/\").concat(_this.id);\n        });\n        var validTypeRe = /^[\\w_-]+$/;\n        var validIDRe = /^[\\w!_-]+$/;\n        if (!validTypeRe.test(type)) {\n            throw new Error(\"Invalid chat type \".concat(type, ', letters, numbers and \"_-\" are allowed'));\n        }\n        if (typeof id === \"string\" && !validIDRe.test(id)) {\n            throw new Error(\"Invalid chat id \".concat(id, ', letters, numbers and \"!-_\" are allowed'));\n        }\n        this._client = client;\n        this.type = type;\n        this.id = id; // used by the frontend, gets updated:\n        this.data = data; // this._data is used for the requests...\n        this._data = _objectSpread$5({}, data);\n        this.cid = \"\".concat(type, \":\").concat(id);\n        this.listeners = {}; // perhaps the state variable should be private\n        this.state = new ChannelState(this);\n        this.initialized = false;\n        this.offlineMode = false;\n        this.lastTypingEvent = null;\n        this.isTyping = false;\n        this.disconnected = false;\n    }\n    /**\n   * getClient - Get the chat client for this channel. If client.disconnect() was called, this function will error\n   *\n   * @return {StreamChat<StreamChatGenerics>}\n   */ _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(Channel, [\n        {\n            key: \"getClient\",\n            value: function getClient() {\n                if (this.disconnected === true) {\n                    throw Error(\"You can't use a channel after client.disconnect() was called\");\n                }\n                return this._client;\n            }\n        },\n        {\n            key: \"getConfig\",\n            value: function getConfig() {\n                var client = this.getClient();\n                return client.configs[this.cid];\n            }\n        },\n        {\n            key: \"sendMessage\",\n            value: function() {\n                var _sendMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(message, options) {\n                    var sendMessageResponse;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                        while(1){\n                            switch(_context2.prev = _context2.next){\n                                case 0:\n                                    _context2.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/message\", _objectSpread$5({\n                                        message: message\n                                    }, options));\n                                case 2:\n                                    sendMessageResponse = _context2.sent;\n                                    // Reset unreadCount to 0.\n                                    this.state.unreadCount = 0;\n                                    return _context2.abrupt(\"return\", sendMessageResponse);\n                                case 5:\n                                case \"end\":\n                                    return _context2.stop();\n                            }\n                        }\n                    }, _callee2, this);\n                }));\n                function sendMessage(_x2, _x3) {\n                    return _sendMessage.apply(this, arguments);\n                }\n                return sendMessage;\n            }()\n        },\n        {\n            key: \"sendFile\",\n            value: function sendFile(uri, name, contentType, user) {\n                return this.getClient().sendFile(\"\".concat(this._channelURL(), \"/file\"), uri, name, contentType, user);\n            }\n        },\n        {\n            key: \"sendImage\",\n            value: function sendImage(uri, name, contentType, user) {\n                return this.getClient().sendFile(\"\".concat(this._channelURL(), \"/image\"), uri, name, contentType, user);\n            }\n        },\n        {\n            key: \"deleteFile\",\n            value: function deleteFile(url) {\n                return this.getClient().delete(\"\".concat(this._channelURL(), \"/file\"), {\n                    url: url\n                });\n            }\n        },\n        {\n            key: \"deleteImage\",\n            value: function deleteImage(url) {\n                return this.getClient().delete(\"\".concat(this._channelURL(), \"/image\"), {\n                    url: url\n                });\n            }\n        },\n        {\n            key: \"sendEvent\",\n            value: function() {\n                var _sendEvent = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3(event) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                        while(1){\n                            switch(_context3.prev = _context3.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context3.next = 3;\n                                    return this.getClient().post(this._channelURL() + \"/event\", {\n                                        event: event\n                                    });\n                                case 3:\n                                    return _context3.abrupt(\"return\", _context3.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context3.stop();\n                            }\n                        }\n                    }, _callee3, this);\n                }));\n                function sendEvent(_x4) {\n                    return _sendEvent.apply(this, arguments);\n                }\n                return sendEvent;\n            }()\n        },\n        {\n            key: \"search\",\n            value: function() {\n                var _search = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4(query) {\n                    var options, payload, _args4 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    options = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n                                    if (!(options.offset && options.next)) {\n                                        _context4.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"Cannot specify offset with next\");\n                                case 3:\n                                    // Return a list of channels\n                                    payload = _objectSpread$5(_objectSpread$5({\n                                        filter_conditions: {\n                                            cid: this.cid\n                                        }\n                                    }, options), {}, {\n                                        sort: options.sort ? normalizeQuerySort(options.sort) : undefined\n                                    });\n                                    if (!(typeof query === \"string\")) {\n                                        _context4.next = 8;\n                                        break;\n                                    }\n                                    payload.query = query;\n                                    _context4.next = 13;\n                                    break;\n                                case 8:\n                                    if (!(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query) === \"object\")) {\n                                        _context4.next = 12;\n                                        break;\n                                    }\n                                    payload.message_filter_conditions = query;\n                                    _context4.next = 13;\n                                    break;\n                                case 12:\n                                    throw Error(\"Invalid type \".concat(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query), \" for query parameter\"));\n                                case 13:\n                                    _context4.next = 15;\n                                    return this.getClient().wsPromise;\n                                case 15:\n                                    _context4.next = 17;\n                                    return this.getClient().get(this.getClient().baseURL + \"/search\", {\n                                        payload: payload\n                                    });\n                                case 17:\n                                    return _context4.abrupt(\"return\", _context4.sent);\n                                case 18:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4, this);\n                }));\n                function search(_x5) {\n                    return _search.apply(this, arguments);\n                }\n                return search;\n            }()\n        },\n        {\n            key: \"queryMembers\",\n            value: function() {\n                var _queryMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5(filterConditions) {\n                    var _this$data;\n                    var sort, options, id, type, members, _args5 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    sort = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : [];\n                                    options = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : {};\n                                    type = this.type;\n                                    if (this.id) {\n                                        id = this.id;\n                                    } else if ((_this$data = this.data) !== null && _this$data !== void 0 && _this$data.members && Array.isArray(this.data.members)) {\n                                        members = this.data.members;\n                                    } // Return a list of members\n                                    _context5.next = 6;\n                                    return this.getClient().get(this.getClient().baseURL + \"/members\", {\n                                        payload: _objectSpread$5({\n                                            type: type,\n                                            id: id,\n                                            members: members,\n                                            sort: normalizeQuerySort(sort),\n                                            filter_conditions: filterConditions\n                                        }, options)\n                                    });\n                                case 6:\n                                    return _context5.abrupt(\"return\", _context5.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this);\n                }));\n                function queryMembers(_x6) {\n                    return _queryMembers.apply(this, arguments);\n                }\n                return queryMembers;\n            }()\n        },\n        {\n            key: \"sendReaction\",\n            value: function() {\n                var _sendReaction = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6(messageID, reaction, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    if (messageID) {\n                                        _context6.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Message id is missing\");\n                                case 2:\n                                    if (!(!reaction || Object.keys(reaction).length === 0)) {\n                                        _context6.next = 4;\n                                        break;\n                                    }\n                                    throw Error(\"Reaction object is missing\");\n                                case 4:\n                                    _context6.next = 6;\n                                    return this.getClient().post(this.getClient().baseURL + \"/messages/\".concat(messageID, \"/reaction\"), _objectSpread$5({\n                                        reaction: reaction\n                                    }, options));\n                                case 6:\n                                    return _context6.abrupt(\"return\", _context6.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this);\n                }));\n                function sendReaction(_x7, _x8, _x9) {\n                    return _sendReaction.apply(this, arguments);\n                }\n                return sendReaction;\n            }()\n        },\n        {\n            key: \"deleteReaction\",\n            value: function deleteReaction(messageID, reactionType, user_id) {\n                this._checkInitialized();\n                if (!reactionType || !messageID) {\n                    throw Error(\"Deleting a reaction requires specifying both the message and reaction type\");\n                }\n                var url = this.getClient().baseURL + \"/messages/\".concat(messageID, \"/reaction/\").concat(reactionType); //provided when server side request\n                if (user_id) {\n                    return this.getClient().delete(url, {\n                        user_id: user_id\n                    });\n                }\n                return this.getClient().delete(url, {});\n            }\n        },\n        {\n            key: \"update\",\n            value: function() {\n                var _update2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee7() {\n                    var channelData, updateMessage, options, reserved, _args7 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee7$(_context7) {\n                        while(1){\n                            switch(_context7.prev = _context7.next){\n                                case 0:\n                                    channelData = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {};\n                                    updateMessage = _args7.length > 1 ? _args7[1] : undefined;\n                                    options = _args7.length > 2 ? _args7[2] : undefined;\n                                    // Strip out reserved names that will result in API errors.\n                                    reserved = [\n                                        \"config\",\n                                        \"cid\",\n                                        \"created_by\",\n                                        \"id\",\n                                        \"member_count\",\n                                        \"type\",\n                                        \"created_at\",\n                                        \"updated_at\",\n                                        \"last_message_at\",\n                                        \"own_capabilities\"\n                                    ];\n                                    reserved.forEach(function(key) {\n                                        delete channelData[key];\n                                    });\n                                    _context7.next = 7;\n                                    return this._update(_objectSpread$5({\n                                        message: updateMessage,\n                                        data: channelData\n                                    }, options));\n                                case 7:\n                                    return _context7.abrupt(\"return\", _context7.sent);\n                                case 8:\n                                case \"end\":\n                                    return _context7.stop();\n                            }\n                        }\n                    }, _callee7, this);\n                }));\n                function update() {\n                    return _update2.apply(this, arguments);\n                }\n                return update;\n            }()\n        },\n        {\n            key: \"updatePartial\",\n            value: function() {\n                var _updatePartial = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee8(update) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee8$(_context8) {\n                        while(1){\n                            switch(_context8.prev = _context8.next){\n                                case 0:\n                                    _context8.next = 2;\n                                    return this.getClient().patch(this._channelURL(), update);\n                                case 2:\n                                    data = _context8.sent;\n                                    this.data = data.channel;\n                                    return _context8.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context8.stop();\n                            }\n                        }\n                    }, _callee8, this);\n                }));\n                function updatePartial(_x10) {\n                    return _updatePartial.apply(this, arguments);\n                }\n                return updatePartial;\n            }()\n        },\n        {\n            key: \"enableSlowMode\",\n            value: function() {\n                var _enableSlowMode = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee9(coolDownInterval) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee9$(_context9) {\n                        while(1){\n                            switch(_context9.prev = _context9.next){\n                                case 0:\n                                    _context9.next = 2;\n                                    return this.getClient().post(this._channelURL(), {\n                                        cooldown: coolDownInterval\n                                    });\n                                case 2:\n                                    data = _context9.sent;\n                                    this.data = data.channel;\n                                    return _context9.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context9.stop();\n                            }\n                        }\n                    }, _callee9, this);\n                }));\n                function enableSlowMode(_x11) {\n                    return _enableSlowMode.apply(this, arguments);\n                }\n                return enableSlowMode;\n            }()\n        },\n        {\n            key: \"disableSlowMode\",\n            value: function() {\n                var _disableSlowMode = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee10() {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee10$(_context10) {\n                        while(1){\n                            switch(_context10.prev = _context10.next){\n                                case 0:\n                                    _context10.next = 2;\n                                    return this.getClient().post(this._channelURL(), {\n                                        cooldown: 0\n                                    });\n                                case 2:\n                                    data = _context10.sent;\n                                    this.data = data.channel;\n                                    return _context10.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context10.stop();\n                            }\n                        }\n                    }, _callee10, this);\n                }));\n                function disableSlowMode() {\n                    return _disableSlowMode.apply(this, arguments);\n                }\n                return disableSlowMode;\n            }()\n        },\n        {\n            key: \"delete\",\n            value: function() {\n                var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee11() {\n                    var options, _args11 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee11$(_context11) {\n                        while(1){\n                            switch(_context11.prev = _context11.next){\n                                case 0:\n                                    options = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {};\n                                    _context11.next = 3;\n                                    return this.getClient().delete(this._channelURL(), _objectSpread$5({}, options));\n                                case 3:\n                                    return _context11.abrupt(\"return\", _context11.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context11.stop();\n                            }\n                        }\n                    }, _callee11, this);\n                }));\n                function _delete() {\n                    return _delete2.apply(this, arguments);\n                }\n                return _delete;\n            }()\n        },\n        {\n            key: \"truncate\",\n            value: function() {\n                var _truncate = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee12() {\n                    var options, _args12 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee12$(_context12) {\n                        while(1){\n                            switch(_context12.prev = _context12.next){\n                                case 0:\n                                    options = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {};\n                                    _context12.next = 3;\n                                    return this.getClient().post(this._channelURL() + \"/truncate\", options);\n                                case 3:\n                                    return _context12.abrupt(\"return\", _context12.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context12.stop();\n                            }\n                        }\n                    }, _callee12, this);\n                }));\n                function truncate() {\n                    return _truncate.apply(this, arguments);\n                }\n                return truncate;\n            }()\n        },\n        {\n            key: \"acceptInvite\",\n            value: function() {\n                var _acceptInvite = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee13() {\n                    var options, _args13 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee13$(_context13) {\n                        while(1){\n                            switch(_context13.prev = _context13.next){\n                                case 0:\n                                    options = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {};\n                                    _context13.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        accept_invite: true\n                                    }, options));\n                                case 3:\n                                    return _context13.abrupt(\"return\", _context13.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context13.stop();\n                            }\n                        }\n                    }, _callee13, this);\n                }));\n                function acceptInvite() {\n                    return _acceptInvite.apply(this, arguments);\n                }\n                return acceptInvite;\n            }()\n        },\n        {\n            key: \"rejectInvite\",\n            value: function() {\n                var _rejectInvite = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee14() {\n                    var options, _args14 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee14$(_context14) {\n                        while(1){\n                            switch(_context14.prev = _context14.next){\n                                case 0:\n                                    options = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {};\n                                    _context14.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        reject_invite: true\n                                    }, options));\n                                case 3:\n                                    return _context14.abrupt(\"return\", _context14.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context14.stop();\n                            }\n                        }\n                    }, _callee14, this);\n                }));\n                function rejectInvite() {\n                    return _rejectInvite.apply(this, arguments);\n                }\n                return rejectInvite;\n            }()\n        },\n        {\n            key: \"addMembers\",\n            value: function() {\n                var _addMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee15(members, message) {\n                    var options, _args15 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee15$(_context15) {\n                        while(1){\n                            switch(_context15.prev = _context15.next){\n                                case 0:\n                                    options = _args15.length > 2 && _args15[2] !== undefined ? _args15[2] : {};\n                                    _context15.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        add_members: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context15.abrupt(\"return\", _context15.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context15.stop();\n                            }\n                        }\n                    }, _callee15, this);\n                }));\n                function addMembers(_x12, _x13) {\n                    return _addMembers.apply(this, arguments);\n                }\n                return addMembers;\n            }()\n        },\n        {\n            key: \"addModerators\",\n            value: function() {\n                var _addModerators = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee16(members, message) {\n                    var options, _args16 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee16$(_context16) {\n                        while(1){\n                            switch(_context16.prev = _context16.next){\n                                case 0:\n                                    options = _args16.length > 2 && _args16[2] !== undefined ? _args16[2] : {};\n                                    _context16.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        add_moderators: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context16.stop();\n                            }\n                        }\n                    }, _callee16, this);\n                }));\n                function addModerators(_x14, _x15) {\n                    return _addModerators.apply(this, arguments);\n                }\n                return addModerators;\n            }()\n        },\n        {\n            key: \"assignRoles\",\n            value: function() {\n                var _assignRoles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee17(roles, message) {\n                    var options, _args17 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee17$(_context17) {\n                        while(1){\n                            switch(_context17.prev = _context17.next){\n                                case 0:\n                                    options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n                                    _context17.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        assign_roles: roles,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context17.abrupt(\"return\", _context17.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context17.stop();\n                            }\n                        }\n                    }, _callee17, this);\n                }));\n                function assignRoles(_x16, _x17) {\n                    return _assignRoles.apply(this, arguments);\n                }\n                return assignRoles;\n            }()\n        },\n        {\n            key: \"inviteMembers\",\n            value: function() {\n                var _inviteMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee18(members, message) {\n                    var options, _args18 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee18$(_context18) {\n                        while(1){\n                            switch(_context18.prev = _context18.next){\n                                case 0:\n                                    options = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : {};\n                                    _context18.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        invites: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context18.abrupt(\"return\", _context18.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context18.stop();\n                            }\n                        }\n                    }, _callee18, this);\n                }));\n                function inviteMembers(_x18, _x19) {\n                    return _inviteMembers.apply(this, arguments);\n                }\n                return inviteMembers;\n            }()\n        },\n        {\n            key: \"removeMembers\",\n            value: function() {\n                var _removeMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee19(members, message) {\n                    var options, _args19 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee19$(_context19) {\n                        while(1){\n                            switch(_context19.prev = _context19.next){\n                                case 0:\n                                    options = _args19.length > 2 && _args19[2] !== undefined ? _args19[2] : {};\n                                    _context19.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        remove_members: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context19.abrupt(\"return\", _context19.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context19.stop();\n                            }\n                        }\n                    }, _callee19, this);\n                }));\n                function removeMembers(_x20, _x21) {\n                    return _removeMembers.apply(this, arguments);\n                }\n                return removeMembers;\n            }()\n        },\n        {\n            key: \"demoteModerators\",\n            value: function() {\n                var _demoteModerators = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee20(members, message) {\n                    var options, _args20 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee20$(_context20) {\n                        while(1){\n                            switch(_context20.prev = _context20.next){\n                                case 0:\n                                    options = _args20.length > 2 && _args20[2] !== undefined ? _args20[2] : {};\n                                    _context20.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        demote_moderators: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context20.abrupt(\"return\", _context20.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context20.stop();\n                            }\n                        }\n                    }, _callee20, this);\n                }));\n                function demoteModerators(_x22, _x23) {\n                    return _demoteModerators.apply(this, arguments);\n                }\n                return demoteModerators;\n            }()\n        },\n        {\n            key: \"_update\",\n            value: function() {\n                var _update3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee21(payload) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee21$(_context21) {\n                        while(1){\n                            switch(_context21.prev = _context21.next){\n                                case 0:\n                                    _context21.next = 2;\n                                    return this.getClient().post(this._channelURL(), payload);\n                                case 2:\n                                    data = _context21.sent;\n                                    this.data = data.channel;\n                                    return _context21.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context21.stop();\n                            }\n                        }\n                    }, _callee21, this);\n                }));\n                function _update(_x24) {\n                    return _update3.apply(this, arguments);\n                }\n                return _update;\n            }()\n        },\n        {\n            key: \"mute\",\n            value: function() {\n                var _mute = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee22() {\n                    var opts, _args22 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee22$(_context22) {\n                        while(1){\n                            switch(_context22.prev = _context22.next){\n                                case 0:\n                                    opts = _args22.length > 0 && _args22[0] !== undefined ? _args22[0] : {};\n                                    _context22.next = 3;\n                                    return this.getClient().post(this.getClient().baseURL + \"/moderation/mute/channel\", _objectSpread$5({\n                                        channel_cid: this.cid\n                                    }, opts));\n                                case 3:\n                                    return _context22.abrupt(\"return\", _context22.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context22.stop();\n                            }\n                        }\n                    }, _callee22, this);\n                }));\n                function mute() {\n                    return _mute.apply(this, arguments);\n                }\n                return mute;\n            }()\n        },\n        {\n            key: \"unmute\",\n            value: function() {\n                var _unmute = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee23() {\n                    var opts, _args23 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee23$(_context23) {\n                        while(1){\n                            switch(_context23.prev = _context23.next){\n                                case 0:\n                                    opts = _args23.length > 0 && _args23[0] !== undefined ? _args23[0] : {};\n                                    _context23.next = 3;\n                                    return this.getClient().post(this.getClient().baseURL + \"/moderation/unmute/channel\", _objectSpread$5({\n                                        channel_cid: this.cid\n                                    }, opts));\n                                case 3:\n                                    return _context23.abrupt(\"return\", _context23.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context23.stop();\n                            }\n                        }\n                    }, _callee23, this);\n                }));\n                function unmute() {\n                    return _unmute.apply(this, arguments);\n                }\n                return unmute;\n            }()\n        },\n        {\n            key: \"muteStatus\",\n            value: function muteStatus() {\n                this._checkInitialized();\n                return this.getClient()._muteStatus(this.cid);\n            }\n        },\n        {\n            key: \"sendAction\",\n            value: function sendAction(messageID, formData) {\n                this._checkInitialized();\n                if (!messageID) {\n                    throw Error(\"Message id is missing\");\n                }\n                return this.getClient().post(this.getClient().baseURL + \"/messages/\".concat(messageID, \"/action\"), {\n                    message_id: messageID,\n                    form_data: formData,\n                    id: this.id,\n                    type: this.type\n                });\n            }\n        },\n        {\n            key: \"keystroke\",\n            value: function() {\n                var _keystroke = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee24(parent_id) {\n                    var _this$getConfig;\n                    var now, diff;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee24$(_context24) {\n                        while(1){\n                            switch(_context24.prev = _context24.next){\n                                case 0:\n                                    if ((_this$getConfig = this.getConfig()) !== null && _this$getConfig !== void 0 && _this$getConfig.typing_events) {\n                                        _context24.next = 2;\n                                        break;\n                                    }\n                                    return _context24.abrupt(\"return\");\n                                case 2:\n                                    now = new Date();\n                                    diff = this.lastTypingEvent && now.getTime() - this.lastTypingEvent.getTime();\n                                    this.lastKeyStroke = now;\n                                    this.isTyping = true; // send a typing.start every 2 seconds\n                                    if (!(diff === null || diff > 2000)) {\n                                        _context24.next = 10;\n                                        break;\n                                    }\n                                    this.lastTypingEvent = new Date();\n                                    _context24.next = 10;\n                                    return this.sendEvent({\n                                        type: \"typing.start\",\n                                        parent_id: parent_id\n                                    });\n                                case 10:\n                                case \"end\":\n                                    return _context24.stop();\n                            }\n                        }\n                    }, _callee24, this);\n                }));\n                function keystroke(_x25) {\n                    return _keystroke.apply(this, arguments);\n                }\n                return keystroke;\n            }()\n        },\n        {\n            key: \"stopTyping\",\n            value: function() {\n                var _stopTyping = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee25(parent_id) {\n                    var _this$getConfig2;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee25$(_context25) {\n                        while(1){\n                            switch(_context25.prev = _context25.next){\n                                case 0:\n                                    if ((_this$getConfig2 = this.getConfig()) !== null && _this$getConfig2 !== void 0 && _this$getConfig2.typing_events) {\n                                        _context25.next = 2;\n                                        break;\n                                    }\n                                    return _context25.abrupt(\"return\");\n                                case 2:\n                                    this.lastTypingEvent = null;\n                                    this.isTyping = false;\n                                    _context25.next = 6;\n                                    return this.sendEvent({\n                                        type: \"typing.stop\",\n                                        parent_id: parent_id\n                                    });\n                                case 6:\n                                case \"end\":\n                                    return _context25.stop();\n                            }\n                        }\n                    }, _callee25, this);\n                }));\n                function stopTyping(_x26) {\n                    return _stopTyping.apply(this, arguments);\n                }\n                return stopTyping;\n            }()\n        },\n        {\n            key: \"lastMessage\",\n            value: function lastMessage() {\n                // get last 5 messages, sort, return the latest\n                // get a slice of the last 5\n                var min = this.state.latestMessages.length - 5;\n                if (min < 0) {\n                    min = 0;\n                }\n                var max = this.state.latestMessages.length + 1;\n                var messageSlice = this.state.latestMessages.slice(min, max); // sort by pk desc\n                messageSlice.sort(function(a, b) {\n                    return b.created_at.getTime() - a.created_at.getTime();\n                });\n                return messageSlice[0];\n            }\n        },\n        {\n            key: \"markRead\",\n            value: function() {\n                var _markRead = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee26() {\n                    var _this$getConfig3;\n                    var data, _args26 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee26$(_context26) {\n                        while(1){\n                            switch(_context26.prev = _context26.next){\n                                case 0:\n                                    data = _args26.length > 0 && _args26[0] !== undefined ? _args26[0] : {};\n                                    this._checkInitialized();\n                                    if ((_this$getConfig3 = this.getConfig()) !== null && _this$getConfig3 !== void 0 && _this$getConfig3.read_events) {\n                                        _context26.next = 4;\n                                        break;\n                                    }\n                                    return _context26.abrupt(\"return\", Promise.resolve(null));\n                                case 4:\n                                    _context26.next = 6;\n                                    return this.getClient().post(this._channelURL() + \"/read\", _objectSpread$5({}, data));\n                                case 6:\n                                    return _context26.abrupt(\"return\", _context26.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context26.stop();\n                            }\n                        }\n                    }, _callee26, this);\n                }));\n                function markRead() {\n                    return _markRead.apply(this, arguments);\n                }\n                return markRead;\n            }()\n        },\n        {\n            key: \"markUnread\",\n            value: function() {\n                var _markUnread = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee27(data) {\n                    var _this$getConfig4;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee27$(_context27) {\n                        while(1){\n                            switch(_context27.prev = _context27.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    if ((_this$getConfig4 = this.getConfig()) !== null && _this$getConfig4 !== void 0 && _this$getConfig4.read_events) {\n                                        _context27.next = 3;\n                                        break;\n                                    }\n                                    return _context27.abrupt(\"return\", Promise.resolve(null));\n                                case 3:\n                                    _context27.next = 5;\n                                    return this.getClient().post(this._channelURL() + \"/unread\", _objectSpread$5({}, data));\n                                case 5:\n                                    return _context27.abrupt(\"return\", _context27.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context27.stop();\n                            }\n                        }\n                    }, _callee27, this);\n                }));\n                function markUnread(_x27) {\n                    return _markUnread.apply(this, arguments);\n                }\n                return markUnread;\n            }()\n        },\n        {\n            key: \"clean\",\n            value: function clean() {\n                if (this.lastKeyStroke) {\n                    var now = new Date();\n                    var diff = now.getTime() - this.lastKeyStroke.getTime();\n                    if (diff > 1000 && this.isTyping) {\n                        logChatPromiseExecution(this.stopTyping(), \"stop typing event\");\n                    }\n                }\n                this.state.clean();\n            }\n        },\n        {\n            key: \"watch\",\n            value: function() {\n                var _watch = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee28(options) {\n                    var defaultOptions, combined, state;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee28$(_context28) {\n                        while(1){\n                            switch(_context28.prev = _context28.next){\n                                case 0:\n                                    defaultOptions = {\n                                        state: true,\n                                        watch: true,\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context28.next = 3;\n                                    return this.getClient().wsPromise;\n                                case 3:\n                                    if (!this.getClient()._hasConnectionID()) {\n                                        defaultOptions.watch = false;\n                                    }\n                                    combined = _objectSpread$5(_objectSpread$5({}, defaultOptions), options);\n                                    _context28.next = 7;\n                                    return this.query(combined, \"latest\");\n                                case 7:\n                                    state = _context28.sent;\n                                    this.initialized = true;\n                                    this.data = state.channel;\n                                    this._client.logger(\"info\", \"channel:watch() - started watching channel \".concat(this.cid), {\n                                        tags: [\n                                            \"channel\"\n                                        ],\n                                        channel: this\n                                    });\n                                    return _context28.abrupt(\"return\", state);\n                                case 12:\n                                case \"end\":\n                                    return _context28.stop();\n                            }\n                        }\n                    }, _callee28, this);\n                }));\n                function watch(_x28) {\n                    return _watch.apply(this, arguments);\n                }\n                return watch;\n            }()\n        },\n        {\n            key: \"stopWatching\",\n            value: function() {\n                var _stopWatching = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee29() {\n                    var response;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee29$(_context29) {\n                        while(1){\n                            switch(_context29.prev = _context29.next){\n                                case 0:\n                                    _context29.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/stop-watching\", {});\n                                case 2:\n                                    response = _context29.sent;\n                                    this._client.logger(\"info\", \"channel:watch() - stopped watching channel \".concat(this.cid), {\n                                        tags: [\n                                            \"channel\"\n                                        ],\n                                        channel: this\n                                    });\n                                    return _context29.abrupt(\"return\", response);\n                                case 5:\n                                case \"end\":\n                                    return _context29.stop();\n                            }\n                        }\n                    }, _callee29, this);\n                }));\n                function stopWatching() {\n                    return _stopWatching.apply(this, arguments);\n                }\n                return stopWatching;\n            }()\n        },\n        {\n            key: \"getReplies\",\n            value: function() {\n                var _getReplies = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee30(parent_id, options) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee30$(_context30) {\n                        while(1){\n                            switch(_context30.prev = _context30.next){\n                                case 0:\n                                    _context30.next = 2;\n                                    return this.getClient().get(this.getClient().baseURL + \"/messages/\".concat(parent_id, \"/replies\"), _objectSpread$5({}, options));\n                                case 2:\n                                    data = _context30.sent;\n                                    // add any messages to our thread state\n                                    if (data.messages) {\n                                        this.state.addMessagesSorted(data.messages);\n                                    }\n                                    return _context30.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context30.stop();\n                            }\n                        }\n                    }, _callee30, this);\n                }));\n                function getReplies(_x29, _x30) {\n                    return _getReplies.apply(this, arguments);\n                }\n                return getReplies;\n            }()\n        },\n        {\n            key: \"getPinnedMessages\",\n            value: function() {\n                var _getPinnedMessages = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee31(options) {\n                    var sort, _args31 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee31$(_context31) {\n                        while(1){\n                            switch(_context31.prev = _context31.next){\n                                case 0:\n                                    sort = _args31.length > 1 && _args31[1] !== undefined ? _args31[1] : [];\n                                    _context31.next = 3;\n                                    return this.getClient().get(this.getClient().baseURL + \"/channels/\".concat(this.type, \"/\").concat(this.id, \"/pinned_messages\"), {\n                                        payload: _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                            sort: normalizeQuerySort(sort)\n                                        })\n                                    });\n                                case 3:\n                                    return _context31.abrupt(\"return\", _context31.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context31.stop();\n                            }\n                        }\n                    }, _callee31, this);\n                }));\n                function getPinnedMessages(_x31) {\n                    return _getPinnedMessages.apply(this, arguments);\n                }\n                return getPinnedMessages;\n            }()\n        },\n        {\n            key: \"getReactions\",\n            value: function getReactions(message_id, options) {\n                return this.getClient().get(this.getClient().baseURL + \"/messages/\".concat(message_id, \"/reactions\"), _objectSpread$5({}, options));\n            }\n        },\n        {\n            key: \"getMessagesById\",\n            value: function getMessagesById(messageIds) {\n                return this.getClient().get(this._channelURL() + \"/messages\", {\n                    ids: messageIds.join(\",\")\n                });\n            }\n        },\n        {\n            key: \"lastRead\",\n            value: function lastRead() {\n                var _this$getClient = this.getClient(), userID = _this$getClient.userID;\n                if (userID) {\n                    return this.state.read[userID] ? this.state.read[userID].last_read : null;\n                }\n            }\n        },\n        {\n            key: \"_countMessageAsUnread\",\n            value: function _countMessageAsUnread(message) {\n                var _message$user, _message$user2, _this$data2, _this$data3;\n                if (message.shadowed) return false;\n                if (message.silent) return false;\n                if (message.parent_id && !message.show_in_channel) return false;\n                if (((_message$user = message.user) === null || _message$user === void 0 ? void 0 : _message$user.id) === this.getClient().userID) return false;\n                if ((_message$user2 = message.user) !== null && _message$user2 !== void 0 && _message$user2.id && this.getClient().userMuteStatus(message.user.id)) return false;\n                if (message.type === \"system\") return false; // Return false if channel doesn't allow read events.\n                if (Array.isArray((_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : _this$data2.own_capabilities) && !((_this$data3 = this.data) !== null && _this$data3 !== void 0 && _this$data3.own_capabilities.includes(\"read-events\"))) return false;\n                if (this.muteStatus().muted) return false;\n                return true;\n            }\n        },\n        {\n            key: \"countUnread\",\n            value: function countUnread(lastRead) {\n                if (!lastRead) return this.state.unreadCount;\n                var count = 0;\n                for(var i = 0; i < this.state.latestMessages.length; i += 1){\n                    var message = this.state.latestMessages[i];\n                    if (message.created_at > lastRead && this._countMessageAsUnread(message)) {\n                        count++;\n                    }\n                }\n                return count;\n            }\n        },\n        {\n            key: \"countUnreadMentions\",\n            value: function countUnreadMentions() {\n                var lastRead = this.lastRead();\n                var userID = this.getClient().userID;\n                var count = 0;\n                for(var i = 0; i < this.state.latestMessages.length; i += 1){\n                    var _message$mentioned_us;\n                    var message = this.state.latestMessages[i];\n                    if (this._countMessageAsUnread(message) && (!lastRead || message.created_at > lastRead) && (_message$mentioned_us = message.mentioned_users) !== null && _message$mentioned_us !== void 0 && _message$mentioned_us.some(function(user) {\n                        return user.id === userID;\n                    })) {\n                        count++;\n                    }\n                }\n                return count;\n            }\n        },\n        {\n            key: \"query\",\n            value: /**\n     * query - Query the API, get messages, members or other channel fields\n     *\n     * @param {ChannelQueryOptions<StreamChatGenerics>} options The query options\n     * @param {MessageSetType} messageSetToAddToIfDoesNotExist It's possible to load disjunct sets of a channel's messages into state, use `current` to load the initial channel state or if you want to extend the currently displayed messages, use `latest` if you want to load/extend the latest messages, `new` is used for loading a specific message and it's surroundings\n     *\n     * @return {Promise<QueryChannelAPIResponse<StreamChatGenerics>>} Returns a query response\n     */ function() {\n                var _query = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee32(options) {\n                    var _this$data4, _this$data5;\n                    var messageSetToAddToIfDoesNotExist, queryURL, state, membersStr, tempChannelCid, _this$_initializeStat, messageSet, areCapabilitiesChanged, _args32 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee32$(_context32) {\n                        while(1){\n                            switch(_context32.prev = _context32.next){\n                                case 0:\n                                    messageSetToAddToIfDoesNotExist = _args32.length > 1 && _args32[1] !== undefined ? _args32[1] : \"current\";\n                                    _context32.next = 3;\n                                    return this.getClient().wsPromise;\n                                case 3:\n                                    queryURL = \"\".concat(this.getClient().baseURL, \"/channels/\").concat(this.type);\n                                    if (this.id) {\n                                        queryURL += \"/\".concat(this.id);\n                                    }\n                                    _context32.next = 7;\n                                    return this.getClient().post(queryURL + \"/query\", _objectSpread$5({\n                                        data: this._data,\n                                        state: true\n                                    }, options));\n                                case 7:\n                                    state = _context32.sent;\n                                    // update the channel id if it was missing\n                                    if (!this.id) {\n                                        this.id = state.channel.id;\n                                        this.cid = state.channel.cid; // set the channel as active...\n                                        membersStr = state.members.map(function(member) {\n                                            var _member$user;\n                                            return member.user_id || ((_member$user = member.user) === null || _member$user === void 0 ? void 0 : _member$user.id);\n                                        }).sort().join(\",\");\n                                        tempChannelCid = \"\".concat(this.type, \":!members-\").concat(membersStr);\n                                        if (tempChannelCid in this.getClient().activeChannels) {\n                                            // This gets set in `client.channel()` function, when channel is created\n                                            // using members, not id.\n                                            delete this.getClient().activeChannels[tempChannelCid];\n                                        }\n                                        if (!(this.cid in this.getClient().activeChannels)) {\n                                            this.getClient().activeChannels[this.cid] = this;\n                                        }\n                                    }\n                                    this.getClient()._addChannelConfig(state.channel); // add any messages to our channel state\n                                    _this$_initializeStat = this._initializeState(state, messageSetToAddToIfDoesNotExist), messageSet = _this$_initializeStat.messageSet;\n                                    areCapabilitiesChanged = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(state.channel.own_capabilities || []).sort().join() !== _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(Array.isArray((_this$data4 = this.data) === null || _this$data4 === void 0 ? void 0 : _this$data4.own_capabilities) ? (_this$data5 = this.data) === null || _this$data5 === void 0 ? void 0 : _this$data5.own_capabilities : []).sort().join();\n                                    this.data = state.channel;\n                                    this.offlineMode = false;\n                                    if (areCapabilitiesChanged) {\n                                        this.getClient().dispatchEvent({\n                                            type: \"capabilities.changed\",\n                                            cid: this.cid,\n                                            own_capabilities: state.channel.own_capabilities\n                                        });\n                                    }\n                                    this.getClient().dispatchEvent({\n                                        type: \"channels.queried\",\n                                        queriedChannels: {\n                                            channels: [\n                                                state\n                                            ],\n                                            isLatestMessageSet: messageSet.isLatest\n                                        }\n                                    });\n                                    return _context32.abrupt(\"return\", state);\n                                case 17:\n                                case \"end\":\n                                    return _context32.stop();\n                            }\n                        }\n                    }, _callee32, this);\n                }));\n                function query(_x32) {\n                    return _query.apply(this, arguments);\n                }\n                return query;\n            }()\n        },\n        {\n            key: \"banUser\",\n            value: function() {\n                var _banUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee33(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee33$(_context33) {\n                        while(1){\n                            switch(_context33.prev = _context33.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context33.next = 3;\n                                    return this.getClient().banUser(targetUserID, _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                        type: this.type,\n                                        id: this.id\n                                    }));\n                                case 3:\n                                    return _context33.abrupt(\"return\", _context33.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context33.stop();\n                            }\n                        }\n                    }, _callee33, this);\n                }));\n                function banUser(_x33, _x34) {\n                    return _banUser.apply(this, arguments);\n                }\n                return banUser;\n            }()\n        },\n        {\n            key: \"hide\",\n            value: function() {\n                var _hide = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee34() {\n                    var userId, clearHistory, _args34 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee34$(_context34) {\n                        while(1){\n                            switch(_context34.prev = _context34.next){\n                                case 0:\n                                    userId = _args34.length > 0 && _args34[0] !== undefined ? _args34[0] : null;\n                                    clearHistory = _args34.length > 1 && _args34[1] !== undefined ? _args34[1] : false;\n                                    this._checkInitialized();\n                                    _context34.next = 5;\n                                    return this.getClient().post(\"\".concat(this._channelURL(), \"/hide\"), {\n                                        user_id: userId,\n                                        clear_history: clearHistory\n                                    });\n                                case 5:\n                                    return _context34.abrupt(\"return\", _context34.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context34.stop();\n                            }\n                        }\n                    }, _callee34, this);\n                }));\n                function hide() {\n                    return _hide.apply(this, arguments);\n                }\n                return hide;\n            }()\n        },\n        {\n            key: \"show\",\n            value: function() {\n                var _show = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee35() {\n                    var userId, _args35 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee35$(_context35) {\n                        while(1){\n                            switch(_context35.prev = _context35.next){\n                                case 0:\n                                    userId = _args35.length > 0 && _args35[0] !== undefined ? _args35[0] : null;\n                                    this._checkInitialized();\n                                    _context35.next = 4;\n                                    return this.getClient().post(\"\".concat(this._channelURL(), \"/show\"), {\n                                        user_id: userId\n                                    });\n                                case 4:\n                                    return _context35.abrupt(\"return\", _context35.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context35.stop();\n                            }\n                        }\n                    }, _callee35, this);\n                }));\n                function show() {\n                    return _show.apply(this, arguments);\n                }\n                return show;\n            }()\n        },\n        {\n            key: \"unbanUser\",\n            value: function() {\n                var _unbanUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee36(targetUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee36$(_context36) {\n                        while(1){\n                            switch(_context36.prev = _context36.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context36.next = 3;\n                                    return this.getClient().unbanUser(targetUserID, {\n                                        type: this.type,\n                                        id: this.id\n                                    });\n                                case 3:\n                                    return _context36.abrupt(\"return\", _context36.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context36.stop();\n                            }\n                        }\n                    }, _callee36, this);\n                }));\n                function unbanUser(_x35) {\n                    return _unbanUser.apply(this, arguments);\n                }\n                return unbanUser;\n            }()\n        },\n        {\n            key: \"shadowBan\",\n            value: function() {\n                var _shadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee37(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee37$(_context37) {\n                        while(1){\n                            switch(_context37.prev = _context37.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context37.next = 3;\n                                    return this.getClient().shadowBan(targetUserID, _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                        type: this.type,\n                                        id: this.id\n                                    }));\n                                case 3:\n                                    return _context37.abrupt(\"return\", _context37.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context37.stop();\n                            }\n                        }\n                    }, _callee37, this);\n                }));\n                function shadowBan(_x36, _x37) {\n                    return _shadowBan.apply(this, arguments);\n                }\n                return shadowBan;\n            }()\n        },\n        {\n            key: \"removeShadowBan\",\n            value: function() {\n                var _removeShadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee38(targetUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee38$(_context38) {\n                        while(1){\n                            switch(_context38.prev = _context38.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context38.next = 3;\n                                    return this.getClient().removeShadowBan(targetUserID, {\n                                        type: this.type,\n                                        id: this.id\n                                    });\n                                case 3:\n                                    return _context38.abrupt(\"return\", _context38.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context38.stop();\n                            }\n                        }\n                    }, _callee38, this);\n                }));\n                function removeShadowBan(_x38) {\n                    return _removeShadowBan.apply(this, arguments);\n                }\n                return removeShadowBan;\n            }()\n        },\n        {\n            key: \"createCall\",\n            value: function() {\n                var _createCall = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee39(options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee39$(_context39) {\n                        while(1){\n                            switch(_context39.prev = _context39.next){\n                                case 0:\n                                    _context39.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/call\", options);\n                                case 2:\n                                    return _context39.abrupt(\"return\", _context39.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context39.stop();\n                            }\n                        }\n                    }, _callee39, this);\n                }));\n                function createCall(_x39) {\n                    return _createCall.apply(this, arguments);\n                }\n                return createCall;\n            }()\n        },\n        {\n            key: \"on\",\n            value: function on(callbackOrString, callbackOrNothing) {\n                var _this2 = this;\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this._client.logger(\"info\", \"Attaching listener for \".concat(key, \" event on channel \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.listeners[key].push(callback);\n                return {\n                    unsubscribe: function unsubscribe() {\n                        _this2._client.logger(\"info\", \"Removing listener for \".concat(key, \" event from channel \").concat(_this2.cid), {\n                            tags: [\n                                \"event\",\n                                \"channel\"\n                            ],\n                            channel: _this2\n                        });\n                        _this2.listeners[key] = _this2.listeners[key].filter(function(el) {\n                            return el !== callback;\n                        });\n                    }\n                };\n            }\n        },\n        {\n            key: \"off\",\n            value: function off(callbackOrString, callbackOrNothing) {\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this._client.logger(\"info\", \"Removing listener for \".concat(key, \" event from channel \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.listeners[key] = this.listeners[key].filter(function(value) {\n                    return value !== callback;\n                });\n            } // eslint-disable-next-line sonarjs/cognitive-complexity\n        },\n        {\n            key: \"_handleChannelEvent\",\n            value: function _handleChannelEvent(event) {\n                var _event$user, _event$user2, _event$user3, _event$user5, _event$user6, _event$channel, _event$member, _event$user9, _event$user10, _channelState$members, _event$user11, _channelState$members2;\n                var channel = this;\n                this._client.logger(\"info\", \"channel:_handleChannelEvent - Received event of type { \".concat(event.type, \" } on \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                var channelState = channel.state;\n                switch(event.type){\n                    case \"typing.start\":\n                        if ((_event$user = event.user) !== null && _event$user !== void 0 && _event$user.id) {\n                            channelState.typing[event.user.id] = event;\n                        }\n                        break;\n                    case \"typing.stop\":\n                        if ((_event$user2 = event.user) !== null && _event$user2 !== void 0 && _event$user2.id) {\n                            delete channelState.typing[event.user.id];\n                        }\n                        break;\n                    case \"message.read\":\n                        if ((_event$user3 = event.user) !== null && _event$user3 !== void 0 && _event$user3.id && event.created_at) {\n                            var _event$user4, _this$getClient$user;\n                            channelState.read[event.user.id] = {\n                                // because in client.ts the handleEvent call that flows to this sets this `event.received_at = new Date();`\n                                last_read: new Date(event.created_at),\n                                last_read_message_id: event.last_read_message_id,\n                                user: event.user,\n                                unread_messages: 0\n                            };\n                            if (((_event$user4 = event.user) === null || _event$user4 === void 0 ? void 0 : _event$user4.id) === ((_this$getClient$user = this.getClient().user) === null || _this$getClient$user === void 0 ? void 0 : _this$getClient$user.id)) {\n                                channelState.unreadCount = 0;\n                            }\n                        }\n                        break;\n                    case \"user.watching.start\":\n                    case \"user.updated\":\n                        if ((_event$user5 = event.user) !== null && _event$user5 !== void 0 && _event$user5.id) {\n                            channelState.watchers[event.user.id] = event.user;\n                        }\n                        break;\n                    case \"user.watching.stop\":\n                        if ((_event$user6 = event.user) !== null && _event$user6 !== void 0 && _event$user6.id) {\n                            delete channelState.watchers[event.user.id];\n                        }\n                        break;\n                    case \"message.deleted\":\n                        if (event.message) {\n                            this._extendEventWithOwnReactions(event);\n                            if (event.hard_delete) channelState.removeMessage(event.message);\n                            else channelState.addMessageSorted(event.message, false, false);\n                            channelState.removeQuotedMessageReferences(event.message);\n                            if (event.message.pinned) {\n                                channelState.removePinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"message.new\":\n                        if (event.message) {\n                            var _event$user7, _this$getClient$user2, _event$user8;\n                            /* if message belongs to current user, always assume timestamp is changed to filter it out and add again to avoid duplication */ var ownMessage = ((_event$user7 = event.user) === null || _event$user7 === void 0 ? void 0 : _event$user7.id) === ((_this$getClient$user2 = this.getClient().user) === null || _this$getClient$user2 === void 0 ? void 0 : _this$getClient$user2.id);\n                            var isThreadMessage = event.message.parent_id && !event.message.show_in_channel;\n                            if (this.state.isUpToDate || isThreadMessage) {\n                                channelState.addMessageSorted(event.message, ownMessage);\n                            }\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            }\n                            if ((_event$user8 = event.user) !== null && _event$user8 !== void 0 && _event$user8.id) {\n                                for(var userId in channelState.read){\n                                    if (userId === event.user.id) {\n                                        channelState.read[event.user.id] = {\n                                            last_read: new Date(event.created_at),\n                                            user: event.user,\n                                            unread_messages: 0\n                                        };\n                                    } else {\n                                        channelState.read[userId].unread_messages += 1;\n                                    }\n                                }\n                            }\n                            if (ownMessage) {\n                                channelState.unreadCount = 0;\n                            } else if (this._countMessageAsUnread(event.message)) {\n                                channelState.unreadCount = channelState.unreadCount + 1;\n                            }\n                        }\n                        break;\n                    case \"message.updated\":\n                        if (event.message) {\n                            this._extendEventWithOwnReactions(event);\n                            channelState.addMessageSorted(event.message, false, false);\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            } else {\n                                channelState.removePinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"channel.truncated\":\n                        if ((_event$channel = event.channel) !== null && _event$channel !== void 0 && _event$channel.truncated_at) {\n                            var truncatedAt = +new Date(event.channel.truncated_at);\n                            channelState.messageSets.forEach(function(messageSet, messageSetIndex) {\n                                messageSet.messages.forEach(function(_ref2) {\n                                    var createdAt = _ref2.created_at, id = _ref2.id;\n                                    if (truncatedAt > +createdAt) channelState.removeMessage({\n                                        id: id,\n                                        messageSetIndex: messageSetIndex\n                                    });\n                                });\n                            });\n                            channelState.pinnedMessages.forEach(function(_ref3) {\n                                var id = _ref3.id, createdAt = _ref3.created_at;\n                                if (truncatedAt > +createdAt) channelState.removePinnedMessage({\n                                    id: id\n                                });\n                            });\n                        } else {\n                            channelState.clearMessages();\n                        }\n                        channelState.unreadCount = 0; // system messages don't increment unread counts\n                        if (event.message) {\n                            channelState.addMessageSorted(event.message);\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"member.added\":\n                    case \"member.updated\":\n                        if ((_event$member = event.member) !== null && _event$member !== void 0 && _event$member.user_id) {\n                            channelState.members[event.member.user_id] = event.member;\n                        }\n                        break;\n                    case \"member.removed\":\n                        if ((_event$user9 = event.user) !== null && _event$user9 !== void 0 && _event$user9.id) {\n                            delete channelState.members[event.user.id];\n                        }\n                        break;\n                    case \"channel.updated\":\n                        if (event.channel) {\n                            var _event$channel2, _channel$data, _event$channel$hidden, _event$channel3, _channel$data2, _event$channel$own_ca, _event$channel4, _channel$data3;\n                            var isFrozenChanged = ((_event$channel2 = event.channel) === null || _event$channel2 === void 0 ? void 0 : _event$channel2.frozen) !== undefined && event.channel.frozen !== ((_channel$data = channel.data) === null || _channel$data === void 0 ? void 0 : _channel$data.frozen);\n                            if (isFrozenChanged) {\n                                this.query({\n                                    state: false,\n                                    messages: {\n                                        limit: 0\n                                    },\n                                    watchers: {\n                                        limit: 0\n                                    }\n                                });\n                            }\n                            channel.data = _objectSpread$5(_objectSpread$5({}, event.channel), {}, {\n                                hidden: (_event$channel$hidden = (_event$channel3 = event.channel) === null || _event$channel3 === void 0 ? void 0 : _event$channel3.hidden) !== null && _event$channel$hidden !== void 0 ? _event$channel$hidden : (_channel$data2 = channel.data) === null || _channel$data2 === void 0 ? void 0 : _channel$data2.hidden,\n                                own_capabilities: (_event$channel$own_ca = (_event$channel4 = event.channel) === null || _event$channel4 === void 0 ? void 0 : _event$channel4.own_capabilities) !== null && _event$channel$own_ca !== void 0 ? _event$channel$own_ca : (_channel$data3 = channel.data) === null || _channel$data3 === void 0 ? void 0 : _channel$data3.own_capabilities\n                            });\n                        }\n                        break;\n                    case \"reaction.new\":\n                        if (event.message && event.reaction) {\n                            event.message = channelState.addReaction(event.reaction, event.message);\n                        }\n                        break;\n                    case \"reaction.deleted\":\n                        if (event.reaction) {\n                            event.message = channelState.removeReaction(event.reaction, event.message);\n                        }\n                        break;\n                    case \"reaction.updated\":\n                        if (event.reaction) {\n                            // assuming reaction.updated is only called if enforce_unique is true\n                            event.message = channelState.addReaction(event.reaction, event.message, true);\n                        }\n                        break;\n                    case \"channel.hidden\":\n                        channel.data = _objectSpread$5(_objectSpread$5({}, channel.data), {}, {\n                            hidden: true\n                        });\n                        if (event.clear_history) {\n                            channelState.clearMessages();\n                        }\n                        break;\n                    case \"channel.visible\":\n                        channel.data = _objectSpread$5(_objectSpread$5({}, channel.data), {}, {\n                            hidden: false\n                        });\n                        break;\n                    case \"user.banned\":\n                        if (!((_event$user10 = event.user) !== null && _event$user10 !== void 0 && _event$user10.id)) break;\n                        channelState.members[event.user.id] = _objectSpread$5(_objectSpread$5({}, channelState.members[event.user.id] || {}), {}, {\n                            shadow_banned: !!event.shadow,\n                            banned: !event.shadow,\n                            user: _objectSpread$5(_objectSpread$5({}, ((_channelState$members = channelState.members[event.user.id]) === null || _channelState$members === void 0 ? void 0 : _channelState$members.user) || {}), event.user)\n                        });\n                        break;\n                    case \"user.unbanned\":\n                        if (!((_event$user11 = event.user) !== null && _event$user11 !== void 0 && _event$user11.id)) break;\n                        channelState.members[event.user.id] = _objectSpread$5(_objectSpread$5({}, channelState.members[event.user.id] || {}), {}, {\n                            shadow_banned: false,\n                            banned: false,\n                            user: _objectSpread$5(_objectSpread$5({}, ((_channelState$members2 = channelState.members[event.user.id]) === null || _channelState$members2 === void 0 ? void 0 : _channelState$members2.user) || {}), event.user)\n                        });\n                        break;\n                } // any event can send over the online count\n                if (event.watcher_count !== undefined) {\n                    channel.state.watcher_count = event.watcher_count;\n                }\n            }\n        },\n        {\n            key: \"_checkInitialized\",\n            value: function _checkInitialized() {\n                if (!this.initialized && !this.offlineMode && !this.getClient()._isUsingServerAuth()) {\n                    throw Error(\"Channel \".concat(this.cid, \" hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve\"));\n                }\n            } // eslint-disable-next-line sonarjs/cognitive-complexity\n        },\n        {\n            key: \"_initializeState\",\n            value: function _initializeState(state) {\n                var messageSetToAddToIfDoesNotExist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"latest\";\n                var _this$getClient2 = this.getClient(), clientState = _this$getClient2.state, user = _this$getClient2.user, userID = _this$getClient2.userID; // add the Users\n                if (state.members) {\n                    var _iterator = _createForOfIteratorHelper$2(state.members), _step;\n                    try {\n                        for(_iterator.s(); !(_step = _iterator.n()).done;){\n                            var member = _step.value;\n                            if (member.user) {\n                                clientState.updateUserReference(member.user, this.cid);\n                            }\n                        }\n                    } catch (err) {\n                        _iterator.e(err);\n                    } finally{\n                        _iterator.f();\n                    }\n                }\n                this.state.membership = state.membership || {};\n                var messages = state.messages || [];\n                if (!this.state.messages) {\n                    this.state.initMessages();\n                }\n                var _this$state$addMessag = this.state.addMessagesSorted(messages, false, true, true, messageSetToAddToIfDoesNotExist), messageSet = _this$state$addMessag.messageSet;\n                if (!this.state.pinnedMessages) {\n                    this.state.pinnedMessages = [];\n                }\n                this.state.addPinnedMessages(state.pinned_messages || []);\n                if (state.pending_messages) {\n                    this.state.pending_messages = state.pending_messages;\n                }\n                if (state.watcher_count !== undefined) {\n                    this.state.watcher_count = state.watcher_count;\n                } // convert the arrays into objects for easier syncing...\n                if (state.watchers) {\n                    var _iterator2 = _createForOfIteratorHelper$2(state.watchers), _step2;\n                    try {\n                        for(_iterator2.s(); !(_step2 = _iterator2.n()).done;){\n                            var watcher = _step2.value;\n                            if (watcher) {\n                                clientState.updateUserReference(watcher, this.cid);\n                                this.state.watchers[watcher.id] = watcher;\n                            }\n                        }\n                    } catch (err) {\n                        _iterator2.e(err);\n                    } finally{\n                        _iterator2.f();\n                    }\n                } // initialize read state to last message or current time if the channel is empty\n                // if the user is a member, this value will be overwritten later on otherwise this ensures\n                // that everything up to this point is not marked as unread\n                if (userID != null) {\n                    var last_read = this.state.last_message_at || new Date();\n                    if (user) {\n                        this.state.read[user.id] = {\n                            user: user,\n                            last_read: last_read,\n                            unread_messages: 0\n                        };\n                    }\n                } // apply read state if part of the state\n                if (state.read) {\n                    var _iterator3 = _createForOfIteratorHelper$2(state.read), _step3;\n                    try {\n                        for(_iterator3.s(); !(_step3 = _iterator3.n()).done;){\n                            var _read$unread_messages;\n                            var read = _step3.value;\n                            this.state.read[read.user.id] = {\n                                last_read: new Date(read.last_read),\n                                last_read_message_id: read.last_read_message_id,\n                                unread_messages: (_read$unread_messages = read.unread_messages) !== null && _read$unread_messages !== void 0 ? _read$unread_messages : 0,\n                                user: read.user\n                            };\n                            if (read.user.id === (user === null || user === void 0 ? void 0 : user.id)) {\n                                this.state.unreadCount = this.state.read[read.user.id].unread_messages;\n                            }\n                        }\n                    } catch (err) {\n                        _iterator3.e(err);\n                    } finally{\n                        _iterator3.f();\n                    }\n                }\n                if (state.members) {\n                    this.state.members = state.members.reduce(function(acc, member) {\n                        if (member.user) {\n                            acc[member.user.id] = member;\n                        }\n                        return acc;\n                    }, {});\n                }\n                return {\n                    messageSet: messageSet\n                };\n            }\n        },\n        {\n            key: \"_extendEventWithOwnReactions\",\n            value: function _extendEventWithOwnReactions(event) {\n                if (!event.message) {\n                    return;\n                }\n                var message = this.state.findMessage(event.message.id, event.message.parent_id);\n                if (message) {\n                    event.message.own_reactions = message.own_reactions;\n                }\n            }\n        },\n        {\n            key: \"_disconnect\",\n            value: function _disconnect() {\n                this._client.logger(\"info\", \"channel:disconnect() - Disconnecting the channel \".concat(this.cid), {\n                    tags: [\n                        \"connection\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.disconnected = true;\n                this.state.setIsUpToDate(false);\n            }\n        }\n    ]);\n    return Channel;\n}();\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$1(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\nfunction _arrayLikeToArray$1(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\n/**\n * ClientState - A container class for the client state.\n */ var ClientState = /*#__PURE__*/ function() {\n    function ClientState() {\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ClientState);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"users\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userChannelReferences\", void 0);\n        // show the status for a certain user...\n        // ie online, offline etc\n        this.users = {}; // store which channels contain references to the specified user...\n        this.userChannelReferences = {};\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(ClientState, [\n        {\n            key: \"updateUsers\",\n            value: function updateUsers(users) {\n                var _iterator = _createForOfIteratorHelper$1(users), _step;\n                try {\n                    for(_iterator.s(); !(_step = _iterator.n()).done;){\n                        var user = _step.value;\n                        this.updateUser(user);\n                    }\n                } catch (err) {\n                    _iterator.e(err);\n                } finally{\n                    _iterator.f();\n                }\n            }\n        },\n        {\n            key: \"updateUser\",\n            value: function updateUser(user) {\n                if (user != null) {\n                    this.users[user.id] = user;\n                }\n            }\n        },\n        {\n            key: \"updateUserReference\",\n            value: function updateUserReference(user, channelID) {\n                if (user == null) {\n                    return;\n                }\n                this.updateUser(user);\n                if (!this.userChannelReferences[user.id]) {\n                    this.userChannelReferences[user.id] = {};\n                }\n                this.userChannelReferences[user.id][channelID] = true;\n            }\n        },\n        {\n            key: \"deleteAllChannelReference\",\n            value: function deleteAllChannelReference(channelID) {\n                for(var userID in this.userChannelReferences){\n                    delete this.userChannelReferences[userID][channelID];\n                }\n            }\n        }\n    ]);\n    return ClientState;\n}();\nfunction ownKeys$4(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$4(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$4(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$4(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nvar InsightMetrics = function InsightMetrics() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, InsightMetrics);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionStartTimestamp\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsConsecutiveFailures\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsTotalFailures\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"instanceClientId\", void 0);\n    this.connectionStartTimestamp = null;\n    this.wsTotalFailures = 0;\n    this.wsConsecutiveFailures = 0;\n    this.instanceClientId = randomId();\n};\n/**\n * postInsights is not supposed to be used by end users directly within chat application, and thus is kept isolated\n * from all the client/connection code/logic.\n *\n * @param insightType\n * @param insights\n */ var postInsights = /*#__PURE__*/ function() {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(insightType, insights) {\n        var maxAttempts, i;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n            while(1){\n                switch(_context.prev = _context.next){\n                    case 0:\n                        maxAttempts = 3;\n                        i = 0;\n                    case 2:\n                        if (!(i < maxAttempts)) {\n                            _context.next = 17;\n                            break;\n                        }\n                        _context.prev = 3;\n                        _context.next = 6;\n                        return axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].post(\"https://chat-insights.getstream.io/insights/\".concat(insightType), insights);\n                    case 6:\n                        _context.next = 13;\n                        break;\n                    case 8:\n                        _context.prev = 8;\n                        _context.t0 = _context[\"catch\"](3);\n                        _context.next = 12;\n                        return sleep((i + 1) * 3000);\n                    case 12:\n                        return _context.abrupt(\"continue\", 14);\n                    case 13:\n                        return _context.abrupt(\"break\", 17);\n                    case 14:\n                        i++;\n                        _context.next = 2;\n                        break;\n                    case 17:\n                    case \"end\":\n                        return _context.stop();\n                }\n            }\n        }, _callee, null, [\n            [\n                3,\n                8\n            ]\n        ]);\n    }));\n    return function postInsights(_x, _x2) {\n        return _ref.apply(this, arguments);\n    };\n}();\nfunction buildWsFatalInsight(connection, event) {\n    return _objectSpread$4(_objectSpread$4({}, event), buildWsBaseInsight(connection));\n}\nfunction buildWsBaseInsight(connection) {\n    var _connection$ws, _navigator, _navigator2;\n    var client = connection.client;\n    return {\n        ready_state: (_connection$ws = connection.ws) === null || _connection$ws === void 0 ? void 0 : _connection$ws.readyState,\n        url: connection._buildUrl(),\n        api_key: client.key,\n        start_ts: client.insightMetrics.connectionStartTimestamp,\n        end_ts: new Date().getTime(),\n        auth_type: client.getAuthType(),\n        token: client.tokenManager.token,\n        user_id: client.userID,\n        user_details: client._user,\n        device: client.options.device,\n        client_id: connection.connectionID,\n        ws_details: connection.ws,\n        ws_consecutive_failures: client.insightMetrics.wsConsecutiveFailures,\n        ws_total_failures: client.insightMetrics.wsTotalFailures,\n        request_id: connection.requestID,\n        online: typeof navigator !== \"undefined\" ? (_navigator = navigator) === null || _navigator === void 0 ? void 0 : _navigator.onLine : null,\n        user_agent: typeof navigator !== \"undefined\" ? (_navigator2 = navigator) === null || _navigator2 === void 0 ? void 0 : _navigator2.userAgent : null,\n        instance_client_id: client.insightMetrics.instanceClientId\n    };\n}\nfunction buildWsSuccessAfterFailureInsight(connection) {\n    return buildWsBaseInsight(connection);\n}\nfunction ownKeys$3(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$3(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$3(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$3(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n// Type guards to check WebSocket error type\nvar isCloseEvent = function isCloseEvent(res) {\n    return res.code !== undefined;\n};\nvar isErrorEvent = function isErrorEvent(res) {\n    return res.error !== undefined;\n};\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ var StableWSConnection = /*#__PURE__*/ function() {\n    // global from constructor\n    // local vars\n    function StableWSConnection(_ref) {\n        var _this = this;\n        var client = _ref.client;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, StableWSConnection);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionOpen\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pingInterval\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"healthCheckTimeoutRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isConnecting\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isDisconnected\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isHealthy\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isResolved\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastEvent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionCheckTimeout\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionCheckTimeoutRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"rejectPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"requestID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"resolvePromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"totalFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"ws\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_buildUrl\", function() {\n            var qs = encodeURIComponent(_this.client._buildWSPayload(_this.requestID));\n            var token = _this.client.tokenManager.getToken();\n            return \"\".concat(_this.client.wsBaseURL, \"/connect?json=\").concat(qs, \"&api_key=\").concat(_this.client.key, \"&authorization=\").concat(token, \"&stream-auth-type=\").concat(_this.client.getAuthType(), \"&X-Stream-Client=\").concat(_this.client.getUserAgent());\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onlineStatusChanged\", function(event) {\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                _this._log(\"onlineStatusChanged() - Status changing to offline\");\n                _this._setHealth(false);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                _this._log(\"onlineStatusChanged() - Status changing to online. isHealthy: \".concat(_this.isHealthy));\n                if (!_this.isHealthy) {\n                    _this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onopen\", function(wsID) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onopen() - onopen callback\", {\n                wsID: wsID\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onmessage\", function(wsID, event) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onmessage() - onmessage callback\", {\n                event: event,\n                wsID: wsID\n            });\n            var data = typeof event.data === \"string\" ? JSON.parse(event.data) : null; // we wait till the first message before we consider the connection open..\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose..\n            if (!_this.isResolved && data) {\n                var _this$resolvePromise;\n                _this.isResolved = true;\n                if (data.error) {\n                    var _this$rejectPromise;\n                    (_this$rejectPromise = _this.rejectPromise) === null || _this$rejectPromise === void 0 ? void 0 : _this$rejectPromise.call(_this, _this._errorFromWSEvent(data, false));\n                    return;\n                }\n                (_this$resolvePromise = _this.resolvePromise) === null || _this$resolvePromise === void 0 ? void 0 : _this$resolvePromise.call(_this, data);\n                _this._setHealth(true);\n            } // trigger the event..\n            _this.lastEvent = new Date();\n            if (data && data.type === \"health.check\") {\n                _this.scheduleNextPing();\n            }\n            _this.client.handleEvent(event);\n            _this.scheduleConnectionCheck();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onclose\", function(wsID, event) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onclose() - onclose callback - \" + event.code, {\n                event: event,\n                wsID: wsID\n            });\n            if (event.code === chatCodes.WS_CLOSED_SUCCESS) {\n                var _this$rejectPromise2;\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                var error = new Error(\"WS connection reject with error \".concat(event.reason));\n                error.reason = event.reason;\n                error.code = event.code;\n                error.wasClean = event.wasClean;\n                error.target = event.target;\n                (_this$rejectPromise2 = _this.rejectPromise) === null || _this$rejectPromise2 === void 0 ? void 0 : _this$rejectPromise2.call(_this, error);\n                _this._log(\"onclose() - WS connection reject with error \".concat(event.reason), {\n                    event: event\n                });\n            } else {\n                var _this$rejectPromise3;\n                _this.consecutiveFailures += 1;\n                _this.totalFailures += 1;\n                _this._setHealth(false);\n                _this.isConnecting = false;\n                (_this$rejectPromise3 = _this.rejectPromise) === null || _this$rejectPromise3 === void 0 ? void 0 : _this$rejectPromise3.call(_this, _this._errorFromWSEvent(event));\n                _this._log(\"onclose() - WS connection closed. Calling reconnect ...\", {\n                    event: event\n                }); // reconnect if its an abnormal failure\n                _this._reconnect();\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onerror\", function(wsID, event) {\n            var _this$rejectPromise4;\n            if (_this.wsID !== wsID) return;\n            _this.consecutiveFailures += 1;\n            _this.totalFailures += 1;\n            _this._setHealth(false);\n            _this.isConnecting = false;\n            (_this$rejectPromise4 = _this.rejectPromise) === null || _this$rejectPromise4 === void 0 ? void 0 : _this$rejectPromise4.call(_this, _this._errorFromWSEvent(event));\n            _this._log(\"onerror() - WS connection resulted into error\", {\n                event: event\n            });\n            _this._reconnect();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setHealth\", function(healthy) {\n            if (healthy === _this.isHealthy) return;\n            _this.isHealthy = healthy;\n            if (_this.isHealthy) {\n                _this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: _this.isHealthy\n                });\n                return;\n            } // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(function() {\n                if (_this.isHealthy) return;\n                _this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: _this.isHealthy\n                });\n            }, 5000);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_errorFromWSEvent\", function(event) {\n            var isWSFailure = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            var code;\n            var statusCode;\n            var message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                statusCode = \"unknown\";\n                message = event.reason;\n            }\n            if (isErrorEvent(event)) {\n                code = event.error.code;\n                statusCode = event.error.StatusCode;\n                message = event.error.message;\n            } // Keeping this `warn` level log, to avoid cluttering of error logs from ws failures.\n            _this._log(\"_errorFromWSEvent() - WS failed with code \".concat(code), {\n                event: event\n            }, \"warn\");\n            var error = new Error(\"WS failed with code \".concat(code, \" and reason - \").concat(message));\n            error.code = code;\n            /**\n       * StatusCode does not exist on any event types but has been left\n       * as is to preserve JS functionality during the TS implementation\n       */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setupConnectionPromise\", function() {\n            _this.isResolved = false;\n            /** a promise that is resolved once ws.open is called */ _this.connectionOpen = new Promise(function(resolve, reject) {\n                _this.resolvePromise = resolve;\n                _this.rejectPromise = reject;\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"scheduleNextPing\", function() {\n            if (_this.healthCheckTimeoutRef) {\n                clearTimeout(_this.healthCheckTimeoutRef);\n            } // 30 seconds is the recommended interval (messenger uses this)\n            _this.healthCheckTimeoutRef = setTimeout(function() {\n                // send the healthcheck.., server replies with a health check event\n                var data = [\n                    {\n                        type: \"health.check\",\n                        client_id: _this.client.clientID\n                    }\n                ]; // try to send on the connection\n                try {\n                    var _this$ws;\n                    (_this$ws = _this.ws) === null || _this$ws === void 0 ? void 0 : _this$ws.send(JSON.stringify(data));\n                } catch (e) {}\n            }, _this.pingInterval);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"scheduleConnectionCheck\", function() {\n            if (_this.connectionCheckTimeoutRef) {\n                clearTimeout(_this.connectionCheckTimeoutRef);\n            }\n            _this.connectionCheckTimeoutRef = setTimeout(function() {\n                var now = new Date();\n                if (_this.lastEvent && now.getTime() - _this.lastEvent.getTime() > _this.connectionCheckTimeout) {\n                    _this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    _this._setHealth(false);\n                    _this._reconnect();\n                }\n            }, _this.connectionCheckTimeout);\n        });\n        /** StreamChat client */ this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(StableWSConnection, [\n        {\n            key: \"_log\",\n            value: function _log(msg) {\n                var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n                this.client.logger(level, \"connection:\" + msg, _objectSpread$3({\n                    tags: [\n                        \"connection\"\n                    ]\n                }, extra));\n            }\n        },\n        {\n            key: \"setClient\",\n            value: function setClient(client) {\n                this.client = client;\n            }\n        },\n        {\n            key: \"connect\",\n            value: function() {\n                var _connect2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee() {\n                    var timeout, healthCheck, _args = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    timeout = _args.length > 0 && _args[0] !== undefined ? _args[0] : 15000;\n                                    if (!this.isConnecting) {\n                                        _context.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"You've called connect twice, can only attempt 1 connection at the time\");\n                                case 3:\n                                    this.isDisconnected = false;\n                                    _context.prev = 4;\n                                    _context.next = 7;\n                                    return this._connect();\n                                case 7:\n                                    healthCheck = _context.sent;\n                                    this.consecutiveFailures = 0;\n                                    this._log(\"connect() - Established ws connection with healthcheck: \".concat(healthCheck));\n                                    _context.next = 23;\n                                    break;\n                                case 12:\n                                    _context.prev = 12;\n                                    _context.t0 = _context[\"catch\"](4);\n                                    this.isHealthy = false;\n                                    this.consecutiveFailures += 1;\n                                    if (!(_context.t0.code === chatCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic())) {\n                                        _context.next = 21;\n                                        break;\n                                    }\n                                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                                    this._reconnect({\n                                        refreshToken: true\n                                    });\n                                    _context.next = 23;\n                                    break;\n                                case 21:\n                                    if (_context.t0.isWSFailure) {\n                                        _context.next = 23;\n                                        break;\n                                    }\n                                    throw new Error(JSON.stringify({\n                                        code: _context.t0.code,\n                                        StatusCode: _context.t0.StatusCode,\n                                        message: _context.t0.message,\n                                        isWSFailure: _context.t0.isWSFailure\n                                    }));\n                                case 23:\n                                    _context.next = 25;\n                                    return this._waitForHealthy(timeout);\n                                case 25:\n                                    return _context.abrupt(\"return\", _context.sent);\n                                case 26:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this, [\n                        [\n                            4,\n                            12\n                        ]\n                    ]);\n                }));\n                function connect() {\n                    return _connect2.apply(this, arguments);\n                }\n                return connect;\n            }()\n        },\n        {\n            key: \"_waitForHealthy\",\n            value: function() {\n                var _waitForHealthy2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4() {\n                    var _this2 = this;\n                    var timeout, _args4 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    timeout = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 15000;\n                                    return _context4.abrupt(\"return\", Promise.race([\n                                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2() {\n                                            var interval, i;\n                                            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                                                while(1){\n                                                    switch(_context2.prev = _context2.next){\n                                                        case 0:\n                                                            interval = 50; // ms\n                                                            i = 0;\n                                                        case 2:\n                                                            if (!(i <= timeout)) {\n                                                                _context2.next = 18;\n                                                                break;\n                                                            }\n                                                            _context2.prev = 3;\n                                                            _context2.next = 6;\n                                                            return _this2.connectionOpen;\n                                                        case 6:\n                                                            return _context2.abrupt(\"return\", _context2.sent);\n                                                        case 9:\n                                                            _context2.prev = 9;\n                                                            _context2.t0 = _context2[\"catch\"](3);\n                                                            if (!(i === timeout)) {\n                                                                _context2.next = 13;\n                                                                break;\n                                                            }\n                                                            throw new Error(JSON.stringify({\n                                                                code: _context2.t0.code,\n                                                                StatusCode: _context2.t0.StatusCode,\n                                                                message: _context2.t0.message,\n                                                                isWSFailure: _context2.t0.isWSFailure\n                                                            }));\n                                                        case 13:\n                                                            _context2.next = 15;\n                                                            return sleep(interval);\n                                                        case 15:\n                                                            i += interval;\n                                                            _context2.next = 2;\n                                                            break;\n                                                        case 18:\n                                                        case \"end\":\n                                                            return _context2.stop();\n                                                    }\n                                                }\n                                            }, _callee2, null, [\n                                                [\n                                                    3,\n                                                    9\n                                                ]\n                                            ]);\n                                        }))(),\n                                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n                                            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                                                while(1){\n                                                    switch(_context3.prev = _context3.next){\n                                                        case 0:\n                                                            _context3.next = 2;\n                                                            return sleep(timeout);\n                                                        case 2:\n                                                            _this2.isConnecting = false;\n                                                            throw new Error(JSON.stringify({\n                                                                code: \"\",\n                                                                StatusCode: \"\",\n                                                                message: \"initial WS connection could not be established\",\n                                                                isWSFailure: true\n                                                            }));\n                                                        case 4:\n                                                        case \"end\":\n                                                            return _context3.stop();\n                                                    }\n                                                }\n                                            }, _callee3);\n                                        }))()\n                                    ]));\n                                case 2:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4);\n                }));\n                function _waitForHealthy() {\n                    return _waitForHealthy2.apply(this, arguments);\n                }\n                return _waitForHealthy;\n            }()\n        },\n        {\n            key: \"disconnect\",\n            value: /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ function disconnect(timeout) {\n                var _this3 = this;\n                this._log(\"disconnect() - Closing the websocket connection for wsID \".concat(this.wsID));\n                this.wsID += 1;\n                this.isConnecting = false;\n                this.isDisconnected = true; // start by removing all the listeners\n                if (this.healthCheckTimeoutRef) {\n                    clearInterval(this.healthCheckTimeoutRef);\n                }\n                if (this.connectionCheckTimeoutRef) {\n                    clearInterval(this.connectionCheckTimeoutRef);\n                }\n                removeConnectionEventListeners(this.onlineStatusChanged);\n                this.isHealthy = false; // remove ws handlers...\n                if (this.ws && this.ws.removeAllListeners) {\n                    this.ws.removeAllListeners();\n                }\n                var isClosedPromise; // and finally close...\n                // Assigning to local here because we will remove it from this before the\n                // promise resolves.\n                var ws = this.ws;\n                if (ws && ws.close && ws.readyState === ws.OPEN) {\n                    isClosedPromise = new Promise(function(resolve) {\n                        var onclose = function onclose(event) {\n                            _this3._log(\"disconnect() - resolving isClosedPromise \".concat(event ? \"with\" : \"without\", \" close frame\"), {\n                                event: event\n                            });\n                            resolve();\n                        };\n                        ws.onclose = onclose; // In case we don't receive close frame websocket server in time,\n                        // lets not wait for more than 1 seconds.\n                        setTimeout(onclose, timeout != null ? timeout : 1000);\n                    });\n                    this._log(\"disconnect() - Manually closed connection by calling client.disconnect()\");\n                    ws.close(chatCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n                } else {\n                    this._log(\"disconnect() - ws connection doesn't exist or it is already closed.\");\n                    isClosedPromise = Promise.resolve();\n                }\n                delete this.ws;\n                return isClosedPromise;\n            }\n        },\n        {\n            key: \"_connect\",\n            value: function() {\n                var _connect3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5() {\n                    var isTokenReady, wsURL, response, insights;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    if (!(this.isConnecting || this.isDisconnected && this.client.options.enableWSFallback)) {\n                                        _context5.next = 2;\n                                        break;\n                                    }\n                                    return _context5.abrupt(\"return\");\n                                case 2:\n                                    // simply ignore _connect if it's currently trying to connect\n                                    this.isConnecting = true;\n                                    this.requestID = randomId();\n                                    this.client.insightMetrics.connectionStartTimestamp = new Date().getTime();\n                                    isTokenReady = false;\n                                    _context5.prev = 6;\n                                    this._log(\"_connect() - waiting for token\");\n                                    _context5.next = 10;\n                                    return this.client.tokenManager.tokenReady();\n                                case 10:\n                                    isTokenReady = true;\n                                    _context5.next = 15;\n                                    break;\n                                case 13:\n                                    _context5.prev = 13;\n                                    _context5.t0 = _context5[\"catch\"](6);\n                                case 15:\n                                    _context5.prev = 15;\n                                    if (isTokenReady) {\n                                        _context5.next = 20;\n                                        break;\n                                    }\n                                    this._log(\"_connect() - tokenProvider failed before, so going to retry\");\n                                    _context5.next = 20;\n                                    return this.client.tokenManager.loadToken();\n                                case 20:\n                                    this._setupConnectionPromise();\n                                    wsURL = this._buildUrl();\n                                    this._log(\"_connect() - Connecting to \".concat(wsURL), {\n                                        wsURL: wsURL,\n                                        requestID: this.requestID\n                                    });\n                                    this.ws = new (isomorphic_ws__WEBPACK_IMPORTED_MODULE_13___default())(wsURL);\n                                    this.ws.onopen = this.onopen.bind(this, this.wsID);\n                                    this.ws.onclose = this.onclose.bind(this, this.wsID);\n                                    this.ws.onerror = this.onerror.bind(this, this.wsID);\n                                    this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n                                    _context5.next = 30;\n                                    return this.connectionOpen;\n                                case 30:\n                                    response = _context5.sent;\n                                    this.isConnecting = false;\n                                    if (!response) {\n                                        _context5.next = 36;\n                                        break;\n                                    }\n                                    this.connectionID = response.connection_id;\n                                    if (this.client.insightMetrics.wsConsecutiveFailures > 0 && this.client.options.enableInsights) {\n                                        postInsights(\"ws_success_after_failure\", buildWsSuccessAfterFailureInsight(this));\n                                        this.client.insightMetrics.wsConsecutiveFailures = 0;\n                                    }\n                                    return _context5.abrupt(\"return\", response);\n                                case 36:\n                                    _context5.next = 44;\n                                    break;\n                                case 38:\n                                    _context5.prev = 38;\n                                    _context5.t1 = _context5[\"catch\"](15);\n                                    this.isConnecting = false;\n                                    this._log(\"_connect() - Error - \", _context5.t1);\n                                    if (this.client.options.enableInsights) {\n                                        this.client.insightMetrics.wsConsecutiveFailures++;\n                                        this.client.insightMetrics.wsTotalFailures++;\n                                        insights = buildWsFatalInsight(this, convertErrorToJson(_context5.t1));\n                                        postInsights === null || postInsights === void 0 ? void 0 : postInsights(\"ws_fatal\", insights);\n                                    }\n                                    throw _context5.t1;\n                                case 44:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this, [\n                        [\n                            6,\n                            13\n                        ],\n                        [\n                            15,\n                            38\n                        ]\n                    ]);\n                }));\n                function _connect() {\n                    return _connect3.apply(this, arguments);\n                }\n                return _connect;\n            }()\n        },\n        {\n            key: \"_reconnect\",\n            value: function() {\n                var _reconnect2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n                    var options, interval, _args6 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    options = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {};\n                                    this._log(\"_reconnect() - Initiating the reconnect\"); // only allow 1 connection at the time\n                                    if (!(this.isConnecting || this.isHealthy)) {\n                                        _context6.next = 5;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n                                    return _context6.abrupt(\"return\");\n                                case 5:\n                                    // reconnect in case of on error or on close\n                                    // also reconnect if the health check cycle fails\n                                    interval = options.interval;\n                                    if (!interval) {\n                                        interval = retryInterval(this.consecutiveFailures);\n                                    } // reconnect, or try again after a little while...\n                                    _context6.next = 9;\n                                    return sleep(interval);\n                                case 9:\n                                    if (!(this.isConnecting || this.isHealthy)) {\n                                        _context6.next = 12;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n                                    return _context6.abrupt(\"return\");\n                                case 12:\n                                    if (!(this.isDisconnected && this.client.options.enableWSFallback)) {\n                                        _context6.next = 15;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n                                    return _context6.abrupt(\"return\");\n                                case 15:\n                                    this._log(\"_reconnect() - Destroying current WS connection\"); // cleanup the old connection\n                                    this._destroyCurrentWSConnection();\n                                    if (!options.refreshToken) {\n                                        _context6.next = 20;\n                                        break;\n                                    }\n                                    _context6.next = 20;\n                                    return this.client.tokenManager.loadToken();\n                                case 20:\n                                    _context6.prev = 20;\n                                    _context6.next = 23;\n                                    return this._connect();\n                                case 23:\n                                    this._log(\"_reconnect() - Waiting for recoverCallBack\");\n                                    _context6.next = 26;\n                                    return this.client.recoverState();\n                                case 26:\n                                    this._log(\"_reconnect() - Finished recoverCallBack\");\n                                    this.consecutiveFailures = 0;\n                                    _context6.next = 38;\n                                    break;\n                                case 30:\n                                    _context6.prev = 30;\n                                    _context6.t0 = _context6[\"catch\"](20);\n                                    this.isHealthy = false;\n                                    this.consecutiveFailures += 1;\n                                    if (!(_context6.t0.code === chatCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic())) {\n                                        _context6.next = 37;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                                    return _context6.abrupt(\"return\", this._reconnect({\n                                        refreshToken: true\n                                    }));\n                                case 37:\n                                    // reconnect on WS failures, don't reconnect if there is a code bug\n                                    if (_context6.t0.isWSFailure) {\n                                        this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                                        this._reconnect();\n                                    }\n                                case 38:\n                                    this._log(\"_reconnect() - == END ==\");\n                                case 39:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this, [\n                        [\n                            20,\n                            30\n                        ]\n                    ]);\n                }));\n                function _reconnect() {\n                    return _reconnect2.apply(this, arguments);\n                }\n                return _reconnect;\n            }()\n        },\n        {\n            key: \"_destroyCurrentWSConnection\",\n            value: /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ function _destroyCurrentWSConnection() {\n                // increment the ID, meaning we will ignore all messages from the old\n                // ws connection from now on.\n                this.wsID += 1;\n                try {\n                    var _this$ws2, _this$ws3;\n                    this === null || this === void 0 ? void 0 : (_this$ws2 = this.ws) === null || _this$ws2 === void 0 ? void 0 : _this$ws2.removeAllListeners();\n                    this === null || this === void 0 ? void 0 : (_this$ws3 = this.ws) === null || _this$ws3 === void 0 ? void 0 : _this$ws3.close();\n                } catch (e) {}\n            }\n        }\n    ]);\n    return StableWSConnection;\n}();\nfunction ownKeys$2(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$2(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$2(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$2(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * Creates the JWT token that can be used for a UserSession\n * @method JWTUserToken\n * @memberof signing\n * @private\n * @param {Secret} apiSecret - API Secret key\n * @param {string} userId - The user_id key in the JWT payload\n * @param {UR} [extraData] - Extra that should be part of the JWT token\n * @param {SignOptions} [jwtOptions] - Options that can be past to jwt.sign\n * @return {string} JWT Token\n */ function JWTUserToken(apiSecret, userId) {\n    var extraData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var jwtOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (typeof userId !== \"string\") {\n        throw new TypeError(\"userId should be a string\");\n    }\n    var payload = _objectSpread$2({\n        user_id: userId\n    }, extraData); // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if ((jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default()) == null || (jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign) == null) {\n        throw Error(\"Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.\");\n    }\n    var opts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n        algorithm: \"HS256\",\n        noTimestamp: true\n    }, jwtOptions);\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret) {\n    var jwtOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var payload = {\n        server: true\n    };\n    var opts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n        algorithm: \"HS256\",\n        noTimestamp: true\n    }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign(payload, apiSecret, opts);\n}\nfunction UserFromToken(token) {\n    var fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    var b64Payload = fragments[1];\n    var payload = decodeBase64(b64Payload);\n    var data = JSON.parse(payload);\n    return data.user_id;\n}\n/**\n *\n * @param {string} userId the id of the user\n * @return {string}\n */ function DevToken(userId) {\n    return [\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\",\n        encodeBase64(JSON.stringify({\n            user_id: userId\n        })),\n        \"devtoken\" // hardcoded signature\n    ].join(\".\");\n}\n/**\n *\n * @param {string | Buffer} body the signed message\n * @param {string} secret the shared secret used to generate the signature (Stream API secret)\n * @param {string} signature the signature to validate\n * @return {boolean}\n */ function CheckSignature(body, secret, signature) {\n    var key = Buffer.from(secret, \"utf8\");\n    var hash = crypto__WEBPACK_IMPORTED_MODULE_15___default().createHmac(\"sha256\", key).update(body).digest(\"hex\");\n    try {\n        return crypto__WEBPACK_IMPORTED_MODULE_15___default().timingSafeEqual(Buffer.from(hash), Buffer.from(signature));\n    } catch (_unused) {\n        return false;\n    }\n}\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ var TokenManager = /**\n * Constructor\n *\n * @param {Secret} secret\n */ function TokenManager(secret) {\n    var _this = this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, TokenManager);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"loadTokenPromise\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"type\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"secret\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"token\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenProvider\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"user\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setTokenOrProvider\", /*#__PURE__*/ function() {\n        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(tokenOrProvider, user) {\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                while(1){\n                    switch(_context.prev = _context.next){\n                        case 0:\n                            _this.validateToken(tokenOrProvider, user);\n                            _this.user = user;\n                            if (isFunction(tokenOrProvider)) {\n                                _this.tokenProvider = tokenOrProvider;\n                                _this.type = \"provider\";\n                            }\n                            if (typeof tokenOrProvider === \"string\") {\n                                _this.token = tokenOrProvider;\n                                _this.type = \"static\";\n                            }\n                            if (!tokenOrProvider && _this.user && _this.secret) {\n                                _this.token = JWTUserToken(_this.secret, user.id, {}, {});\n                                _this.type = \"static\";\n                            }\n                            _context.next = 7;\n                            return _this.loadToken();\n                        case 7:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, _callee);\n        }));\n        return function(_x, _x2) {\n            return _ref.apply(this, arguments);\n        };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"reset\", function() {\n        _this.token = undefined;\n        _this.user = undefined;\n        _this.loadTokenPromise = null;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"validateToken\", function(tokenOrProvider, user) {\n        // allow empty token for anon user\n        if (user && user.anon && !tokenOrProvider) return; // Don't allow empty token for non-server side client.\n        if (!_this.secret && !tokenOrProvider) {\n            throw new Error(\"User token can not be empty\");\n        }\n        if (tokenOrProvider && typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n            throw new Error(\"user token should either be a string or a function\");\n        }\n        if (typeof tokenOrProvider === \"string\") {\n            // Allow empty token for anonymous users\n            if (user.anon && tokenOrProvider === \"\") return;\n            var tokenUserId = UserFromToken(tokenOrProvider);\n            if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || tokenUserId !== user.id)) {\n                throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n            }\n        }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenReady\", function() {\n        return _this.loadTokenPromise;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"loadToken\", function() {\n        // eslint-disable-next-line no-async-promise-executor\n        _this.loadTokenPromise = new Promise(/*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(resolve, reject) {\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                    while(1){\n                        switch(_context2.prev = _context2.next){\n                            case 0:\n                                if (!(_this.type === \"static\")) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n                                return _context2.abrupt(\"return\", resolve(_this.token));\n                            case 2:\n                                if (!(_this.tokenProvider && typeof _this.tokenProvider !== \"string\")) {\n                                    _context2.next = 13;\n                                    break;\n                                }\n                                _context2.prev = 3;\n                                _context2.next = 6;\n                                return _this.tokenProvider();\n                            case 6:\n                                _this.token = _context2.sent;\n                                _context2.next = 12;\n                                break;\n                            case 9:\n                                _context2.prev = 9;\n                                _context2.t0 = _context2[\"catch\"](3);\n                                return _context2.abrupt(\"return\", reject(new Error(\"Call to tokenProvider failed with message: \".concat(_context2.t0))));\n                            case 12:\n                                resolve(_this.token);\n                            case 13:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, null, [\n                    [\n                        3,\n                        9\n                    ]\n                ]);\n            }));\n            return function(_x3, _x4) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        return _this.loadTokenPromise;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getToken\", function() {\n        if (_this.token) {\n            return _this.token;\n        }\n        if (_this.user && _this.user.anon && !_this.token) {\n            return _this.token;\n        }\n        if (_this.secret) {\n            return JWTServerToken(_this.secret);\n        }\n        throw new Error(\"Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called\");\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isStatic\", function() {\n        return _this.type === \"static\";\n    });\n    this.loadTokenPromise = null;\n    if (secret) {\n        this.secret = secret;\n    }\n    this.type = \"static\";\n    if (this.secret) {\n        this.token = JWTServerToken(this.secret);\n    }\n} /**\n * Set the static string token or token provider.\n * Token provider should return a token string or a promise which resolves to string token.\n *\n * @param {TokenOrProvider} tokenOrProvider\n * @param {UserResponse<StreamChatGenerics>} user\n */ ;\nvar APIErrorCodes = {\n    \"-1\": {\n        name: \"InternalSystemError\",\n        retryable: true\n    },\n    \"2\": {\n        name: \"AccessKeyError\",\n        retryable: false\n    },\n    \"3\": {\n        name: \"AuthenticationFailedError\",\n        retryable: true\n    },\n    \"4\": {\n        name: \"InputError\",\n        retryable: false\n    },\n    \"6\": {\n        name: \"DuplicateUsernameError\",\n        retryable: false\n    },\n    \"9\": {\n        name: \"RateLimitError\",\n        retryable: true\n    },\n    \"16\": {\n        name: \"DoesNotExistError\",\n        retryable: false\n    },\n    \"17\": {\n        name: \"NotAllowedError\",\n        retryable: false\n    },\n    \"18\": {\n        name: \"EventNotSupportedError\",\n        retryable: false\n    },\n    \"19\": {\n        name: \"ChannelFeatureNotSupportedError\",\n        retryable: false\n    },\n    \"20\": {\n        name: \"MessageTooLongError\",\n        retryable: false\n    },\n    \"21\": {\n        name: \"MultipleNestingLevelError\",\n        retryable: false\n    },\n    \"22\": {\n        name: \"PayloadTooBigError\",\n        retryable: false\n    },\n    \"23\": {\n        name: \"RequestTimeoutError\",\n        retryable: true\n    },\n    \"24\": {\n        name: \"MaxHeaderSizeExceededError\",\n        retryable: false\n    },\n    \"40\": {\n        name: \"AuthErrorTokenExpired\",\n        retryable: false\n    },\n    \"41\": {\n        name: \"AuthErrorTokenNotValidYet\",\n        retryable: false\n    },\n    \"42\": {\n        name: \"AuthErrorTokenUsedBeforeIssuedAt\",\n        retryable: false\n    },\n    \"43\": {\n        name: \"AuthErrorTokenSignatureInvalid\",\n        retryable: false\n    },\n    \"44\": {\n        name: \"CustomCommandEndpointMissingError\",\n        retryable: false\n    },\n    \"45\": {\n        name: \"CustomCommandEndpointCallError\",\n        retryable: true\n    },\n    \"46\": {\n        name: \"ConnectionIDNotFoundError\",\n        retryable: false\n    },\n    \"60\": {\n        name: \"CoolDownError\",\n        retryable: true\n    },\n    \"69\": {\n        name: \"ErrWrongRegion\",\n        retryable: false\n    },\n    \"70\": {\n        name: \"ErrQueryChannelPermissions\",\n        retryable: false\n    },\n    \"71\": {\n        name: \"ErrTooManyConnections\",\n        retryable: true\n    },\n    \"99\": {\n        name: \"AppSuspendedError\",\n        retryable: false\n    }\n};\nfunction isAPIError(error) {\n    return error.code !== undefined;\n}\nfunction isErrorRetryable(error) {\n    if (!error.code) return false;\n    var err = APIErrorCodes[\"\".concat(error.code)];\n    if (!err) return false;\n    return err.retryable;\n}\nfunction isConnectionIDError(error) {\n    return error.code === 46; // ConnectionIDNotFoundError\n}\nfunction isWSFailure(err) {\n    if (typeof err.isWSFailure === \"boolean\") {\n        return err.isWSFailure;\n    }\n    try {\n        return JSON.parse(err.message).isWSFailure;\n    } catch (_) {\n        return false;\n    }\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\nfunction ownKeys$1(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$1(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$1(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$1(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nvar ConnectionState;\n(function(ConnectionState) {\n    ConnectionState[\"Closed\"] = \"CLOSED\";\n    ConnectionState[\"Connected\"] = \"CONNECTED\";\n    ConnectionState[\"Connecting\"] = \"CONNECTING\";\n    ConnectionState[\"Disconnected\"] = \"DISCONNECTED\";\n    ConnectionState[\"Init\"] = \"INIT\";\n})(ConnectionState || (ConnectionState = {}));\nvar WSConnectionFallback = /*#__PURE__*/ function() {\n    function WSConnectionFallback(_ref) {\n        var _this = this;\n        var client = _ref.client;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, WSConnectionFallback);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cancelToken\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_onlineStatusChanged\", function(event) {\n            _this._log(\"_onlineStatusChanged() - \".concat(event.type));\n            if (event.type === \"offline\") {\n                var _this$cancelToken;\n                _this._setState(ConnectionState.Closed);\n                (_this$cancelToken = _this.cancelToken) === null || _this$cancelToken === void 0 ? void 0 : _this$cancelToken.cancel(\"disconnect() is called\");\n                _this.cancelToken = undefined;\n                return;\n            }\n            if (event.type === \"online\" && _this.state === ConnectionState.Closed) {\n                _this.connect(true);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_req\", /*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(params, config, retry) {\n                var _this$cancelToken2, res;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                if (!_this.cancelToken && !params.close) {\n                                    _this.cancelToken = axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].CancelToken.source();\n                                }\n                                _context.prev = 1;\n                                _context.next = 4;\n                                return _this.client.doAxiosRequest(\"get\", _this.client.baseURL.replace(\":3030\", \":8900\") + \"/longpoll\", undefined, {\n                                    config: _objectSpread$1(_objectSpread$1({}, config), {}, {\n                                        cancelToken: (_this$cancelToken2 = _this.cancelToken) === null || _this$cancelToken2 === void 0 ? void 0 : _this$cancelToken2.token\n                                    }),\n                                    params: params\n                                });\n                            case 4:\n                                res = _context.sent;\n                                _this.consecutiveFailures = 0; // always reset in case of no error\n                                return _context.abrupt(\"return\", res);\n                            case 9:\n                                _context.prev = 9;\n                                _context.t0 = _context[\"catch\"](1);\n                                _this.consecutiveFailures += 1;\n                                if (!(retry && isErrorRetryable(_context.t0))) {\n                                    _context.next = 17;\n                                    break;\n                                }\n                                _this._log(\"_req() - Retryable error, retrying request\");\n                                _context.next = 16;\n                                return sleep(retryInterval(_this.consecutiveFailures));\n                            case 16:\n                                return _context.abrupt(\"return\", _this._req(params, config, retry));\n                            case 17:\n                                throw _context.t0;\n                            case 18:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, null, [\n                    [\n                        1,\n                        9\n                    ]\n                ]);\n            }));\n            return function(_x, _x2, _x3) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_poll\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2() {\n            var _data$events, data, i;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                while(1){\n                    switch(_context2.prev = _context2.next){\n                        case 0:\n                            if (!(_this.state === ConnectionState.Connected)) {\n                                _context2.next = 25;\n                                break;\n                            }\n                            _context2.prev = 1;\n                            _context2.next = 4;\n                            return _this._req({}, {\n                                timeout: 30000\n                            }, true);\n                        case 4:\n                            data = _context2.sent;\n                            // 30s => API responds in 20s if there is no event\n                            if ((_data$events = data.events) !== null && _data$events !== void 0 && _data$events.length) {\n                                for(i = 0; i < data.events.length; i++){\n                                    _this.client.dispatchEvent(data.events[i]);\n                                }\n                            }\n                            _context2.next = 23;\n                            break;\n                        case 8:\n                            _context2.prev = 8;\n                            _context2.t0 = _context2[\"catch\"](1);\n                            if (!axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].isCancel(_context2.t0)) {\n                                _context2.next = 13;\n                                break;\n                            }\n                            _this._log(\"_poll() - axios canceled request\");\n                            return _context2.abrupt(\"return\");\n                        case 13:\n                            if (!isConnectionIDError(_context2.t0)) {\n                                _context2.next = 18;\n                                break;\n                            }\n                            _this._log(\"_poll() - ConnectionID error, connecting without ID...\");\n                            _this._setState(ConnectionState.Disconnected);\n                            _this.connect(true);\n                            return _context2.abrupt(\"return\");\n                        case 18:\n                            if (!(isAPIError(_context2.t0) && !isErrorRetryable(_context2.t0))) {\n                                _context2.next = 21;\n                                break;\n                            }\n                            _this._setState(ConnectionState.Closed);\n                            return _context2.abrupt(\"return\");\n                        case 21:\n                            _context2.next = 23;\n                            return sleep(retryInterval(_this.consecutiveFailures));\n                        case 23:\n                            _context2.next = 0;\n                            break;\n                        case 25:\n                        case \"end\":\n                            return _context2.stop();\n                    }\n                }\n            }, _callee2, null, [\n                [\n                    1,\n                    8\n                ]\n            ]);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n            var reconnect, _yield$_this$_req, event, _args3 = arguments;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                while(1){\n                    switch(_context3.prev = _context3.next){\n                        case 0:\n                            reconnect = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : false;\n                            if (!(_this.state === ConnectionState.Connecting)) {\n                                _context3.next = 4;\n                                break;\n                            }\n                            _this._log(\"connect() - connecting already in progress\", {\n                                reconnect: reconnect\n                            }, \"warn\");\n                            return _context3.abrupt(\"return\");\n                        case 4:\n                            if (!(_this.state === ConnectionState.Connected)) {\n                                _context3.next = 7;\n                                break;\n                            }\n                            _this._log(\"connect() - already connected and polling\", {\n                                reconnect: reconnect\n                            }, \"warn\");\n                            return _context3.abrupt(\"return\");\n                        case 7:\n                            _this._setState(ConnectionState.Connecting);\n                            _this.connectionID = undefined; // connect should be sent with empty connection_id so API creates one\n                            _context3.prev = 9;\n                            _context3.next = 12;\n                            return _this._req({\n                                json: _this.client._buildWSPayload()\n                            }, {\n                                timeout: 8000\n                            }, reconnect);\n                        case 12:\n                            _yield$_this$_req = _context3.sent;\n                            event = _yield$_this$_req.event;\n                            _this._setState(ConnectionState.Connected);\n                            _this.connectionID = event.connection_id; // @ts-expect-error\n                            _this.client.dispatchEvent(event);\n                            _this._poll();\n                            if (reconnect) {\n                                _this.client.recoverState();\n                            }\n                            return _context3.abrupt(\"return\", event);\n                        case 22:\n                            _context3.prev = 22;\n                            _context3.t0 = _context3[\"catch\"](9);\n                            _this._setState(ConnectionState.Closed);\n                            throw _context3.t0;\n                        case 26:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, _callee3, null, [\n                [\n                    9,\n                    22\n                ]\n            ]);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isHealthy\", function() {\n            return !!_this.connectionID && _this.state === ConnectionState.Connected;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4() {\n            var _this$cancelToken3;\n            var timeout, connection_id, _args4 = arguments;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                while(1){\n                    switch(_context4.prev = _context4.next){\n                        case 0:\n                            timeout = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 2000;\n                            removeConnectionEventListeners(_this._onlineStatusChanged);\n                            _this._setState(ConnectionState.Disconnected);\n                            (_this$cancelToken3 = _this.cancelToken) === null || _this$cancelToken3 === void 0 ? void 0 : _this$cancelToken3.cancel(\"disconnect() is called\");\n                            _this.cancelToken = undefined;\n                            connection_id = _this.connectionID;\n                            _this.connectionID = undefined;\n                            _context4.prev = 7;\n                            _context4.next = 10;\n                            return _this._req({\n                                close: true,\n                                connection_id: connection_id\n                            }, {\n                                timeout: timeout\n                            }, false);\n                        case 10:\n                            _this._log(\"disconnect() - Closed connectionID\");\n                            _context4.next = 16;\n                            break;\n                        case 13:\n                            _context4.prev = 13;\n                            _context4.t0 = _context4[\"catch\"](7);\n                            _this._log(\"disconnect() - Failed\", {\n                                err: _context4.t0\n                            }, \"error\");\n                        case 16:\n                        case \"end\":\n                            return _context4.stop();\n                    }\n                }\n            }, _callee4, null, [\n                [\n                    7,\n                    13\n                ]\n            ]);\n        })));\n        this.client = client;\n        this.state = ConnectionState.Init;\n        this.consecutiveFailures = 0;\n        addConnectionEventListeners(this._onlineStatusChanged);\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(WSConnectionFallback, [\n        {\n            key: \"_log\",\n            value: function _log(msg) {\n                var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n                this.client.logger(level, \"WSConnectionFallback:\" + msg, _objectSpread$1({\n                    tags: [\n                        \"connection_fallback\",\n                        \"connection\"\n                    ]\n                }, extra));\n            }\n        },\n        {\n            key: \"_setState\",\n            value: function _setState(state) {\n                this._log(\"_setState() - \".concat(state)); // transition from connecting => connected\n                if (this.state === ConnectionState.Connecting && state === ConnectionState.Connected) {\n                    this.client.dispatchEvent({\n                        type: \"connection.changed\",\n                        online: true\n                    });\n                }\n                if (state === ConnectionState.Closed || state === ConnectionState.Disconnected) {\n                    this.client.dispatchEvent({\n                        type: \"connection.changed\",\n                        online: false\n                    });\n                }\n                this.state = state;\n            }\n        }\n    ]);\n    return WSConnectionFallback;\n}();\nfunction _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default()(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default()(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18___default()(this, result);\n    };\n}\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n/**\n * Utility Types\n */ /* Unknown Record */ //alias to avoid breaking change\n/**\n * Response Types\n */ // Thumb URL(thumb_url) is added considering video attachments as the backend will return the thumbnail in the response.\n/**\n * Option Types\n */ // TODO: rename to UpdateChannelOptions in the next major update and use it in channel._update and/or channel.update\n/** @deprecated use MarkChannelsReadOptions instead */ // TODO: rename to UpdateChannelTypeOptions in the next major update\n/**\n * Event Types\n */ /**\n * Filter Types\n */ /**\n * Sort Types\n */ /**\n * Base Types\n */ /*\n  DeleteUserOptions specifies a collection of one or more `user_ids` to be deleted.\n\n  `user`:\n    - soft: marks user as deleted and retains all user data \n    - pruning: marks user as deleted and nullifies user information \n    - hard: deletes user completely - this requires hard option for messages and conversation as well\n  `conversations`:\n    - soft: marks all conversation channels as deleted (same effect as Delete Channels with 'hard' option disabled)\n    - hard: deletes channel and all its data completely including messages (same effect as Delete Channels with 'hard' option enabled)\n  `messages`:\n    - soft: marks all user messages as deleted without removing any related message data\n    - pruning: marks all user messages as deleted, nullifies message information and removes some message data such as reactions and flags\n    - hard: deletes messages completely with all related information\n  `new_channel_owner_id`: any channels owned by the hard-deleted user will be transferred to this user ID\n */ // TODO: add better typing\nvar ErrorFromResponse = /*#__PURE__*/ function(_Error) {\n    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17___default()(ErrorFromResponse, _Error);\n    var _super = _createSuper(ErrorFromResponse);\n    function ErrorFromResponse() {\n        var _this;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ErrorFromResponse);\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        _this = _super.call.apply(_super, [\n            this\n        ].concat(args));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"code\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"response\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"status\", void 0);\n        return _this;\n    }\n    return ErrorFromResponse;\n}(/*#__PURE__*/ _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20___default()(Error));\nvar _excluded = [\n    \"created_at\",\n    \"updated_at\",\n    \"last_active\",\n    \"online\"\n], _excluded2 = [\n    \"params\",\n    \"headers\"\n];\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nfunction isString(x) {\n    return typeof x === \"string\" || x instanceof String;\n}\nvar StreamChat = /*#__PURE__*/ function() {\n    function StreamChat(_key, secretOrOptions, _options) {\n        var _this = this, _this$options;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, StreamChat);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_user\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"activeChannels\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"anonymous\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"persistUserOnConnectionFailure\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"axiosInstance\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"baseURL\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"browser\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cleaningIntervalRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"clientID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"configs\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"key\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"listeners\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"logger\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"recoverStateOnReconnect\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedChannels\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedUsers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"node\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"options\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"secret\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setUserPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenManager\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"user\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userAgent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsBaseURL\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsConnection\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsFallback\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"insightMetrics\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"defaultWSTimeoutWithFallback\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"defaultWSTimeout\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"nextRequestAbortController\", null);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_getConnectionID\", function() {\n            var _this$wsConnection, _this$wsFallback;\n            return ((_this$wsConnection = _this.wsConnection) === null || _this$wsConnection === void 0 ? void 0 : _this$wsConnection.connectionID) || ((_this$wsFallback = _this.wsFallback) === null || _this$wsFallback === void 0 ? void 0 : _this$wsFallback.connectionID);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_hasConnectionID\", function() {\n            return Boolean(_this._getConnectionID());\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectUser\", /*#__PURE__*/ function() {\n            var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(user, userTokenOrProvider) {\n                var setTokenPromise, wsPromise;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                if (user.id) {\n                                    _context.next = 2;\n                                    break;\n                                }\n                                throw new Error('The \"id\" field on the user is missing');\n                            case 2:\n                                if (!(_this.userID === user.id && _this.setUserPromise)) {\n                                    _context.next = 5;\n                                    break;\n                                }\n                                console.warn(\"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                                return _context.abrupt(\"return\", _this.setUserPromise);\n                            case 5:\n                                if (!_this.userID) {\n                                    _context.next = 7;\n                                    break;\n                                }\n                                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n                            case 7:\n                                if ((_this._isUsingServerAuth() || _this.node) && !_this.options.allowServerSideConnect) {\n                                    console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n                                } // we generate the client id client side\n                                _this.userID = user.id;\n                                _this.anonymous = false;\n                                setTokenPromise = _this._setToken(user, userTokenOrProvider);\n                                _this._setUser(user);\n                                wsPromise = _this.openConnection();\n                                _this.setUserPromise = Promise.all([\n                                    setTokenPromise,\n                                    wsPromise\n                                ]).then(function(result) {\n                                    return result[1];\n                                } // We only return connection promise;\n                                );\n                                _context.prev = 14;\n                                _context.next = 17;\n                                return _this.setUserPromise;\n                            case 17:\n                                return _context.abrupt(\"return\", _context.sent);\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context[\"catch\"](14);\n                                if (_this.persistUserOnConnectionFailure) {\n                                    // cleanup client to allow the user to retry connectUser again\n                                    _this.closeConnection();\n                                } else {\n                                    _this.disconnectUser();\n                                }\n                                throw _context.t0;\n                            case 24:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, null, [\n                    [\n                        14,\n                        20\n                    ]\n                ]);\n            }));\n            return function(_x, _x2) {\n                return _ref.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setUser\", this.connectUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setToken\", function(user, userTokenOrProvider) {\n            return _this.tokenManager.setTokenOrProvider(userTokenOrProvider, user);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"closeConnection\", /*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(timeout) {\n                var _this$wsConnection2, _this$wsFallback2;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                    while(1){\n                        switch(_context2.prev = _context2.next){\n                            case 0:\n                                if (_this.cleaningIntervalRef != null) {\n                                    clearInterval(_this.cleaningIntervalRef);\n                                    _this.cleaningIntervalRef = undefined;\n                                }\n                                _context2.next = 3;\n                                return Promise.all([\n                                    (_this$wsConnection2 = _this.wsConnection) === null || _this$wsConnection2 === void 0 ? void 0 : _this$wsConnection2.disconnect(timeout),\n                                    (_this$wsFallback2 = _this.wsFallback) === null || _this$wsFallback2 === void 0 ? void 0 : _this$wsFallback2.disconnect(timeout)\n                                ]);\n                            case 3:\n                                return _context2.abrupt(\"return\", Promise.resolve());\n                            case 4:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2);\n            }));\n            return function(_x3) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"openConnection\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n            var _this$wsConnection3, _this$wsConnection4, _this$wsFallback3;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                while(1){\n                    switch(_context3.prev = _context3.next){\n                        case 0:\n                            if (_this.userID) {\n                                _context3.next = 2;\n                                break;\n                            }\n                            throw Error(\"User is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n                        case 2:\n                            if (!((_this$wsConnection3 = _this.wsConnection) !== null && _this$wsConnection3 !== void 0 && _this$wsConnection3.isConnecting && _this.wsPromise)) {\n                                _context3.next = 5;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:openConnection() - connection already in progress\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            return _context3.abrupt(\"return\", _this.wsPromise);\n                        case 5:\n                            if (!(((_this$wsConnection4 = _this.wsConnection) !== null && _this$wsConnection4 !== void 0 && _this$wsConnection4.isHealthy || (_this$wsFallback3 = _this.wsFallback) !== null && _this$wsFallback3 !== void 0 && _this$wsFallback3.isHealthy()) && _this._hasConnectionID())) {\n                                _context3.next = 8;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            return _context3.abrupt(\"return\", Promise.resolve());\n                        case 8:\n                            _this.clientID = \"\".concat(_this.userID, \"--\").concat(randomId());\n                            _this.wsPromise = _this.connect();\n                            _this._startCleaning();\n                            return _context3.abrupt(\"return\", _this.wsPromise);\n                        case 12:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, _callee3);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setupConnection\", this.openConnection);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_normalizeDate\", function(before) {\n            if (before instanceof Date) {\n                before = before.toISOString();\n            }\n            if (before === \"\") {\n                throw new Error(\"Don't pass blank string for since, use null instead if resetting the token revoke\");\n            }\n            return before;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnectUser\", /*#__PURE__*/ function() {\n            var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4(timeout) {\n                var closePromise, _i, _Object$values, _channel;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                    while(1){\n                        switch(_context4.prev = _context4.next){\n                            case 0:\n                                _this.logger(\"info\", \"client:disconnect() - Disconnecting the client\", {\n                                    tags: [\n                                        \"connection\",\n                                        \"client\"\n                                    ]\n                                }); // remove the user specific fields\n                                delete _this.user;\n                                delete _this._user;\n                                delete _this.userID;\n                                _this.anonymous = false;\n                                closePromise = _this.closeConnection(timeout);\n                                for(_i = 0, _Object$values = Object.values(_this.activeChannels); _i < _Object$values.length; _i++){\n                                    _channel = _Object$values[_i];\n                                    _channel._disconnect();\n                                } // ensure we no longer return inactive channels\n                                _this.activeChannels = {}; // reset client state\n                                _this.state = new ClientState(); // reset token manager\n                                setTimeout(_this.tokenManager.reset); // delay reseting to use token for disconnect calls\n                                // close the WS connection\n                                return _context4.abrupt(\"return\", closePromise);\n                            case 11:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4);\n            }));\n            return function(_x4) {\n                return _ref4.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnect\", this.disconnectUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectAnonymousUser\", function() {\n            if ((_this._isUsingServerAuth() || _this.node) && !_this.options.allowServerSideConnect) {\n                console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n            }\n            _this.anonymous = true;\n            _this.userID = randomId();\n            var anonymousUser = {\n                id: _this.userID,\n                anon: true\n            };\n            _this._setToken(anonymousUser, \"\");\n            _this._setUser(anonymousUser);\n            return _this._setupConnection();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setAnonymousUser\", this.connectAnonymousUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"doAxiosRequest\", /*#__PURE__*/ function() {\n            var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5(type, url, data) {\n                var options, requestConfig, response, _requestConfig$header, _args5 = arguments;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                    while(1){\n                        switch(_context5.prev = _context5.next){\n                            case 0:\n                                options = _args5.length > 3 && _args5[3] !== undefined ? _args5[3] : {};\n                                _context5.next = 3;\n                                return _this.tokenManager.tokenReady();\n                            case 3:\n                                requestConfig = _this._enrichAxiosOptions(options);\n                                _context5.prev = 4;\n                                _this._logApiRequest(type, url, data, requestConfig);\n                                _context5.t0 = type;\n                                _context5.next = _context5.t0 === \"get\" ? 9 : _context5.t0 === \"delete\" ? 13 : _context5.t0 === \"post\" ? 17 : _context5.t0 === \"postForm\" ? 21 : _context5.t0 === \"put\" ? 25 : _context5.t0 === \"patch\" ? 29 : _context5.t0 === \"options\" ? 33 : 37;\n                                break;\n                            case 9:\n                                _context5.next = 11;\n                                return _this.axiosInstance.get(url, requestConfig);\n                            case 11:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 13:\n                                _context5.next = 15;\n                                return _this.axiosInstance.delete(url, requestConfig);\n                            case 15:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 17:\n                                _context5.next = 19;\n                                return _this.axiosInstance.post(url, data, requestConfig);\n                            case 19:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 21:\n                                _context5.next = 23;\n                                return _this.axiosInstance.postForm(url, data, requestConfig);\n                            case 23:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 25:\n                                _context5.next = 27;\n                                return _this.axiosInstance.put(url, data, requestConfig);\n                            case 27:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 29:\n                                _context5.next = 31;\n                                return _this.axiosInstance.patch(url, data, requestConfig);\n                            case 31:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 33:\n                                _context5.next = 35;\n                                return _this.axiosInstance.options(url, requestConfig);\n                            case 35:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 37:\n                                throw new Error(\"Invalid request type\");\n                            case 38:\n                                _this._logApiResponse(type, url, response);\n                                _this.consecutiveFailures = 0;\n                                return _context5.abrupt(\"return\", _this.handleResponse(response));\n                            case 43:\n                                _context5.prev = 43;\n                                _context5.t1 = _context5[\"catch\"](4);\n                                _context5.t1.client_request_id = (_requestConfig$header = requestConfig.headers) === null || _requestConfig$header === void 0 ? void 0 : _requestConfig$header[\"x-client-request-id\"];\n                                _this._logApiError(type, url, _context5.t1);\n                                _this.consecutiveFailures += 1;\n                                if (!_context5.t1.response) {\n                                    _context5.next = 60;\n                                    break;\n                                }\n                                if (!(_context5.t1.response.data.code === chatCodes.TOKEN_EXPIRED && !_this.tokenManager.isStatic())) {\n                                    _context5.next = 57;\n                                    break;\n                                }\n                                if (!(_this.consecutiveFailures > 1)) {\n                                    _context5.next = 53;\n                                    break;\n                                }\n                                _context5.next = 53;\n                                return sleep(retryInterval(_this.consecutiveFailures));\n                            case 53:\n                                _this.tokenManager.loadToken();\n                                _context5.next = 56;\n                                return _this.doAxiosRequest(type, url, data, options);\n                            case 56:\n                                return _context5.abrupt(\"return\", _context5.sent);\n                            case 57:\n                                return _context5.abrupt(\"return\", _this.handleResponse(_context5.t1.response));\n                            case 60:\n                                throw _context5.t1;\n                            case 61:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, null, [\n                    [\n                        4,\n                        43\n                    ]\n                ]);\n            }));\n            return function(_x5, _x6, _x7) {\n                return _ref5.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"dispatchEvent\", function(event) {\n            if (!event.received_at) event.received_at = new Date(); // client event handlers\n            var postListenerCallbacks = _this._handleClientEvent(event); // channel event handlers\n            var cid = event.cid;\n            var channel = cid ? _this.activeChannels[cid] : undefined;\n            if (channel) {\n                channel._handleChannelEvent(event);\n            }\n            _this._callClientListeners(event);\n            if (channel) {\n                channel._callChannelListeners(event);\n            }\n            postListenerCallbacks.forEach(function(c) {\n                return c();\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"handleEvent\", function(messageEvent) {\n            // dispatch the event to the channel listeners\n            var jsonString = messageEvent.data;\n            var event = JSON.parse(jsonString);\n            _this.dispatchEvent(event);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateMemberWatcherReferences\", function(user) {\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID in refMap){\n                var _channel2 = _this.activeChannels[_channelID];\n                if (_channel2 !== null && _channel2 !== void 0 && _channel2.state) {\n                    if (_channel2.state.members[user.id]) {\n                        _channel2.state.members[user.id].user = user;\n                    }\n                    if (_channel2.state.watchers[user.id]) {\n                        _channel2.state.watchers[user.id] = user;\n                    }\n                    if (_channel2.state.read[user.id]) {\n                        _channel2.state.read[user.id].user = user;\n                    }\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateUserReferences\", this._updateMemberWatcherReferences);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateUserMessageReferences\", function(user) {\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID2 in refMap){\n                var _channel3 = _this.activeChannels[_channelID2];\n                var state = _channel3.state;\n                /** update the messages from this user. */ state === null || state === void 0 ? void 0 : state.updateUserMessages(user);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_deleteUserMessageReference\", function(user) {\n            var hardDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID3 in refMap){\n                var _channel4 = _this.activeChannels[_channelID3];\n                var state = _channel4.state;\n                /** deleted the messages from this user. */ state === null || state === void 0 ? void 0 : state.deleteUserMessages(user, hardDelete);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_handleUserEvent\", function(event) {\n            if (!event.user) {\n                return;\n            }\n            /** update the client.state with any changes to users */ if (event.type === \"user.presence.changed\" || event.type === \"user.updated\") {\n                if (event.user.id === _this.userID) {\n                    var user = _objectSpread({}, _this.user || {});\n                    var _user = _objectSpread({}, _this._user || {}); // Remove deleted properties from user objects.\n                    for(var _key2 in _this.user){\n                        if (_key2 in event.user || isOwnUserBaseProperty(_key2)) {\n                            continue;\n                        }\n                        delete user[_key2];\n                        delete _user[_key2];\n                    }\n                    /** Updating only available properties in _user object. */ for(var _key3 in event.user){\n                        if (_user && _key3 in _user) {\n                            _user[_key3] = event.user[_key3];\n                        }\n                    } // @ts-expect-error\n                    _this._user = _objectSpread({}, _user);\n                    _this.user = _objectSpread(_objectSpread({}, user), event.user);\n                }\n                _this.state.updateUser(event.user);\n                _this._updateMemberWatcherReferences(event.user);\n            }\n            if (event.type === \"user.updated\") {\n                _this._updateUserMessageReferences(event.user);\n            }\n            if (event.type === \"user.deleted\" && event.user.deleted_at && (event.mark_messages_deleted || event.hard_delete)) {\n                _this._deleteUserMessageReference(event.user, event.hard_delete);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_callClientListeners\", function(event) {\n            var client = _this; // gather and call the listeners\n            var listeners = [];\n            if (client.listeners.all) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(client.listeners.all));\n            }\n            if (client.listeners[event.type]) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(client.listeners[event.type]));\n            } // call the event and send it to the listeners\n            for(var _i2 = 0, _listeners = listeners; _i2 < _listeners.length; _i2++){\n                var listener = _listeners[_i2];\n                listener(event);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"recoverState\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n            var cids;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                while(1){\n                    switch(_context6.prev = _context6.next){\n                        case 0:\n                            _this.logger(\"info\", \"client:recoverState() - Start of recoverState with connectionID \".concat(_this._getConnectionID()), {\n                                tags: [\n                                    \"connection\"\n                                ]\n                            });\n                            cids = Object.keys(_this.activeChannels);\n                            if (!(cids.length && _this.recoverStateOnReconnect)) {\n                                _context6.next = 10;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:recoverState() - Start the querying of \".concat(cids.length, \" channels\"), {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            _context6.next = 6;\n                            return _this.queryChannels({\n                                cid: {\n                                    $in: cids\n                                }\n                            }, {\n                                last_message_at: -1\n                            }, {\n                                limit: 30\n                            });\n                        case 6:\n                            _this.logger(\"info\", \"client:recoverState() - Querying channels finished\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            _this.dispatchEvent({\n                                type: \"connection.recovered\"\n                            });\n                            _context6.next = 11;\n                            break;\n                        case 10:\n                            _this.dispatchEvent({\n                                type: \"connection.recovered\"\n                            });\n                        case 11:\n                            _this.wsPromise = Promise.resolve();\n                            _this.setUserPromise = Promise.resolve();\n                        case 13:\n                        case \"end\":\n                            return _context6.stop();\n                    }\n                }\n            }, _callee6);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getChannelByMembers\", function(channelType, custom) {\n            // Check if the channel already exists.\n            // Only allow 1 channel object per cid\n            var membersStr = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(custom.members || []).sort().join(\",\");\n            var tempCid = \"\".concat(channelType, \":!members-\").concat(membersStr);\n            if (!membersStr) {\n                throw Error(\"Please specify atleast one member when creating unique conversation\");\n            } // channel could exist in `activeChannels` list with either one of the following two keys:\n            // 1. cid - Which gets set on channel only after calling channel.query or channel.watch or channel.create\n            // 2. Sorted membersStr - E.g., \"messaging:amin,vishal\" OR \"messaging:amin,jaap,tom\"\n            //                        This is set when you create a channel, but haven't queried yet. After query,\n            //                        we will replace it with `cid`\n            for(var _key4 in _this.activeChannels){\n                var _channel5 = _this.activeChannels[_key4];\n                if (_channel5.disconnected) {\n                    continue;\n                }\n                if (_key4 === tempCid) {\n                    return _channel5;\n                }\n                if (_key4.indexOf(\"\".concat(channelType, \":!members-\")) === 0) {\n                    var membersStrInExistingChannel = Object.keys(_channel5.state.members).sort().join(\",\");\n                    if (membersStrInExistingChannel === membersStr) {\n                        return _channel5;\n                    }\n                }\n            }\n            var channel = new Channel(_this, channelType, undefined, custom); // For the time being set the key as membersStr, since we don't know the cid yet.\n            // In channel.query, we will replace it with 'cid'.\n            _this.activeChannels[tempCid] = channel;\n            return channel;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getChannelById\", function(channelType, channelID, custom) {\n            if (typeof channelID === \"string\" && ~channelID.indexOf(\":\")) {\n                throw Error(\"Invalid channel id \".concat(channelID, \", can't contain the : character\"));\n            } // only allow 1 channel object per cid\n            var cid = \"\".concat(channelType, \":\").concat(channelID);\n            if (cid in _this.activeChannels && !_this.activeChannels[cid].disconnected) {\n                var _channel6 = _this.activeChannels[cid];\n                if (Object.keys(custom).length > 0) {\n                    _channel6.data = custom;\n                    _channel6._data = custom;\n                }\n                return _channel6;\n            }\n            var channel = new Channel(_this, channelType, channelID, custom);\n            _this.activeChannels[channel.cid] = channel;\n            return channel;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUsers\", this.upsertUsers);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUser\", this.upsertUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_unblockMessage\", this.unblockMessage);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"markAllRead\", this.markChannelsRead);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_isUsingServerAuth\", function() {\n            return !!_this.secret;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_buildWSPayload\", function(client_request_id) {\n            return JSON.stringify({\n                user_id: _this.userID,\n                user_details: _this._user,\n                device: _this.options.device,\n                client_request_id: client_request_id\n            });\n        });\n        // set the key\n        this.key = _key;\n        this.listeners = {};\n        this.state = new ClientState(); // a list of channels to hide ws events from\n        this.mutedChannels = [];\n        this.mutedUsers = []; // set the secret\n        if (secretOrOptions && isString(secretOrOptions)) {\n            this.secret = secretOrOptions;\n        } // set the options... and figure out defaults...\n        var inputOptions = _options ? _options : secretOrOptions && !isString(secretOrOptions) ? secretOrOptions : {};\n        this.browser = typeof inputOptions.browser !== \"undefined\" ? inputOptions.browser : \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        this.options = _objectSpread({\n            timeout: 3000,\n            withCredentials: false,\n            // making sure cookies are not sent\n            warmUp: false,\n            recoverStateOnReconnect: true\n        }, inputOptions);\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_10___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].create(this.options);\n        this.setBaseURL(this.options.baseURL || \"https://chat.stream-io-api.com\");\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_RUN) {\n            this.setBaseURL(\"http://localhost:3030\");\n        }\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_HOST) {\n            this.setBaseURL(\"http://\" + process.env.STREAM_LOCAL_TEST_HOST);\n        } // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromise = null;\n        this.setUserPromise = null; // keeps a reference to all the channels that are in use\n        this.activeChannels = {}; // mapping between channel groups and configs\n        this.configs = {};\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = (_this$options = this.options) === null || _this$options === void 0 ? void 0 : _this$options.persistUserOnConnectionFailure; // If its a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.insightMetrics = new InsightMetrics();\n        this.defaultWSTimeoutWithFallback = 6000;\n        this.defaultWSTimeout = 15000;\n        this.axiosInstance.defaults.paramsSerializer = axiosParamsSerializer;\n        /**\n     * logger function should accept 3 parameters:\n     * @param logLevel string\n     * @param message   string\n     * @param extraData object\n     *\n     * e.g.,\n     * const client = new StreamChat('api_key', {}, {\n     * \t\tlogger = (logLevel, message, extraData) => {\n     * \t\t\tconsole.log(message);\n     * \t\t}\n     * })\n     *\n     * extraData contains tags array attached to log message. Tags can have one/many of following values:\n     * 1. api\n     * 2. api_request\n     * 3. api_response\n     * 4. client\n     * 5. channel\n     * 6. connection\n     * 7. event\n     *\n     * It may also contains some extra data, some examples have been mentioned below:\n     * 1. {\n     * \t\ttags: ['api', 'api_request', 'client'],\n     * \t\turl: string,\n     * \t\tpayload: object,\n     * \t\tconfig: object\n     * }\n     * 2. {\n     * \t\ttags: ['api', 'api_response', 'client'],\n     * \t\turl: string,\n     * \t\tresponse: object\n     * }\n     * 3. {\n     * \t\ttags: ['api', 'api_response', 'client'],\n     * \t\turl: string,\n     * \t\terror: object\n     * }\n     * 4. {\n     * \t\ttags: ['event', 'client'],\n     * \t\tevent: object\n     * }\n     * 5. {\n     * \t\ttags: ['channel'],\n     * \t\tchannel: object\n     * }\n     */ this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : function() {\n            return null;\n        };\n        this.recoverStateOnReconnect = this.options.recoverStateOnReconnect;\n    }\n    /**\n   * Get a client instance\n   *\n   * This function always returns the same Client instance to avoid issues raised by multiple Client and WS connections\n   *\n   * **After the first call, the client configuration will not change if the key or options parameters change**\n   *\n   * @param {string} key - the api key\n   * @param {string} [secret] - the api secret\n   * @param {StreamChatOptions} [options] - additional options, here you can pass custom options to axios instance\n   * @param {boolean} [options.browser] - enforce the client to be in browser mode\n   * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n   * @param {Logger} [options.Logger] - custom logger\n   * @param {number} [options.timeout] - default to 3000\n   * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n   * @example <caption>initialize the client in user mode</caption>\n   * StreamChat.getInstance('api_key')\n   * @example <caption>initialize the client in user mode with options</caption>\n   * StreamChat.getInstance('api_key', { timeout:5000 })\n   * @example <caption>secret is optional and only used in server side mode</caption>\n   * StreamChat.getInstance('api_key', \"secret\", { httpsAgent: customAgent })\n   */ _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(StreamChat, [\n        {\n            key: \"devToken\",\n            value: function devToken(userID) {\n                return DevToken(userID);\n            }\n        },\n        {\n            key: \"getAuthType\",\n            value: function getAuthType() {\n                return this.anonymous ? \"anonymous\" : \"jwt\";\n            }\n        },\n        {\n            key: \"setBaseURL\",\n            value: function setBaseURL(baseURL) {\n                this.baseURL = baseURL;\n                this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n            }\n        },\n        {\n            key: \"_setUser\",\n            value: function _setUser(user) {\n                /**\n       * This one is used by the frontend. This is a copy of the current user object stored on backend.\n       * It contains reserved properties and own user properties which are not present in `this._user`.\n       */ this.user = user;\n                this.userID = user.id; // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n                this._user = _objectSpread({}, user);\n            }\n        },\n        {\n            key: \"updateAppSettings\",\n            value: /**\n     * updateAppSettings - updates application settings\n     *\n     * @param {AppSettings} options App settings.\n     * IE: {\n        'apn_config': {\n          'auth_type': 'token',\n          'auth_key\": fs.readFileSync(\n            './apn-push-auth-key.p8',\n            'utf-8',\n          ),\n          'key_id': 'keyid',\n          'team_id': 'teamid',\n          'notification_template\": 'notification handlebars template',\n          'bundle_id': 'com.apple.your.app',\n          'development': true\n        },\n        'firebase_config': {\n          'server_key': 'server key from fcm',\n          'notification_template': 'notification handlebars template',\n          'data_template': 'data handlebars template',\n          'apn_template': 'apn notification handlebars template under v2'\n        },\n        'webhook_url': 'https://acme.com/my/awesome/webhook/'\n      }\n     */ function() {\n                var _updateAppSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee7(options) {\n                    var apn_config;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee7$(_context7) {\n                        while(1){\n                            switch(_context7.prev = _context7.next){\n                                case 0:\n                                    apn_config = options.apn_config;\n                                    if (apn_config !== null && apn_config !== void 0 && apn_config.p12_cert) {\n                                        options = _objectSpread(_objectSpread({}, options), {}, {\n                                            apn_config: _objectSpread(_objectSpread({}, apn_config), {}, {\n                                                p12_cert: Buffer.from(apn_config.p12_cert).toString(\"base64\")\n                                            })\n                                        });\n                                    }\n                                    _context7.next = 4;\n                                    return this.patch(this.baseURL + \"/app\", options);\n                                case 4:\n                                    return _context7.abrupt(\"return\", _context7.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context7.stop();\n                            }\n                        }\n                    }, _callee7, this);\n                }));\n                function updateAppSettings(_x8) {\n                    return _updateAppSettings.apply(this, arguments);\n                }\n                return updateAppSettings;\n            }()\n        },\n        {\n            key: \"revokeTokens\",\n            value: /**\n     * Revokes all tokens on application level issued before given time\n     */ function() {\n                var _revokeTokens = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee8(before) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee8$(_context8) {\n                        while(1){\n                            switch(_context8.prev = _context8.next){\n                                case 0:\n                                    _context8.next = 2;\n                                    return this.updateAppSettings({\n                                        revoke_tokens_issued_before: this._normalizeDate(before)\n                                    });\n                                case 2:\n                                    return _context8.abrupt(\"return\", _context8.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context8.stop();\n                            }\n                        }\n                    }, _callee8, this);\n                }));\n                function revokeTokens(_x9) {\n                    return _revokeTokens.apply(this, arguments);\n                }\n                return revokeTokens;\n            }()\n        },\n        {\n            key: \"revokeUserToken\",\n            value: function() {\n                var _revokeUserToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee9(userID, before) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee9$(_context9) {\n                        while(1){\n                            switch(_context9.prev = _context9.next){\n                                case 0:\n                                    _context9.next = 2;\n                                    return this.revokeUsersToken([\n                                        userID\n                                    ], before);\n                                case 2:\n                                    return _context9.abrupt(\"return\", _context9.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context9.stop();\n                            }\n                        }\n                    }, _callee9, this);\n                }));\n                function revokeUserToken(_x10, _x11) {\n                    return _revokeUserToken.apply(this, arguments);\n                }\n                return revokeUserToken;\n            }()\n        },\n        {\n            key: \"revokeUsersToken\",\n            value: function() {\n                var _revokeUsersToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee10(userIDs, before) {\n                    var users, _iterator, _step, userID;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee10$(_context10) {\n                        while(1){\n                            switch(_context10.prev = _context10.next){\n                                case 0:\n                                    if (before === undefined) {\n                                        before = new Date().toISOString();\n                                    } else {\n                                        before = this._normalizeDate(before);\n                                    }\n                                    users = [];\n                                    _iterator = _createForOfIteratorHelper(userIDs);\n                                    try {\n                                        for(_iterator.s(); !(_step = _iterator.n()).done;){\n                                            userID = _step.value;\n                                            users.push({\n                                                id: userID,\n                                                set: {\n                                                    revoke_tokens_issued_before: before\n                                                }\n                                            });\n                                        }\n                                    } catch (err) {\n                                        _iterator.e(err);\n                                    } finally{\n                                        _iterator.f();\n                                    }\n                                    _context10.next = 6;\n                                    return this.partialUpdateUsers(users);\n                                case 6:\n                                    return _context10.abrupt(\"return\", _context10.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context10.stop();\n                            }\n                        }\n                    }, _callee10, this);\n                }));\n                function revokeUsersToken(_x12, _x13) {\n                    return _revokeUsersToken.apply(this, arguments);\n                }\n                return revokeUsersToken;\n            }()\n        },\n        {\n            key: \"getAppSettings\",\n            value: function() {\n                var _getAppSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee11() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee11$(_context11) {\n                        while(1){\n                            switch(_context11.prev = _context11.next){\n                                case 0:\n                                    _context11.next = 2;\n                                    return this.get(this.baseURL + \"/app\");\n                                case 2:\n                                    return _context11.abrupt(\"return\", _context11.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context11.stop();\n                            }\n                        }\n                    }, _callee11, this);\n                }));\n                function getAppSettings() {\n                    return _getAppSettings.apply(this, arguments);\n                }\n                return getAppSettings;\n            }()\n        },\n        {\n            key: \"testPushSettings\",\n            value: function() {\n                var _testPushSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee12(userID) {\n                    var data, _args12 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee12$(_context12) {\n                        while(1){\n                            switch(_context12.prev = _context12.next){\n                                case 0:\n                                    data = _args12.length > 1 && _args12[1] !== undefined ? _args12[1] : {};\n                                    _context12.next = 3;\n                                    return this.post(this.baseURL + \"/check_push\", _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n                                        user_id: userID\n                                    }, data.messageID ? {\n                                        message_id: data.messageID\n                                    } : {}), data.apnTemplate ? {\n                                        apn_template: data.apnTemplate\n                                    } : {}), data.firebaseTemplate ? {\n                                        firebase_template: data.firebaseTemplate\n                                    } : {}), data.firebaseDataTemplate ? {\n                                        firebase_data_template: data.firebaseDataTemplate\n                                    } : {}), data.skipDevices ? {\n                                        skip_devices: true\n                                    } : {}), data.pushProviderName ? {\n                                        push_provider_name: data.pushProviderName\n                                    } : {}), data.pushProviderType ? {\n                                        push_provider_type: data.pushProviderType\n                                    } : {}));\n                                case 3:\n                                    return _context12.abrupt(\"return\", _context12.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context12.stop();\n                            }\n                        }\n                    }, _callee12, this);\n                }));\n                function testPushSettings(_x14) {\n                    return _testPushSettings.apply(this, arguments);\n                }\n                return testPushSettings;\n            }()\n        },\n        {\n            key: \"testSQSSettings\",\n            value: function() {\n                var _testSQSSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee13() {\n                    var data, _args13 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee13$(_context13) {\n                        while(1){\n                            switch(_context13.prev = _context13.next){\n                                case 0:\n                                    data = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {};\n                                    _context13.next = 3;\n                                    return this.post(this.baseURL + \"/check_sqs\", data);\n                                case 3:\n                                    return _context13.abrupt(\"return\", _context13.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context13.stop();\n                            }\n                        }\n                    }, _callee13, this);\n                }));\n                function testSQSSettings() {\n                    return _testSQSSettings.apply(this, arguments);\n                }\n                return testSQSSettings;\n            }()\n        },\n        {\n            key: \"testSNSSettings\",\n            value: function() {\n                var _testSNSSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee14() {\n                    var data, _args14 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee14$(_context14) {\n                        while(1){\n                            switch(_context14.prev = _context14.next){\n                                case 0:\n                                    data = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {};\n                                    _context14.next = 3;\n                                    return this.post(this.baseURL + \"/check_sns\", data);\n                                case 3:\n                                    return _context14.abrupt(\"return\", _context14.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context14.stop();\n                            }\n                        }\n                    }, _callee14, this);\n                }));\n                function testSNSSettings() {\n                    return _testSNSSettings.apply(this, arguments);\n                }\n                return testSNSSettings;\n            }()\n        },\n        {\n            key: \"setGuestUser\",\n            value: /**\n     * setGuestUser - Setup a temporary guest user\n     *\n     * @param {UserResponse<StreamChatGenerics>} user Data about this user. IE {name: \"john\"}\n     *\n     * @return {ConnectAPIResponse<StreamChatGenerics>} Returns a promise that resolves when the connection is setup\n     */ function() {\n                var _setGuestUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee15(user) {\n                    var response, _response$user, guestUser;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee15$(_context15) {\n                        while(1){\n                            switch(_context15.prev = _context15.next){\n                                case 0:\n                                    this.anonymous = true;\n                                    _context15.prev = 1;\n                                    _context15.next = 4;\n                                    return this.post(this.baseURL + \"/guest\", {\n                                        user: user\n                                    });\n                                case 4:\n                                    response = _context15.sent;\n                                    _context15.next = 11;\n                                    break;\n                                case 7:\n                                    _context15.prev = 7;\n                                    _context15.t0 = _context15[\"catch\"](1);\n                                    this.anonymous = false;\n                                    throw _context15.t0;\n                                case 11:\n                                    this.anonymous = false; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                    _response$user = response.user, _response$user.created_at, _response$user.updated_at, _response$user.last_active, _response$user.online, guestUser = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_response$user, _excluded);\n                                    _context15.next = 15;\n                                    return this.connectUser(guestUser, response.access_token);\n                                case 15:\n                                    return _context15.abrupt(\"return\", _context15.sent);\n                                case 16:\n                                case \"end\":\n                                    return _context15.stop();\n                            }\n                        }\n                    }, _callee15, this, [\n                        [\n                            1,\n                            7\n                        ]\n                    ]);\n                }));\n                function setGuestUser(_x15) {\n                    return _setGuestUser.apply(this, arguments);\n                }\n                return setGuestUser;\n            }()\n        },\n        {\n            key: \"createToken\",\n            value: function createToken(userID, exp, iat) {\n                if (this.secret == null) {\n                    throw Error(\"tokens can only be created server-side using the API Secret\");\n                }\n                var extra = {};\n                if (exp) {\n                    extra.exp = exp;\n                }\n                if (iat) {\n                    extra.iat = iat;\n                }\n                return JWTUserToken(this.secret, userID, extra, {});\n            }\n        },\n        {\n            key: \"on\",\n            value: function on(callbackOrString, callbackOrNothing) {\n                var _this2 = this;\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this.logger(\"info\", \"Attaching listener for \".concat(key, \" event\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ]\n                });\n                this.listeners[key].push(callback);\n                return {\n                    unsubscribe: function unsubscribe() {\n                        _this2.logger(\"info\", \"Removing listener for \".concat(key, \" event\"), {\n                            tags: [\n                                \"event\",\n                                \"client\"\n                            ]\n                        });\n                        _this2.listeners[key] = _this2.listeners[key].filter(function(el) {\n                            return el !== callback;\n                        });\n                    }\n                };\n            }\n        },\n        {\n            key: \"off\",\n            value: function off(callbackOrString, callbackOrNothing) {\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this.logger(\"info\", \"Removing listener for \".concat(key, \" event\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ]\n                });\n                this.listeners[key] = this.listeners[key].filter(function(value) {\n                    return value !== callback;\n                });\n            }\n        },\n        {\n            key: \"_logApiRequest\",\n            value: function _logApiRequest(type, url, data, config) {\n                this.logger(\"info\", \"client: \".concat(type, \" - Request - \").concat(url), {\n                    tags: [\n                        \"api\",\n                        \"api_request\",\n                        \"client\"\n                    ],\n                    url: url,\n                    payload: data,\n                    config: config\n                });\n            }\n        },\n        {\n            key: \"_logApiResponse\",\n            value: function _logApiResponse(type, url, response) {\n                this.logger(\"info\", \"client:\".concat(type, \" - Response - url: \").concat(url, \" > status \").concat(response.status), {\n                    tags: [\n                        \"api\",\n                        \"api_response\",\n                        \"client\"\n                    ],\n                    url: url,\n                    response: response\n                });\n            }\n        },\n        {\n            key: \"_logApiError\",\n            value: function _logApiError(type, url, error) {\n                this.logger(\"error\", \"client:\".concat(type, \" - Error - url: \").concat(url), {\n                    tags: [\n                        \"api\",\n                        \"api_response\",\n                        \"client\"\n                    ],\n                    url: url,\n                    error: error\n                });\n            }\n        },\n        {\n            key: \"get\",\n            value: function get(url, params) {\n                return this.doAxiosRequest(\"get\", url, null, {\n                    params: params\n                });\n            }\n        },\n        {\n            key: \"put\",\n            value: function put(url, data) {\n                return this.doAxiosRequest(\"put\", url, data);\n            }\n        },\n        {\n            key: \"post\",\n            value: function post(url, data) {\n                return this.doAxiosRequest(\"post\", url, data);\n            }\n        },\n        {\n            key: \"patch\",\n            value: function patch(url, data) {\n                return this.doAxiosRequest(\"patch\", url, data);\n            }\n        },\n        {\n            key: \"delete\",\n            value: function _delete(url, params) {\n                return this.doAxiosRequest(\"delete\", url, null, {\n                    params: params\n                });\n            }\n        },\n        {\n            key: \"sendFile\",\n            value: function sendFile(url, uri, name, contentType, user) {\n                var data = addFileToFormData(uri, name, contentType || \"multipart/form-data\");\n                if (user != null) data.append(\"user\", JSON.stringify(user));\n                return this.doAxiosRequest(\"postForm\", url, data, {\n                    headers: data.getHeaders ? data.getHeaders() : {},\n                    // node vs browser\n                    config: {\n                        timeout: 0,\n                        maxContentLength: Infinity,\n                        maxBodyLength: Infinity\n                    }\n                });\n            }\n        },\n        {\n            key: \"errorFromResponse\",\n            value: function errorFromResponse(response) {\n                var err;\n                err = new ErrorFromResponse(\"StreamChat error HTTP code: \".concat(response.status));\n                if (response.data && response.data.code) {\n                    err = new Error(\"StreamChat error code \".concat(response.data.code, \": \").concat(response.data.message));\n                    err.code = response.data.code;\n                }\n                err.response = response;\n                err.status = response.status;\n                return err;\n            }\n        },\n        {\n            key: \"handleResponse\",\n            value: function handleResponse(response) {\n                var data = response.data;\n                if (isErrorResponse(response)) {\n                    throw this.errorFromResponse(response);\n                }\n                return data;\n            }\n        },\n        {\n            key: \"_handleClientEvent\",\n            value: function _handleClientEvent(event) {\n                var _event$me, _this3 = this, _event$me2;\n                var client = this;\n                var postListenerCallbacks = [];\n                this.logger(\"info\", \"client:_handleClientEvent - Received event of type { \".concat(event.type, \" }\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ],\n                    event: event\n                });\n                if (event.type === \"user.presence.changed\" || event.type === \"user.updated\" || event.type === \"user.deleted\") {\n                    this._handleUserEvent(event);\n                }\n                if (event.type === \"health.check\" && event.me) {\n                    client.user = event.me;\n                    client.state.updateUser(event.me);\n                    client.mutedChannels = event.me.channel_mutes;\n                    client.mutedUsers = event.me.mutes;\n                }\n                if (event.channel && event.type === \"notification.message_new\") {\n                    this._addChannelConfig(event.channel);\n                }\n                if (event.type === \"notification.channel_mutes_updated\" && (_event$me = event.me) !== null && _event$me !== void 0 && _event$me.channel_mutes) {\n                    var currentMutedChannelIds = [];\n                    var nextMutedChannelIds = [];\n                    this.mutedChannels.forEach(function(mute) {\n                        return mute.channel && currentMutedChannelIds.push(mute.channel.cid);\n                    });\n                    event.me.channel_mutes.forEach(function(mute) {\n                        return mute.channel && nextMutedChannelIds.push(mute.channel.cid);\n                    });\n                    /** Set the unread count of un-muted channels to 0, which is the behaviour of backend */ currentMutedChannelIds.forEach(function(cid) {\n                        if (!nextMutedChannelIds.includes(cid) && _this3.activeChannels[cid]) {\n                            _this3.activeChannels[cid].state.unreadCount = 0;\n                        }\n                    });\n                    this.mutedChannels = event.me.channel_mutes;\n                }\n                if (event.type === \"notification.mutes_updated\" && (_event$me2 = event.me) !== null && _event$me2 !== void 0 && _event$me2.mutes) {\n                    this.mutedUsers = event.me.mutes;\n                }\n                if (event.type === \"notification.mark_read\" && event.unread_channels === 0) {\n                    var activeChannelKeys = Object.keys(this.activeChannels);\n                    activeChannelKeys.forEach(function(activeChannelKey) {\n                        return _this3.activeChannels[activeChannelKey].state.unreadCount = 0;\n                    });\n                }\n                if ((event.type === \"channel.deleted\" || event.type === \"notification.channel_deleted\") && event.cid) {\n                    var _this$activeChannels$;\n                    client.state.deleteAllChannelReference(event.cid);\n                    (_this$activeChannels$ = this.activeChannels[event.cid]) === null || _this$activeChannels$ === void 0 ? void 0 : _this$activeChannels$._disconnect();\n                    postListenerCallbacks.push(function() {\n                        if (!event.cid) return;\n                        delete _this3.activeChannels[event.cid];\n                    });\n                }\n                return postListenerCallbacks;\n            }\n        },\n        {\n            key: \"_muteStatus\",\n            value: function _muteStatus(cid) {\n                var muteStatus;\n                for(var i = 0; i < this.mutedChannels.length; i++){\n                    var _mute$channel;\n                    var mute = this.mutedChannels[i];\n                    if (((_mute$channel = mute.channel) === null || _mute$channel === void 0 ? void 0 : _mute$channel.cid) === cid) {\n                        muteStatus = {\n                            muted: mute.expires ? new Date(mute.expires).getTime() > new Date().getTime() : true,\n                            createdAt: mute.created_at ? new Date(mute.created_at) : new Date(),\n                            expiresAt: mute.expires ? new Date(mute.expires) : null\n                        };\n                        break;\n                    }\n                }\n                if (muteStatus) {\n                    return muteStatus;\n                }\n                return {\n                    muted: false,\n                    createdAt: null,\n                    expiresAt: null\n                };\n            }\n        },\n        {\n            key: \"connect\",\n            value: /**\n     * @private\n     */ function() {\n                var _connect = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee16() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee16$(_context16) {\n                        while(1){\n                            switch(_context16.prev = _context16.next){\n                                case 0:\n                                    if (!(!this.userID || !this._user)) {\n                                        _context16.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n                                case 2:\n                                    if (this.wsBaseURL) {\n                                        _context16.next = 4;\n                                        break;\n                                    }\n                                    throw Error(\"Websocket base url not set\");\n                                case 4:\n                                    if (this.clientID) {\n                                        _context16.next = 6;\n                                        break;\n                                    }\n                                    throw Error(\"clientID is not set\");\n                                case 6:\n                                    if (!this.wsConnection && (this.options.warmUp || this.options.enableInsights)) {\n                                        this._sayHi();\n                                    } // The StableWSConnection handles all the reconnection logic.\n                                    if (this.options.wsConnection && this.node) {\n                                        // Intentionally avoiding adding ts generics on wsConnection in options since its only useful for unit test purpose.\n                                        this.options.wsConnection.setClient(this);\n                                        this.wsConnection = this.options.wsConnection;\n                                    } else {\n                                        this.wsConnection = new StableWSConnection({\n                                            client: this\n                                        });\n                                    }\n                                    _context16.prev = 8;\n                                    if (!this.wsFallback) {\n                                        _context16.next = 13;\n                                        break;\n                                    }\n                                    _context16.next = 12;\n                                    return this.wsFallback.connect();\n                                case 12:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 13:\n                                    _context16.next = 15;\n                                    return this.wsConnection.connect(this.options.enableWSFallback ? this.defaultWSTimeoutWithFallback : this.defaultWSTimeout);\n                                case 15:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 18:\n                                    _context16.prev = 18;\n                                    _context16.t0 = _context16[\"catch\"](8);\n                                    if (!(this.options.enableWSFallback && isWSFailure(_context16.t0) && isOnline())) {\n                                        _context16.next = 29;\n                                        break;\n                                    }\n                                    this.logger(\"info\", \"client:connect() - WS failed, fallback to longpoll\", {\n                                        tags: [\n                                            \"connection\",\n                                            \"client\"\n                                        ]\n                                    });\n                                    this.dispatchEvent({\n                                        type: \"transport.changed\",\n                                        mode: \"longpoll\"\n                                    });\n                                    this.wsConnection._destroyCurrentWSConnection();\n                                    this.wsConnection.disconnect().then(); // close WS so no retry\n                                    this.wsFallback = new WSConnectionFallback({\n                                        client: this\n                                    });\n                                    _context16.next = 28;\n                                    return this.wsFallback.connect();\n                                case 28:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 29:\n                                    throw _context16.t0;\n                                case 30:\n                                case \"end\":\n                                    return _context16.stop();\n                            }\n                        }\n                    }, _callee16, this, [\n                        [\n                            8,\n                            18\n                        ]\n                    ]);\n                }));\n                function connect() {\n                    return _connect.apply(this, arguments);\n                }\n                return connect;\n            }()\n        },\n        {\n            key: \"_sayHi\",\n            value: function _sayHi() {\n                var _this4 = this;\n                var client_request_id = randomId();\n                var opts = {\n                    headers: {\n                        \"x-client-request-id\": client_request_id\n                    }\n                };\n                this.doAxiosRequest(\"get\", this.baseURL + \"/hi\", null, opts).catch(function(e) {\n                    if (_this4.options.enableInsights) {\n                        postInsights(\"http_hi_failed\", {\n                            api_key: _this4.key,\n                            err: e,\n                            client_request_id: client_request_id\n                        });\n                    }\n                });\n            }\n        },\n        {\n            key: \"queryUsers\",\n            value: function() {\n                var _queryUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee17(filterConditions) {\n                    var sort, options, defaultOptions, data, _args17 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee17$(_context17) {\n                        while(1){\n                            switch(_context17.prev = _context17.next){\n                                case 0:\n                                    sort = _args17.length > 1 && _args17[1] !== undefined ? _args17[1] : [];\n                                    options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n                                    defaultOptions = {\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context17.next = 5;\n                                    return this.wsPromise;\n                                case 5:\n                                    if (!this._hasConnectionID()) {\n                                        defaultOptions.presence = false;\n                                    } // Return a list of users\n                                    _context17.next = 8;\n                                    return this.get(this.baseURL + \"/users\", {\n                                        payload: _objectSpread(_objectSpread({\n                                            filter_conditions: filterConditions,\n                                            sort: normalizeQuerySort(sort)\n                                        }, defaultOptions), options)\n                                    });\n                                case 8:\n                                    data = _context17.sent;\n                                    this.state.updateUsers(data.users);\n                                    return _context17.abrupt(\"return\", data);\n                                case 11:\n                                case \"end\":\n                                    return _context17.stop();\n                            }\n                        }\n                    }, _callee17, this);\n                }));\n                function queryUsers(_x16) {\n                    return _queryUsers.apply(this, arguments);\n                }\n                return queryUsers;\n            }()\n        },\n        {\n            key: \"queryBannedUsers\",\n            value: function() {\n                var _queryBannedUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee18() {\n                    var filterConditions, sort, options, _args18 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee18$(_context18) {\n                        while(1){\n                            switch(_context18.prev = _context18.next){\n                                case 0:\n                                    filterConditions = _args18.length > 0 && _args18[0] !== undefined ? _args18[0] : {};\n                                    sort = _args18.length > 1 && _args18[1] !== undefined ? _args18[1] : [];\n                                    options = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : {};\n                                    _context18.next = 5;\n                                    return this.get(this.baseURL + \"/query_banned_users\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filterConditions,\n                                            sort: normalizeQuerySort(sort)\n                                        }, options)\n                                    });\n                                case 5:\n                                    return _context18.abrupt(\"return\", _context18.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context18.stop();\n                            }\n                        }\n                    }, _callee18, this);\n                }));\n                function queryBannedUsers() {\n                    return _queryBannedUsers.apply(this, arguments);\n                }\n                return queryBannedUsers;\n            }()\n        },\n        {\n            key: \"queryMessageFlags\",\n            value: function() {\n                var _queryMessageFlags = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee19() {\n                    var filterConditions, options, _args19 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee19$(_context19) {\n                        while(1){\n                            switch(_context19.prev = _context19.next){\n                                case 0:\n                                    filterConditions = _args19.length > 0 && _args19[0] !== undefined ? _args19[0] : {};\n                                    options = _args19.length > 1 && _args19[1] !== undefined ? _args19[1] : {};\n                                    _context19.next = 4;\n                                    return this.get(this.baseURL + \"/moderation/flags/message\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filterConditions\n                                        }, options)\n                                    });\n                                case 4:\n                                    return _context19.abrupt(\"return\", _context19.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context19.stop();\n                            }\n                        }\n                    }, _callee19, this);\n                }));\n                function queryMessageFlags() {\n                    return _queryMessageFlags.apply(this, arguments);\n                }\n                return queryMessageFlags;\n            }()\n        },\n        {\n            key: \"queryChannels\",\n            value: function() {\n                var _queryChannels = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee20(filterConditions) {\n                    var sort, options, stateOptions, defaultOptions, payload, data, _args20 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee20$(_context20) {\n                        while(1){\n                            switch(_context20.prev = _context20.next){\n                                case 0:\n                                    sort = _args20.length > 1 && _args20[1] !== undefined ? _args20[1] : [];\n                                    options = _args20.length > 2 && _args20[2] !== undefined ? _args20[2] : {};\n                                    stateOptions = _args20.length > 3 && _args20[3] !== undefined ? _args20[3] : {};\n                                    defaultOptions = {\n                                        state: true,\n                                        watch: true,\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context20.next = 6;\n                                    return this.wsPromise;\n                                case 6:\n                                    if (!this._hasConnectionID()) {\n                                        defaultOptions.watch = false;\n                                    } // Return a list of channels\n                                    payload = _objectSpread(_objectSpread({\n                                        filter_conditions: filterConditions,\n                                        sort: normalizeQuerySort(sort)\n                                    }, defaultOptions), options);\n                                    _context20.next = 10;\n                                    return this.post(this.baseURL + \"/channels\", payload);\n                                case 10:\n                                    data = _context20.sent;\n                                    this.dispatchEvent({\n                                        type: \"channels.queried\",\n                                        queriedChannels: {\n                                            channels: data.channels,\n                                            isLatestMessageSet: true\n                                        }\n                                    });\n                                    return _context20.abrupt(\"return\", this.hydrateActiveChannels(data.channels, stateOptions));\n                                case 13:\n                                case \"end\":\n                                    return _context20.stop();\n                            }\n                        }\n                    }, _callee20, this);\n                }));\n                function queryChannels(_x17) {\n                    return _queryChannels.apply(this, arguments);\n                }\n                return queryChannels;\n            }()\n        },\n        {\n            key: \"hydrateActiveChannels\",\n            value: function hydrateActiveChannels() {\n                var channelsFromApi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var stateOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var skipInitialization = stateOptions.skipInitialization, _stateOptions$offline = stateOptions.offlineMode, offlineMode = _stateOptions$offline === void 0 ? false : _stateOptions$offline;\n                var _iterator2 = _createForOfIteratorHelper(channelsFromApi), _step2;\n                try {\n                    for(_iterator2.s(); !(_step2 = _iterator2.n()).done;){\n                        var channelState = _step2.value;\n                        this._addChannelConfig(channelState.channel);\n                    }\n                } catch (err) {\n                    _iterator2.e(err);\n                } finally{\n                    _iterator2.f();\n                }\n                var channels = [];\n                var _iterator3 = _createForOfIteratorHelper(channelsFromApi), _step3;\n                try {\n                    for(_iterator3.s(); !(_step3 = _iterator3.n()).done;){\n                        var _channelState = _step3.value;\n                        var c = this.channel(_channelState.channel.type, _channelState.channel.id);\n                        c.data = _channelState.channel;\n                        c.offlineMode = offlineMode;\n                        c.initialized = !offlineMode;\n                        if (skipInitialization === undefined) {\n                            c._initializeState(_channelState, \"latest\");\n                        } else if (!skipInitialization.includes(_channelState.channel.id)) {\n                            c.state.clearMessages();\n                            c._initializeState(_channelState, \"latest\");\n                        }\n                        channels.push(c);\n                    }\n                } catch (err) {\n                    _iterator3.e(err);\n                } finally{\n                    _iterator3.f();\n                }\n                return channels;\n            }\n        },\n        {\n            key: \"search\",\n            value: function() {\n                var _search = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee21(filterConditions, query) {\n                    var options, payload, _args21 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee21$(_context21) {\n                        while(1){\n                            switch(_context21.prev = _context21.next){\n                                case 0:\n                                    options = _args21.length > 2 && _args21[2] !== undefined ? _args21[2] : {};\n                                    if (!(options.offset && options.next)) {\n                                        _context21.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"Cannot specify offset with next\");\n                                case 3:\n                                    payload = _objectSpread(_objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options), {}, {\n                                        sort: options.sort ? normalizeQuerySort(options.sort) : undefined\n                                    });\n                                    if (!(typeof query === \"string\")) {\n                                        _context21.next = 8;\n                                        break;\n                                    }\n                                    payload.query = query;\n                                    _context21.next = 13;\n                                    break;\n                                case 8:\n                                    if (!(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query) === \"object\")) {\n                                        _context21.next = 12;\n                                        break;\n                                    }\n                                    payload.message_filter_conditions = query;\n                                    _context21.next = 13;\n                                    break;\n                                case 12:\n                                    throw Error(\"Invalid type \".concat(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query), \" for query parameter\"));\n                                case 13:\n                                    _context21.next = 15;\n                                    return this.wsPromise;\n                                case 15:\n                                    _context21.next = 17;\n                                    return this.get(this.baseURL + \"/search\", {\n                                        payload: payload\n                                    });\n                                case 17:\n                                    return _context21.abrupt(\"return\", _context21.sent);\n                                case 18:\n                                case \"end\":\n                                    return _context21.stop();\n                            }\n                        }\n                    }, _callee21, this);\n                }));\n                function search(_x18, _x19) {\n                    return _search.apply(this, arguments);\n                }\n                return search;\n            }()\n        },\n        {\n            key: \"setLocalDevice\",\n            value: function setLocalDevice(device) {\n                var _this$wsConnection5, _this$wsConnection6, _this$wsFallback4;\n                if ((_this$wsConnection5 = this.wsConnection) !== null && _this$wsConnection5 !== void 0 && _this$wsConnection5.isConnecting && this.wsPromise || ((_this$wsConnection6 = this.wsConnection) !== null && _this$wsConnection6 !== void 0 && _this$wsConnection6.isHealthy || (_this$wsFallback4 = this.wsFallback) !== null && _this$wsFallback4 !== void 0 && _this$wsFallback4.isHealthy()) && this._hasConnectionID()) {\n                    throw new Error(\"you can only set device before opening a websocket connection\");\n                }\n                this.options.device = device;\n            }\n        },\n        {\n            key: \"addDevice\",\n            value: function() {\n                var _addDevice = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee22(id, push_provider, userID, push_provider_name) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee22$(_context22) {\n                        while(1){\n                            switch(_context22.prev = _context22.next){\n                                case 0:\n                                    _context22.next = 2;\n                                    return this.post(this.baseURL + \"/devices\", _objectSpread(_objectSpread({\n                                        id: id,\n                                        push_provider: push_provider\n                                    }, userID != null ? {\n                                        user_id: userID\n                                    } : {}), push_provider_name != null ? {\n                                        push_provider_name: push_provider_name\n                                    } : {}));\n                                case 2:\n                                    return _context22.abrupt(\"return\", _context22.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context22.stop();\n                            }\n                        }\n                    }, _callee22, this);\n                }));\n                function addDevice(_x20, _x21, _x22, _x23) {\n                    return _addDevice.apply(this, arguments);\n                }\n                return addDevice;\n            }()\n        },\n        {\n            key: \"getDevices\",\n            value: function() {\n                var _getDevices = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee23(userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee23$(_context23) {\n                        while(1){\n                            switch(_context23.prev = _context23.next){\n                                case 0:\n                                    _context23.next = 2;\n                                    return this.get(this.baseURL + \"/devices\", userID ? {\n                                        user_id: userID\n                                    } : {});\n                                case 2:\n                                    return _context23.abrupt(\"return\", _context23.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context23.stop();\n                            }\n                        }\n                    }, _callee23, this);\n                }));\n                function getDevices(_x24) {\n                    return _getDevices.apply(this, arguments);\n                }\n                return getDevices;\n            }()\n        },\n        {\n            key: \"getUnreadCount\",\n            value: function() {\n                var _getUnreadCount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee24(userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee24$(_context24) {\n                        while(1){\n                            switch(_context24.prev = _context24.next){\n                                case 0:\n                                    _context24.next = 2;\n                                    return this.get(this.baseURL + \"/unread\", userID ? {\n                                        user_id: userID\n                                    } : {});\n                                case 2:\n                                    return _context24.abrupt(\"return\", _context24.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context24.stop();\n                            }\n                        }\n                    }, _callee24, this);\n                }));\n                function getUnreadCount(_x25) {\n                    return _getUnreadCount.apply(this, arguments);\n                }\n                return getUnreadCount;\n            }()\n        },\n        {\n            key: \"removeDevice\",\n            value: function() {\n                var _removeDevice = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee25(id, userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee25$(_context25) {\n                        while(1){\n                            switch(_context25.prev = _context25.next){\n                                case 0:\n                                    _context25.next = 2;\n                                    return this.delete(this.baseURL + \"/devices\", _objectSpread({\n                                        id: id\n                                    }, userID ? {\n                                        user_id: userID\n                                    } : {}));\n                                case 2:\n                                    return _context25.abrupt(\"return\", _context25.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context25.stop();\n                            }\n                        }\n                    }, _callee25, this);\n                }));\n                function removeDevice(_x26, _x27) {\n                    return _removeDevice.apply(this, arguments);\n                }\n                return removeDevice;\n            }()\n        },\n        {\n            key: \"getRateLimits\",\n            value: function() {\n                var _getRateLimits = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee26(params) {\n                    var _ref7, serverSide, web, android, ios, endpoints;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee26$(_context26) {\n                        while(1){\n                            switch(_context26.prev = _context26.next){\n                                case 0:\n                                    _ref7 = params || {}, serverSide = _ref7.serverSide, web = _ref7.web, android = _ref7.android, ios = _ref7.ios, endpoints = _ref7.endpoints;\n                                    return _context26.abrupt(\"return\", this.get(this.baseURL + \"/rate_limits\", {\n                                        server_side: serverSide,\n                                        web: web,\n                                        android: android,\n                                        ios: ios,\n                                        endpoints: endpoints ? endpoints.join(\",\") : undefined\n                                    }));\n                                case 2:\n                                case \"end\":\n                                    return _context26.stop();\n                            }\n                        }\n                    }, _callee26, this);\n                }));\n                function getRateLimits(_x28) {\n                    return _getRateLimits.apply(this, arguments);\n                }\n                return getRateLimits;\n            }()\n        },\n        {\n            key: \"_addChannelConfig\",\n            value: function _addChannelConfig(_ref8) {\n                var cid = _ref8.cid, config = _ref8.config;\n                this.configs[cid] = config;\n            }\n        },\n        {\n            key: \"channel\",\n            value: function channel(channelType, channelIDOrCustom) {\n                var _custom$members;\n                var custom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n                if (!this.userID && !this._isUsingServerAuth()) {\n                    throw Error(\"Call connectUser or connectAnonymousUser before creating a channel\");\n                }\n                if (~channelType.indexOf(\":\")) {\n                    throw Error(\"Invalid channel group \".concat(channelType, \", can't contain the : character\"));\n                } // support channel(\"messaging\", {options})\n                if (channelIDOrCustom && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(channelIDOrCustom) === \"object\") {\n                    return this.getChannelByMembers(channelType, channelIDOrCustom);\n                } // // support channel(\"messaging\", undefined, {options})\n                if (!channelIDOrCustom && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(custom) === \"object\" && (_custom$members = custom.members) !== null && _custom$members !== void 0 && _custom$members.length) {\n                    return this.getChannelByMembers(channelType, custom);\n                } // support channel(\"messaging\", null, {options})\n                // support channel(\"messaging\", undefined, {options})\n                // support channel(\"messaging\", \"\", {options})\n                if (!channelIDOrCustom) {\n                    return new Channel(this, channelType, undefined, custom);\n                }\n                return this.getChannelById(channelType, channelIDOrCustom, custom);\n            }\n        },\n        {\n            key: \"partialUpdateUser\",\n            value: /**\n     * partialUpdateUser - Update the given user object\n     *\n     * @param {PartialUserUpdate<StreamChatGenerics>} partialUserObject which should contain id and any of \"set\" or \"unset\" params;\n     * example: {id: \"user1\", set:{field: value}, unset:[\"field2\"]}\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>} list of updated users\n     */ function() {\n                var _partialUpdateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee27(partialUserObject) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee27$(_context27) {\n                        while(1){\n                            switch(_context27.prev = _context27.next){\n                                case 0:\n                                    _context27.next = 2;\n                                    return this.partialUpdateUsers([\n                                        partialUserObject\n                                    ]);\n                                case 2:\n                                    return _context27.abrupt(\"return\", _context27.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context27.stop();\n                            }\n                        }\n                    }, _callee27, this);\n                }));\n                function partialUpdateUser(_x29) {\n                    return _partialUpdateUser.apply(this, arguments);\n                }\n                return partialUpdateUser;\n            }()\n        },\n        {\n            key: \"upsertUsers\",\n            value: function() {\n                var _upsertUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee28(users) {\n                    var userMap, _iterator4, _step4, userObject;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee28$(_context28) {\n                        while(1){\n                            switch(_context28.prev = _context28.next){\n                                case 0:\n                                    userMap = {};\n                                    _iterator4 = _createForOfIteratorHelper(users);\n                                    _context28.prev = 2;\n                                    _iterator4.s();\n                                case 4:\n                                    if ((_step4 = _iterator4.n()).done) {\n                                        _context28.next = 11;\n                                        break;\n                                    }\n                                    userObject = _step4.value;\n                                    if (userObject.id) {\n                                        _context28.next = 8;\n                                        break;\n                                    }\n                                    throw Error(\"User ID is required when updating a user\");\n                                case 8:\n                                    userMap[userObject.id] = userObject;\n                                case 9:\n                                    _context28.next = 4;\n                                    break;\n                                case 11:\n                                    _context28.next = 16;\n                                    break;\n                                case 13:\n                                    _context28.prev = 13;\n                                    _context28.t0 = _context28[\"catch\"](2);\n                                    _iterator4.e(_context28.t0);\n                                case 16:\n                                    _context28.prev = 16;\n                                    _iterator4.f();\n                                    return _context28.finish(16);\n                                case 19:\n                                    _context28.next = 21;\n                                    return this.post(this.baseURL + \"/users\", {\n                                        users: userMap\n                                    });\n                                case 21:\n                                    return _context28.abrupt(\"return\", _context28.sent);\n                                case 22:\n                                case \"end\":\n                                    return _context28.stop();\n                            }\n                        }\n                    }, _callee28, this, [\n                        [\n                            2,\n                            13,\n                            16,\n                            19\n                        ]\n                    ]);\n                }));\n                function upsertUsers(_x30) {\n                    return _upsertUsers.apply(this, arguments);\n                }\n                return upsertUsers;\n            }()\n        },\n        {\n            key: \"upsertUser\",\n            value: /**\n     * upsertUser - Update or Create the given user object\n     *\n     * @param {UserResponse<StreamChatGenerics>} userObject user object, the only required field is the user id. IE {id: \"myuser\"} is valid\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>}\n     */ function upsertUser(userObject) {\n                return this.upsertUsers([\n                    userObject\n                ]);\n            }\n        },\n        {\n            key: \"partialUpdateUsers\",\n            value: /**\n     * partialUpdateUsers - Batch partial update of users\n     *\n     * @param {PartialUserUpdate<StreamChatGenerics>[]} users list of partial update requests\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>}\n     */ function() {\n                var _partialUpdateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee29(users) {\n                    var _iterator5, _step5, userObject;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee29$(_context29) {\n                        while(1){\n                            switch(_context29.prev = _context29.next){\n                                case 0:\n                                    _iterator5 = _createForOfIteratorHelper(users);\n                                    _context29.prev = 1;\n                                    _iterator5.s();\n                                case 3:\n                                    if ((_step5 = _iterator5.n()).done) {\n                                        _context29.next = 9;\n                                        break;\n                                    }\n                                    userObject = _step5.value;\n                                    if (userObject.id) {\n                                        _context29.next = 7;\n                                        break;\n                                    }\n                                    throw Error(\"User ID is required when updating a user\");\n                                case 7:\n                                    _context29.next = 3;\n                                    break;\n                                case 9:\n                                    _context29.next = 14;\n                                    break;\n                                case 11:\n                                    _context29.prev = 11;\n                                    _context29.t0 = _context29[\"catch\"](1);\n                                    _iterator5.e(_context29.t0);\n                                case 14:\n                                    _context29.prev = 14;\n                                    _iterator5.f();\n                                    return _context29.finish(14);\n                                case 17:\n                                    _context29.next = 19;\n                                    return this.patch(this.baseURL + \"/users\", {\n                                        users: users\n                                    });\n                                case 19:\n                                    return _context29.abrupt(\"return\", _context29.sent);\n                                case 20:\n                                case \"end\":\n                                    return _context29.stop();\n                            }\n                        }\n                    }, _callee29, this, [\n                        [\n                            1,\n                            11,\n                            14,\n                            17\n                        ]\n                    ]);\n                }));\n                function partialUpdateUsers(_x31) {\n                    return _partialUpdateUsers.apply(this, arguments);\n                }\n                return partialUpdateUsers;\n            }()\n        },\n        {\n            key: \"deleteUser\",\n            value: function() {\n                var _deleteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee30(userID, params) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee30$(_context30) {\n                        while(1){\n                            switch(_context30.prev = _context30.next){\n                                case 0:\n                                    _context30.next = 2;\n                                    return this.delete(this.baseURL + \"/users/\".concat(userID), params);\n                                case 2:\n                                    return _context30.abrupt(\"return\", _context30.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context30.stop();\n                            }\n                        }\n                    }, _callee30, this);\n                }));\n                function deleteUser(_x32, _x33) {\n                    return _deleteUser.apply(this, arguments);\n                }\n                return deleteUser;\n            }()\n        },\n        {\n            key: \"restoreUsers\",\n            value: function() {\n                var _restoreUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee31(user_ids) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee31$(_context31) {\n                        while(1){\n                            switch(_context31.prev = _context31.next){\n                                case 0:\n                                    _context31.next = 2;\n                                    return this.post(this.baseURL + \"/users/restore\", {\n                                        user_ids: user_ids\n                                    });\n                                case 2:\n                                    return _context31.abrupt(\"return\", _context31.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context31.stop();\n                            }\n                        }\n                    }, _callee31, this);\n                }));\n                function restoreUsers(_x34) {\n                    return _restoreUsers.apply(this, arguments);\n                }\n                return restoreUsers;\n            }()\n        },\n        {\n            key: \"reactivateUser\",\n            value: function() {\n                var _reactivateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee32(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee32$(_context32) {\n                        while(1){\n                            switch(_context32.prev = _context32.next){\n                                case 0:\n                                    _context32.next = 2;\n                                    return this.post(this.baseURL + \"/users/\".concat(userID, \"/reactivate\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context32.abrupt(\"return\", _context32.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context32.stop();\n                            }\n                        }\n                    }, _callee32, this);\n                }));\n                function reactivateUser(_x35, _x36) {\n                    return _reactivateUser.apply(this, arguments);\n                }\n                return reactivateUser;\n            }()\n        },\n        {\n            key: \"reactivateUsers\",\n            value: function() {\n                var _reactivateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee33(user_ids, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee33$(_context33) {\n                        while(1){\n                            switch(_context33.prev = _context33.next){\n                                case 0:\n                                    _context33.next = 2;\n                                    return this.post(this.baseURL + \"/users/reactivate\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 2:\n                                    return _context33.abrupt(\"return\", _context33.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context33.stop();\n                            }\n                        }\n                    }, _callee33, this);\n                }));\n                function reactivateUsers(_x37, _x38) {\n                    return _reactivateUsers.apply(this, arguments);\n                }\n                return reactivateUsers;\n            }()\n        },\n        {\n            key: \"deactivateUser\",\n            value: function() {\n                var _deactivateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee34(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee34$(_context34) {\n                        while(1){\n                            switch(_context34.prev = _context34.next){\n                                case 0:\n                                    _context34.next = 2;\n                                    return this.post(this.baseURL + \"/users/\".concat(userID, \"/deactivate\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context34.abrupt(\"return\", _context34.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context34.stop();\n                            }\n                        }\n                    }, _callee34, this);\n                }));\n                function deactivateUser(_x39, _x40) {\n                    return _deactivateUser.apply(this, arguments);\n                }\n                return deactivateUser;\n            }()\n        },\n        {\n            key: \"deactivateUsers\",\n            value: function() {\n                var _deactivateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee35(user_ids, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee35$(_context35) {\n                        while(1){\n                            switch(_context35.prev = _context35.next){\n                                case 0:\n                                    _context35.next = 2;\n                                    return this.post(this.baseURL + \"/users/deactivate\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 2:\n                                    return _context35.abrupt(\"return\", _context35.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context35.stop();\n                            }\n                        }\n                    }, _callee35, this);\n                }));\n                function deactivateUsers(_x41, _x42) {\n                    return _deactivateUsers.apply(this, arguments);\n                }\n                return deactivateUsers;\n            }()\n        },\n        {\n            key: \"exportUser\",\n            value: function() {\n                var _exportUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee36(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee36$(_context36) {\n                        while(1){\n                            switch(_context36.prev = _context36.next){\n                                case 0:\n                                    _context36.next = 2;\n                                    return this.get(this.baseURL + \"/users/\".concat(userID, \"/export\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context36.abrupt(\"return\", _context36.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context36.stop();\n                            }\n                        }\n                    }, _callee36, this);\n                }));\n                function exportUser(_x43, _x44) {\n                    return _exportUser.apply(this, arguments);\n                }\n                return exportUser;\n            }()\n        },\n        {\n            key: \"banUser\",\n            value: function() {\n                var _banUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee37(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee37$(_context37) {\n                        while(1){\n                            switch(_context37.prev = _context37.next){\n                                case 0:\n                                    _context37.next = 2;\n                                    return this.post(this.baseURL + \"/moderation/ban\", _objectSpread({\n                                        target_user_id: targetUserID\n                                    }, options));\n                                case 2:\n                                    return _context37.abrupt(\"return\", _context37.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context37.stop();\n                            }\n                        }\n                    }, _callee37, this);\n                }));\n                function banUser(_x45, _x46) {\n                    return _banUser.apply(this, arguments);\n                }\n                return banUser;\n            }()\n        },\n        {\n            key: \"unbanUser\",\n            value: function() {\n                var _unbanUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee38(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee38$(_context38) {\n                        while(1){\n                            switch(_context38.prev = _context38.next){\n                                case 0:\n                                    _context38.next = 2;\n                                    return this.delete(this.baseURL + \"/moderation/ban\", _objectSpread({\n                                        target_user_id: targetUserID\n                                    }, options));\n                                case 2:\n                                    return _context38.abrupt(\"return\", _context38.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context38.stop();\n                            }\n                        }\n                    }, _callee38, this);\n                }));\n                function unbanUser(_x47, _x48) {\n                    return _unbanUser.apply(this, arguments);\n                }\n                return unbanUser;\n            }()\n        },\n        {\n            key: \"shadowBan\",\n            value: function() {\n                var _shadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee39(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee39$(_context39) {\n                        while(1){\n                            switch(_context39.prev = _context39.next){\n                                case 0:\n                                    _context39.next = 2;\n                                    return this.banUser(targetUserID, _objectSpread({\n                                        shadow: true\n                                    }, options));\n                                case 2:\n                                    return _context39.abrupt(\"return\", _context39.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context39.stop();\n                            }\n                        }\n                    }, _callee39, this);\n                }));\n                function shadowBan(_x49, _x50) {\n                    return _shadowBan.apply(this, arguments);\n                }\n                return shadowBan;\n            }()\n        },\n        {\n            key: \"removeShadowBan\",\n            value: function() {\n                var _removeShadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee40(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee40$(_context40) {\n                        while(1){\n                            switch(_context40.prev = _context40.next){\n                                case 0:\n                                    _context40.next = 2;\n                                    return this.unbanUser(targetUserID, _objectSpread({\n                                        shadow: true\n                                    }, options));\n                                case 2:\n                                    return _context40.abrupt(\"return\", _context40.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context40.stop();\n                            }\n                        }\n                    }, _callee40, this);\n                }));\n                function removeShadowBan(_x51, _x52) {\n                    return _removeShadowBan.apply(this, arguments);\n                }\n                return removeShadowBan;\n            }()\n        },\n        {\n            key: \"muteUser\",\n            value: function() {\n                var _muteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee41(targetID, userID) {\n                    var options, _args41 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee41$(_context41) {\n                        while(1){\n                            switch(_context41.prev = _context41.next){\n                                case 0:\n                                    options = _args41.length > 2 && _args41[2] !== undefined ? _args41[2] : {};\n                                    _context41.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/mute\", _objectSpread(_objectSpread({\n                                        target_id: targetID\n                                    }, userID ? {\n                                        user_id: userID\n                                    } : {}), options));\n                                case 3:\n                                    return _context41.abrupt(\"return\", _context41.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context41.stop();\n                            }\n                        }\n                    }, _callee41, this);\n                }));\n                function muteUser(_x53, _x54) {\n                    return _muteUser.apply(this, arguments);\n                }\n                return muteUser;\n            }()\n        },\n        {\n            key: \"unmuteUser\",\n            value: function() {\n                var _unmuteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee42(targetID, currentUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee42$(_context42) {\n                        while(1){\n                            switch(_context42.prev = _context42.next){\n                                case 0:\n                                    _context42.next = 2;\n                                    return this.post(this.baseURL + \"/moderation/unmute\", _objectSpread({\n                                        target_id: targetID\n                                    }, currentUserID ? {\n                                        user_id: currentUserID\n                                    } : {}));\n                                case 2:\n                                    return _context42.abrupt(\"return\", _context42.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context42.stop();\n                            }\n                        }\n                    }, _callee42, this);\n                }));\n                function unmuteUser(_x55, _x56) {\n                    return _unmuteUser.apply(this, arguments);\n                }\n                return unmuteUser;\n            }()\n        },\n        {\n            key: \"userMuteStatus\",\n            value: function userMuteStatus(targetID) {\n                if (!this.user || !this.wsPromise) {\n                    throw new Error(\"Make sure to await connectUser() first.\");\n                }\n                for(var i = 0; i < this.mutedUsers.length; i += 1){\n                    if (this.mutedUsers[i].target.id === targetID) return true;\n                }\n                return false;\n            }\n        },\n        {\n            key: \"flagMessage\",\n            value: function() {\n                var _flagMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee43(targetMessageID) {\n                    var options, _args43 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee43$(_context43) {\n                        while(1){\n                            switch(_context43.prev = _context43.next){\n                                case 0:\n                                    options = _args43.length > 1 && _args43[1] !== undefined ? _args43[1] : {};\n                                    _context43.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/flag\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context43.abrupt(\"return\", _context43.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context43.stop();\n                            }\n                        }\n                    }, _callee43, this);\n                }));\n                function flagMessage(_x57) {\n                    return _flagMessage.apply(this, arguments);\n                }\n                return flagMessage;\n            }()\n        },\n        {\n            key: \"flagUser\",\n            value: function() {\n                var _flagUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee44(targetID) {\n                    var options, _args44 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee44$(_context44) {\n                        while(1){\n                            switch(_context44.prev = _context44.next){\n                                case 0:\n                                    options = _args44.length > 1 && _args44[1] !== undefined ? _args44[1] : {};\n                                    _context44.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/flag\", _objectSpread({\n                                        target_user_id: targetID\n                                    }, options));\n                                case 3:\n                                    return _context44.abrupt(\"return\", _context44.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context44.stop();\n                            }\n                        }\n                    }, _callee44, this);\n                }));\n                function flagUser(_x58) {\n                    return _flagUser.apply(this, arguments);\n                }\n                return flagUser;\n            }()\n        },\n        {\n            key: \"unflagMessage\",\n            value: function() {\n                var _unflagMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee45(targetMessageID) {\n                    var options, _args45 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee45$(_context45) {\n                        while(1){\n                            switch(_context45.prev = _context45.next){\n                                case 0:\n                                    options = _args45.length > 1 && _args45[1] !== undefined ? _args45[1] : {};\n                                    _context45.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unflag\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context45.abrupt(\"return\", _context45.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context45.stop();\n                            }\n                        }\n                    }, _callee45, this);\n                }));\n                function unflagMessage(_x59) {\n                    return _unflagMessage.apply(this, arguments);\n                }\n                return unflagMessage;\n            }()\n        },\n        {\n            key: \"unflagUser\",\n            value: function() {\n                var _unflagUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee46(targetID) {\n                    var options, _args46 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee46$(_context46) {\n                        while(1){\n                            switch(_context46.prev = _context46.next){\n                                case 0:\n                                    options = _args46.length > 1 && _args46[1] !== undefined ? _args46[1] : {};\n                                    _context46.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unflag\", _objectSpread({\n                                        target_user_id: targetID\n                                    }, options));\n                                case 3:\n                                    return _context46.abrupt(\"return\", _context46.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context46.stop();\n                            }\n                        }\n                    }, _callee46, this);\n                }));\n                function unflagUser(_x60) {\n                    return _unflagUser.apply(this, arguments);\n                }\n                return unflagUser;\n            }()\n        },\n        {\n            key: \"getCallToken\",\n            value: function() {\n                var _getCallToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee47(callID) {\n                    var options, _args47 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee47$(_context47) {\n                        while(1){\n                            switch(_context47.prev = _context47.next){\n                                case 0:\n                                    options = _args47.length > 1 && _args47[1] !== undefined ? _args47[1] : {};\n                                    _context47.next = 3;\n                                    return this.post(this.baseURL + \"/calls/\".concat(callID), _objectSpread({}, options));\n                                case 3:\n                                    return _context47.abrupt(\"return\", _context47.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context47.stop();\n                            }\n                        }\n                    }, _callee47, this);\n                }));\n                function getCallToken(_x61) {\n                    return _getCallToken.apply(this, arguments);\n                }\n                return getCallToken;\n            }()\n        },\n        {\n            key: \"_queryFlags\",\n            value: function() {\n                var _queryFlags2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee48() {\n                    var filterConditions, options, _args48 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee48$(_context48) {\n                        while(1){\n                            switch(_context48.prev = _context48.next){\n                                case 0:\n                                    filterConditions = _args48.length > 0 && _args48[0] !== undefined ? _args48[0] : {};\n                                    options = _args48.length > 1 && _args48[1] !== undefined ? _args48[1] : {};\n                                    _context48.next = 4;\n                                    return this.post(this.baseURL + \"/moderation/flags\", _objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options));\n                                case 4:\n                                    return _context48.abrupt(\"return\", _context48.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context48.stop();\n                            }\n                        }\n                    }, _callee48, this);\n                }));\n                function _queryFlags() {\n                    return _queryFlags2.apply(this, arguments);\n                }\n                return _queryFlags;\n            }()\n        },\n        {\n            key: \"_queryFlagReports\",\n            value: function() {\n                var _queryFlagReports2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee49() {\n                    var filterConditions, options, _args49 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee49$(_context49) {\n                        while(1){\n                            switch(_context49.prev = _context49.next){\n                                case 0:\n                                    filterConditions = _args49.length > 0 && _args49[0] !== undefined ? _args49[0] : {};\n                                    options = _args49.length > 1 && _args49[1] !== undefined ? _args49[1] : {};\n                                    _context49.next = 4;\n                                    return this.post(this.baseURL + \"/moderation/reports\", _objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options));\n                                case 4:\n                                    return _context49.abrupt(\"return\", _context49.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context49.stop();\n                            }\n                        }\n                    }, _callee49, this);\n                }));\n                function _queryFlagReports() {\n                    return _queryFlagReports2.apply(this, arguments);\n                }\n                return _queryFlagReports;\n            }()\n        },\n        {\n            key: \"_reviewFlagReport\",\n            value: function() {\n                var _reviewFlagReport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee50(id, reviewResult) {\n                    var options, _args50 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee50$(_context50) {\n                        while(1){\n                            switch(_context50.prev = _context50.next){\n                                case 0:\n                                    options = _args50.length > 2 && _args50[2] !== undefined ? _args50[2] : {};\n                                    _context50.next = 3;\n                                    return this.patch(this.baseURL + \"/moderation/reports/\".concat(id), _objectSpread({\n                                        review_result: reviewResult\n                                    }, options));\n                                case 3:\n                                    return _context50.abrupt(\"return\", _context50.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context50.stop();\n                            }\n                        }\n                    }, _callee50, this);\n                }));\n                function _reviewFlagReport(_x62, _x63) {\n                    return _reviewFlagReport2.apply(this, arguments);\n                }\n                return _reviewFlagReport;\n            }()\n        },\n        {\n            key: \"unblockMessage\",\n            value: function() {\n                var _unblockMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee51(targetMessageID) {\n                    var options, _args51 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee51$(_context51) {\n                        while(1){\n                            switch(_context51.prev = _context51.next){\n                                case 0:\n                                    options = _args51.length > 1 && _args51[1] !== undefined ? _args51[1] : {};\n                                    _context51.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unblock_message\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context51.abrupt(\"return\", _context51.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context51.stop();\n                            }\n                        }\n                    }, _callee51, this);\n                }));\n                function unblockMessage(_x64) {\n                    return _unblockMessage.apply(this, arguments);\n                }\n                return unblockMessage;\n            }() // alias for backwards compatibility\n        },\n        {\n            key: \"markChannelsRead\",\n            value: /**\n     * markChannelsRead - marks channels read -\n     * it accepts a map of cid:messageid pairs, if messageid is empty, the whole channel will be marked as read\n     *\n     * @param {MarkChannelsReadOptions <StreamChatGenerics>} [data]\n     *\n     * @return {Promise<APIResponse>}\n     */ function() {\n                var _markChannelsRead = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee52() {\n                    var data, _args52 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee52$(_context52) {\n                        while(1){\n                            switch(_context52.prev = _context52.next){\n                                case 0:\n                                    data = _args52.length > 0 && _args52[0] !== undefined ? _args52[0] : {};\n                                    _context52.next = 3;\n                                    return this.post(this.baseURL + \"/channels/read\", _objectSpread({}, data));\n                                case 3:\n                                case \"end\":\n                                    return _context52.stop();\n                            }\n                        }\n                    }, _callee52, this);\n                }));\n                function markChannelsRead() {\n                    return _markChannelsRead.apply(this, arguments);\n                }\n                return markChannelsRead;\n            }()\n        },\n        {\n            key: \"createCommand\",\n            value: function createCommand(data) {\n                return this.post(this.baseURL + \"/commands\", data);\n            }\n        },\n        {\n            key: \"getCommand\",\n            value: function getCommand(name) {\n                return this.get(this.baseURL + \"/commands/\".concat(name));\n            }\n        },\n        {\n            key: \"updateCommand\",\n            value: function updateCommand(name, data) {\n                return this.put(this.baseURL + \"/commands/\".concat(name), data);\n            }\n        },\n        {\n            key: \"deleteCommand\",\n            value: function deleteCommand(name) {\n                return this.delete(this.baseURL + \"/commands/\".concat(name));\n            }\n        },\n        {\n            key: \"listCommands\",\n            value: function listCommands() {\n                return this.get(this.baseURL + \"/commands\");\n            }\n        },\n        {\n            key: \"createChannelType\",\n            value: function createChannelType(data) {\n                var channelData = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, {\n                    commands: [\n                        \"all\"\n                    ]\n                }, data);\n                return this.post(this.baseURL + \"/channeltypes\", channelData);\n            }\n        },\n        {\n            key: \"getChannelType\",\n            value: function getChannelType(channelType) {\n                return this.get(this.baseURL + \"/channeltypes/\".concat(channelType));\n            }\n        },\n        {\n            key: \"updateChannelType\",\n            value: function updateChannelType(channelType, data) {\n                return this.put(this.baseURL + \"/channeltypes/\".concat(channelType), data);\n            }\n        },\n        {\n            key: \"deleteChannelType\",\n            value: function deleteChannelType(channelType) {\n                return this.delete(this.baseURL + \"/channeltypes/\".concat(channelType));\n            }\n        },\n        {\n            key: \"listChannelTypes\",\n            value: function listChannelTypes() {\n                return this.get(this.baseURL + \"/channeltypes\");\n            }\n        },\n        {\n            key: \"translateMessage\",\n            value: function() {\n                var _translateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee53(messageId, language) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee53$(_context53) {\n                        while(1){\n                            switch(_context53.prev = _context53.next){\n                                case 0:\n                                    _context53.next = 2;\n                                    return this.post(this.baseURL + \"/messages/\".concat(messageId, \"/translate\"), {\n                                        language: language\n                                    });\n                                case 2:\n                                    return _context53.abrupt(\"return\", _context53.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context53.stop();\n                            }\n                        }\n                    }, _callee53, this);\n                }));\n                function translateMessage(_x65, _x66) {\n                    return _translateMessage.apply(this, arguments);\n                }\n                return translateMessage;\n            }()\n        },\n        {\n            key: \"_normalizeExpiration\",\n            value: function _normalizeExpiration(timeoutOrExpirationDate) {\n                var pinExpires = null;\n                if (typeof timeoutOrExpirationDate === \"number\") {\n                    var now = new Date();\n                    now.setSeconds(now.getSeconds() + timeoutOrExpirationDate);\n                    pinExpires = now.toISOString();\n                } else if (isString(timeoutOrExpirationDate)) {\n                    pinExpires = timeoutOrExpirationDate;\n                } else if (timeoutOrExpirationDate instanceof Date) {\n                    pinExpires = timeoutOrExpirationDate.toISOString();\n                }\n                return pinExpires;\n            }\n        },\n        {\n            key: \"_validateAndGetMessageId\",\n            value: function _validateAndGetMessageId(messageOrMessageId, errorText) {\n                var messageId;\n                if (typeof messageOrMessageId === \"string\") {\n                    messageId = messageOrMessageId;\n                } else {\n                    if (!messageOrMessageId.id) {\n                        throw Error(errorText);\n                    }\n                    messageId = messageOrMessageId.id;\n                }\n                return messageId;\n            }\n        },\n        {\n            key: \"pinMessage\",\n            value: function pinMessage(messageOrMessageId, timeoutOrExpirationDate, pinnedBy, pinnedAt) {\n                var messageId = this._validateAndGetMessageId(messageOrMessageId, \"Please specify the message id when calling unpinMessage\");\n                return this.partialUpdateMessage(messageId, {\n                    set: {\n                        pinned: true,\n                        pin_expires: this._normalizeExpiration(timeoutOrExpirationDate),\n                        pinned_at: this._normalizeExpiration(pinnedAt)\n                    }\n                }, pinnedBy);\n            }\n        },\n        {\n            key: \"unpinMessage\",\n            value: function unpinMessage(messageOrMessageId, userId) {\n                var messageId = this._validateAndGetMessageId(messageOrMessageId, \"Please specify the message id when calling unpinMessage\");\n                return this.partialUpdateMessage(messageId, {\n                    set: {\n                        pinned: false\n                    }\n                }, userId);\n            }\n        },\n        {\n            key: \"updateMessage\",\n            value: function() {\n                var _updateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee54(message, userId, options) {\n                    var clonedMessage, reservedMessageFields;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee54$(_context54) {\n                        while(1){\n                            switch(_context54.prev = _context54.next){\n                                case 0:\n                                    if (message.id) {\n                                        _context54.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling updateMessage\");\n                                case 2:\n                                    clonedMessage = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, message);\n                                    delete clonedMessage.id;\n                                    reservedMessageFields = [\n                                        \"command\",\n                                        \"created_at\",\n                                        \"html\",\n                                        \"latest_reactions\",\n                                        \"own_reactions\",\n                                        \"quoted_message\",\n                                        \"reaction_counts\",\n                                        \"reply_count\",\n                                        \"type\",\n                                        \"updated_at\",\n                                        \"user\",\n                                        \"__html\"\n                                    ];\n                                    reservedMessageFields.forEach(function(item) {\n                                        if (clonedMessage[item] != null) {\n                                            delete clonedMessage[item];\n                                        }\n                                    });\n                                    if (userId != null) {\n                                        if (isString(userId)) {\n                                            clonedMessage.user_id = userId;\n                                        } else {\n                                            clonedMessage.user = {\n                                                id: userId.id\n                                            };\n                                        }\n                                    }\n                                    /**\n                 * Server always expects mentioned_users to be array of string. We are adding extra check, just in case\n                 * SDK missed this conversion.\n                 */ if (Array.isArray(clonedMessage.mentioned_users) && !isString(clonedMessage.mentioned_users[0])) {\n                                        clonedMessage.mentioned_users = clonedMessage.mentioned_users.map(function(mu) {\n                                            return mu.id;\n                                        });\n                                    }\n                                    _context54.next = 10;\n                                    return this.post(this.baseURL + \"/messages/\".concat(message.id), _objectSpread({\n                                        message: clonedMessage\n                                    }, options));\n                                case 10:\n                                    return _context54.abrupt(\"return\", _context54.sent);\n                                case 11:\n                                case \"end\":\n                                    return _context54.stop();\n                            }\n                        }\n                    }, _callee54, this);\n                }));\n                function updateMessage(_x67, _x68, _x69) {\n                    return _updateMessage.apply(this, arguments);\n                }\n                return updateMessage;\n            }()\n        },\n        {\n            key: \"partialUpdateMessage\",\n            value: function() {\n                var _partialUpdateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee55(id, partialMessageObject, userId, options) {\n                    var user;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee55$(_context55) {\n                        while(1){\n                            switch(_context55.prev = _context55.next){\n                                case 0:\n                                    if (id) {\n                                        _context55.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling partialUpdateMessage\");\n                                case 2:\n                                    user = userId;\n                                    if (userId != null && isString(userId)) {\n                                        user = {\n                                            id: userId\n                                        };\n                                    }\n                                    _context55.next = 6;\n                                    return this.put(this.baseURL + \"/messages/\".concat(id), _objectSpread(_objectSpread(_objectSpread({}, partialMessageObject), options), {}, {\n                                        user: user\n                                    }));\n                                case 6:\n                                    return _context55.abrupt(\"return\", _context55.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context55.stop();\n                            }\n                        }\n                    }, _callee55, this);\n                }));\n                function partialUpdateMessage(_x70, _x71, _x72, _x73) {\n                    return _partialUpdateMessage.apply(this, arguments);\n                }\n                return partialUpdateMessage;\n            }()\n        },\n        {\n            key: \"deleteMessage\",\n            value: function() {\n                var _deleteMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee56(messageID, hardDelete) {\n                    var params;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee56$(_context56) {\n                        while(1){\n                            switch(_context56.prev = _context56.next){\n                                case 0:\n                                    params = {};\n                                    if (hardDelete) {\n                                        params = {\n                                            hard: true\n                                        };\n                                    }\n                                    _context56.next = 4;\n                                    return this.delete(this.baseURL + \"/messages/\".concat(messageID), params);\n                                case 4:\n                                    return _context56.abrupt(\"return\", _context56.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context56.stop();\n                            }\n                        }\n                    }, _callee56, this);\n                }));\n                function deleteMessage(_x74, _x75) {\n                    return _deleteMessage.apply(this, arguments);\n                }\n                return deleteMessage;\n            }()\n        },\n        {\n            key: \"getMessage\",\n            value: function() {\n                var _getMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee57(messageID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee57$(_context57) {\n                        while(1){\n                            switch(_context57.prev = _context57.next){\n                                case 0:\n                                    _context57.next = 2;\n                                    return this.get(this.baseURL + \"/messages/\".concat(encodeURIComponent(messageID)));\n                                case 2:\n                                    return _context57.abrupt(\"return\", _context57.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context57.stop();\n                            }\n                        }\n                    }, _callee57, this);\n                }));\n                function getMessage(_x76) {\n                    return _getMessage.apply(this, arguments);\n                }\n                return getMessage;\n            }()\n        },\n        {\n            key: \"getUserAgent\",\n            value: function getUserAgent() {\n                return this.userAgent || \"stream-chat-javascript-client-\".concat(this.node ? \"node\" : \"browser\", \"-\", \"8.14.5\");\n            }\n        },\n        {\n            key: \"setUserAgent\",\n            value: function setUserAgent(userAgent) {\n                this.userAgent = userAgent;\n            }\n        },\n        {\n            key: \"_enrichAxiosOptions\",\n            value: function _enrichAxiosOptions() {\n                var _options$headers;\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n                    params: {},\n                    headers: {},\n                    config: {}\n                };\n                var token = this._getToken();\n                var authorization = token ? {\n                    Authorization: token\n                } : undefined;\n                var signal = null;\n                if (this.nextRequestAbortController !== null) {\n                    signal = this.nextRequestAbortController.signal;\n                    this.nextRequestAbortController = null;\n                }\n                if (!((_options$headers = options.headers) !== null && _options$headers !== void 0 && _options$headers[\"x-client-request-id\"])) {\n                    options.headers = _objectSpread(_objectSpread({}, options.headers), {}, {\n                        \"x-client-request-id\": randomId()\n                    });\n                }\n                var _ref9 = this.options.axiosRequestConfig || {}, axiosRequestConfigParams = _ref9.params, axiosRequestConfigHeaders = _ref9.headers, axiosRequestConfigRest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref9, _excluded2);\n                return _objectSpread(_objectSpread(_objectSpread({\n                    params: _objectSpread(_objectSpread({\n                        user_id: this.userID,\n                        connection_id: this._getConnectionID(),\n                        api_key: this.key\n                    }, options.params), axiosRequestConfigParams || {}),\n                    headers: _objectSpread(_objectSpread(_objectSpread({}, authorization), {}, {\n                        \"stream-auth-type\": this.getAuthType(),\n                        \"X-Stream-Client\": this.getUserAgent()\n                    }, options.headers), axiosRequestConfigHeaders || {})\n                }, signal ? {\n                    signal: signal\n                } : {}), options.config), axiosRequestConfigRest || {});\n            }\n        },\n        {\n            key: \"_getToken\",\n            value: function _getToken() {\n                if (!this.tokenManager || this.anonymous) return null;\n                return this.tokenManager.getToken();\n            }\n        },\n        {\n            key: \"_startCleaning\",\n            value: function _startCleaning() {\n                var that = this;\n                if (this.cleaningIntervalRef != null) {\n                    return;\n                }\n                this.cleaningIntervalRef = setInterval(function() {\n                    // call clean on the channel, used for calling the stop.typing event etc.\n                    for(var _i3 = 0, _Object$values2 = Object.values(that.activeChannels); _i3 < _Object$values2.length; _i3++){\n                        var _channel7 = _Object$values2[_i3];\n                        _channel7.clean();\n                    }\n                }, 500);\n            }\n        },\n        {\n            key: \"verifyWebhook\",\n            value: /**\n     * checks signature of a request\n     * @param {string | Buffer} rawBody\n     * @param {string} signature from HTTP header\n     * @returns {boolean}\n     */ function verifyWebhook(requestBody, xSignature) {\n                return !!this.secret && CheckSignature(requestBody, this.secret, xSignature);\n            }\n        },\n        {\n            key: \"getPermission\",\n            value: function getPermission(name) {\n                return this.get(\"\".concat(this.baseURL, \"/permissions/\").concat(name));\n            }\n        },\n        {\n            key: \"createPermission\",\n            value: function createPermission(permissionData) {\n                return this.post(\"\".concat(this.baseURL, \"/permissions\"), _objectSpread({}, permissionData));\n            }\n        },\n        {\n            key: \"updatePermission\",\n            value: function updatePermission(id, permissionData) {\n                return this.put(\"\".concat(this.baseURL, \"/permissions/\").concat(id), _objectSpread({}, permissionData));\n            }\n        },\n        {\n            key: \"deletePermission\",\n            value: function deletePermission(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/permissions/\").concat(name));\n            }\n        },\n        {\n            key: \"listPermissions\",\n            value: function listPermissions() {\n                return this.get(\"\".concat(this.baseURL, \"/permissions\"));\n            }\n        },\n        {\n            key: \"createRole\",\n            value: function createRole(name) {\n                return this.post(\"\".concat(this.baseURL, \"/roles\"), {\n                    name: name\n                });\n            }\n        },\n        {\n            key: \"listRoles\",\n            value: function listRoles() {\n                return this.get(\"\".concat(this.baseURL, \"/roles\"));\n            }\n        },\n        {\n            key: \"deleteRole\",\n            value: function deleteRole(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/roles/\").concat(name));\n            }\n        },\n        {\n            key: \"sync\",\n            value: function sync(channel_cids, last_sync_at) {\n                var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n                return this.post(\"\".concat(this.baseURL, \"/sync\"), _objectSpread({\n                    channel_cids: channel_cids,\n                    last_sync_at: last_sync_at\n                }, options));\n            }\n        },\n        {\n            key: \"sendUserCustomEvent\",\n            value: function() {\n                var _sendUserCustomEvent = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee58(targetUserID, event) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee58$(_context58) {\n                        while(1){\n                            switch(_context58.prev = _context58.next){\n                                case 0:\n                                    _context58.next = 2;\n                                    return this.post(\"\".concat(this.baseURL, \"/users/\").concat(targetUserID, \"/event\"), {\n                                        event: event\n                                    });\n                                case 2:\n                                    return _context58.abrupt(\"return\", _context58.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context58.stop();\n                            }\n                        }\n                    }, _callee58, this);\n                }));\n                function sendUserCustomEvent(_x77, _x78) {\n                    return _sendUserCustomEvent.apply(this, arguments);\n                }\n                return sendUserCustomEvent;\n            }()\n        },\n        {\n            key: \"createBlockList\",\n            value: function createBlockList(blockList) {\n                return this.post(\"\".concat(this.baseURL, \"/blocklists\"), blockList);\n            }\n        },\n        {\n            key: \"listBlockLists\",\n            value: function listBlockLists() {\n                return this.get(\"\".concat(this.baseURL, \"/blocklists\"));\n            }\n        },\n        {\n            key: \"getBlockList\",\n            value: function getBlockList(name) {\n                return this.get(\"\".concat(this.baseURL, \"/blocklists/\").concat(name));\n            }\n        },\n        {\n            key: \"updateBlockList\",\n            value: function updateBlockList(name, data) {\n                return this.put(\"\".concat(this.baseURL, \"/blocklists/\").concat(name), data);\n            }\n        },\n        {\n            key: \"deleteBlockList\",\n            value: function deleteBlockList(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/blocklists/\").concat(name));\n            }\n        },\n        {\n            key: \"exportChannels\",\n            value: function exportChannels(request) {\n                var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var payload = _objectSpread({\n                    channels: request\n                }, options);\n                return this.post(\"\".concat(this.baseURL, \"/export_channels\"), payload);\n            }\n        },\n        {\n            key: \"exportUsers\",\n            value: function exportUsers(request) {\n                return this.post(\"\".concat(this.baseURL, \"/export/users\"), request);\n            }\n        },\n        {\n            key: \"exportChannel\",\n            value: function exportChannel(request, options) {\n                return this.exportChannels([\n                    request\n                ], options);\n            }\n        },\n        {\n            key: \"getExportChannelStatus\",\n            value: function getExportChannelStatus(id) {\n                return this.get(\"\".concat(this.baseURL, \"/export_channels/\").concat(id));\n            }\n        },\n        {\n            key: \"createSegment\",\n            value: function() {\n                var _createSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee59(params) {\n                    var _yield$this$post, segment;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee59$(_context59) {\n                        while(1){\n                            switch(_context59.prev = _context59.next){\n                                case 0:\n                                    _context59.next = 2;\n                                    return this.post(this.baseURL + \"/segments\", {\n                                        segment: params\n                                    });\n                                case 2:\n                                    _yield$this$post = _context59.sent;\n                                    segment = _yield$this$post.segment;\n                                    return _context59.abrupt(\"return\", segment);\n                                case 5:\n                                case \"end\":\n                                    return _context59.stop();\n                            }\n                        }\n                    }, _callee59, this);\n                }));\n                function createSegment(_x79) {\n                    return _createSegment.apply(this, arguments);\n                }\n                return createSegment;\n            }()\n        },\n        {\n            key: \"querySegments\",\n            value: function() {\n                var _querySegments = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee60(filters) {\n                    var options, _args60 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee60$(_context60) {\n                        while(1){\n                            switch(_context60.prev = _context60.next){\n                                case 0:\n                                    options = _args60.length > 1 && _args60[1] !== undefined ? _args60[1] : {};\n                                    _context60.next = 3;\n                                    return this.get(this.baseURL + \"/segments\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filters\n                                        }, options)\n                                    });\n                                case 3:\n                                    return _context60.abrupt(\"return\", _context60.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context60.stop();\n                            }\n                        }\n                    }, _callee60, this);\n                }));\n                function querySegments(_x80) {\n                    return _querySegments.apply(this, arguments);\n                }\n                return querySegments;\n            }()\n        },\n        {\n            key: \"updateSegment\",\n            value: function() {\n                var _updateSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee61(id, params) {\n                    var _yield$this$put, segment;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee61$(_context61) {\n                        while(1){\n                            switch(_context61.prev = _context61.next){\n                                case 0:\n                                    _context61.next = 2;\n                                    return this.put(this.baseURL + \"/segments/\".concat(id), {\n                                        segment: params\n                                    });\n                                case 2:\n                                    _yield$this$put = _context61.sent;\n                                    segment = _yield$this$put.segment;\n                                    return _context61.abrupt(\"return\", segment);\n                                case 5:\n                                case \"end\":\n                                    return _context61.stop();\n                            }\n                        }\n                    }, _callee61, this);\n                }));\n                function updateSegment(_x81, _x82) {\n                    return _updateSegment.apply(this, arguments);\n                }\n                return updateSegment;\n            }()\n        },\n        {\n            key: \"deleteSegment\",\n            value: function() {\n                var _deleteSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee62(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee62$(_context62) {\n                        while(1){\n                            switch(_context62.prev = _context62.next){\n                                case 0:\n                                    return _context62.abrupt(\"return\", this.delete(this.baseURL + \"/segments/\".concat(id)));\n                                case 1:\n                                case \"end\":\n                                    return _context62.stop();\n                            }\n                        }\n                    }, _callee62, this);\n                }));\n                function deleteSegment(_x83) {\n                    return _deleteSegment.apply(this, arguments);\n                }\n                return deleteSegment;\n            }()\n        },\n        {\n            key: \"createCampaign\",\n            value: function() {\n                var _createCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee63(params) {\n                    var _yield$this$post2, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee63$(_context63) {\n                        while(1){\n                            switch(_context63.prev = _context63.next){\n                                case 0:\n                                    _context63.next = 2;\n                                    return this.post(this.baseURL + \"/campaigns\", {\n                                        campaign: params\n                                    });\n                                case 2:\n                                    _yield$this$post2 = _context63.sent;\n                                    campaign = _yield$this$post2.campaign;\n                                    return _context63.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context63.stop();\n                            }\n                        }\n                    }, _callee63, this);\n                }));\n                function createCampaign(_x84) {\n                    return _createCampaign.apply(this, arguments);\n                }\n                return createCampaign;\n            }()\n        },\n        {\n            key: \"queryCampaigns\",\n            value: function() {\n                var _queryCampaigns = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee64(filters) {\n                    var options, _args64 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee64$(_context64) {\n                        while(1){\n                            switch(_context64.prev = _context64.next){\n                                case 0:\n                                    options = _args64.length > 1 && _args64[1] !== undefined ? _args64[1] : {};\n                                    _context64.next = 3;\n                                    return this.get(this.baseURL + \"/campaigns\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filters\n                                        }, options)\n                                    });\n                                case 3:\n                                    return _context64.abrupt(\"return\", _context64.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context64.stop();\n                            }\n                        }\n                    }, _callee64, this);\n                }));\n                function queryCampaigns(_x85) {\n                    return _queryCampaigns.apply(this, arguments);\n                }\n                return queryCampaigns;\n            }()\n        },\n        {\n            key: \"updateCampaign\",\n            value: function() {\n                var _updateCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee65(id, params) {\n                    var _yield$this$put2, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee65$(_context65) {\n                        while(1){\n                            switch(_context65.prev = _context65.next){\n                                case 0:\n                                    _context65.next = 2;\n                                    return this.put(this.baseURL + \"/campaigns/\".concat(id), {\n                                        campaign: params\n                                    });\n                                case 2:\n                                    _yield$this$put2 = _context65.sent;\n                                    campaign = _yield$this$put2.campaign;\n                                    return _context65.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context65.stop();\n                            }\n                        }\n                    }, _callee65, this);\n                }));\n                function updateCampaign(_x86, _x87) {\n                    return _updateCampaign.apply(this, arguments);\n                }\n                return updateCampaign;\n            }()\n        },\n        {\n            key: \"deleteCampaign\",\n            value: function() {\n                var _deleteCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee66(id) {\n                    var params, _args66 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee66$(_context66) {\n                        while(1){\n                            switch(_context66.prev = _context66.next){\n                                case 0:\n                                    params = _args66.length > 1 && _args66[1] !== undefined ? _args66[1] : {};\n                                    return _context66.abrupt(\"return\", this.delete(this.baseURL + \"/campaigns/\".concat(id), params));\n                                case 2:\n                                case \"end\":\n                                    return _context66.stop();\n                            }\n                        }\n                    }, _callee66, this);\n                }));\n                function deleteCampaign(_x88) {\n                    return _deleteCampaign.apply(this, arguments);\n                }\n                return deleteCampaign;\n            }()\n        },\n        {\n            key: \"scheduleCampaign\",\n            value: function() {\n                var _scheduleCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee67(id, params) {\n                    var scheduledFor, _yield$this$patch, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee67$(_context67) {\n                        while(1){\n                            switch(_context67.prev = _context67.next){\n                                case 0:\n                                    scheduledFor = params.scheduledFor;\n                                    _context67.next = 3;\n                                    return this.patch(this.baseURL + \"/campaigns/\".concat(id, \"/schedule\"), {\n                                        scheduled_for: scheduledFor\n                                    });\n                                case 3:\n                                    _yield$this$patch = _context67.sent;\n                                    campaign = _yield$this$patch.campaign;\n                                    return _context67.abrupt(\"return\", campaign);\n                                case 6:\n                                case \"end\":\n                                    return _context67.stop();\n                            }\n                        }\n                    }, _callee67, this);\n                }));\n                function scheduleCampaign(_x89, _x90) {\n                    return _scheduleCampaign.apply(this, arguments);\n                }\n                return scheduleCampaign;\n            }()\n        },\n        {\n            key: \"stopCampaign\",\n            value: function() {\n                var _stopCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee68(id) {\n                    var _yield$this$patch2, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee68$(_context68) {\n                        while(1){\n                            switch(_context68.prev = _context68.next){\n                                case 0:\n                                    _context68.next = 2;\n                                    return this.patch(this.baseURL + \"/campaigns/\".concat(id, \"/stop\"));\n                                case 2:\n                                    _yield$this$patch2 = _context68.sent;\n                                    campaign = _yield$this$patch2.campaign;\n                                    return _context68.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context68.stop();\n                            }\n                        }\n                    }, _callee68, this);\n                }));\n                function stopCampaign(_x91) {\n                    return _stopCampaign.apply(this, arguments);\n                }\n                return stopCampaign;\n            }()\n        },\n        {\n            key: \"resumeCampaign\",\n            value: function() {\n                var _resumeCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee69(id) {\n                    var _yield$this$patch3, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee69$(_context69) {\n                        while(1){\n                            switch(_context69.prev = _context69.next){\n                                case 0:\n                                    _context69.next = 2;\n                                    return this.patch(this.baseURL + \"/campaigns/\".concat(id, \"/resume\"));\n                                case 2:\n                                    _yield$this$patch3 = _context69.sent;\n                                    campaign = _yield$this$patch3.campaign;\n                                    return _context69.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context69.stop();\n                            }\n                        }\n                    }, _callee69, this);\n                }));\n                function resumeCampaign(_x92) {\n                    return _resumeCampaign.apply(this, arguments);\n                }\n                return resumeCampaign;\n            }()\n        },\n        {\n            key: \"testCampaign\",\n            value: function() {\n                var _testCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee70(id, params) {\n                    var users;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee70$(_context70) {\n                        while(1){\n                            switch(_context70.prev = _context70.next){\n                                case 0:\n                                    users = params.users;\n                                    _context70.next = 3;\n                                    return this.post(this.baseURL + \"/campaigns/\".concat(id, \"/test\"), {\n                                        users: users\n                                    });\n                                case 3:\n                                    return _context70.abrupt(\"return\", _context70.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context70.stop();\n                            }\n                        }\n                    }, _callee70, this);\n                }));\n                function testCampaign(_x93, _x94) {\n                    return _testCampaign.apply(this, arguments);\n                }\n                return testCampaign;\n            }()\n        },\n        {\n            key: \"queryRecipients\",\n            value: function() {\n                var _queryRecipients = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee71(filters) {\n                    var options, _args71 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee71$(_context71) {\n                        while(1){\n                            switch(_context71.prev = _context71.next){\n                                case 0:\n                                    options = _args71.length > 1 && _args71[1] !== undefined ? _args71[1] : {};\n                                    _context71.next = 3;\n                                    return this.get(this.baseURL + \"/recipients\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filters\n                                        }, options)\n                                    });\n                                case 3:\n                                    return _context71.abrupt(\"return\", _context71.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context71.stop();\n                            }\n                        }\n                    }, _callee71, this);\n                }));\n                function queryRecipients(_x95) {\n                    return _queryRecipients.apply(this, arguments);\n                }\n                return queryRecipients;\n            }()\n        },\n        {\n            key: \"enrichURL\",\n            value: function() {\n                var _enrichURL = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee72(url) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee72$(_context72) {\n                        while(1){\n                            switch(_context72.prev = _context72.next){\n                                case 0:\n                                    return _context72.abrupt(\"return\", this.get(this.baseURL + \"/og\", {\n                                        url: url\n                                    }));\n                                case 1:\n                                case \"end\":\n                                    return _context72.stop();\n                            }\n                        }\n                    }, _callee72, this);\n                }));\n                function enrichURL(_x96) {\n                    return _enrichURL.apply(this, arguments);\n                }\n                return enrichURL;\n            }()\n        },\n        {\n            key: \"getTask\",\n            value: function() {\n                var _getTask = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee73(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee73$(_context73) {\n                        while(1){\n                            switch(_context73.prev = _context73.next){\n                                case 0:\n                                    return _context73.abrupt(\"return\", this.get(\"\".concat(this.baseURL, \"/tasks/\").concat(id)));\n                                case 1:\n                                case \"end\":\n                                    return _context73.stop();\n                            }\n                        }\n                    }, _callee73, this);\n                }));\n                function getTask(_x97) {\n                    return _getTask.apply(this, arguments);\n                }\n                return getTask;\n            }()\n        },\n        {\n            key: \"deleteChannels\",\n            value: function() {\n                var _deleteChannels = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee74(cids) {\n                    var options, _args74 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee74$(_context74) {\n                        while(1){\n                            switch(_context74.prev = _context74.next){\n                                case 0:\n                                    options = _args74.length > 1 && _args74[1] !== undefined ? _args74[1] : {};\n                                    _context74.next = 3;\n                                    return this.post(this.baseURL + \"/channels/delete\", _objectSpread({\n                                        cids: cids\n                                    }, options));\n                                case 3:\n                                    return _context74.abrupt(\"return\", _context74.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context74.stop();\n                            }\n                        }\n                    }, _callee74, this);\n                }));\n                function deleteChannels(_x98) {\n                    return _deleteChannels.apply(this, arguments);\n                }\n                return deleteChannels;\n            }()\n        },\n        {\n            key: \"deleteUsers\",\n            value: function() {\n                var _deleteUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee75(user_ids) {\n                    var options, _args75 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee75$(_context75) {\n                        while(1){\n                            switch(_context75.prev = _context75.next){\n                                case 0:\n                                    options = _args75.length > 1 && _args75[1] !== undefined ? _args75[1] : {};\n                                    if (!(typeof options.user !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\",\n                                        \"pruning\"\n                                    ].includes(options.user))) {\n                                        _context75.next = 3;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. user must be one of [soft hard pruning]\");\n                                case 3:\n                                    if (!(typeof options.conversations !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\"\n                                    ].includes(options.conversations))) {\n                                        _context75.next = 5;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. conversations must be one of [soft hard]\");\n                                case 5:\n                                    if (!(typeof options.messages !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\",\n                                        \"pruning\"\n                                    ].includes(options.messages))) {\n                                        _context75.next = 7;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. messages must be one of [soft hard pruning]\");\n                                case 7:\n                                    _context75.next = 9;\n                                    return this.post(this.baseURL + \"/users/delete\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 9:\n                                    return _context75.abrupt(\"return\", _context75.sent);\n                                case 10:\n                                case \"end\":\n                                    return _context75.stop();\n                            }\n                        }\n                    }, _callee75, this);\n                }));\n                function deleteUsers(_x99) {\n                    return _deleteUsers.apply(this, arguments);\n                }\n                return deleteUsers;\n            }()\n        },\n        {\n            key: \"_createImportURL\",\n            value: function() {\n                var _createImportURL2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee76(filename) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee76$(_context76) {\n                        while(1){\n                            switch(_context76.prev = _context76.next){\n                                case 0:\n                                    _context76.next = 2;\n                                    return this.post(this.baseURL + \"/import_urls\", {\n                                        filename: filename\n                                    });\n                                case 2:\n                                    return _context76.abrupt(\"return\", _context76.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context76.stop();\n                            }\n                        }\n                    }, _callee76, this);\n                }));\n                function _createImportURL(_x100) {\n                    return _createImportURL2.apply(this, arguments);\n                }\n                return _createImportURL;\n            }()\n        },\n        {\n            key: \"_createImport\",\n            value: function() {\n                var _createImport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee77(path) {\n                    var options, _args77 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee77$(_context77) {\n                        while(1){\n                            switch(_context77.prev = _context77.next){\n                                case 0:\n                                    options = _args77.length > 1 && _args77[1] !== undefined ? _args77[1] : {\n                                        mode: \"upsert\"\n                                    };\n                                    _context77.next = 3;\n                                    return this.post(this.baseURL + \"/imports\", _objectSpread({\n                                        path: path\n                                    }, options));\n                                case 3:\n                                    return _context77.abrupt(\"return\", _context77.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context77.stop();\n                            }\n                        }\n                    }, _callee77, this);\n                }));\n                function _createImport(_x101) {\n                    return _createImport2.apply(this, arguments);\n                }\n                return _createImport;\n            }()\n        },\n        {\n            key: \"_getImport\",\n            value: function() {\n                var _getImport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee78(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee78$(_context78) {\n                        while(1){\n                            switch(_context78.prev = _context78.next){\n                                case 0:\n                                    _context78.next = 2;\n                                    return this.get(this.baseURL + \"/imports/\".concat(id));\n                                case 2:\n                                    return _context78.abrupt(\"return\", _context78.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context78.stop();\n                            }\n                        }\n                    }, _callee78, this);\n                }));\n                function _getImport(_x102) {\n                    return _getImport2.apply(this, arguments);\n                }\n                return _getImport;\n            }()\n        },\n        {\n            key: \"_listImports\",\n            value: function() {\n                var _listImports2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee79(options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee79$(_context79) {\n                        while(1){\n                            switch(_context79.prev = _context79.next){\n                                case 0:\n                                    _context79.next = 2;\n                                    return this.get(this.baseURL + \"/imports\", options);\n                                case 2:\n                                    return _context79.abrupt(\"return\", _context79.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context79.stop();\n                            }\n                        }\n                    }, _callee79, this);\n                }));\n                function _listImports(_x103) {\n                    return _listImports2.apply(this, arguments);\n                }\n                return _listImports;\n            }()\n        },\n        {\n            key: \"upsertPushProvider\",\n            value: function() {\n                var _upsertPushProvider = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee80(pushProvider) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee80$(_context80) {\n                        while(1){\n                            switch(_context80.prev = _context80.next){\n                                case 0:\n                                    _context80.next = 2;\n                                    return this.post(this.baseURL + \"/push_providers\", {\n                                        push_provider: pushProvider\n                                    });\n                                case 2:\n                                    return _context80.abrupt(\"return\", _context80.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context80.stop();\n                            }\n                        }\n                    }, _callee80, this);\n                }));\n                function upsertPushProvider(_x104) {\n                    return _upsertPushProvider.apply(this, arguments);\n                }\n                return upsertPushProvider;\n            }()\n        },\n        {\n            key: \"deletePushProvider\",\n            value: function() {\n                var _deletePushProvider = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee81(_ref10) {\n                    var type, name;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee81$(_context81) {\n                        while(1){\n                            switch(_context81.prev = _context81.next){\n                                case 0:\n                                    type = _ref10.type, name = _ref10.name;\n                                    _context81.next = 3;\n                                    return this.delete(this.baseURL + \"/push_providers/\".concat(type, \"/\").concat(name));\n                                case 3:\n                                    return _context81.abrupt(\"return\", _context81.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context81.stop();\n                            }\n                        }\n                    }, _callee81, this);\n                }));\n                function deletePushProvider(_x105) {\n                    return _deletePushProvider.apply(this, arguments);\n                }\n                return deletePushProvider;\n            }()\n        },\n        {\n            key: \"listPushProviders\",\n            value: function() {\n                var _listPushProviders = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee82() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee82$(_context82) {\n                        while(1){\n                            switch(_context82.prev = _context82.next){\n                                case 0:\n                                    _context82.next = 2;\n                                    return this.get(this.baseURL + \"/push_providers\");\n                                case 2:\n                                    return _context82.abrupt(\"return\", _context82.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context82.stop();\n                            }\n                        }\n                    }, _callee82, this);\n                }));\n                function listPushProviders() {\n                    return _listPushProviders.apply(this, arguments);\n                }\n                return listPushProviders;\n            }()\n        },\n        {\n            key: \"createAbortControllerForNextRequest\",\n            value: function createAbortControllerForNextRequest() {\n                return this.nextRequestAbortController = new AbortController();\n            }\n        },\n        {\n            key: \"commitMessage\",\n            value: function() {\n                var _commitMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee83(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee83$(_context83) {\n                        while(1){\n                            switch(_context83.prev = _context83.next){\n                                case 0:\n                                    _context83.next = 2;\n                                    return this.post(this.baseURL + \"/messages/\".concat(id, \"/commit\"));\n                                case 2:\n                                    return _context83.abrupt(\"return\", _context83.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context83.stop();\n                            }\n                        }\n                    }, _callee83, this);\n                }));\n                function commitMessage(_x106) {\n                    return _commitMessage.apply(this, arguments);\n                }\n                return commitMessage;\n            }()\n        }\n    ], [\n        {\n            key: \"getInstance\",\n            value: function getInstance(key, secretOrOptions, options) {\n                if (!StreamChat._instance) {\n                    if (typeof secretOrOptions === \"string\") {\n                        StreamChat._instance = new StreamChat(key, secretOrOptions, options);\n                    } else {\n                        StreamChat._instance = new StreamChat(key, secretOrOptions);\n                    }\n                }\n                return StreamChat._instance;\n            }\n        }\n    ]);\n    return StreamChat;\n}();\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(StreamChat, \"_instance\", void 0);\nvar EVENT_MAP = {\n    \"channel.created\": true,\n    \"channel.deleted\": true,\n    \"channel.hidden\": true,\n    \"channel.kicked\": true,\n    \"channel.muted\": true,\n    \"channel.truncated\": true,\n    \"channel.unmuted\": true,\n    \"channel.updated\": true,\n    \"channel.visible\": true,\n    \"health.check\": true,\n    \"member.added\": true,\n    \"member.removed\": true,\n    \"member.updated\": true,\n    \"message.deleted\": true,\n    \"message.new\": true,\n    \"message.read\": true,\n    \"message.updated\": true,\n    \"notification.added_to_channel\": true,\n    \"notification.channel_deleted\": true,\n    \"notification.channel_mutes_updated\": true,\n    \"notification.channel_truncated\": true,\n    \"notification.invite_accepted\": true,\n    \"notification.invite_rejected\": true,\n    \"notification.invited\": true,\n    \"notification.mark_read\": true,\n    \"notification.message_new\": true,\n    \"notification.mutes_updated\": true,\n    \"notification.removed_from_channel\": true,\n    \"reaction.deleted\": true,\n    \"reaction.new\": true,\n    \"reaction.updated\": true,\n    \"typing.start\": true,\n    \"typing.stop\": true,\n    \"user.banned\": true,\n    \"user.deleted\": true,\n    \"user.presence.changed\": true,\n    \"user.unbanned\": true,\n    \"user.unread_message_reminder\": true,\n    \"user.updated\": true,\n    \"user.watching.start\": true,\n    \"user.watching.stop\": true,\n    // local events\n    \"channels.queried\": true,\n    \"connection.changed\": true,\n    \"connection.recovered\": true,\n    \"transport.changed\": true,\n    \"capabilities.changed\": true\n};\nvar Allow = \"Allow\";\nvar Deny = \"Deny\";\nvar AnyResource = [\n    \"*\"\n];\nvar AnyRole = [\n    \"*\"\n];\nvar MaxPriority = 999;\nvar MinPriority = 1; // deprecated permission object class, you should use the new permission system v2 and use permissions\n// defined in BuiltinPermissions to configure your channel types\nvar Permission = function Permission(name, priority) {\n    var resources = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : AnyResource;\n    var roles = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : AnyRole;\n    var owner = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    var action = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : Allow;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Permission);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"name\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"action\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"owner\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"priority\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"resources\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"roles\", void 0);\n    this.name = name;\n    this.action = action;\n    this.owner = owner;\n    this.priority = priority;\n    this.resources = resources;\n    this.roles = roles;\n}; // deprecated\nvar AllowAll = new Permission(\"Allow all\", MaxPriority, AnyResource, AnyRole, false, Allow); // deprecated\nvar DenyAll = new Permission(\"Deny all\", MinPriority, AnyResource, AnyRole, false, Deny);\nvar BuiltinRoles = {\n    Admin: \"admin\",\n    Anonymous: \"anonymous\",\n    ChannelMember: \"channel_member\",\n    ChannelModerator: \"channel_moderator\",\n    Guest: \"guest\",\n    User: \"user\"\n};\nvar BuiltinPermissions = {\n    AddLinks: \"Add Links\",\n    BanUser: \"Ban User\",\n    CreateChannel: \"Create Channel\",\n    CreateMessage: \"Create Message\",\n    CreateReaction: \"Create Reaction\",\n    DeleteAnyAttachment: \"Delete Any Attachment\",\n    DeleteAnyChannel: \"Delete Any Channel\",\n    DeleteAnyMessage: \"Delete Any Message\",\n    DeleteAnyReaction: \"Delete Any Reaction\",\n    DeleteOwnAttachment: \"Delete Own Attachment\",\n    DeleteOwnChannel: \"Delete Own Channel\",\n    DeleteOwnMessage: \"Delete Own Message\",\n    DeleteOwnReaction: \"Delete Own Reaction\",\n    ReadAnyChannel: \"Read Any Channel\",\n    ReadOwnChannel: \"Read Own Channel\",\n    RunMessageAction: \"Run Message Action\",\n    UpdateAnyChannel: \"Update Any Channel\",\n    UpdateAnyMessage: \"Update Any Message\",\n    UpdateMembersAnyChannel: \"Update Members Any Channel\",\n    UpdateMembersOwnChannel: \"Update Members Own Channel\",\n    UpdateOwnChannel: \"Update Own Channel\",\n    UpdateOwnMessage: \"Update Own Message\",\n    UploadAttachment: \"Upload Attachment\",\n    UseFrozenChannel: \"Send messages and reactions to frozen channels\"\n};\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL3N0cmVhbS1jaGF0L2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBDO0FBQ1k7QUFDRjtBQUNrQztBQUNaO0FBQ0Y7QUFDSjtBQUNOO0FBQ007QUFDUDtBQUNuQztBQUNBO0FBQ3dDO0FBQ2pDO0FBQ0s7QUFDUDtBQUNEO0FBQ29EO0FBQzFCO0FBQ2tDO0FBQ3RCO0FBQ0U7QUFFdEUsU0FBU3NCLFdBQVdDLGFBQWE7SUFDL0IsT0FBTyxPQUFPQSxrQkFBa0I7QUFDbEM7QUFFQSxTQUFTQyxvQkFBb0JELGFBQWEsRUFBRUUsUUFBUTtJQUNsRCxPQUFPLENBQUMsQ0FBQ0EsWUFBWUgsV0FBV0M7QUFDbEMsRUFBRSxtRkFBbUY7QUFHckYsU0FBU0csSUFBSUgsYUFBYSxFQUFFRSxRQUFRO0lBQ2xDLElBQUlFLE1BQU0sRUFBRTtJQUVaLElBQUlMLFdBQVdDLGtCQUFrQkMsb0JBQW9CRCxlQUFlRSxXQUFXO1FBQzdFLElBQUssSUFBSUcsSUFBSSxHQUFHQyxNQUFNTixjQUFjTyxNQUFNLEVBQUVGLElBQUlDLEtBQUtELElBQUs7WUFDeEQsSUFBSUwsY0FBY1EsTUFBTSxDQUFDSCxJQUFJO2dCQUMzQixJQUFJSSxTQUFTVCxjQUFjUSxNQUFNLENBQUNIO2dCQUNsQyxJQUFJSyxjQUFjUixTQUFTTyxRQUFRSixHQUFHTDtnQkFDdENJLEdBQUcsQ0FBQ0MsRUFBRSxHQUFHSztZQUNYO1FBQ0Y7SUFDRixPQUFPLElBQUksQ0FBQ1gsV0FBV0Msa0JBQWtCLENBQUNDLG9CQUFvQkQsZUFBZUUsV0FBVztRQUN0RixJQUFLLElBQUlTLEtBQUssR0FBR0MsT0FBT1osY0FBY08sTUFBTSxFQUFFSSxLQUFLQyxNQUFNRCxLQUFNO1lBQzdELElBQUlBLE1BQU1YLGVBQWU7Z0JBQ3ZCLElBQUlh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LEdBQUcsYUFBYTtBQUVoQixJQUFJeTJDLFdBQVcsSUFBSUwsV0FBVyxhQUFhRixhQUFhRixhQUFhQyxTQUFTLE9BQU9ILFFBQVEsYUFBYTtBQUUxRyxJQUFJWSxVQUFVLElBQUlOLFdBQVcsWUFBWUQsYUFBYUgsYUFBYUMsU0FBUyxPQUFPRjtBQUNuRixJQUFJWSxlQUFlO0lBQ2pCQyxPQUFPO0lBQ1BDLFdBQVc7SUFDWEMsZUFBZTtJQUNmQyxrQkFBa0I7SUFDbEJDLE9BQU87SUFDUEMsTUFBTTtBQUNSO0FBQ0EsSUFBSUMscUJBQXFCO0lBQ3ZCQyxVQUFVO0lBQ1ZDLFNBQVM7SUFDVEMsZUFBZTtJQUNmQyxlQUFlO0lBQ2ZDLGdCQUFnQjtJQUNoQkMscUJBQXFCO0lBQ3JCQyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsbUJBQW1CO0lBQ25CQyxxQkFBcUI7SUFDckJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyxtQkFBbUI7SUFDbkJDLGdCQUFnQjtJQUNoQkMsZ0JBQWdCO0lBQ2hCQyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyx5QkFBeUI7SUFDekJDLHlCQUF5QjtJQUN6QkMsa0JBQWtCO0lBQ2xCQyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0FBQ3BCO0FBRWdlLENBQ2hlLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvZGlzdC9pbmRleC5lcy5qcz9jYmVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21CeXRlQXJyYXkgfSBmcm9tICdiYXNlNjQtanMnO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX3R5cGVvZiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZic7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5JztcbmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3InO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAnQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3InO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5JztcbmltcG9ydCBGb3JtRGF0YSBmcm9tICdmb3JtLWRhdGEnO1xuaW1wb3J0IFdlYlNvY2tldCBmcm9tICdpc29tb3JwaGljLXdzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBjcnlwdG8kMSBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mJztcbmltcG9ydCBfd3JhcE5hdGl2ZVN1cGVyIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvd3JhcE5hdGl2ZVN1cGVyJztcblxuZnVuY3Rpb24gaXNTdHJpbmckMShhcnJheU9yU3RyaW5nKSB7XG4gIHJldHVybiB0eXBlb2YgYXJyYXlPclN0cmluZyA9PT0gJ3N0cmluZyc7XG59XG5cbmZ1bmN0aW9uIGlzTWFwU3RyaW5nQ2FsbGJhY2soYXJyYXlPclN0cmluZywgY2FsbGJhY2spIHtcbiAgcmV0dXJuICEhY2FsbGJhY2sgJiYgaXNTdHJpbmckMShhcnJheU9yU3RyaW5nKTtcbn0gLy8gc291cmNlIC0gaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2Jsb2IvbWFzdGVyL3Rlc3QvY29udmVydC5qcyNMNzJcblxuXG5mdW5jdGlvbiBtYXAoYXJyYXlPclN0cmluZywgY2FsbGJhY2spIHtcbiAgdmFyIHJlcyA9IFtdO1xuXG4gIGlmIChpc1N0cmluZyQxKGFycmF5T3JTdHJpbmcpICYmIGlzTWFwU3RyaW5nQ2FsbGJhY2soYXJyYXlPclN0cmluZywgY2FsbGJhY2spKSB7XG4gICAgZm9yICh2YXIgayA9IDAsIGxlbiA9IGFycmF5T3JTdHJpbmcubGVuZ3RoOyBrIDwgbGVuOyBrKyspIHtcbiAgICAgIGlmIChhcnJheU9yU3RyaW5nLmNoYXJBdChrKSkge1xuICAgICAgICB2YXIga1ZhbHVlID0gYXJyYXlPclN0cmluZy5jaGFyQXQoayk7XG4gICAgICAgIHZhciBtYXBwZWRWYWx1ZSA9IGNhbGxiYWNrKGtWYWx1ZSwgaywgYXJyYXlPclN0cmluZyk7XG4gICAgICAgIHJlc1trXSA9IG1hcHBlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICghaXNTdHJpbmckMShhcnJheU9yU3RyaW5nKSAmJiAhaXNNYXBTdHJpbmdDYWxsYmFjayhhcnJheU9yU3RyaW5nLCBjYWxsYmFjaykpIHtcbiAgICBmb3IgKHZhciBfayA9IDAsIF9sZW4gPSBhcnJheU9yU3RyaW5nLmxlbmd0aDsgX2sgPCBfbGVuOyBfaysrKSB7XG4gICAgICBpZiAoX2sgaW4gYXJyYXlPclN0cmluZykge1xuICAgICAgICB2YXIgX2tWYWx1ZSA9IGFycmF5T3JTdHJpbmdbX2tdO1xuXG4gICAgICAgIHZhciBfbWFwcGVkVmFsdWUgPSBjYWxsYmFjayhfa1ZhbHVlLCBfaywgYXJyYXlPclN0cmluZyk7XG5cbiAgICAgICAgcmVzW19rXSA9IF9tYXBwZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgZW5jb2RlQmFzZTY0ID0gZnVuY3Rpb24gZW5jb2RlQmFzZTY0KGRhdGEpIHtcbiAgcmV0dXJuIGZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkobWFwKGRhdGEsIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgcmV0dXJuIGNoYXIuY2hhckNvZGVBdCgwKTtcbiAgfSkpKTtcbn07IC8vIGJhc2UtNjQgZGVjb2RlciB0aHJvd3MgZXhjZXB0aW9uIGlmIGVuY29kZWQgc3RyaW5nIGlzIG5vdCBwYWRkZWQgYnkgJz0nIHRvIG1ha2Ugc3RyaW5nIGxlbmd0aFxuLy8gaW4gbXVsdGlwbGVzIG9mIDQuIFNvIGdvbm5hIHVzZSBvdXIgb3duIG1ldGhvZCBmb3IgdGhpcyBwdXJwb3NlIHRvIGtlZXAgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9ibG9iL21hc3Rlci9pbmRleC5qcyNMMjZcblxudmFyIGRlY29kZUJhc2U2NCA9IGZ1bmN0aW9uIGRlY29kZUJhc2U2NChzKSB7XG4gIHZhciBlID0ge30sXG4gICAgICB3ID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcbiAgICAgIEwgPSBzLmxlbmd0aDtcbiAgdmFyIGksXG4gICAgICBiID0gMCxcbiAgICAgIGMsXG4gICAgICB4LFxuICAgICAgbCA9IDAsXG4gICAgICBhLFxuICAgICAgciA9ICcnO1xuICB2YXIgQSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcblxuICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuICAgIGVbQS5jaGFyQXQoaSldID0gaTtcbiAgfVxuXG4gIGZvciAoeCA9IDA7IHggPCBMOyB4KyspIHtcbiAgICBjID0gZVtzLmNoYXJBdCh4KV07XG4gICAgYiA9IChiIDw8IDYpICsgYztcbiAgICBsICs9IDY7XG5cbiAgICB3aGlsZSAobCA+PSA4KSB7XG4gICAgICAoKGEgPSBiID4+PiAobCAtPSA4KSAmIDB4ZmYpIHx8IHggPCBMIC0gMikgJiYgKHIgKz0gdyhhKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHI7XG59O1xuXG5mdW5jdGlvbiBvd25LZXlzJDYob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDYodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQ2KE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkNihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuLyoqXG4gKiBDaGFubmVsU3RhdGUgLSBBIGNvbnRhaW5lciBjbGFzcyBmb3IgdGhlIGNoYW5uZWwgc3RhdGUuXG4gKi9cbnZhciBDaGFubmVsU3RhdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogRmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgY2hhbm5lbCBzdGF0ZSBjb250YWluIGxhdGVzdC9yZWNlbnQgbWVzc2FnZXMgb3Igbm8uXG4gICAqIFRoaXMgZmxhZyBzaG91bGQgYmUgbWFuYWdlZCBieSBVSSBzZGtzIHVzaW5nIGEgc2V0dGVyIC0gc2V0SXNVcFRvRGF0ZS5cbiAgICogV2hlbiBmYWxzZSwgYW55IG5ldyBtZXNzYWdlIChyZWNlaXZlZCBieSB3ZWJzb2NrZXQgZXZlbnQgLSBtZXNzYWdlLm5ldykgd2lsbCBub3RcbiAgICogYmUgcHVzaGVkIG9uIHRvIG1lc3NhZ2UgbGlzdC5cbiAgICovXG5cbiAgLyoqXG4gICAqIERpc2pvaW50IGxpc3RzIG9mIG1lc3NhZ2VzXG4gICAqIFVzZXJzIGNhbiBqdW1wIGluIHRoZSBtZXNzYWdlIGxpc3QgKHdpdGggc2VhcmNoaW5nKSBhbmQgdGhpcyBjYW4gcmVzdWx0IGluIGRpc2pvaW50IGxpc3RzIG9mIG1lc3NhZ2VzXG4gICAqIFRoZSBzdGF0ZSBtYW5hZ2VzIHRoZXNlIGxpc3RzIGFuZCBtZXJnZXMgdGhlbSB3aGVuIGxpc3RzIG92ZXJsYXBcbiAgICogVGhlIG1lc3NhZ2VzIGFycmF5IGNvbnRhaW5zIHRoZSBjdXJyZW50bHkgYWN0aXZlIHNldFxuICAgKi9cbiAgZnVuY3Rpb24gQ2hhbm5lbFN0YXRlKGNoYW5uZWwpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBfY2hhbm5lbCRzdGF0ZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFubmVsU3RhdGUpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NoYW5uZWxcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndhdGNoZXJfY291bnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5cGluZ1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVhZFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicGlubmVkTWVzc2FnZXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBlbmRpbmdfbWVzc2FnZXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRocmVhZHNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm11dGVkVXNlcnNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndhdGNoZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZW1iZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1bnJlYWRDb3VudFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVtYmVyc2hpcFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGFzdF9tZXNzYWdlX2F0XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1VwVG9EYXRlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlU2V0c1wiLCBbXSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRJc1VwVG9EYXRlXCIsIGZ1bmN0aW9uIChpc1VwVG9EYXRlKSB7XG4gICAgICBfdGhpcy5pc1VwVG9EYXRlID0gaXNVcFRvRGF0ZTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlbW92ZU1lc3NhZ2VGcm9tQXJyYXlcIiwgZnVuY3Rpb24gKG1zZ0FycmF5LCBtc2cpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtc2dBcnJheS5maWx0ZXIoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuICEoISFtZXNzYWdlLmlkICYmICEhbXNnLmlkICYmIG1lc3NhZ2UuaWQgPT09IG1zZy5pZCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZWQ6IHJlc3VsdC5sZW5ndGggPCBtc2dBcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlVXNlck1lc3NhZ2VzXCIsIGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICB2YXIgX3VwZGF0ZVVzZXJNZXNzYWdlcyA9IGZ1bmN0aW9uIF91cGRhdGVVc2VyTWVzc2FnZXMobWVzc2FnZXMsIHVzZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBfbSR1c2VyO1xuXG4gICAgICAgICAgdmFyIG0gPSBtZXNzYWdlc1tpXTtcblxuICAgICAgICAgIGlmICgoKF9tJHVzZXIgPSBtLnVzZXIpID09PSBudWxsIHx8IF9tJHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tJHVzZXIuaWQpID09PSB1c2VyLmlkKSB7XG4gICAgICAgICAgICBtZXNzYWdlc1tpXSA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIG0pLCB7fSwge1xuICAgICAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLm1lc3NhZ2VTZXRzLmZvckVhY2goZnVuY3Rpb24gKHNldCkge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZVVzZXJNZXNzYWdlcyhzZXQubWVzc2FnZXMsIHVzZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAodmFyIHBhcmVudElkIGluIF90aGlzLnRocmVhZHMpIHtcbiAgICAgICAgX3VwZGF0ZVVzZXJNZXNzYWdlcyhfdGhpcy50aHJlYWRzW3BhcmVudElkXSwgdXNlcik7XG4gICAgICB9XG5cbiAgICAgIF91cGRhdGVVc2VyTWVzc2FnZXMoX3RoaXMucGlubmVkTWVzc2FnZXMsIHVzZXIpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVsZXRlVXNlck1lc3NhZ2VzXCIsIGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICB2YXIgaGFyZERlbGV0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICAgIHZhciBfZGVsZXRlVXNlck1lc3NhZ2VzID0gZnVuY3Rpb24gX2RlbGV0ZVVzZXJNZXNzYWdlcyhtZXNzYWdlcywgdXNlcikge1xuICAgICAgICB2YXIgaGFyZERlbGV0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBfbSR1c2VyMjtcblxuICAgICAgICAgIHZhciBtID0gbWVzc2FnZXNbaV07XG5cbiAgICAgICAgICBpZiAoKChfbSR1c2VyMiA9IG0udXNlcikgPT09IG51bGwgfHwgX20kdXNlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tJHVzZXIyLmlkKSAhPT0gdXNlci5pZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGhhcmREZWxldGUpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW4gY2FzZSBvZiBoYXJkIGRlbGV0ZSwgd2UgbmVlZCB0byBzdHJpcCBkb3duIGFsbCB0ZXh0LCBodG1sLFxuICAgICAgICAgICAgICogYXR0YWNobWVudHMgYW5kIGFsbCB0aGUgY3VzdG9tIHByb3BlcnRpZXMgb24gbWVzc2FnZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtZXNzYWdlc1tpXSA9IHtcbiAgICAgICAgICAgICAgY2lkOiBtLmNpZCxcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbS5jcmVhdGVkX2F0LFxuICAgICAgICAgICAgICBkZWxldGVkX2F0OiB1c2VyLmRlbGV0ZWRfYXQsXG4gICAgICAgICAgICAgIGlkOiBtLmlkLFxuICAgICAgICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiBbXSxcbiAgICAgICAgICAgICAgbWVudGlvbmVkX3VzZXJzOiBbXSxcbiAgICAgICAgICAgICAgb3duX3JlYWN0aW9uczogW10sXG4gICAgICAgICAgICAgIHBhcmVudF9pZDogbS5wYXJlbnRfaWQsXG4gICAgICAgICAgICAgIHJlcGx5X2NvdW50OiBtLnJlcGx5X2NvdW50LFxuICAgICAgICAgICAgICBzdGF0dXM6IG0uc3RhdHVzLFxuICAgICAgICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiBtLnRocmVhZF9wYXJ0aWNpcGFudHMsXG4gICAgICAgICAgICAgIHR5cGU6ICdkZWxldGVkJyxcbiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbS51cGRhdGVkX2F0LFxuICAgICAgICAgICAgICB1c2VyOiBtLnVzZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzW2ldID0gX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgbSksIHt9LCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdkZWxldGVkJyxcbiAgICAgICAgICAgICAgZGVsZXRlZF9hdDogdXNlci5kZWxldGVkX2F0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLm1lc3NhZ2VTZXRzLmZvckVhY2goZnVuY3Rpb24gKHNldCkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZVVzZXJNZXNzYWdlcyhzZXQubWVzc2FnZXMsIHVzZXIsIGhhcmREZWxldGUpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAodmFyIHBhcmVudElkIGluIF90aGlzLnRocmVhZHMpIHtcbiAgICAgICAgX2RlbGV0ZVVzZXJNZXNzYWdlcyhfdGhpcy50aHJlYWRzW3BhcmVudElkXSwgdXNlciwgaGFyZERlbGV0ZSk7XG4gICAgICB9XG5cbiAgICAgIF9kZWxldGVVc2VyTWVzc2FnZXMoX3RoaXMucGlubmVkTWVzc2FnZXMsIHVzZXIsIGhhcmREZWxldGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgdGhpcy53YXRjaGVyX2NvdW50ID0gMDtcbiAgICB0aGlzLnR5cGluZyA9IHt9O1xuICAgIHRoaXMucmVhZCA9IHt9O1xuICAgIHRoaXMuaW5pdE1lc3NhZ2VzKCk7XG4gICAgdGhpcy5waW5uZWRNZXNzYWdlcyA9IFtdO1xuICAgIHRoaXMucGVuZGluZ19tZXNzYWdlcyA9IFtdO1xuICAgIHRoaXMudGhyZWFkcyA9IHt9OyAvLyBhIGxpc3Qgb2YgdXNlcnMgdG8gaGlkZSBtZXNzYWdlcyBmcm9tXG5cbiAgICB0aGlzLm11dGVkVXNlcnMgPSBbXTtcbiAgICB0aGlzLndhdGNoZXJzID0ge307XG4gICAgdGhpcy5tZW1iZXJzID0ge307XG4gICAgdGhpcy5tZW1iZXJzaGlwID0ge307XG4gICAgdGhpcy51bnJlYWRDb3VudCA9IDA7XG4gICAgLyoqXG4gICAgICogRmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgY2hhbm5lbCBzdGF0ZSBjb250YWluIGxhdGVzdC9yZWNlbnQgbWVzc2FnZXMgb3Igbm8uXG4gICAgICogVGhpcyBmbGFnIHNob3VsZCBiZSBtYW5hZ2VkIGJ5IFVJIHNka3MgdXNpbmcgYSBzZXR0ZXIgLSBzZXRJc1VwVG9EYXRlLlxuICAgICAqIFdoZW4gZmFsc2UsIGFueSBuZXcgbWVzc2FnZSAocmVjZWl2ZWQgYnkgd2Vic29ja2V0IGV2ZW50IC0gbWVzc2FnZS5uZXcpIHdpbGwgbm90XG4gICAgICogYmUgcHVzaGVkIG9uIHRvIG1lc3NhZ2UgbGlzdC5cbiAgICAgKi9cblxuICAgIHRoaXMuaXNVcFRvRGF0ZSA9IHRydWU7XG4gICAgdGhpcy5sYXN0X21lc3NhZ2VfYXQgPSAoY2hhbm5lbCA9PT0gbnVsbCB8fCBjaGFubmVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NoYW5uZWwkc3RhdGUgPSBjaGFubmVsLnN0YXRlKSA9PT0gbnVsbCB8fCBfY2hhbm5lbCRzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoYW5uZWwkc3RhdGUubGFzdF9tZXNzYWdlX2F0KSAhPSBudWxsID8gbmV3IERhdGUoY2hhbm5lbC5zdGF0ZS5sYXN0X21lc3NhZ2VfYXQpIDogbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDaGFubmVsU3RhdGUsIFt7XG4gICAga2V5OiBcIm1lc3NhZ2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMkbWVzc2FnZVNldHMkZmluO1xuXG4gICAgICByZXR1cm4gKChfdGhpcyRtZXNzYWdlU2V0cyRmaW4gPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmQoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHMuaXNDdXJyZW50O1xuICAgICAgfSkpID09PSBudWxsIHx8IF90aGlzJG1lc3NhZ2VTZXRzJGZpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWVzc2FnZVNldHMkZmluLm1lc3NhZ2VzKSB8fCBbXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG1lc3NhZ2VzKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gcy5pc0N1cnJlbnQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWVzc2FnZVNldHNbaW5kZXhdLm1lc3NhZ2VzID0gbWVzc2FnZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0IG9mIGxhdGVzdCBtZXNzYWdlc1xuICAgICAqIFRoZSBtZXNzYWdlcyBhcnJheSBub3QgYWx3YXlzIGNvbnRhaW5zIHRoZSBsYXRlc3QgbWVzc2FnZXMgKGZvciBleGFtcGxlIGlmIGEgdXNlciBzZWFyY2hlZCBmb3IgYW4gZWFybGllciBtZXNzYWdlLCB0aGF0IGlzIGluIGEgZGlmZmVyZW50IG1lc3NhZ2Ugc2V0KVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGF0ZXN0TWVzc2FnZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpcyRtZXNzYWdlU2V0cyRmaW4yO1xuXG4gICAgICByZXR1cm4gKChfdGhpcyRtZXNzYWdlU2V0cyRmaW4yID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLmlzTGF0ZXN0O1xuICAgICAgfSkpID09PSBudWxsIHx8IF90aGlzJG1lc3NhZ2VTZXRzJGZpbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1lc3NhZ2VTZXRzJGZpbjIubWVzc2FnZXMpIHx8IFtdO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobWVzc2FnZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMubWVzc2FnZVNldHMuZmluZEluZGV4KGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLmlzTGF0ZXN0O1xuICAgICAgfSk7XG4gICAgICB0aGlzLm1lc3NhZ2VTZXRzW2luZGV4XS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRNZXNzYWdlU29ydGVkIC0gQWRkIGEgbWVzc2FnZSB0byB0aGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IG5ld01lc3NhZ2UgQSBuZXcgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdGltZXN0YW1wQ2hhbmdlZCBXaGV0aGVyIHVwZGF0aW5nIGEgbWVzc2FnZSB3aXRoIGNoYW5nZWQgY3JlYXRlZF9hdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFkZElmRG9lc05vdEV4aXN0IEFkZCBtZXNzYWdlIGlmIGl0IGlzIG5vdCBpbiB0aGUgbGlzdCwgdXNlZCB0byBwcmV2ZW50IG91dCBvZiBvcmRlciB1cGRhdGVkIG1lc3NhZ2VzIGZyb20gYmVpbmcgYWRkZWQuXG4gICAgICogQHBhcmFtIHtNZXNzYWdlU2V0VHlwZX0gbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCBXaGljaCBtZXNzYWdlIHNldCB0byBhZGQgdG8gaWYgbWVzc2FnZSBpcyBub3QgaW4gdGhlIGxpc3QgKG9ubHkgdXNlZCBpZiBhZGRJZkRvZXNOb3RFeGlzdCBpcyB0cnVlKVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkTWVzc2FnZVNvcnRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRNZXNzYWdlU29ydGVkKG5ld01lc3NhZ2UpIHtcbiAgICAgIHZhciB0aW1lc3RhbXBDaGFuZ2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgIHZhciBhZGRJZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgICAgIHZhciBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnbGF0ZXN0JztcbiAgICAgIHJldHVybiB0aGlzLmFkZE1lc3NhZ2VzU29ydGVkKFtuZXdNZXNzYWdlXSwgdGltZXN0YW1wQ2hhbmdlZCwgZmFsc2UsIGFkZElmRG9lc05vdEV4aXN0LCBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZm9ybWF0TWVzc2FnZSAtIFRha2VzIHRoZSBtZXNzYWdlIG9iamVjdC4gUGFyc2VzIHRoZSBkYXRlcywgc2V0cyBfX2h0bWxcbiAgICAgKiBhbmQgc2V0cyB0aGUgc3RhdHVzIHRvIHJlY2VpdmVkIGlmIG1pc3NpbmcuIFJldHVybnMgYSBtZXNzYWdlIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gbWVzc2FnZSBhIG1lc3NhZ2Ugb2JqZWN0XG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdE1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgbWVzc2FnZSksIHt9LCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIGBodG1sYFxuICAgICAgICAgKi9cbiAgICAgICAgX19odG1sOiBtZXNzYWdlLmh0bWwsXG4gICAgICAgIC8vIHBhcnNlIHRoZSBkYXRlLi5cbiAgICAgICAgcGlubmVkX2F0OiBtZXNzYWdlLnBpbm5lZF9hdCA/IG5ldyBEYXRlKG1lc3NhZ2UucGlubmVkX2F0KSA6IG51bGwsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG1lc3NhZ2UuY3JlYXRlZF9hdCA/IG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkX2F0OiBtZXNzYWdlLnVwZGF0ZWRfYXQgPyBuZXcgRGF0ZShtZXNzYWdlLnVwZGF0ZWRfYXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyB8fCAncmVjZWl2ZWQnXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkTWVzc2FnZXNTb3J0ZWQgLSBBZGQgdGhlIGxpc3Qgb2YgbWVzc2FnZXMgdG8gc3RhdGUgYW5kIHJlc29ydHMgdGhlIG1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PE1lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gbmV3TWVzc2FnZXMgQSBsaXN0IG9mIG1lc3NhZ2VzXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0aW1lc3RhbXBDaGFuZ2VkIFdoZXRoZXIgdXBkYXRpbmcgbWVzc2FnZXMgd2l0aCBjaGFuZ2VkIGNyZWF0ZWRfYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbml0aWFsaXppbmcgV2hldGhlciBjaGFubmVsIGlzIGJlaW5nIGluaXRpYWxpemVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWRkSWZEb2VzTm90RXhpc3QgQWRkIG1lc3NhZ2UgaWYgaXQgaXMgbm90IGluIHRoZSBsaXN0LCB1c2VkIHRvIHByZXZlbnQgb3V0IG9mIG9yZGVyIHVwZGF0ZWQgbWVzc2FnZXMgZnJvbSBiZWluZyBhZGRlZC5cbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VTZXRUeXBlfSBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0IFdoaWNoIG1lc3NhZ2Ugc2V0IHRvIGFkZCB0byBpZiBtZXNzYWdlcyBhcmUgbm90IGluIHRoZSBsaXN0IChvbmx5IHVzZWQgaWYgYWRkSWZEb2VzTm90RXhpc3QgaXMgdHJ1ZSlcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkTWVzc2FnZXNTb3J0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTWVzc2FnZXNTb3J0ZWQobmV3TWVzc2FnZXMpIHtcbiAgICAgIHZhciB0aW1lc3RhbXBDaGFuZ2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgIHZhciBpbml0aWFsaXppbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgICAgdmFyIGFkZElmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB0cnVlO1xuICAgICAgdmFyIG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6ICdjdXJyZW50JztcblxuICAgICAgdmFyIF90aGlzJGZpbmRUYXJnZXRNZXNzYSA9IHRoaXMuZmluZFRhcmdldE1lc3NhZ2VTZXQobmV3TWVzc2FnZXMsIGFkZElmRG9lc05vdEV4aXN0LCBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0KSxcbiAgICAgICAgICBtZXNzYWdlc1RvQWRkID0gX3RoaXMkZmluZFRhcmdldE1lc3NhLm1lc3NhZ2VzVG9BZGQsXG4gICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gX3RoaXMkZmluZFRhcmdldE1lc3NhLnRhcmdldE1lc3NhZ2VTZXRJbmRleDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlc1RvQWRkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBpc0Zyb21TaGFkb3dCYW5uZWRVc2VyID0gbWVzc2FnZXNUb0FkZFtpXS5zaGFkb3dlZDtcblxuICAgICAgICBpZiAoaXNGcm9tU2hhZG93QmFubmVkVXNlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIElmIG1lc3NhZ2UgaXMgYWxyZWFkeSBmb3JtYXR0ZWQgd2UgY2FuIHNraXAgdGhlIHRhc2tzIGJlbG93XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSB0cnVlIGZvciBtZXNzYWdlcyB0aGF0IGFyZSBhbHJlYWR5IHByZXNlbnQgYXQgdGhlIHN0YXRlIC0+IHRoaXMgaGFwcGVucyB3aGVuIHdlIHBlcmZvcm0gbWVyZ2luZyBvZiBtZXNzYWdlIHNldHNcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGFsc28gdHJ1ZSBmb3IgbWVzc2FnZSBwcmV2aWV3cyB1c2VkIGJ5IHNvbWUgU0RLc1xuXG5cbiAgICAgICAgdmFyIGlzTWVzc2FnZUZvcm1hdHRlZCA9IG1lc3NhZ2VzVG9BZGRbaV0uY3JlYXRlZF9hdCBpbnN0YW5jZW9mIERhdGU7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChpc01lc3NhZ2VGb3JtYXR0ZWQpIHtcbiAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZXNUb0FkZFtpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX3RoaXMkX2NoYW5uZWw7XG5cbiAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzVG9BZGRbaV0pO1xuXG4gICAgICAgICAgaWYgKG1lc3NhZ2UudXNlciAmJiAoX3RoaXMkX2NoYW5uZWwgPSB0aGlzLl9jaGFubmVsKSAhPT0gbnVsbCAmJiBfdGhpcyRfY2hhbm5lbCAhPT0gdm9pZCAwICYmIF90aGlzJF9jaGFubmVsLmNpZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdG9yZSB0aGUgcmVmZXJlbmNlIHRvIHVzZXIgZm9yIHRoaXMgY2hhbm5lbCwgc28gdGhhdCB3aGVuIHdlIGhhdmUgdG9cbiAgICAgICAgICAgICAqIGhhbmRsZSB1cGRhdGVzIHRvIHVzZXIsIHdlIGNhbiB1c2UgdGhlIHJlZmVyZW5jZSBtYXAsIHRvIGRldGVybWluZSB3aGljaFxuICAgICAgICAgICAgICogY2hhbm5lbHMgbmVlZCB0byBiZSB1cGRhdGVkIHdpdGggdXBkYXRlZCB1c2VyIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fY2hhbm5lbC5nZXRDbGllbnQoKS5zdGF0ZS51cGRhdGVVc2VyUmVmZXJlbmNlKG1lc3NhZ2UudXNlciwgdGhpcy5fY2hhbm5lbC5jaWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbml0aWFsaXppbmcgJiYgbWVzc2FnZS5pZCAmJiB0aGlzLnRocmVhZHNbbWVzc2FnZS5pZF0pIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBpbml0aWFsaXppbmcgdGhlIHN0YXRlIG9mIGNoYW5uZWwgKGUuZy4sIGluIGNhc2Ugb2YgY29ubmVjdGlvbiByZWNvdmVyeSksXG4gICAgICAgICAgICAvLyB0aGVuIGluIHRoYXQgY2FzZSB3ZSByZW1vdmUgdGhyZWFkIHJlbGF0ZWQgdG8gdGhpcyBtZXNzYWdlIGZyb20gdGhyZWFkcyBvYmplY3QuXG4gICAgICAgICAgICAvLyBUaGlzIHdheSB3ZSBjYW4gZW5zdXJlIHRoYXQgd2UgZG9uJ3QgaGF2ZSBhbnkgc3RhbGUgZGF0YSBpbiB0aHJlYWQgb2JqZWN0XG4gICAgICAgICAgICAvLyBhbmQgY29uc3VtZXIgY2FuIHJlZmV0Y2ggdGhlIHJlcGxpZXMuXG4gICAgICAgICAgICBkZWxldGUgdGhpcy50aHJlYWRzW21lc3NhZ2UuaWRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdGhpcy5sYXN0X21lc3NhZ2VfYXQpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdF9tZXNzYWdlX2F0ID0gbmV3IERhdGUobWVzc2FnZS5jcmVhdGVkX2F0LmdldFRpbWUoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1lc3NhZ2UuY3JlYXRlZF9hdC5nZXRUaW1lKCkgPiB0aGlzLmxhc3RfbWVzc2FnZV9hdC5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdF9tZXNzYWdlX2F0ID0gbmV3IERhdGUobWVzc2FnZS5jcmVhdGVkX2F0LmdldFRpbWUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIHVwZGF0ZSBvciBhcHBlbmQgdGhlIG1lc3NhZ2VzLi4uXG5cblxuICAgICAgICB2YXIgcGFyZW50SUQgPSBtZXNzYWdlLnBhcmVudF9pZDsgLy8gYWRkIHRvIHRoZSBnaXZlbiBtZXNzYWdlIHNldFxuXG4gICAgICAgIGlmICgoIXBhcmVudElEIHx8IG1lc3NhZ2Uuc2hvd19pbl9jaGFubmVsKSAmJiB0YXJnZXRNZXNzYWdlU2V0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5tZXNzYWdlU2V0c1t0YXJnZXRNZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzID0gdGhpcy5fYWRkVG9NZXNzYWdlTGlzdCh0aGlzLm1lc3NhZ2VTZXRzW3RhcmdldE1lc3NhZ2VTZXRJbmRleF0ubWVzc2FnZXMsIG1lc3NhZ2UsIHRpbWVzdGFtcENoYW5nZWQsICdjcmVhdGVkX2F0JywgYWRkSWZEb2VzTm90RXhpc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgbWVzc2FnZSB0byB0aHJlYWQgaWYgYXBwbGljYWJsZSBhbmQgdGhlIG1lc3NhZ2VcbiAgICAgICAgICogd2FzIGFkZGVkIHdoZW4gcXVlcnlpbmcgZm9yIHJlcGxpZXMsIG9yIHRoZSB0aHJlYWQgYWxyZWFkeSBleGl0cy5cbiAgICAgICAgICogVGhpcyBpcyB0byBwcmV2ZW50IHRoZSB0aHJlYWQgc3RhdGUgZnJvbSBnZXR0aW5nIG91dCBvZiBzeW5jIGlmXG4gICAgICAgICAqIGEgdGhyZWFkIG1lc3NhZ2UgaXMgc2hvd24gaW4gY2hhbm5lbCBidXQgb2xkZXIgdGhhbiB0aGUgbmV3ZXN0IHRocmVhZFxuICAgICAgICAgKiBtZXNzYWdlLiBUaGlzIHNpdHVhdGlvbiBjYW4gcmVzdWx0IGluIGEgdGhyZWFkIHN0YXRlIHdoZXJlIGEgcmFuZG9tXG4gICAgICAgICAqIG1lc3NhZ2UgaXMgXCJvbGRlc3RcIiBtZXNzYWdlLCBhbmQgbmV3ZXIgbWVzc2FnZXMgYXJlIHRoZXJlZm9yZSBub3QgbG9hZGVkLlxuICAgICAgICAgKiBUaGlzIGNhbiBhbHNvIG9jY3VyIGlmIGFuIG9sZCB0aHJlYWQgbWVzc2FnZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuXG4gICAgICAgIGlmIChwYXJlbnRJRCAmJiAhaW5pdGlhbGl6aW5nKSB7XG4gICAgICAgICAgdmFyIHRocmVhZCA9IHRoaXMudGhyZWFkc1twYXJlbnRJRF0gfHwgW107XG5cbiAgICAgICAgICB2YXIgdGhyZWFkTWVzc2FnZXMgPSB0aGlzLl9hZGRUb01lc3NhZ2VMaXN0KHRocmVhZCwgbWVzc2FnZSwgdGltZXN0YW1wQ2hhbmdlZCwgJ2NyZWF0ZWRfYXQnLCBhZGRJZkRvZXNOb3RFeGlzdCk7XG5cbiAgICAgICAgICB0aGlzLnRocmVhZHNbcGFyZW50SURdID0gdGhyZWFkTWVzc2FnZXM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZVNldDogdGhpcy5tZXNzYWdlU2V0c1t0YXJnZXRNZXNzYWdlU2V0SW5kZXhdXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRQaW5uZWRNZXNzYWdlcyAtIGFkZHMgbWVzc2FnZXMgaW4gcGlubmVkTWVzc2FnZXMgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBwaW5uZWRNZXNzYWdlcyBBIGxpc3Qgb2YgcGlubmVkIG1lc3NhZ2VzXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZFBpbm5lZE1lc3NhZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBpbm5lZE1lc3NhZ2VzKHBpbm5lZE1lc3NhZ2VzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpbm5lZE1lc3NhZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHRoaXMuYWRkUGlubmVkTWVzc2FnZShwaW5uZWRNZXNzYWdlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZFBpbm5lZE1lc3NhZ2UgLSBhZGRzIG1lc3NhZ2UgaW4gcGlubmVkTWVzc2FnZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHBpbm5lZE1lc3NhZ2UgbWVzc2FnZSB0byB1cGRhdGVcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUGlubmVkTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRQaW5uZWRNZXNzYWdlKHBpbm5lZE1lc3NhZ2UpIHtcbiAgICAgIHRoaXMucGlubmVkTWVzc2FnZXMgPSB0aGlzLl9hZGRUb01lc3NhZ2VMaXN0KHRoaXMucGlubmVkTWVzc2FnZXMsIHRoaXMuZm9ybWF0TWVzc2FnZShwaW5uZWRNZXNzYWdlKSwgZmFsc2UsICdwaW5uZWRfYXQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVtb3ZlUGlubmVkTWVzc2FnZSAtIHJlbW92ZXMgcGlubmVkIG1lc3NhZ2UgZnJvbSBwaW5uZWRNZXNzYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gbWVzc2FnZSBtZXNzYWdlIHRvIHJlbW92ZVxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVQaW5uZWRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVBpbm5lZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgdmFyIF90aGlzJHJlbW92ZU1lc3NhZ2VGciA9IHRoaXMucmVtb3ZlTWVzc2FnZUZyb21BcnJheSh0aGlzLnBpbm5lZE1lc3NhZ2VzLCBtZXNzYWdlKSxcbiAgICAgICAgICByZXN1bHQgPSBfdGhpcyRyZW1vdmVNZXNzYWdlRnIucmVzdWx0O1xuXG4gICAgICB0aGlzLnBpbm5lZE1lc3NhZ2VzID0gcmVzdWx0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRSZWFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRSZWFjdGlvbihyZWFjdGlvbiwgbWVzc2FnZSwgZW5mb3JjZV91bmlxdWUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjtcbiAgICAgIHZhciBtZXNzYWdlV2l0aFJlYWN0aW9uID0gbWVzc2FnZTtcblxuICAgICAgdGhpcy5fdXBkYXRlTWVzc2FnZShtZXNzYWdlLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIG1lc3NhZ2VXaXRoUmVhY3Rpb24ub3duX3JlYWN0aW9ucyA9IF90aGlzMi5fYWRkT3duUmVhY3Rpb25Ub01lc3NhZ2UobXNnLm93bl9yZWFjdGlvbnMsIHJlYWN0aW9uLCBlbmZvcmNlX3VuaXF1ZSk7XG4gICAgICAgIHJldHVybiBfdGhpczIuZm9ybWF0TWVzc2FnZShtZXNzYWdlV2l0aFJlYWN0aW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWVzc2FnZVdpdGhSZWFjdGlvbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZE93blJlYWN0aW9uVG9NZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRPd25SZWFjdGlvblRvTWVzc2FnZShvd25SZWFjdGlvbnMsIHJlYWN0aW9uLCBlbmZvcmNlX3VuaXF1ZSkge1xuICAgICAgaWYgKGVuZm9yY2VfdW5pcXVlKSB7XG4gICAgICAgIG93blJlYWN0aW9ucyA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duUmVhY3Rpb25zID0gdGhpcy5fcmVtb3ZlT3duUmVhY3Rpb25Gcm9tTWVzc2FnZShvd25SZWFjdGlvbnMsIHJlYWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgb3duUmVhY3Rpb25zID0gb3duUmVhY3Rpb25zIHx8IFtdO1xuXG4gICAgICBpZiAodGhpcy5fY2hhbm5lbC5nZXRDbGllbnQoKS51c2VySUQgPT09IHJlYWN0aW9uLnVzZXJfaWQpIHtcbiAgICAgICAgb3duUmVhY3Rpb25zLnB1c2gocmVhY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3duUmVhY3Rpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVtb3ZlT3duUmVhY3Rpb25Gcm9tTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlT3duUmVhY3Rpb25Gcm9tTWVzc2FnZShvd25SZWFjdGlvbnMsIHJlYWN0aW9uKSB7XG4gICAgICBpZiAob3duUmVhY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBvd25SZWFjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0udXNlcl9pZCAhPT0gcmVhY3Rpb24udXNlcl9pZCB8fCBpdGVtLnR5cGUgIT09IHJlYWN0aW9uLnR5cGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3duUmVhY3Rpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVSZWFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVSZWFjdGlvbihyZWFjdGlvbiwgbWVzc2FnZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICghbWVzc2FnZSkgcmV0dXJuO1xuICAgICAgdmFyIG1lc3NhZ2VXaXRoUmVhY3Rpb24gPSBtZXNzYWdlO1xuXG4gICAgICB0aGlzLl91cGRhdGVNZXNzYWdlKG1lc3NhZ2UsIGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgbWVzc2FnZVdpdGhSZWFjdGlvbi5vd25fcmVhY3Rpb25zID0gX3RoaXMzLl9yZW1vdmVPd25SZWFjdGlvbkZyb21NZXNzYWdlKG1zZy5vd25fcmVhY3Rpb25zLCByZWFjdGlvbik7XG4gICAgICAgIHJldHVybiBfdGhpczMuZm9ybWF0TWVzc2FnZShtZXNzYWdlV2l0aFJlYWN0aW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWVzc2FnZVdpdGhSZWFjdGlvbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlUXVvdGVkTWVzc2FnZVJlZmVyZW5jZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUXVvdGVkTWVzc2FnZVJlZmVyZW5jZXMobWVzc2FnZSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBwYXJzZU1lc3NhZ2UgPSBmdW5jdGlvbiBwYXJzZU1lc3NhZ2UobSkge1xuICAgICAgICB2YXIgX20kcGlubmVkX2F0LCBfbSR1cGRhdGVkX2F0O1xuXG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJDYoX29iamVjdFNwcmVhZCQ2KHt9LCBtKSwge30sIHtcbiAgICAgICAgICBjcmVhdGVkX2F0OiBtLmNyZWF0ZWRfYXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBwaW5uZWRfYXQ6IChfbSRwaW5uZWRfYXQgPSBtLnBpbm5lZF9hdCkgPT09IG51bGwgfHwgX20kcGlubmVkX2F0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbSRwaW5uZWRfYXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAoX20kdXBkYXRlZF9hdCA9IG0udXBkYXRlZF9hdCkgPT09IG51bGwgfHwgX20kdXBkYXRlZF9hdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20kdXBkYXRlZF9hdC50b0lTT1N0cmluZygpXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5tZXNzYWdlU2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgdmFyIHVwZGF0ZWRNZXNzYWdlcyA9IHNldC5tZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgIHJldHVybiBtc2cucXVvdGVkX21lc3NhZ2VfaWQgPT09IG1lc3NhZ2UuaWQ7XG4gICAgICAgIH0pLm1hcChwYXJzZU1lc3NhZ2UpLm1hcChmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIG1zZyksIHt9LCB7XG4gICAgICAgICAgICBxdW90ZWRfbWVzc2FnZTogX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgbWVzc2FnZSksIHt9LCB7XG4gICAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBbXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXM0LmFkZE1lc3NhZ2VzU29ydGVkKHVwZGF0ZWRNZXNzYWdlcywgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBhbGwgaW5zdGFuY2VzIG9mIGdpdmVuIG1lc3NhZ2UgaW4gY2hhbm5lbCBzdGF0ZVxuICAgICAqIEBwYXJhbSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHVwZGF0ZUZ1bmNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVNZXNzYWdlKG1lc3NhZ2UsIHVwZGF0ZUZ1bmMpIHtcbiAgICAgIHZhciBwYXJlbnRfaWQgPSBtZXNzYWdlLnBhcmVudF9pZCxcbiAgICAgICAgICBzaG93X2luX2NoYW5uZWwgPSBtZXNzYWdlLnNob3dfaW5fY2hhbm5lbCxcbiAgICAgICAgICBwaW5uZWQgPSBtZXNzYWdlLnBpbm5lZDtcblxuICAgICAgaWYgKHBhcmVudF9pZCAmJiB0aGlzLnRocmVhZHNbcGFyZW50X2lkXSkge1xuICAgICAgICB2YXIgdGhyZWFkID0gdGhpcy50aHJlYWRzW3BhcmVudF9pZF07XG4gICAgICAgIHZhciBtc2dJbmRleCA9IHRocmVhZC5maW5kSW5kZXgoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgIHJldHVybiBtc2cuaWQgPT09IG1lc3NhZ2UuaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtc2dJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aHJlYWRbbXNnSW5kZXhdID0gdXBkYXRlRnVuYyh0aHJlYWRbbXNnSW5kZXhdKTtcbiAgICAgICAgICB0aGlzLnRocmVhZHNbcGFyZW50X2lkXSA9IHRocmVhZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXNob3dfaW5fY2hhbm5lbCAmJiAhcGFyZW50X2lkIHx8IHNob3dfaW5fY2hhbm5lbCkge1xuICAgICAgICB2YXIgbWVzc2FnZVNldEluZGV4ID0gdGhpcy5maW5kTWVzc2FnZVNldEluZGV4KG1lc3NhZ2UpO1xuXG4gICAgICAgIGlmIChtZXNzYWdlU2V0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdmFyIF9tc2dJbmRleCA9IHRoaXMubWVzc2FnZVNldHNbbWVzc2FnZVNldEluZGV4XS5tZXNzYWdlcy5maW5kSW5kZXgoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgcmV0dXJuIG1zZy5pZCA9PT0gbWVzc2FnZS5pZDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChfbXNnSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VTZXRzW21lc3NhZ2VTZXRJbmRleF0ubWVzc2FnZXNbX21zZ0luZGV4XSA9IHVwZGF0ZUZ1bmModGhpcy5tZXNzYWdlU2V0c1ttZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzW19tc2dJbmRleF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgIHZhciBfbXNnSW5kZXgyID0gdGhpcy5waW5uZWRNZXNzYWdlcy5maW5kSW5kZXgoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgIHJldHVybiBtc2cuaWQgPT09IG1lc3NhZ2UuaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfbXNnSW5kZXgyICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMucGlubmVkTWVzc2FnZXNbX21zZ0luZGV4Ml0gPSB1cGRhdGVGdW5jKHRoaXMucGlubmVkTWVzc2FnZXNbX21zZ0luZGV4Ml0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHRlciBmb3IgaXNVcFRvRGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpc1VwVG9EYXRlICBGbGFnIHdoaWNoIGluZGljYXRlcyBpZiBjaGFubmVsIHN0YXRlIGNvbnRhaW4gbGF0ZXN0L3JlY2VudCBtZXNzYWdlcyBvciBuby5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgVGhpcyBmbGFnIHNob3VsZCBiZSBtYW5hZ2VkIGJ5IFVJIHNka3MgdXNpbmcgYSBzZXR0ZXIgLSBzZXRJc1VwVG9EYXRlLlxuICAgICAqICAgICAgICAgICAgICAgICAgICBXaGVuIGZhbHNlLCBhbnkgbmV3IG1lc3NhZ2UgKHJlY2VpdmVkIGJ5IHdlYnNvY2tldCBldmVudCAtIG1lc3NhZ2UubmV3KSB3aWxsIG5vdFxuICAgICAqICAgICAgICAgICAgICAgICAgICBiZSBwdXNoZWQgb24gdG8gbWVzc2FnZSBsaXN0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZFRvTWVzc2FnZUxpc3RcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBfYWRkVG9NZXNzYWdlTGlzdCAtIEFkZHMgYSBtZXNzYWdlIHRvIGEgbGlzdCBvZiBtZXNzYWdlcywgdHJpZXMgdG8gdXBkYXRlIGZpcnN0LCBhcHBlbmRzIGlmIG1lc3NhZ2UgaXNuJ3QgZm91bmRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8UmV0dXJuVHlwZTxDaGFubmVsU3RhdGU8U3RyZWFtQ2hhdEdlbmVyaWNzPlsnZm9ybWF0TWVzc2FnZSddPj59IG1lc3NhZ2VzIEEgbGlzdCBvZiBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0aW1lc3RhbXBDaGFuZ2VkIFdoZXRoZXIgdXBkYXRpbmcgYSBtZXNzYWdlIHdpdGggY2hhbmdlZCBjcmVhdGVkX2F0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgZmllbGQgbmFtZSB0byB1c2UgdG8gc29ydCB0aGUgbWVzc2FnZXMgYnlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFkZElmRG9lc05vdEV4aXN0IEFkZCBtZXNzYWdlIGlmIGl0IGlzIG5vdCBpbiB0aGUgbGlzdCwgdXNlZCB0byBwcmV2ZW50IG91dCBvZiBvcmRlciB1cGRhdGVkIG1lc3NhZ2VzIGZyb20gYmVpbmcgYWRkZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gX2FkZFRvTWVzc2FnZUxpc3QobWVzc2FnZXMsIG1lc3NhZ2UpIHtcbiAgICAgIHZhciB0aW1lc3RhbXBDaGFuZ2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgIHZhciBzb3J0QnkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdjcmVhdGVkX2F0JztcbiAgICAgIHZhciBhZGRJZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdHJ1ZTtcbiAgICAgIHZhciBhZGRNZXNzYWdlVG9MaXN0ID0gYWRkSWZEb2VzTm90RXhpc3QgfHwgdGltZXN0YW1wQ2hhbmdlZDtcbiAgICAgIHZhciBtZXNzYWdlQXJyID0gbWVzc2FnZXM7IC8vIGlmIGNyZWF0ZWRfYXQgaGFzIGNoYW5nZWQsIG1lc3NhZ2Ugc2hvdWxkIGJlIGZpbHRlcmVkIGFuZCByZS1pbnNlcnRlZCBpbiBjb3JyZWN0IG9yZGVyXG4gICAgICAvLyBzbG93IG9wIGJ1dCB1c3VhbGx5IHRoaXMgb25seSBoYXBwZW5zIGZvciBhIG1lc3NhZ2UgaW5zZXJ0ZWQgdG8gc3RhdGUgYmVmb3JlIGFjdHVhbCByZXNwb25zZSB3aXRoIGNvcnJlY3QgdGltZXN0YW1wXG5cbiAgICAgIGlmICh0aW1lc3RhbXBDaGFuZ2VkKSB7XG4gICAgICAgIG1lc3NhZ2VBcnIgPSBtZXNzYWdlQXJyLmZpbHRlcihmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgcmV0dXJuICEobXNnLmlkICYmIG1lc3NhZ2UuaWQgPT09IG1zZy5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBHZXQgYXJyYXkgbGVuZ3RoIGFmdGVyIGZpbHRlcmluZ1xuXG5cbiAgICAgIHZhciBtZXNzYWdlQXJyYXlMZW5ndGggPSBtZXNzYWdlQXJyLmxlbmd0aDsgLy8gZm9yIGVtcHR5IGxpc3QganVzdCBjb25jYXQgYW5kIHJldHVybiB1bmxlc3MgaXQncyBhbiB1cGRhdGUgb3IgZGVsZXRpb25cblxuICAgICAgaWYgKG1lc3NhZ2VBcnJheUxlbmd0aCA9PT0gMCAmJiBhZGRNZXNzYWdlVG9MaXN0KSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlQXJyLmNvbmNhdChtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZUFycmF5TGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZUFycik7XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXNzYWdlVGltZSA9IG1lc3NhZ2Vbc29ydEJ5XS5nZXRUaW1lKCk7XG4gICAgICB2YXIgbWVzc2FnZUlzTmV3ZXN0ID0gbWVzc2FnZUFyclttZXNzYWdlQXJyYXlMZW5ndGggLSAxXVtzb3J0QnldLmdldFRpbWUoKSA8IG1lc3NhZ2VUaW1lOyAvLyBpZiBtZXNzYWdlIGlzIG5ld2VyIHRoYW4gbGFzdCBpdGVtIGluIHRoZSBsaXN0IGNvbmNhdCBhbmQgcmV0dXJuIHVubGVzcyBpdCdzIGFuIHVwZGF0ZSBvciBkZWxldGlvblxuXG4gICAgICBpZiAobWVzc2FnZUlzTmV3ZXN0ICYmIGFkZE1lc3NhZ2VUb0xpc3QpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VBcnIuY29uY2F0KG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlSXNOZXdlc3QpIHtcbiAgICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlQXJyKTtcbiAgICAgIH0gLy8gZmluZCB0aGUgY2xvc2VzdCBpbmRleCB0byBwdXNoIHRoZSBuZXcgbWVzc2FnZVxuXG5cbiAgICAgIHZhciBsZWZ0ID0gMDtcbiAgICAgIHZhciBtaWRkbGUgPSAwO1xuICAgICAgdmFyIHJpZ2h0ID0gbWVzc2FnZUFycmF5TGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICAgICAgbWlkZGxlID0gTWF0aC5mbG9vcigocmlnaHQgKyBsZWZ0KSAvIDIpO1xuICAgICAgICBpZiAobWVzc2FnZUFyclttaWRkbGVdW3NvcnRCeV0uZ2V0VGltZSgpIDw9IG1lc3NhZ2VUaW1lKSBsZWZ0ID0gbWlkZGxlICsgMTtlbHNlIHJpZ2h0ID0gbWlkZGxlIC0gMTtcbiAgICAgIH0gLy8gbWVzc2FnZSBhbHJlYWR5IGV4aXN0cyBhbmQgbm90IGZpbHRlcmVkIGR1ZSB0byB0aW1lc3RhbXBDaGFuZ2VkLCB1cGRhdGUgYW5kIHJldHVyblxuXG5cbiAgICAgIGlmICghdGltZXN0YW1wQ2hhbmdlZCAmJiBtZXNzYWdlLmlkKSB7XG4gICAgICAgIGlmIChtZXNzYWdlQXJyW2xlZnRdICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VBcnJbbGVmdF0uaWQpIHtcbiAgICAgICAgICBtZXNzYWdlQXJyW2xlZnRdID0gbWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KG1lc3NhZ2VBcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lc3NhZ2VBcnJbbGVmdCAtIDFdICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VBcnJbbGVmdCAtIDFdLmlkKSB7XG4gICAgICAgICAgbWVzc2FnZUFycltsZWZ0IC0gMV0gPSBtZXNzYWdlO1xuICAgICAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZUFycik7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gRG8gbm90IGFkZCB1cGRhdGVkIG9yIGRlbGV0ZWQgbWVzc2FnZXMgdG8gdGhlIGxpc3QgaWYgdGhleSBkbyBub3QgYWxyZWFkeSBleGlzdFxuICAgICAgLy8gb3IgaGF2ZSBhIHRpbWVzdGFtcCBjaGFuZ2UuXG5cblxuICAgICAgaWYgKGFkZE1lc3NhZ2VUb0xpc3QpIHtcbiAgICAgICAgbWVzc2FnZUFyci5zcGxpY2UobGVmdCwgMCwgbWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZUFycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZU1lc3NhZ2UgLSBEZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHt7IGlkOiBzdHJpbmc7IHBhcmVudF9pZD86IHN0cmluZyB9fSBtZXNzYWdlVG9SZW1vdmUgT2JqZWN0IG9mIHRoZSBtZXNzYWdlIHRvIHJlbW92ZS4gTmVlZHMgdG8gaGF2ZSBhdCBpZCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIGlmIHRoZSBtZXNzYWdlIHdhcyByZW1vdmVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2UobWVzc2FnZVRvUmVtb3ZlKSB7XG4gICAgICB2YXIgaXNSZW1vdmVkID0gZmFsc2U7XG5cbiAgICAgIGlmIChtZXNzYWdlVG9SZW1vdmUucGFyZW50X2lkICYmIHRoaXMudGhyZWFkc1ttZXNzYWdlVG9SZW1vdmUucGFyZW50X2lkXSkge1xuICAgICAgICB2YXIgX3RoaXMkcmVtb3ZlTWVzc2FnZUZyMiA9IHRoaXMucmVtb3ZlTWVzc2FnZUZyb21BcnJheSh0aGlzLnRocmVhZHNbbWVzc2FnZVRvUmVtb3ZlLnBhcmVudF9pZF0sIG1lc3NhZ2VUb1JlbW92ZSksXG4gICAgICAgICAgICByZW1vdmVkID0gX3RoaXMkcmVtb3ZlTWVzc2FnZUZyMi5yZW1vdmVkLFxuICAgICAgICAgICAgdGhyZWFkTWVzc2FnZXMgPSBfdGhpcyRyZW1vdmVNZXNzYWdlRnIyLnJlc3VsdDtcblxuICAgICAgICB0aGlzLnRocmVhZHNbbWVzc2FnZVRvUmVtb3ZlLnBhcmVudF9pZF0gPSB0aHJlYWRNZXNzYWdlcztcbiAgICAgICAgaXNSZW1vdmVkID0gcmVtb3ZlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbWVzc2FnZVRvUmVtb3ZlJG1lc3M7XG5cbiAgICAgICAgdmFyIG1lc3NhZ2VTZXRJbmRleCA9IChfbWVzc2FnZVRvUmVtb3ZlJG1lc3MgPSBtZXNzYWdlVG9SZW1vdmUubWVzc2FnZVNldEluZGV4KSAhPT0gbnVsbCAmJiBfbWVzc2FnZVRvUmVtb3ZlJG1lc3MgIT09IHZvaWQgMCA/IF9tZXNzYWdlVG9SZW1vdmUkbWVzcyA6IHRoaXMuZmluZE1lc3NhZ2VTZXRJbmRleChtZXNzYWdlVG9SZW1vdmUpO1xuXG4gICAgICAgIGlmIChtZXNzYWdlU2V0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdmFyIF90aGlzJHJlbW92ZU1lc3NhZ2VGcjMgPSB0aGlzLnJlbW92ZU1lc3NhZ2VGcm9tQXJyYXkodGhpcy5tZXNzYWdlU2V0c1ttZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzLCBtZXNzYWdlVG9SZW1vdmUpLFxuICAgICAgICAgICAgICBfcmVtb3ZlZCA9IF90aGlzJHJlbW92ZU1lc3NhZ2VGcjMucmVtb3ZlZCxcbiAgICAgICAgICAgICAgbWVzc2FnZXMgPSBfdGhpcyRyZW1vdmVNZXNzYWdlRnIzLnJlc3VsdDtcblxuICAgICAgICAgIHRoaXMubWVzc2FnZVNldHNbbWVzc2FnZVNldEluZGV4XS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgICAgICAgIGlzUmVtb3ZlZCA9IF9yZW1vdmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbHRlckVycm9yTWVzc2FnZXNcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBmaWx0ZXJFcnJvck1lc3NhZ2VzIC0gUmVtb3ZlcyBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBjaGFubmVsIHN0YXRlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyRXJyb3JNZXNzYWdlcygpIHtcbiAgICAgIHZhciBmaWx0ZXJlZE1lc3NhZ2VzID0gdGhpcy5sYXRlc3RNZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudHlwZSAhPT0gJ2Vycm9yJztcbiAgICAgIH0pO1xuICAgICAgdGhpcy5sYXRlc3RNZXNzYWdlcyA9IGZpbHRlcmVkTWVzc2FnZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFuIC0gUmVtb3ZlIHN0YWxlIGRhdGEgc3VjaCBhcyB1c2VycyB0aGF0IHN0YXllZCBpbiB0eXBpbmcgc3RhdGUgZm9yIG1vcmUgdGhhbiA1IHNlY29uZHNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNsZWFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFuKCkge1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7IC8vIHByZXZlbnQgb2xkIHVzZXJzIGZyb20gc2hvd2luZyB1cCBhcyB0eXBpbmdcblxuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLnR5cGluZyk7IF9pIDwgX09iamVjdCRlbnRyaWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksXG4gICAgICAgICAgICB1c2VySUQgPSBfT2JqZWN0JGVudHJpZXMkX2lbMF0sXG4gICAgICAgICAgICBsYXN0RXZlbnQgPSBfT2JqZWN0JGVudHJpZXMkX2lbMV07XG5cbiAgICAgICAgdmFyIHJlY2VpdmVkQXQgPSB0eXBlb2YgbGFzdEV2ZW50LnJlY2VpdmVkX2F0ID09PSAnc3RyaW5nJyA/IG5ldyBEYXRlKGxhc3RFdmVudC5yZWNlaXZlZF9hdCkgOiBsYXN0RXZlbnQucmVjZWl2ZWRfYXQgfHwgbmV3IERhdGUoKTtcblxuICAgICAgICBpZiAobm93LmdldFRpbWUoKSAtIHJlY2VpdmVkQXQuZ2V0VGltZSgpID4gNzAwMCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnR5cGluZ1t1c2VySURdO1xuXG4gICAgICAgICAgdGhpcy5fY2hhbm5lbC5nZXRDbGllbnQoKS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgIGNpZDogdGhpcy5fY2hhbm5lbC5jaWQsXG4gICAgICAgICAgICB0eXBlOiAndHlwaW5nLnN0b3AnLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBpZDogdXNlcklEXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJNZXNzYWdlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhck1lc3NhZ2VzKCkge1xuICAgICAgdGhpcy5pbml0TWVzc2FnZXMoKTtcbiAgICAgIHRoaXMucGlubmVkTWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdE1lc3NhZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRNZXNzYWdlcygpIHtcbiAgICAgIHRoaXMubWVzc2FnZVNldHMgPSBbe1xuICAgICAgICBtZXNzYWdlczogW10sXG4gICAgICAgIGlzTGF0ZXN0OiB0cnVlLFxuICAgICAgICBpc0N1cnJlbnQ6IHRydWVcbiAgICAgIH1dO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBsb2FkTWVzc2FnZUludG9TdGF0ZSAtIExvYWRzIGEgZ2l2ZW4gbWVzc2FnZSAoYW5kIG1lc3NhZ2VzIGFyb3VuZCBpdCkgaW50byB0aGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSWQgVGhlIGlkIG9mIHRoZSBtZXNzYWdlLCBvciAnbGF0ZXN0JyB0byBpbmRpY2F0ZSBzd2l0Y2hpbmcgdG8gdGhlIGxhdGVzdCBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRNZXNzYWdlSWQgVGhlIGlkIG9mIHRoZSBwYXJlbnQgbWVzc2FnZSwgaWYgd2Ugd2FudCBsb2FkIGEgdGhyZWFkIHJlcGx5XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsb2FkTWVzc2FnZUludG9TdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2xvYWRNZXNzYWdlSW50b1N0YXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShtZXNzYWdlSWQsIHBhcmVudE1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgX3RoaXMkdGhyZWFkcyRwYXJlbnRNO1xuXG4gICAgICAgIHZhciBsaW1pdCxcbiAgICAgICAgICAgIG1lc3NhZ2VTZXRJbmRleCxcbiAgICAgICAgICAgIHN3aXRjaGVkVG9NZXNzYWdlU2V0LFxuICAgICAgICAgICAgbG9hZGVkTWVzc2FnZVRocmVhZCxcbiAgICAgICAgICAgIG1lc3NhZ2VJZFRvRmluZCxcbiAgICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGxpbWl0ID0gX2FyZ3MubGVuZ3RoID4gMiAmJiBfYXJnc1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMl0gOiAyNTtcbiAgICAgICAgICAgICAgICBzd2l0Y2hlZFRvTWVzc2FnZVNldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxvYWRlZE1lc3NhZ2VUaHJlYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWRUb0ZpbmQgPSBwYXJlbnRNZXNzYWdlSWQgfHwgbWVzc2FnZUlkO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZUlkID09PSAnbGF0ZXN0JykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMubWVzc2FnZXMgPT09IHRoaXMubGF0ZXN0TWVzc2FnZXMpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIG1lc3NhZ2VTZXRJbmRleCA9IHRoaXMubWVzc2FnZVNldHMuZmluZEluZGV4KGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2V0SW5kZXggPSB0aGlzLmZpbmRNZXNzYWdlU2V0SW5kZXgoe1xuICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZFRvRmluZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VTZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9NZXNzYWdlU2V0KG1lc3NhZ2VTZXRJbmRleCk7XG4gICAgICAgICAgICAgICAgICBzd2l0Y2hlZFRvTWVzc2FnZVNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9hZGVkTWVzc2FnZVRocmVhZCA9ICFwYXJlbnRNZXNzYWdlSWQgfHwgISEoKF90aGlzJHRocmVhZHMkcGFyZW50TSA9IHRoaXMudGhyZWFkc1twYXJlbnRNZXNzYWdlSWRdKSAhPT0gbnVsbCAmJiBfdGhpcyR0aHJlYWRzJHBhcmVudE0gIT09IHZvaWQgMCAmJiBfdGhpcyR0aHJlYWRzJHBhcmVudE0uZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaWQgPT09IG1lc3NhZ2VJZDtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIShzd2l0Y2hlZFRvTWVzc2FnZVNldCAmJiBsb2FkZWRNZXNzYWdlVGhyZWFkKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIGlmIChzd2l0Y2hlZFRvTWVzc2FnZVNldCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGFubmVsLnF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkX2Fyb3VuZDogbWVzc2FnZUlkVG9GaW5kLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogbGltaXRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAnbmV3Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICBpZiAoISghbG9hZGVkTWVzc2FnZVRocmVhZCAmJiBwYXJlbnRNZXNzYWdlSWQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5uZWwuZ2V0UmVwbGllcyhwYXJlbnRNZXNzYWdlSWQsIHtcbiAgICAgICAgICAgICAgICAgIGlkX2Fyb3VuZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2V0SW5kZXggPSB0aGlzLmZpbmRNZXNzYWdlU2V0SW5kZXgoe1xuICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZFRvRmluZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VTZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9NZXNzYWdlU2V0KG1lc3NhZ2VTZXRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxvYWRNZXNzYWdlSW50b1N0YXRlKF94LCBfeDIpIHtcbiAgICAgICAgcmV0dXJuIF9sb2FkTWVzc2FnZUludG9TdGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9hZE1lc3NhZ2VJbnRvU3RhdGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZmluZE1lc3NhZ2UgLSBGaW5kcyBhIG1lc3NhZ2UgaW5zaWRlIHRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCBUaGUgaWQgb2YgdGhlIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50TWVzc2FnZUlkIFRoZSBpZCBvZiB0aGUgcGFyZW50IG1lc3NhZ2UsIGlmIHdlIHdhbnQgbG9hZCBhIHRocmVhZCByZXBseVxuICAgICAqXG4gICAgICogQHJldHVybiB7UmV0dXJuVHlwZTxDaGFubmVsU3RhdGU8U3RyZWFtQ2hhdEdlbmVyaWNzPlsnZm9ybWF0TWVzc2FnZSddPn0gUmV0dXJucyB0aGUgbWVzc2FnZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBtZXNzYWdlIHdhc24ndCBmb3VuZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmluZE1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZE1lc3NhZ2UobWVzc2FnZUlkLCBwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgIGlmIChwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy50aHJlYWRzW3BhcmVudE1lc3NhZ2VJZF07XG5cbiAgICAgICAgaWYgKCFtZXNzYWdlcykge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZXMuZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgICAgIHJldHVybiBtLmlkID09PSBtZXNzYWdlSWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVzc2FnZVNldEluZGV4ID0gdGhpcy5maW5kTWVzc2FnZVNldEluZGV4KHtcbiAgICAgICAgaWQ6IG1lc3NhZ2VJZFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChtZXNzYWdlU2V0SW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VTZXRzW21lc3NhZ2VTZXRJbmRleF0ubWVzc2FnZXMuZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gbS5pZCA9PT0gbWVzc2FnZUlkO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN3aXRjaFRvTWVzc2FnZVNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hUb01lc3NhZ2VTZXQoaW5kZXgpIHtcbiAgICAgIHZhciBjdXJyZW50TWVzc2FnZXMgPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmQoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHMuaXNDdXJyZW50O1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghY3VycmVudE1lc3NhZ2VzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY3VycmVudE1lc3NhZ2VzLmlzQ3VycmVudCA9IGZhbHNlO1xuICAgICAgdGhpcy5tZXNzYWdlU2V0c1tpbmRleF0uaXNDdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXJlTWVzc2FnZVNldHNPdmVybGFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFyZU1lc3NhZ2VTZXRzT3ZlcmxhcChtZXNzYWdlczEsIG1lc3NhZ2VzMikge1xuICAgICAgcmV0dXJuIG1lc3NhZ2VzMS5zb21lKGZ1bmN0aW9uIChtMSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZXMyLmZpbmQoZnVuY3Rpb24gKG0yKSB7XG4gICAgICAgICAgcmV0dXJuIG0xLmlkID09PSBtMi5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmluZE1lc3NhZ2VTZXRJbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kTWVzc2FnZVNldEluZGV4KG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAoc2V0KSB7XG4gICAgICAgIHJldHVybiAhIXNldC5tZXNzYWdlcy5maW5kKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIG0uaWQgPT09IG1lc3NhZ2UuaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbmRUYXJnZXRNZXNzYWdlU2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRUYXJnZXRNZXNzYWdlU2V0KG5ld01lc3NhZ2VzKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIGFkZElmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuICAgICAgdmFyIG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjdXJyZW50JztcbiAgICAgIHZhciBtZXNzYWdlc1RvQWRkID0gbmV3TWVzc2FnZXM7XG4gICAgICB2YXIgdGFyZ2V0TWVzc2FnZVNldEluZGV4O1xuXG4gICAgICBpZiAoYWRkSWZEb2VzTm90RXhpc3QpIHtcbiAgICAgICAgdmFyIG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXMgPSB0aGlzLm1lc3NhZ2VTZXRzLm1hcChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM1LmFyZU1lc3NhZ2VTZXRzT3ZlcmxhcChfdGhpczUubWVzc2FnZVNldHNbaV0ubWVzc2FnZXMsIG5ld01lc3NhZ2VzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0KSB7XG4gICAgICAgICAgY2FzZSAnbmV3JzpcbiAgICAgICAgICAgIGlmIChvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gb3ZlcmxhcHBpbmdNZXNzYWdlU2V0SW5kaWNlc1swXTsgLy8gTm8gbmV3IG1lc3NhZ2Ugc2V0IGlzIGNyZWF0ZWQgaWYgbmV3TWVzc2FnZXMgb25seSBjb250YWlucyB0aHJlYWQgcmVwbGllc1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdNZXNzYWdlcy5zb21lKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgIHJldHVybiAhbS5wYXJlbnRfaWQ7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VTZXRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICBpc0N1cnJlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzTGF0ZXN0OiBmYWxzZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2N1cnJlbnQnOlxuICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHMuaXNDdXJyZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2xhdGVzdCc6XG4gICAgICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gLTE7XG4gICAgICAgIH0gLy8gd2hlbiBtZXJnaW5nIHRoZSB0YXJnZXQgc2V0IHdpbGwgYmUgdGhlIGZpcnN0IG9uZSBmcm9tIHRoZSBvdmVybGFwcGluZyBtZXNzYWdlIHNldHNcblxuXG4gICAgICAgIHZhciBtZXJnZVRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXMuc3BsaWNlKDAsIDEpWzBdO1xuXG4gICAgICAgIHZhciBtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzID0gX3RvQ29uc3VtYWJsZUFycmF5KG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXMpO1xuXG4gICAgICAgIGlmIChtZXJnZVRhcmdldE1lc3NhZ2VTZXRJbmRleCAhPT0gdW5kZWZpbmVkICYmIG1lcmdlVGFyZ2V0TWVzc2FnZVNldEluZGV4ICE9PSB0YXJnZXRNZXNzYWdlU2V0SW5kZXgpIHtcbiAgICAgICAgICBtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzLnB1c2godGFyZ2V0TWVzc2FnZVNldEluZGV4KTtcbiAgICAgICAgfSAvLyBtZXJnZSBtZXNzYWdlIHNldHNcblxuXG4gICAgICAgIGlmIChtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5tZXNzYWdlU2V0c1ttZXJnZVRhcmdldE1lc3NhZ2VTZXRJbmRleF07XG4gICAgICAgICAgdmFyIHNvdXJjZXMgPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbHRlcihmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlU291cmNlTWVzc2FnZVNldEluZGljZXMuaW5kZXhPZihpKSAhPT0gLTE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlU2V0KSB7XG4gICAgICAgICAgICB0YXJnZXQuaXNMYXRlc3QgPSB0YXJnZXQuaXNMYXRlc3QgfHwgbWVzc2FnZVNldC5pc0xhdGVzdDtcbiAgICAgICAgICAgIHRhcmdldC5pc0N1cnJlbnQgPSB0YXJnZXQuaXNDdXJyZW50IHx8IG1lc3NhZ2VTZXQuaXNDdXJyZW50O1xuICAgICAgICAgICAgbWVzc2FnZXNUb0FkZCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZXNUb0FkZCksIF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlU2V0Lm1lc3NhZ2VzKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1Lm1lc3NhZ2VTZXRzLnNwbGljZShfdGhpczUubWVzc2FnZVNldHMuaW5kZXhPZihzKSwgMSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczUuYXJlTWVzc2FnZVNldHNPdmVybGFwKHMubWVzc2FnZXMsIG5ld01lc3NhZ2VzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXggPSBvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRleDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXNzdW1lcyB0aGF0IGFsbCBuZXcgbWVzc2FnZXMgYmVsb25nIHRvIHRoZSBzYW1lIHNldFxuICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXggPSB0aGlzLmZpbmRNZXNzYWdlU2V0SW5kZXgobmV3TWVzc2FnZXNbMF0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXg6IHRhcmdldE1lc3NhZ2VTZXRJbmRleCxcbiAgICAgICAgbWVzc2FnZXNUb0FkZDogbWVzc2FnZXNUb0FkZFxuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhbm5lbFN0YXRlO1xufSgpO1xuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQzKG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gKF9lKSB7IGZ1bmN0aW9uIGUoX3gpIHsgcmV0dXJuIF9lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9lLnRvU3RyaW5nKCk7IH07IHJldHVybiBlOyB9KGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIChfZTIpIHsgZnVuY3Rpb24gZShfeDIpIHsgcmV0dXJuIF9lMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfZTIudG9TdHJpbmcoKTsgfTsgcmV0dXJuIGU7IH0oZnVuY3Rpb24gKGUpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gZTsgfSksIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDMobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMyhvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDMoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbi8qKlxuICogbG9nQ2hhdFByb21pc2VFeGVjdXRpb24gLSB1dGlsaXR5IGZ1bmN0aW9uIGZvciBsb2dnaW5nIHRoZSBleGVjdXRpb24gb2YgYSBwcm9taXNlLi5cbiAqICB1c2UgdGhpcyB3aGVuIHlvdSB3YW50IHRvIHJ1biB0aGUgcHJvbWlzZSBhbmQgaGFuZGxlIGVycm9ycyBieSBsb2dnaW5nIGEgd2FybmluZ1xuICpcbiAqIEBwYXJhbSB7UHJvbWlzZTxUPn0gcHJvbWlzZSBUaGUgcHJvbWlzZSB5b3Ugd2FudCB0byBydW4gYW5kIGxvZ1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgQSBkZXNjcmlwdGl2ZSBuYW1lIG9mIHdoYXQgdGhlIHByb21pc2UgZG9lcyBmb3IgbG9nIG91dHB1dFxuICpcbiAqL1xuZnVuY3Rpb24gbG9nQ2hhdFByb21pc2VFeGVjdXRpb24ocHJvbWlzZSwgbmFtZSkge1xuICBwcm9taXNlLnRoZW4oKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oXCJmYWlsZWQgdG8gZG8gXCIuY29uY2F0KG5hbWUsIFwiLCByYW4gaW50byBlcnJvcjogXCIpLCBlcnJvcik7XG4gIH0pO1xufVxudmFyIHNsZWVwID0gZnVuY3Rpb24gc2xlZXAobSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyLCBtKTtcbiAgfSk7XG59O1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHwgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHZhbHVlIHx8IHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pO1xufVxudmFyIGNoYXRDb2RlcyA9IHtcbiAgVE9LRU5fRVhQSVJFRDogNDAsXG4gIFdTX0NMT1NFRF9TVUNDRVNTOiAxMDAwXG59O1xuXG5mdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtKG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIF90eXBlb2Yob2JqKSA9PT0gJ29iamVjdCcgJiYgKG9iai5yZWFkYWJsZSB8fCB0eXBlb2Ygb2JqLl9yZWFkID09PSAnZnVuY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKTtcbn1cblxuZnVuY3Rpb24gaXNGaWxlV2ViQVBJKHVyaSkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ0ZpbGUnIGluIHdpbmRvdyAmJiB1cmkgaW5zdGFuY2VvZiBGaWxlO1xufVxuXG5mdW5jdGlvbiBpc093blVzZXIodXNlcikge1xuICByZXR1cm4gKHVzZXIgPT09IG51bGwgfHwgdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlci50b3RhbF91bnJlYWRfY291bnQpICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQmxvYldlYkFQSSh1cmkpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICdCbG9iJyBpbiB3aW5kb3cgJiYgdXJpIGluc3RhbmNlb2YgQmxvYjtcbn1cblxuZnVuY3Rpb24gaXNPd25Vc2VyQmFzZVByb3BlcnR5KHByb3BlcnR5KSB7XG4gIHZhciBvd25Vc2VyQmFzZVByb3BlcnRpZXMgPSB7XG4gICAgY2hhbm5lbF9tdXRlczogdHJ1ZSxcbiAgICBkZXZpY2VzOiB0cnVlLFxuICAgIG11dGVzOiB0cnVlLFxuICAgIHRvdGFsX3VucmVhZF9jb3VudDogdHJ1ZSxcbiAgICB1bnJlYWRfY2hhbm5lbHM6IHRydWUsXG4gICAgdW5yZWFkX2NvdW50OiB0cnVlLFxuICAgIGludmlzaWJsZTogdHJ1ZSxcbiAgICByb2xlczogdHJ1ZVxuICB9O1xuICByZXR1cm4gb3duVXNlckJhc2VQcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbn1cbmZ1bmN0aW9uIGFkZEZpbGVUb0Zvcm1EYXRhKHVyaSwgbmFtZSwgY29udGVudFR5cGUpIHtcbiAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuICBpZiAoaXNSZWFkYWJsZVN0cmVhbSh1cmkpIHx8IGlzQnVmZmVyKHVyaSkgfHwgaXNGaWxlV2ViQVBJKHVyaSkgfHwgaXNCbG9iV2ViQVBJKHVyaSkpIHtcbiAgICBpZiAobmFtZSkgZGF0YS5hcHBlbmQoJ2ZpbGUnLCB1cmksIG5hbWUpO2Vsc2UgZGF0YS5hcHBlbmQoJ2ZpbGUnLCB1cmkpO1xuICB9IGVsc2Uge1xuICAgIGRhdGEuYXBwZW5kKCdmaWxlJywge1xuICAgICAgdXJpOiB1cmksXG4gICAgICBuYW1lOiBuYW1lIHx8IHVyaS5zcGxpdCgnLycpLnJldmVyc2UoKVswXSxcbiAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSB8fCB1bmRlZmluZWQsXG4gICAgICB0eXBlOiBjb250ZW50VHlwZSB8fCB1bmRlZmluZWRcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpIHtcbiAgdmFyIHNvcnRGaWVsZHMgPSBbXTtcbiAgdmFyIHNvcnRBcnIgPSBBcnJheS5pc0FycmF5KHNvcnQpID8gc29ydCA6IFtzb3J0XTtcblxuICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMyhzb3J0QXJyKSxcbiAgICAgIF9zdGVwO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG4gICAgICB2YXIgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGl0ZW0pO1xuXG4gICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcImNsaWVudC5fYnVpbGRTb3J0KCkgLSBtdWx0aXBsZSBmaWVsZHMgaW4gYSBzaW5nbGUgc29ydCBvYmplY3QgZGV0ZWN0ZWQuIE9iamVjdCdzIGZpZWxkIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkXCIpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9lbnRyaWVzID0gZW50cmllczsgX2kgPCBfZW50cmllcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIF9lbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX2VudHJpZXNbX2ldLCAyKSxcbiAgICAgICAgICAgIGZpZWxkID0gX2VudHJpZXMkX2lbMF0sXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBfZW50cmllcyRfaVsxXTtcblxuICAgICAgICBzb3J0RmllbGRzLnB1c2goe1xuICAgICAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvci5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yLmYoKTtcbiAgfVxuXG4gIHJldHVybiBzb3J0RmllbGRzO1xufVxuLyoqXG4gKiByZXRyeUludGVydmFsIC0gQSByZXRyeSBpbnRlcnZhbCB3aGljaCBpbmNyZWFzZXMgYWNjIHRvIG51bWJlciBvZiBmYWlsdXJlc1xuICpcbiAqIEByZXR1cm4ge251bWJlcn0gRHVyYXRpb24gdG8gd2FpdCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuXG5mdW5jdGlvbiByZXRyeUludGVydmFsKG51bWJlck9mRmFpbHVyZXMpIHtcbiAgLy8gdHJ5IHRvIHJlY29ubmVjdCBpbiAwLjI1LTI1IHNlY29uZHMgKHJhbmRvbSB0byBzcHJlYWQgb3V0IHRoZSBsb2FkIGZyb20gZmFpbHVyZXMpXG4gIHZhciBtYXggPSBNYXRoLm1pbig1MDAgKyBudW1iZXJPZkZhaWx1cmVzICogMjAwMCwgMjUwMDApO1xuICB2YXIgbWluID0gTWF0aC5taW4oTWF0aC5tYXgoMjUwLCAobnVtYmVyT2ZGYWlsdXJlcyAtIDEpICogMjAwMCksIDI1MDAwKTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcbn1cbmZ1bmN0aW9uIHJhbmRvbUlkKCkge1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEdjQoKTtcbn1cblxuZnVuY3Rpb24gaGV4KGJ5dGVzKSB7XG4gIHZhciBzID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgIHMgKz0gYnl0ZXNbaV0udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cblxuICByZXR1cm4gcztcbn0gLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcblxuXG5mdW5jdGlvbiBnZW5lcmF0ZVVVSUR2NCgpIHtcbiAgdmFyIGJ5dGVzID0gZ2V0UmFuZG9tQnl0ZXMoMTYpO1xuICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IDB4NDA7IC8vIHZlcnNpb25cblxuICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHhiZiB8IDB4ODA7IC8vIHZhcmlhbnRcblxuICByZXR1cm4gaGV4KGJ5dGVzLnN1YmFycmF5KDAsIDQpKSArICctJyArIGhleChieXRlcy5zdWJhcnJheSg0LCA2KSkgKyAnLScgKyBoZXgoYnl0ZXMuc3ViYXJyYXkoNiwgOCkpICsgJy0nICsgaGV4KGJ5dGVzLnN1YmFycmF5KDgsIDEwKSkgKyAnLScgKyBoZXgoYnl0ZXMuc3ViYXJyYXkoMTAsIDE2KSk7XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tKGJ5dGVzKSB7XG4gIHZhciBtYXggPSBNYXRoLnBvdygyLCA4ICogYnl0ZXMuYnl0ZUxlbmd0aCAvIGJ5dGVzLmxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGJ5dGVzW2ldID0gTWF0aC5yYW5kb20oKSAqIG1heDtcbiAgfVxufVxuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX2NyeXB0bztcblxuICBpZiAodHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mICgoX2NyeXB0byA9IGNyeXB0bykgPT09IG51bGwgfHwgX2NyeXB0byA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NyeXB0by5nZXRSYW5kb21WYWx1ZXMpICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb207XG4gIH1cbn0oKTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tQnl0ZXMobGVuZ3RoKSB7XG4gIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gIHJldHVybiBieXRlcztcbn1cblxuZnVuY3Rpb24gY29udmVydEVycm9yVG9Kc29uKGVycikge1xuICB2YXIganNvbk9iaiA9IHt9O1xuICBpZiAoIWVycikgcmV0dXJuIGpzb25PYmo7XG5cbiAgdHJ5IHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAganNvbk9ialtrZXldID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlcnIsIGtleSk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6ICdmYWlsZWQgdG8gc2VyaWFsaXplIHRoZSBlcnJvcidcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGpzb25PYmo7XG59XG4vKipcbiAqIGlzT25saW5lIHNhZmVseSByZXR1cm4gdGhlIG5hdmlnYXRvci5vbmxpbmUgdmFsdWUgZm9yIGJyb3dzZXIgZW52XG4gKiBpZiBuYXZpZ2F0b3IgaXMgbm90IGluIGdsb2JhbCBvYmplY3QsIGl0IGFsd2F5cyByZXR1cm4gdHJ1ZVxuICovXG5cbmZ1bmN0aW9uIGlzT25saW5lKCkge1xuICB2YXIgbmF2ID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yID8gd2luZG93Lm5hdmlnYXRvciA6IHVuZGVmaW5lZDtcblxuICBpZiAoIW5hdikge1xuICAgIGNvbnNvbGUud2FybignaXNPbmxpbmUgZmFpbGVkIHRvIGFjY2VzcyB3aW5kb3cubmF2aWdhdG9yIGFuZCBhc3N1bWUgYnJvd3NlciBpcyBvbmxpbmUnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBSTiBuYXZpZ2F0b3IgaGFzIHVuZGVmaW5lZCBmb3Igb25MaW5lXG5cblxuICBpZiAodHlwZW9mIG5hdi5vbkxpbmUgIT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIG5hdi5vbkxpbmU7XG59XG4vKipcbiAqIGxpc3RlbkZvckNvbm5lY3Rpb25DaGFuZ2VzIC0gQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmaXJlZCBvbiBicm93c2VyIGdvaW5nIG9ubGluZSBvciBvZmZsaW5lXG4gKi9cblxuZnVuY3Rpb24gYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKGNiKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYikge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNiKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgY2IpO1xuICB9XG59XG52YXIgYXhpb3NQYXJhbXNTZXJpYWxpemVyID0gZnVuY3Rpb24gYXhpb3NQYXJhbXNTZXJpYWxpemVyKHBhcmFtcykge1xuICB2YXIgbmV3UGFyYW1zID0gW107XG5cbiAgZm9yICh2YXIgayBpbiBwYXJhbXMpIHtcbiAgICAvLyBTdHJlYW0gYmFja2VuZCBkb2Vzbid0IHRyZWF0IFwidW5kZWZpbmVkXCIgdmFsdWUgc2FtZSBhcyB2YWx1ZSBub3QgYmVpbmcgcHJlc2VudC5cbiAgICAvLyBTbywgd2UgbmVlZCB0byBza2lwIHRoZSB1bmRlZmluZWQgdmFsdWVzLlxuICAgIGlmIChwYXJhbXNba10gPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbXNba10pIHx8IF90eXBlb2YocGFyYW1zW2tdKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG5ld1BhcmFtcy5wdXNoKFwiXCIuY29uY2F0KGssIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHBhcmFtc1trXSkpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BhcmFtcy5wdXNoKFwiXCIuY29uY2F0KGssIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trXSkpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3UGFyYW1zLmpvaW4oJyYnKTtcbn07XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDIobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMihvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDIobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQyKG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMihhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyQ1KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ1KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkNShPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDUoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8qKlxuICogQ2hhbm5lbCAtIFRoZSBDaGFubmVsIGNsYXNzIG1hbmFnZXMgaXQncyBvd24gc3RhdGUuXG4gKi9cbnZhciBDaGFubmVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqICAqL1xuXG4gIC8qKlxuICAgKiBUaGlzIGJvb2xlYW4gaXMgYSB2YWd1ZSBpbmRpY2F0aW9uIG9mIHdlYXRoZXIgdGhlIGNoYW5uZWwgZXhpc3RzIG9uIGNoYXQgYmFja2VuZC5cbiAgICpcbiAgICogSWYgdGhlIHZhbHVlIGlzIHRydWUsIHRoZW4gdGhhdCBtZWFucyB0aGUgY2hhbm5lbCBoYXMgYmVlbiBpbml0aWFsaXplZCBieSBlaXRoZXIgY2FsbGluZ1xuICAgKiBjaGFubmVsLmNyZWF0ZSgpIG9yIGNoYW5uZWwucXVlcnkoKSBvciBjaGFubmVsLndhdGNoKCkuXG4gICAqXG4gICAqIElmIHRoZSB2YWx1ZSBpcyBmYWxzZSwgdGhlbiBjaGFubmVsIG1heSBvciBtYXkgbm90IGV4aXN0IG9uIHRoZSBiYWNrZW5kLiBUaGUgb25seSB3YXkgdG8gZW5zdXJlXG4gICAqIGlzIGJ5IGNhbGxpbmcgY2hhbm5lbC5jcmVhdGUoKSBvciBjaGFubmVsLnF1ZXJ5KCkgb3IgY2hhbm5lbC53YXRjaCgpLlxuICAgKi9cblxuICAvKipcbiAgICogSW5kaWNhdGVzIHdlYXRoZXIgY2hhbm5lbCBoYXMgYmVlbiBpbml0aWFsaXplZCBieSBtYW51YWxseSBwb3B1bGF0aW5nIHRoZSBzdGF0ZSB3aXRoIHNvbWUgbWVzc2FnZXMsIG1lbWJlcnMgZXRjLlxuICAgKiBTdGF0aWMgc3RhdGUgaW5kaWNhdGVzIHRoYXQgY2hhbm5lbCBleGlzdHMgb24gYmFja2VuZCwgYnV0IGlzIG5vdCBiZWluZyB3YXRjaGVkIHlldC5cbiAgICovXG5cbiAgLyoqXG4gICAqIGNvbnN0cnVjdG9yIC0gQ3JlYXRlIGEgY2hhbm5lbFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmVhbUNoYXQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gY2xpZW50IHRoZSBjaGF0IGNsaWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAgdGhlIHR5cGUgb2YgY2hhbm5lbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2lkXSAgdGhlIGlkIG9mIHRoZSBjaGF0XG4gICAqIEBwYXJhbSB7Q2hhbm5lbERhdGE8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gZGF0YSBhbnkgYWRkaXRpb25hbCBjdXN0b20gcGFyYW1zXG4gICAqXG4gICAqIEByZXR1cm4ge0NoYW5uZWw8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gUmV0dXJucyBhIG5ldyB1bmluaXRpYWxpemVkIGNoYW5uZWxcbiAgICovXG4gIGZ1bmN0aW9uIENoYW5uZWwoY2xpZW50LCB0eXBlLCBpZCwgZGF0YSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhbm5lbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2xpZW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eXBlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGF0YVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RhdGFcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNpZFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGlzdGVuZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0ZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5pdGlhbGl6ZWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9mZmxpbmVNb2RlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXN0S2V5U3Ryb2tlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXN0VHlwaW5nRXZlbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzVHlwaW5nXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkaXNjb25uZWN0ZWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNyZWF0ZVwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRPcHRpb25zO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zID0gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB3YXRjaDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBwcmVzZW5jZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucXVlcnkoZGVmYXVsdE9wdGlvbnMsICdsYXRlc3QnKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxsQ2hhbm5lbExpc3RlbmVyc1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjaGFubmVsID0gX3RoaXM7IC8vIGdhdGhlciBhbmQgY2FsbCB0aGUgbGlzdGVuZXJzXG5cbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICAgICAgaWYgKGNoYW5uZWwubGlzdGVuZXJzLmFsbCkge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIF90b0NvbnN1bWFibGVBcnJheShjaGFubmVsLmxpc3RlbmVycy5hbGwpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5uZWwubGlzdGVuZXJzW2V2ZW50LnR5cGVdKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgX3RvQ29uc3VtYWJsZUFycmF5KGNoYW5uZWwubGlzdGVuZXJzW2V2ZW50LnR5cGVdKSk7XG4gICAgICB9IC8vIGNhbGwgdGhlIGV2ZW50IGFuZCBzZW5kIGl0IHRvIHRoZSBsaXN0ZW5lcnNcblxuXG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7IF9pIDwgX2xpc3RlbmVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gX2xpc3RlbmVyc1tfaV07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jaGFubmVsVVJMXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjaGFubmVsIGlkIGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChfdGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMLCBcIi9jaGFubmVscy9cIikuY29uY2F0KF90aGlzLnR5cGUsIFwiL1wiKS5jb25jYXQoX3RoaXMuaWQpO1xuICAgIH0pO1xuXG4gICAgdmFyIHZhbGlkVHlwZVJlID0gL15bXFx3Xy1dKyQvO1xuICAgIHZhciB2YWxpZElEUmUgPSAvXltcXHchXy1dKyQvO1xuXG4gICAgaWYgKCF2YWxpZFR5cGVSZS50ZXN0KHR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNoYXQgdHlwZSBcIi5jb25jYXQodHlwZSwgXCIsIGxldHRlcnMsIG51bWJlcnMgYW5kIFxcXCJfLVxcXCIgYXJlIGFsbG93ZWRcIikpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnICYmICF2YWxpZElEUmUudGVzdChpZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2hhdCBpZCBcIi5jb25jYXQoaWQsIFwiLCBsZXR0ZXJzLCBudW1iZXJzIGFuZCBcXFwiIS1fXFxcIiBhcmUgYWxsb3dlZFwiKSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5pZCA9IGlkOyAvLyB1c2VkIGJ5IHRoZSBmcm9udGVuZCwgZ2V0cyB1cGRhdGVkOlxuXG4gICAgdGhpcy5kYXRhID0gZGF0YTsgLy8gdGhpcy5fZGF0YSBpcyB1c2VkIGZvciB0aGUgcmVxdWVzdHMuLi5cblxuICAgIHRoaXMuX2RhdGEgPSBfb2JqZWN0U3ByZWFkJDUoe30sIGRhdGEpO1xuICAgIHRoaXMuY2lkID0gXCJcIi5jb25jYXQodHlwZSwgXCI6XCIpLmNvbmNhdChpZCk7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSB7fTsgLy8gcGVyaGFwcyB0aGUgc3RhdGUgdmFyaWFibGUgc2hvdWxkIGJlIHByaXZhdGVcblxuICAgIHRoaXMuc3RhdGUgPSBuZXcgQ2hhbm5lbFN0YXRlKHRoaXMpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm9mZmxpbmVNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0VHlwaW5nRXZlbnQgPSBudWxsO1xuICAgIHRoaXMuaXNUeXBpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBnZXRDbGllbnQgLSBHZXQgdGhlIGNoYXQgY2xpZW50IGZvciB0aGlzIGNoYW5uZWwuIElmIGNsaWVudC5kaXNjb25uZWN0KCkgd2FzIGNhbGxlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGVycm9yXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmVhbUNoYXQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ2hhbm5lbCwgW3tcbiAgICBrZXk6IFwiZ2V0Q2xpZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsaWVudCgpIHtcbiAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RlZCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIllvdSBjYW4ndCB1c2UgYSBjaGFubmVsIGFmdGVyIGNsaWVudC5kaXNjb25uZWN0KCkgd2FzIGNhbGxlZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0Q29uZmlnIC0gR2V0IHRoZSBjb25maWcgZm9yIHRoaXMgY2hhbm5lbCBpZCAoY2lkKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb25maWdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xuICAgICAgdmFyIGNsaWVudCA9IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICByZXR1cm4gY2xpZW50LmNvbmZpZ3NbdGhpcy5jaWRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZW5kTWVzc2FnZSAtIFNlbmQgYSBtZXNzYWdlIHRvIHRoaXMgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IG1lc3NhZ2UgVGhlIE1lc3NhZ2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5za2lwX2VucmljaF91cmxdIERvIG5vdCB0cnkgdG8gZW5yaWNoIHRoZSBVUkxzIHdpdGhpbiBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5za2lwX3B1c2hdIFNraXAgc2VuZGluZyBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzX3BlbmRpbmdfbWVzc2FnZV0gREVQUkVDQVRFRCwgcGxlYXNlIHVzZSBgcGVuZGluZ2AgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnBlbmRpbmddIE1ha2UgdGhpcyBtZXNzYWdlIHBlbmRpbmdcbiAgICAgKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsc3RyaW5nPn0gW29wdGlvbnMucGVuZGluZ19tZXNzYWdlX21ldGFkYXRhXSBNZXRhZGF0YSBmb3IgdGhlIHBlbmRpbmcgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VfbW9kZXJhdGlvbl0gQXBwbHkgZm9yY2UgbW9kZXJhdGlvbiBmb3Igc2VydmVyLXNpZGUgcmVxdWVzdHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8U2VuZE1lc3NhZ2VBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIFNlcnZlciBSZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2VuZE1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZW5kTWVzc2FnZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbmRNZXNzYWdlUmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvbWVzc2FnZScsIF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZVJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgdW5yZWFkQ291bnQgdG8gMC5cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnVucmVhZENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBzZW5kTWVzc2FnZVJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoX3gyLCBfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VuZE1lc3NhZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwic2VuZEZpbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZEZpbGUodXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuc2VuZEZpbGUoXCJcIi5jb25jYXQodGhpcy5fY2hhbm5lbFVSTCgpLCBcIi9maWxlXCIpLCB1cmksIG5hbWUsIGNvbnRlbnRUeXBlLCB1c2VyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VuZEltYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRJbWFnZSh1cmksIG5hbWUsIGNvbnRlbnRUeXBlLCB1c2VyKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5zZW5kRmlsZShcIlwiLmNvbmNhdCh0aGlzLl9jaGFubmVsVVJMKCksIFwiL2ltYWdlXCIpLCB1cmksIG5hbWUsIGNvbnRlbnRUeXBlLCB1c2VyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlRmlsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVGaWxlKHVybCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZGVsZXRlKFwiXCIuY29uY2F0KHRoaXMuX2NoYW5uZWxVUkwoKSwgXCIvZmlsZVwiKSwge1xuICAgICAgICB1cmw6IHVybFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUltYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUltYWdlKHVybCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZGVsZXRlKFwiXCIuY29uY2F0KHRoaXMuX2NoYW5uZWxVUkwoKSwgXCIvaW1hZ2VcIiksIHtcbiAgICAgICAgdXJsOiB1cmxcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZW5kRXZlbnQgLSBTZW5kIGFuIGV2ZW50IG9uIHRoaXMgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudDxTdHJlYW1DaGF0R2VuZXJpY3M+fSBldmVudCBmb3IgZXhhbXBsZSB7dHlwZTogJ21lc3NhZ2UucmVhZCd9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEV2ZW50QVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlbmRFdmVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdGlhbGl6ZWQoKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvZXZlbnQnLCB7XG4gICAgICAgICAgICAgICAgICBldmVudDogZXZlbnRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZW5kRXZlbnQoX3g0KSB7XG4gICAgICAgIHJldHVybiBfc2VuZEV2ZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZW5kRXZlbnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc2VhcmNoIC0gUXVlcnkgbWVzc2FnZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZUZpbHRlcnM8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IHN0cmluZ30gIHF1ZXJ5IHNlYXJjaCBxdWVyeSBvciBvYmplY3QgTW9uZ29EQiBzdHlsZSBmaWx0ZXJzXG4gICAgICogQHBhcmFtIHt7Y2xpZW50X2lkPzogc3RyaW5nOyBjb25uZWN0aW9uX2lkPzogc3RyaW5nOyBxdWVyeT86IHN0cmluZzsgbWVzc2FnZV9maWx0ZXJfY29uZGl0aW9ucz86IE1lc3NhZ2VGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz59fSBvcHRpb25zIE9wdGlvbiBvYmplY3QsIHt1c2VyX2lkOiAndG9tbWFzbyd9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFNlYXJjaEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBzZWFyY2ggbWVzc2FnZXMgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlYXJjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlYXJjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHF1ZXJ5KSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIF9hcmdzNCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNC5sZW5ndGggPiAxICYmIF9hcmdzNFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzFdIDoge307XG5cbiAgICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLm9mZnNldCAmJiBvcHRpb25zLm5leHQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBzcGVjaWZ5IG9mZnNldCB3aXRoIG5leHRcIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhIGxpc3Qgb2YgY2hhbm5lbHNcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBjaWQ6IHRoaXMuY2lkXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICBzb3J0OiBvcHRpb25zLnNvcnQgPyBub3JtYWxpemVRdWVyeVNvcnQob3B0aW9ucy5zb3J0KSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIHF1ZXJ5ID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBheWxvYWQucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICBpZiAoIShfdHlwZW9mKHF1ZXJ5KSA9PT0gJ29iamVjdCcpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5tZXNzYWdlX2ZpbHRlcl9jb25kaXRpb25zID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCB0eXBlIFwiLmNvbmNhdChfdHlwZW9mKHF1ZXJ5KSwgXCIgZm9yIHF1ZXJ5IHBhcmFtZXRlclwiKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLndzUHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZ2V0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArICcvc2VhcmNoJywge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2VhcmNoKF94NSkge1xuICAgICAgICByZXR1cm4gX3NlYXJjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VhcmNoO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5TWVtYmVycyAtIFF1ZXJ5IE1lbWJlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlckZpbHRlcnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gIGZpbHRlckNvbmRpdGlvbnMgb2JqZWN0IE1vbmdvREIgc3R5bGUgZmlsdGVyc1xuICAgICAqIEBwYXJhbSB7TWVtYmVyU29ydDxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbc29ydF0gU29ydCBvcHRpb25zLCBmb3IgaW5zdGFuY2UgW3tjcmVhdGVkX2F0OiAtMX1dLlxuICAgICAqIFdoZW4gdXNpbmcgbXVsdGlwbGUgZmllbGRzLCBtYWtlIHN1cmUgeW91IHVzZSBhcnJheSBvZiBvYmplY3RzIHRvIGd1YXJhbnRlZSBmaWVsZCBvcmRlciwgZm9yIGluc3RhbmNlIFt7bmFtZTogLTF9LCB7Y3JlYXRlZF9hdDogMX1dXG4gICAgICogQHBhcmFtIHt7IGxpbWl0PzogbnVtYmVyOyBvZmZzZXQ/OiBudW1iZXIgfX0gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIHtsaW1pdDogMTAsIG9mZnNldDoxMH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8Q2hhbm5lbE1lbWJlckFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBRdWVyeSBNZW1iZXJzIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeU1lbWJlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeU1lbWJlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShmaWx0ZXJDb25kaXRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyRkYXRhO1xuXG4gICAgICAgIHZhciBzb3J0LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG1lbWJlcnMsXG4gICAgICAgICAgICBfYXJnczUgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHNvcnQgPSBfYXJnczUubGVuZ3RoID4gMSAmJiBfYXJnczVbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVsxXSA6IFtdO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczUubGVuZ3RoID4gMiAmJiBfYXJnczVbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIHR5cGUgPSB0aGlzLnR5cGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICAgICAgICAgICAgaWQgPSB0aGlzLmlkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKF90aGlzJGRhdGEgPSB0aGlzLmRhdGEpICE9PSBudWxsICYmIF90aGlzJGRhdGEgIT09IHZvaWQgMCAmJiBfdGhpcyRkYXRhLm1lbWJlcnMgJiYgQXJyYXkuaXNBcnJheSh0aGlzLmRhdGEubWVtYmVycykpIHtcbiAgICAgICAgICAgICAgICAgIG1lbWJlcnMgPSB0aGlzLmRhdGEubWVtYmVycztcbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiBhIGxpc3Qgb2YgbWVtYmVyc1xuXG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZ2V0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArICcvbWVtYmVycycsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyczogbWVtYmVycyxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9uc1xuICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeU1lbWJlcnMoX3g2KSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlNZW1iZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeU1lbWJlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc2VuZFJlYWN0aW9uIC0gU2VuZCBhIHJlYWN0aW9uIGFib3V0IGEgbWVzc2FnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJRCB0aGUgbWVzc2FnZSBpZFxuICAgICAqIEBwYXJhbSB7UmVhY3Rpb248U3RyZWFtQ2hhdEdlbmVyaWNzPn0gcmVhY3Rpb24gdGhlIHJlYWN0aW9uIG9iamVjdCBmb3IgaW5zdGFuY2Uge3R5cGU6ICdsb3ZlJ31cbiAgICAgKiBAcGFyYW0ge3sgZW5mb3JjZV91bmlxdWU/OiBib29sZWFuLCBza2lwX3B1c2g/OiBib29sZWFuIH19IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCB7ZW5mb3JjZV91bmlxdWU6IHRydWUsIHNraXBfcHVzaDogdHJ1ZX0gdG8gb3ZlcnJpZGUgYW55IGV4aXN0aW5nIHJlYWN0aW9uIG9yIHNraXAgc2VuZGluZyBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UmVhY3Rpb25BUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIFNlcnZlciBSZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2VuZFJlYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VuZFJlYWN0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYobWVzc2FnZUlELCByZWFjdGlvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZUlEKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk1lc3NhZ2UgaWQgaXMgbWlzc2luZ1wiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKCEoIXJlYWN0aW9uIHx8IE9iamVjdC5rZXlzKHJlYWN0aW9uKS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlJlYWN0aW9uIG9iamVjdCBpcyBtaXNzaW5nXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQobWVzc2FnZUlELCBcIi9yZWFjdGlvblwiKSwgX29iamVjdFNwcmVhZCQ1KHtcbiAgICAgICAgICAgICAgICAgIHJlYWN0aW9uOiByZWFjdGlvblxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZW5kUmVhY3Rpb24oX3g3LCBfeDgsIF94OSkge1xuICAgICAgICByZXR1cm4gX3NlbmRSZWFjdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VuZFJlYWN0aW9uO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbGV0ZVJlYWN0aW9uIC0gRGVsZXRlIGEgcmVhY3Rpb24gYnkgdXNlciBhbmQgdHlwZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJRCB0aGUgaWQgb2YgdGhlIG1lc3NhZ2UgZnJvbSB3aGljaCB0ZSByZW1vdmUgdGhlIHJlYWN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlYWN0aW9uVHlwZSB0aGUgdHlwZSBvZiByZWFjdGlvbiB0aGF0IHNob3VsZCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyX2lkXSB0aGUgaWQgb2YgdGhlIHVzZXIgKHVzZWQgb25seSBmb3Igc2VydmVyIHNpZGUgcmVxdWVzdCkgZGVmYXVsdCBudWxsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlYWN0aW9uQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVJlYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVJlYWN0aW9uKG1lc3NhZ2VJRCwgcmVhY3Rpb25UeXBlLCB1c2VyX2lkKSB7XG4gICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgIGlmICghcmVhY3Rpb25UeXBlIHx8ICFtZXNzYWdlSUQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0RlbGV0aW5nIGEgcmVhY3Rpb24gcmVxdWlyZXMgc3BlY2lmeWluZyBib3RoIHRoZSBtZXNzYWdlIGFuZCByZWFjdGlvbiB0eXBlJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB1cmwgPSB0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQobWVzc2FnZUlELCBcIi9yZWFjdGlvbi9cIikuY29uY2F0KHJlYWN0aW9uVHlwZSk7IC8vcHJvdmlkZWQgd2hlbiBzZXJ2ZXIgc2lkZSByZXF1ZXN0XG5cbiAgICAgIGlmICh1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmRlbGV0ZSh1cmwsIHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5kZWxldGUodXJsLCB7fSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZSAtIEVkaXQgdGhlIGNoYW5uZWwncyBjdXN0b20gcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDaGFubmVsRGF0YTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBjaGFubmVsRGF0YSBUaGUgb2JqZWN0IHRvIHVwZGF0ZSB0aGUgY3VzdG9tIHByb3BlcnRpZXMgb2YgdGhpcyBjaGFubmVsIHdpdGhcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW3VwZGF0ZU1lc3NhZ2VdIE9wdGlvbmFsIG1lc3NhZ2Ugb2JqZWN0IGZvciBjaGFubmVsIG1lbWJlcnMgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsVXBkYXRlT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIGNvbmZpZ3VyYXRpb24gdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igd2hpbGUgdXBkYXRpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkge1xuICAgICAgICB2YXIgY2hhbm5lbERhdGEsXG4gICAgICAgICAgICB1cGRhdGVNZXNzYWdlLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIHJlc2VydmVkLFxuICAgICAgICAgICAgX2FyZ3M3ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBjaGFubmVsRGF0YSA9IF9hcmdzNy5sZW5ndGggPiAwICYmIF9hcmdzN1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3WzBdIDoge307XG4gICAgICAgICAgICAgICAgdXBkYXRlTWVzc2FnZSA9IF9hcmdzNy5sZW5ndGggPiAxID8gX2FyZ3M3WzFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczcubGVuZ3RoID4gMiA/IF9hcmdzN1syXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAvLyBTdHJpcCBvdXQgcmVzZXJ2ZWQgbmFtZXMgdGhhdCB3aWxsIHJlc3VsdCBpbiBBUEkgZXJyb3JzLlxuICAgICAgICAgICAgICAgIHJlc2VydmVkID0gWydjb25maWcnLCAnY2lkJywgJ2NyZWF0ZWRfYnknLCAnaWQnLCAnbWVtYmVyX2NvdW50JywgJ3R5cGUnLCAnY3JlYXRlZF9hdCcsICd1cGRhdGVkX2F0JywgJ2xhc3RfbWVzc2FnZV9hdCcsICdvd25fY2FwYWJpbGl0aWVzJ107XG4gICAgICAgICAgICAgICAgcmVzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgY2hhbm5lbERhdGFba2V5XTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdXBkYXRlTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IGNoYW5uZWxEYXRhXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdXBkYXRlUGFydGlhbCAtIHBhcnRpYWwgdXBkYXRlIGNoYW5uZWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsVXBkYXRlQ2hhbm5lbDxTdHJlYW1DaGF0R2VuZXJpY3M+fSBwYXJ0aWFsIHVwZGF0ZSByZXF1ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFBhcnRpYWxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQYXJ0aWFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlUGFydGlhbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHVwZGF0ZSkge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBhdGNoKHRoaXMuX2NoYW5uZWxVUkwoKSwgdXBkYXRlKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0OC5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGEuY2hhbm5lbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdChcInJldHVyblwiLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlUGFydGlhbChfeDEwKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlUGFydGlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlUGFydGlhbDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBlbmFibGVTbG93TW9kZSAtIGVuYWJsZSBzbG93IG1vZGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb29sRG93bkludGVydmFsIHRoZSBjb29sZG93biBpbnRlcnZhbCBpbiBzZWNvbmRzXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVuYWJsZVNsb3dNb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZW5hYmxlU2xvd01vZGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOShjb29sRG93bkludGVydmFsKSB7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCksIHtcbiAgICAgICAgICAgICAgICAgIGNvb2xkb3duOiBjb29sRG93bkludGVydmFsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDkuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhLmNoYW5uZWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGVuYWJsZVNsb3dNb2RlKF94MTEpIHtcbiAgICAgICAgcmV0dXJuIF9lbmFibGVTbG93TW9kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW5hYmxlU2xvd01vZGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGlzYWJsZVNsb3dNb2RlIC0gZGlzYWJsZSBzbG93IG1vZGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNhYmxlU2xvd01vZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kaXNhYmxlU2xvd01vZGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSwge1xuICAgICAgICAgICAgICAgICAgY29vbGRvd246IDBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MTAuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhLmNoYW5uZWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRpc2FibGVTbG93TW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIF9kaXNhYmxlU2xvd01vZGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpc2FibGVTbG93TW9kZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGUgLSBEZWxldGUgdGhlIGNoYW5uZWwuIE1lc3NhZ2VzIGFyZSBwZXJtYW5lbnRseSByZW1vdmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5oYXJkX2RlbGV0ZV0gRGVmaW5lcyBpZiB0aGUgY2hhbm5lbCBpcyBoYXJkIGRlbGV0ZWQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPERlbGV0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczExID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTEubGVuZ3RoID4gMCAmJiBfYXJnczExWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczExWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5kZWxldGUodGhpcy5fY2hhbm5lbFVSTCgpLCBfb2JqZWN0U3ByZWFkJDUoe30sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2RlbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfZGVsZXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHRydW5jYXRlIC0gUmVtb3ZlcyBhbGwgbWVzc2FnZXMgZnJvbSB0aGUgY2hhbm5lbFxuICAgICAqIEBwYXJhbSB7VHJ1bmNhdGVPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IFtvcHRpb25zXSBEZWZpbmVzIHRydW5jYXRpb24gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VHJ1bmNhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRydW5jYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdHJ1bmNhdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxMiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczEyLmxlbmd0aCA+IDAgJiYgX2FyZ3MxMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxMlswXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL3RydW5jYXRlJywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDEyLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHRydW5jYXRlKCkge1xuICAgICAgICByZXR1cm4gX3RydW5jYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVuY2F0ZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBhY2NlcHRJbnZpdGUgLSBhY2NlcHQgaW52aXRhdGlvbiB0byB0aGUgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtJbnZpdGVPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IFtvcHRpb25zXSBUaGUgb2JqZWN0IHRvIHVwZGF0ZSB0aGUgY3VzdG9tIHByb3BlcnRpZXMgb2YgdGhpcyBjaGFubmVsIHdpdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhY2NlcHRJbnZpdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hY2NlcHRJbnZpdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxMyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczEzLmxlbmd0aCA+IDAgJiYgX2FyZ3MxM1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxM1swXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgYWNjZXB0X2ludml0ZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWNjZXB0SW52aXRlKCkge1xuICAgICAgICByZXR1cm4gX2FjY2VwdEludml0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjZXB0SW52aXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlamVjdEludml0ZSAtIHJlamVjdCBpbnZpdGF0aW9uIHRvIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ludml0ZU9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdIFRoZSBvYmplY3QgdG8gdXBkYXRlIHRoZSBjdXN0b20gcHJvcGVydGllcyBvZiB0aGlzIGNoYW5uZWwgd2l0aFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlamVjdEludml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlamVjdEludml0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczE0ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTQubGVuZ3RoID4gMCAmJiBfYXJnczE0WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczE0WzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICByZWplY3RfaW52aXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZWplY3RJbnZpdGUoKSB7XG4gICAgICAgIHJldHVybiBfcmVqZWN0SW52aXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWplY3RJbnZpdGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogYWRkTWVtYmVycyAtIGFkZCBtZW1iZXJzIHRvIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3t1c2VyX2lkOiBzdHJpbmcsIGNoYW5uZWxfcm9sZT86IFJvbGV9W119IG1lbWJlcnMgQW4gYXJyYXkgb2YgbWVtYmVycyB0byBhZGQgdG8gdGhlIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW21lc3NhZ2VdIE9wdGlvbmFsIG1lc3NhZ2Ugb2JqZWN0IGZvciBjaGFubmVsIG1lbWJlcnMgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsVXBkYXRlT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIGNvbmZpZ3VyYXRpb24gdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igd2hpbGUgdXBkYXRpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkTWVtYmVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2FkZE1lbWJlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUobWVtYmVycywgbWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTUgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxNS5sZW5ndGggPiAyICYmIF9hcmdzMTVbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTVbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ1KHtcbiAgICAgICAgICAgICAgICAgIGFkZF9tZW1iZXJzOiBtZW1iZXJzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkTWVtYmVycyhfeDEyLCBfeDEzKSB7XG4gICAgICAgIHJldHVybiBfYWRkTWVtYmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkTWVtYmVycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBhZGRNb2RlcmF0b3JzIC0gYWRkIG1vZGVyYXRvcnMgdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG1lbWJlcnMgQW4gYXJyYXkgb2YgbWVtYmVyIGlkZW50aWZpZXJzXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFttZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZE1vZGVyYXRvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hZGRNb2RlcmF0b3JzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KG1lbWJlcnMsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczE2ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTYubGVuZ3RoID4gMiAmJiBfYXJnczE2WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczE2WzJdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBhZGRfbW9kZXJhdG9yczogbWVtYmVycyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZE1vZGVyYXRvcnMoX3gxNCwgX3gxNSkge1xuICAgICAgICByZXR1cm4gX2FkZE1vZGVyYXRvcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZE1vZGVyYXRvcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogYXNzaWduUm9sZXMgLSBzZXRzIG1lbWJlciByb2xlcyBpbiBhIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7e2NoYW5uZWxfcm9sZTogUm9sZSwgdXNlcl9pZDogc3RyaW5nfVtdfSByb2xlcyBMaXN0IG9mIHJvbGUgYXNzaWdubWVudHNcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW21lc3NhZ2VdIE9wdGlvbmFsIG1lc3NhZ2Ugb2JqZWN0IGZvciBjaGFubmVsIG1lbWJlcnMgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsVXBkYXRlT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIGNvbmZpZ3VyYXRpb24gdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igd2hpbGUgdXBkYXRpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYXNzaWduUm9sZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hc3NpZ25Sb2xlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNyhyb2xlcywgbWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTcgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxNy5sZW5ndGggPiAyICYmIF9hcmdzMTdbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTdbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ1KHtcbiAgICAgICAgICAgICAgICAgIGFzc2lnbl9yb2xlczogcm9sZXMsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBhc3NpZ25Sb2xlcyhfeDE2LCBfeDE3KSB7XG4gICAgICAgIHJldHVybiBfYXNzaWduUm9sZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFzc2lnblJvbGVzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGludml0ZU1lbWJlcnMgLSBpbnZpdGUgbWVtYmVycyB0byB0aGUgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHt7dXNlcl9pZDogc3RyaW5nLCBjaGFubmVsX3JvbGU/OiBSb2xlfVtdfSBtZW1iZXJzIEFuIGFycmF5IG9mIG1lbWJlcnMgdG8gaW52aXRlIHRvIHRoZSBjaGFubmVsXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFttZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImludml0ZU1lbWJlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9pbnZpdGVNZW1iZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KG1lbWJlcnMsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczE4ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTgubGVuZ3RoID4gMiAmJiBfYXJnczE4WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczE4WzJdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBpbnZpdGVzOiBtZW1iZXJzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gaW52aXRlTWVtYmVycyhfeDE4LCBfeDE5KSB7XG4gICAgICAgIHJldHVybiBfaW52aXRlTWVtYmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW52aXRlTWVtYmVycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiByZW1vdmVNZW1iZXJzIC0gcmVtb3ZlIG1lbWJlcnMgZnJvbSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBtZW1iZXJzIEFuIGFycmF5IG9mIG1lbWJlciBpZGVudGlmaWVyc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbbWVzc2FnZV0gT3B0aW9uYWwgbWVzc2FnZSBvYmplY3QgZm9yIGNoYW5uZWwgbWVtYmVycyBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxVcGRhdGVPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwgY29uZmlndXJhdGlvbiB0byBjb250cm9sIHRoZSBiZWhhdmlvciB3aGlsZSB1cGRhdGluZ1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVNZW1iZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVtb3ZlTWVtYmVycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOShtZW1iZXJzLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxOSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE5Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxOVsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOVsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlX21lbWJlcnM6IG1lbWJlcnMsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxOS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZW1vdmVNZW1iZXJzKF94MjAsIF94MjEpIHtcbiAgICAgICAgcmV0dXJuIF9yZW1vdmVNZW1iZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVNZW1iZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbW90ZU1vZGVyYXRvcnMgLSByZW1vdmUgbW9kZXJhdG9yIHJvbGUgZnJvbSBjaGFubmVsIG1lbWJlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG1lbWJlcnMgQW4gYXJyYXkgb2YgbWVtYmVyIGlkZW50aWZpZXJzXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFttZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbW90ZU1vZGVyYXRvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZW1vdGVNb2RlcmF0b3JzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKG1lbWJlcnMsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczIwID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMjAubGVuZ3RoID4gMiAmJiBfYXJnczIwWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczIwWzJdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBkZW1vdGVfbW9kZXJhdG9yczogbWVtYmVycyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIwLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbW90ZU1vZGVyYXRvcnMoX3gyMiwgX3gyMykge1xuICAgICAgICByZXR1cm4gX2RlbW90ZU1vZGVyYXRvcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbW90ZU1vZGVyYXRvcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX3VwZGF0ZSAtIGV4ZWN1dGVzIGNoYW5uZWwgdXBkYXRlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBPYmplY3QgVXBkYXRlIENoYW5uZWwgcGF5bG9hZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICogVE9ETzogaW50cm9kdWNlIG5ldyB0eXBlIGluc3RlYWQgb2YgT2JqZWN0IGluIHRoZSBuZXh0IG1ham9yIHVwZGF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZTMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjEocGF5bG9hZCkge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCksIHBheWxvYWQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyMS5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGEuY2hhbm5lbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIxLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX3VwZGF0ZShfeDI0KSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3VwZGF0ZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBtdXRlIC0gbXV0ZXMgdGhlIGN1cnJlbnQgY2hhbm5lbFxuICAgICAqIEBwYXJhbSB7eyB1c2VyX2lkPzogc3RyaW5nLCBleHBpcmF0aW9uPzogc3RyaW5nIH19IG9wdHMgZXhwaXJhdGlvbiBpbiBtaW51dGVzIG9yIHVzZXJfaWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE11dGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKlxuICAgICAqIGV4YW1wbGUgd2l0aCBleHBpcmF0aW9uOlxuICAgICAqIGF3YWl0IGNoYW5uZWwubXV0ZSh7ZXhwaXJhdGlvbjogbW9tZW50LmR1cmF0aW9uKDIsICd3ZWVrcycpfSk7XG4gICAgICpcbiAgICAgKiBleGFtcGxlIHNlcnZlciBzaWRlOlxuICAgICAqIGF3YWl0IGNoYW5uZWwubXV0ZSh7dXNlcl9pZDogdXNlcklkfSk7XG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm11dGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9tdXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkge1xuICAgICAgICB2YXIgb3B0cyxcbiAgICAgICAgICAgIF9hcmdzMjIgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRzID0gX2FyZ3MyMi5sZW5ndGggPiAwICYmIF9hcmdzMjJbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjJbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL211dGUvY2hhbm5lbCcsIF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBjaGFubmVsX2NpZDogdGhpcy5jaWRcbiAgICAgICAgICAgICAgICB9LCBvcHRzKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIyLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIG11dGUoKSB7XG4gICAgICAgIHJldHVybiBfbXV0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbXV0ZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1bm11dGUgLSBtdXRlcyB0aGUgY3VycmVudCBjaGFubmVsXG4gICAgICogQHBhcmFtIHt7IHVzZXJfaWQ/OiBzdHJpbmd9fSBvcHRzIHVzZXJfaWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFQSVJlc3BvbnNlPn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqXG4gICAgICogZXhhbXBsZSBzZXJ2ZXIgc2lkZTpcbiAgICAgKiBhd2FpdCBjaGFubmVsLnVubXV0ZSh7dXNlcl9pZDogdXNlcklkfSk7XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bm11dGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bm11dGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7XG4gICAgICAgIHZhciBvcHRzLFxuICAgICAgICAgICAgX2FyZ3MyMyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjMkKF9jb250ZXh0MjMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdHMgPSBfYXJnczIzLmxlbmd0aCA+IDAgJiYgX2FyZ3MyM1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyM1swXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vdW5tdXRlL2NoYW5uZWwnLCBfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgY2hhbm5lbF9jaWQ6IHRoaXMuY2lkXG4gICAgICAgICAgICAgICAgfSwgb3B0cykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyMy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1bm11dGUoKSB7XG4gICAgICAgIHJldHVybiBfdW5tdXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bm11dGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogbXV0ZVN0YXR1cyAtIHJldHVybnMgdGhlIG11dGUgc3RhdHVzIGZvciB0aGUgY3VycmVudCBjaGFubmVsXG4gICAgICogQHJldHVybiB7eyBtdXRlZDogYm9vbGVhbjsgY3JlYXRlZEF0OiBEYXRlIHwgbnVsbDsgZXhwaXJlc0F0OiBEYXRlIHwgbnVsbCB9fSB7IG11dGVkOiB0cnVlIHwgZmFsc2UsIGNyZWF0ZWRBdDogRGF0ZSB8IG51bGwsIGV4cGlyZXNBdDogRGF0ZSB8IG51bGx9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtdXRlU3RhdHVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG11dGVTdGF0dXMoKSB7XG4gICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLl9tdXRlU3RhdHVzKHRoaXMuY2lkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VuZEFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kQWN0aW9uKG1lc3NhZ2VJRCwgZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuX2NoZWNrSW5pdGlhbGl6ZWQoKTtcblxuICAgICAgaWYgKCFtZXNzYWdlSUQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJNZXNzYWdlIGlkIGlzIG1pc3NpbmdcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KG1lc3NhZ2VJRCwgXCIvYWN0aW9uXCIpLCB7XG4gICAgICAgIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJRCxcbiAgICAgICAgZm9ybV9kYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGtleXN0cm9rZSAtIEZpcnN0IG9mIHRoZSB0eXBpbmcuc3RhcnQgYW5kIHR5cGluZy5zdG9wIGV2ZW50cyBiYXNlZCBvbiB0aGUgdXNlcnMga2V5c3Ryb2tlcy5cbiAgICAgKiBDYWxsIHRoaXMgb24gZXZlcnkga2V5c3Ryb2tlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vY2hhdC9kb2NzL3R5cGluZ19pbmRpY2F0b3JzLz9sYW5ndWFnZT1qc3xEb2NzfVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyZW50X2lkXSBzZXQgdGhpcyBmaWVsZCB0byBgbWVzc2FnZS5pZGAgdG8gaW5kaWNhdGUgdGhhdCB0eXBpbmcgZXZlbnQgaXMgaGFwcGVuaW5nIGluIGEgdGhyZWFkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJrZXlzdHJva2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9rZXlzdHJva2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQocGFyZW50X2lkKSB7XG4gICAgICAgIHZhciBfdGhpcyRnZXRDb25maWc7XG5cbiAgICAgICAgdmFyIG5vdywgZGlmZjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI0LnByZXYgPSBfY29udGV4dDI0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoX3RoaXMkZ2V0Q29uZmlnID0gdGhpcy5nZXRDb25maWcoKSkgIT09IG51bGwgJiYgX3RoaXMkZ2V0Q29uZmlnICE9PSB2b2lkIDAgJiYgX3RoaXMkZ2V0Q29uZmlnLnR5cGluZ19ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgZGlmZiA9IHRoaXMubGFzdFR5cGluZ0V2ZW50ICYmIG5vdy5nZXRUaW1lKCkgLSB0aGlzLmxhc3RUeXBpbmdFdmVudC5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0S2V5U3Ryb2tlID0gbm93O1xuICAgICAgICAgICAgICAgIHRoaXMuaXNUeXBpbmcgPSB0cnVlOyAvLyBzZW5kIGEgdHlwaW5nLnN0YXJ0IGV2ZXJ5IDIgc2Vjb25kc1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoZGlmZiA9PT0gbnVsbCB8fCBkaWZmID4gMjAwMCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VHlwaW5nRXZlbnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndHlwaW5nLnN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgIHBhcmVudF9pZDogcGFyZW50X2lkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGtleXN0cm9rZShfeDI1KSB7XG4gICAgICAgIHJldHVybiBfa2V5c3Ryb2tlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBrZXlzdHJva2U7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc3RvcFR5cGluZyAtIFNldHMgbGFzdCB0eXBpbmcgdG8gbnVsbCBhbmQgc2VuZHMgdGhlIHR5cGluZy5zdG9wIGV2ZW50XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vY2hhdC9kb2NzL3R5cGluZ19pbmRpY2F0b3JzLz9sYW5ndWFnZT1qc3xEb2NzfVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyZW50X2lkXSBzZXQgdGhpcyBmaWVsZCB0byBgbWVzc2FnZS5pZGAgdG8gaW5kaWNhdGUgdGhhdCB0eXBpbmcgZXZlbnQgaXMgaGFwcGVuaW5nIGluIGEgdGhyZWFkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdG9wVHlwaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3RvcFR5cGluZyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNShwYXJlbnRfaWQpIHtcbiAgICAgICAgdmFyIF90aGlzJGdldENvbmZpZzI7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoX3RoaXMkZ2V0Q29uZmlnMiA9IHRoaXMuZ2V0Q29uZmlnKCkpICE9PSBudWxsICYmIF90aGlzJGdldENvbmZpZzIgIT09IHZvaWQgMCAmJiBfdGhpcyRnZXRDb25maWcyLnR5cGluZ19ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFR5cGluZ0V2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHlwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3R5cGluZy5zdG9wJyxcbiAgICAgICAgICAgICAgICAgIHBhcmVudF9pZDogcGFyZW50X2lkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc3RvcFR5cGluZyhfeDI2KSB7XG4gICAgICAgIHJldHVybiBfc3RvcFR5cGluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcFR5cGluZztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBsYXN0TWVzc2FnZSAtIHJldHVybiB0aGUgbGFzdCBtZXNzYWdlLCB0YWtlcyBpbnRvIGFjY291bnQgdGhhdCBsYXN0IGZldyBtZXNzYWdlcyBtaWdodCBub3QgYmUgcGVyZmVjdGx5IHNvcnRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7UmV0dXJuVHlwZTxDaGFubmVsU3RhdGU8U3RyZWFtQ2hhdEdlbmVyaWNzPlsnZm9ybWF0TWVzc2FnZSddPiB8IHVuZGVmaW5lZH0gRGVzY3JpcHRpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxhc3RNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxhc3RNZXNzYWdlKCkge1xuICAgICAgLy8gZ2V0IGxhc3QgNSBtZXNzYWdlcywgc29ydCwgcmV0dXJuIHRoZSBsYXRlc3RcbiAgICAgIC8vIGdldCBhIHNsaWNlIG9mIHRoZSBsYXN0IDVcbiAgICAgIHZhciBtaW4gPSB0aGlzLnN0YXRlLmxhdGVzdE1lc3NhZ2VzLmxlbmd0aCAtIDU7XG5cbiAgICAgIGlmIChtaW4gPCAwKSB7XG4gICAgICAgIG1pbiA9IDA7XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXggPSB0aGlzLnN0YXRlLmxhdGVzdE1lc3NhZ2VzLmxlbmd0aCArIDE7XG4gICAgICB2YXIgbWVzc2FnZVNsaWNlID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlcy5zbGljZShtaW4sIG1heCk7IC8vIHNvcnQgYnkgcGsgZGVzY1xuXG4gICAgICBtZXNzYWdlU2xpY2Uuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5jcmVhdGVkX2F0LmdldFRpbWUoKSAtIGEuY3JlYXRlZF9hdC5nZXRUaW1lKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtZXNzYWdlU2xpY2VbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG1hcmtSZWFkIC0gU2VuZCB0aGUgbWFyayByZWFkIGV2ZW50IGZvciB0aGlzIHVzZXIsIG9ubHkgd29ya3MgaWYgdGhlIGByZWFkX2V2ZW50c2Agc2V0dGluZyBpcyBlbmFibGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hcmtSZWFkT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBkYXRhXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxFdmVudEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfCBudWxsPn0gRGVzY3JpcHRpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcmtSZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbWFya1JlYWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoKSB7XG4gICAgICAgIHZhciBfdGhpcyRnZXRDb25maWczO1xuXG4gICAgICAgIHZhciBkYXRhLFxuICAgICAgICAgICAgX2FyZ3MyNiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfYXJnczI2Lmxlbmd0aCA+IDAgJiYgX2FyZ3MyNlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyNlswXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKChfdGhpcyRnZXRDb25maWczID0gdGhpcy5nZXRDb25maWcoKSkgIT09IG51bGwgJiYgX3RoaXMkZ2V0Q29uZmlnMyAhPT0gdm9pZCAwICYmIF90aGlzJGdldENvbmZpZzMucmVhZF9ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZXNvbHZlKG51bGwpKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvcmVhZCcsIF9vYmplY3RTcHJlYWQkNSh7fSwgZGF0YSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyNi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBtYXJrUmVhZCgpIHtcbiAgICAgICAgcmV0dXJuIF9tYXJrUmVhZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFya1JlYWQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogbWFya1VucmVhZCAtIE1hcmsgdGhlIGNoYW5uZWwgYXMgdW5yZWFkIGZyb20gbWVzc2FnZUlELCBvbmx5IHdvcmtzIGlmIHRoZSBgcmVhZF9ldmVudHNgIHNldHRpbmcgaXMgZW5hYmxlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtNYXJrVW5yZWFkT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBkYXRhXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2V9IEFuIEFQSSByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFya1VucmVhZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX21hcmtVbnJlYWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMkZ2V0Q29uZmlnNDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKChfdGhpcyRnZXRDb25maWc0ID0gdGhpcy5nZXRDb25maWcoKSkgIT09IG51bGwgJiYgX3RoaXMkZ2V0Q29uZmlnNCAhPT0gdm9pZCAwICYmIF90aGlzJGdldENvbmZpZzQucmVhZF9ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZXNvbHZlKG51bGwpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvdW5yZWFkJywgX29iamVjdFNwcmVhZCQ1KHt9LCBkYXRhKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIG1hcmtVbnJlYWQoX3gyNykge1xuICAgICAgICByZXR1cm4gX21hcmtVbnJlYWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcmtVbnJlYWQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY2xlYW4gLSBDbGVhbnMgdGhlIGNoYW5uZWwgc3RhdGUgYW5kIGZpcmVzIHN0b3AgdHlwaW5nIGlmIG5lZWRlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYW4oKSB7XG4gICAgICBpZiAodGhpcy5sYXN0S2V5U3Ryb2tlKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSB0aGlzLmxhc3RLZXlTdHJva2UuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmIChkaWZmID4gMTAwMCAmJiB0aGlzLmlzVHlwaW5nKSB7XG4gICAgICAgICAgbG9nQ2hhdFByb21pc2VFeGVjdXRpb24odGhpcy5zdG9wVHlwaW5nKCksICdzdG9wIHR5cGluZyBldmVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUuY2xlYW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogd2F0Y2ggLSBMb2FkcyB0aGUgaW5pdGlhbCBjaGFubmVsIHN0YXRlIGFuZCB3YXRjaGVzIGZvciBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxRdWVyeU9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gb3B0aW9ucyBhZGRpdGlvbmFsIG9wdGlvbnMgZm9yIHRoZSBxdWVyeSBlbmRwb2ludFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxRdWVyeUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2F0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF93YXRjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyOChvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucywgY29tYmluZWQsIHN0YXRlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOCQoX2NvbnRleHQyOCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjgucHJldiA9IF9jb250ZXh0MjgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHdhdGNoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgcHJlc2VuY2U6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTsgLy8gTWFrZSBzdXJlIHdlIHdhaXQgZm9yIHRoZSBjb25uZWN0IHByb21pc2UgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIG9uZVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS53c1Byb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5nZXRDbGllbnQoKS5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLndhdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29tYmluZWQgPSBfb2JqZWN0U3ByZWFkJDUoX29iamVjdFNwcmVhZCQ1KHt9LCBkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkoY29tYmluZWQsICdsYXRlc3QnKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBfY29udGV4dDI4LnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gc3RhdGUuY2hhbm5lbDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcImNoYW5uZWw6d2F0Y2goKSAtIHN0YXJ0ZWQgd2F0Y2hpbmcgY2hhbm5lbCBcIi5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgICAgICAgICAgICB0YWdzOiBbJ2NoYW5uZWwnXSxcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LmFicnVwdChcInJldHVyblwiLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHdhdGNoKF94MjgpIHtcbiAgICAgICAgcmV0dXJuIF93YXRjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gd2F0Y2g7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc3RvcFdhdGNoaW5nIC0gU3RvcHMgd2F0Y2hpbmcgdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdG9wV2F0Y2hpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zdG9wV2F0Y2hpbmcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjkoKSB7XG4gICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI5LnByZXYgPSBfY29udGV4dDI5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL3N0b3Atd2F0Y2hpbmcnLCB7fSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyOS5zZW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50LmxvZ2dlcignaW5mbycsIFwiY2hhbm5lbDp3YXRjaCgpIC0gc3RvcHBlZCB3YXRjaGluZyBjaGFubmVsIFwiLmNvbmNhdCh0aGlzLmNpZCksIHtcbiAgICAgICAgICAgICAgICAgIHRhZ3M6IFsnY2hhbm5lbCddLFxuICAgICAgICAgICAgICAgICAgY2hhbm5lbDogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjkuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmcoKSB7XG4gICAgICAgIHJldHVybiBfc3RvcFdhdGNoaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdG9wV2F0Y2hpbmc7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0UmVwbGllcyAtIExpc3QgdGhlIG1lc3NhZ2UgcmVwbGllcyBmb3IgYSBwYXJlbnQgbWVzc2FnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudF9pZCBUaGUgbWVzc2FnZSBwYXJlbnQgaWQsIGllIHRoZSB0b3Agb2YgdGhlIHRocmVhZFxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVBhZ2luYXRpb25PcHRpb25zICYgeyB1c2VyPzogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz47IHVzZXJfaWQ/OiBzdHJpbmcgfX0gb3B0aW9ucyBQYWdpbmF0aW9uIHBhcmFtcywgaWUge2xpbWl0OjEwLCBpZF9sdGU6IDEwfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxHZXRSZXBsaWVzQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEEgcmVzcG9uc2Ugd2l0aCBhIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJlcGxpZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRSZXBsaWVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMwKHBhcmVudF9pZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMwLnByZXYgPSBfY29udGV4dDMwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZ2V0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChwYXJlbnRfaWQsIFwiL3JlcGxpZXNcIiksIF9vYmplY3RTcHJlYWQkNSh7fSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQzMC5zZW50O1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIGFueSBtZXNzYWdlcyB0byBvdXIgdGhyZWFkIHN0YXRlXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWRkTWVzc2FnZXNTb3J0ZWQoZGF0YS5tZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFJlcGxpZXMoX3gyOSwgX3gzMCkge1xuICAgICAgICByZXR1cm4gX2dldFJlcGxpZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFJlcGxpZXM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0UGlubmVkTWVzc2FnZXMgLSBMaXN0IGxpc3QgcGlubmVkIG1lc3NhZ2VzIG9mIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Bpbm5lZE1lc3NhZ2VQYWdpbmF0aW9uT3B0aW9ucyAmIHsgdXNlcj86IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+OyB1c2VyX2lkPzogc3RyaW5nIH19IG9wdGlvbnMgUGFnaW5hdGlvbiBwYXJhbXMsIGllIHtsaW1pdDoxMCwgaWRfbHRlOiAxMH1cbiAgICAgKiBAcGFyYW0ge1Bpbm5lZE1lc3NhZ2VzU29ydH0gc29ydCBkZWZpbmVzIHNvcnRpbmcgZGlyZWN0aW9uIG9mIHBpbm5lZCBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxHZXRSZXBsaWVzQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEEgcmVzcG9uc2Ugd2l0aCBhIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBpbm5lZE1lc3NhZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0UGlubmVkTWVzc2FnZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzEob3B0aW9ucykge1xuICAgICAgICB2YXIgc29ydCxcbiAgICAgICAgICAgIF9hcmdzMzEgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMxJChfY29udGV4dDMxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMS5wcmV2ID0gX2NvbnRleHQzMS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3MzMS5sZW5ndGggPiAxICYmIF9hcmdzMzFbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMzFbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyBcIi9jaGFubmVscy9cIi5jb25jYXQodGhpcy50eXBlLCBcIi9cIikuY29uY2F0KHRoaXMuaWQsIFwiL3Bpbm5lZF9tZXNzYWdlc1wiKSwge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IG5vcm1hbGl6ZVF1ZXJ5U29ydChzb3J0KVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMxLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0UGlubmVkTWVzc2FnZXMoX3gzMSkge1xuICAgICAgICByZXR1cm4gX2dldFBpbm5lZE1lc3NhZ2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRQaW5uZWRNZXNzYWdlcztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXRSZWFjdGlvbnMgLSBMaXN0IHRoZSByZWFjdGlvbnMsIHN1cHBvcnRzIHBhZ2luYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlX2lkIFRoZSBtZXNzYWdlIGlkXG4gICAgICogQHBhcmFtIHt7IGxpbWl0PzogbnVtYmVyOyBvZmZzZXQ/OiBudW1iZXIgfX0gb3B0aW9ucyBUaGUgcGFnaW5hdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEdldFJlYWN0aW9uc0FQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBTZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJlYWN0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZWFjdGlvbnMobWVzc2FnZV9pZCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZ2V0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlX2lkLCBcIi9yZWFjdGlvbnNcIiksIF9vYmplY3RTcHJlYWQkNSh7fSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRNZXNzYWdlc0J5SWQgLSBSZXRyaWV2ZXMgYSBsaXN0IG9mIG1lc3NhZ2VzIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBtZXNzYWdlSWRzIFRoZSBpZHMgb2YgdGhlIG1lc3NhZ2VzIHRvIHJldHJpZXZlIGZyb20gdGhpcyBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEdldE11bHRpcGxlTWVzc2FnZXNBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gU2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRNZXNzYWdlc0J5SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWVzc2FnZXNCeUlkKG1lc3NhZ2VJZHMpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL21lc3NhZ2VzJywge1xuICAgICAgICBpZHM6IG1lc3NhZ2VJZHMuam9pbignLCcpXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbGFzdFJlYWQgLSByZXR1cm5zIHRoZSBsYXN0IHRpbWUgdGhlIHVzZXIgbWFya2VkIHRoZSBjaGFubmVsIGFzIHJlYWQgaWYgdGhlIHVzZXIgbmV2ZXIgbWFya2VkIHRoZSBjaGFubmVsIGFzIHJlYWQsIHRoaXMgd2lsbCByZXR1cm4gbnVsbFxuICAgICAqIEByZXR1cm4ge0RhdGUgfCBudWxsIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGFzdFJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGFzdFJlYWQoKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xpZW50ID0gdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICB1c2VySUQgPSBfdGhpcyRnZXRDbGllbnQudXNlcklEO1xuXG4gICAgICBpZiAodXNlcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnJlYWRbdXNlcklEXSA/IHRoaXMuc3RhdGUucmVhZFt1c2VySURdLmxhc3RfcmVhZCA6IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jb3VudE1lc3NhZ2VBc1VucmVhZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY291bnRNZXNzYWdlQXNVbnJlYWQobWVzc2FnZSkge1xuICAgICAgdmFyIF9tZXNzYWdlJHVzZXIsIF9tZXNzYWdlJHVzZXIyLCBfdGhpcyRkYXRhMiwgX3RoaXMkZGF0YTM7XG5cbiAgICAgIGlmIChtZXNzYWdlLnNoYWRvd2VkKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAobWVzc2FnZS5zaWxlbnQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChtZXNzYWdlLnBhcmVudF9pZCAmJiAhbWVzc2FnZS5zaG93X2luX2NoYW5uZWwpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICgoKF9tZXNzYWdlJHVzZXIgPSBtZXNzYWdlLnVzZXIpID09PSBudWxsIHx8IF9tZXNzYWdlJHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tZXNzYWdlJHVzZXIuaWQpID09PSB0aGlzLmdldENsaWVudCgpLnVzZXJJRCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKChfbWVzc2FnZSR1c2VyMiA9IG1lc3NhZ2UudXNlcikgIT09IG51bGwgJiYgX21lc3NhZ2UkdXNlcjIgIT09IHZvaWQgMCAmJiBfbWVzc2FnZSR1c2VyMi5pZCAmJiB0aGlzLmdldENsaWVudCgpLnVzZXJNdXRlU3RhdHVzKG1lc3NhZ2UudXNlci5pZCkpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdzeXN0ZW0nKSByZXR1cm4gZmFsc2U7IC8vIFJldHVybiBmYWxzZSBpZiBjaGFubmVsIGRvZXNuJ3QgYWxsb3cgcmVhZCBldmVudHMuXG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KChfdGhpcyRkYXRhMiA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRhdGEyLm93bl9jYXBhYmlsaXRpZXMpICYmICEoKF90aGlzJGRhdGEzID0gdGhpcy5kYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRkYXRhMyAhPT0gdm9pZCAwICYmIF90aGlzJGRhdGEzLm93bl9jYXBhYmlsaXRpZXMuaW5jbHVkZXMoJ3JlYWQtZXZlbnRzJykpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAodGhpcy5tdXRlU3RhdHVzKCkubXV0ZWQpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb3VudFVucmVhZCAtIENvdW50IG9mIHVucmVhZCBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtEYXRlIHwgbnVsbH0gW2xhc3RSZWFkXSBsYXN0UmVhZCB0aGUgdGltZSB0aGF0IHRoZSB1c2VyIHJlYWQgYSBtZXNzYWdlLCBkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIncyByZWFkIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFVucmVhZCBjb3VudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY291bnRVbnJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY291bnRVbnJlYWQobGFzdFJlYWQpIHtcbiAgICAgIGlmICghbGFzdFJlYWQpIHJldHVybiB0aGlzLnN0YXRlLnVucmVhZENvdW50O1xuICAgICAgdmFyIGNvdW50ID0gMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmxhdGVzdE1lc3NhZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlc1tpXTtcblxuICAgICAgICBpZiAobWVzc2FnZS5jcmVhdGVkX2F0ID4gbGFzdFJlYWQgJiYgdGhpcy5fY291bnRNZXNzYWdlQXNVbnJlYWQobWVzc2FnZSkpIHtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY291bnRVbnJlYWRNZW50aW9ucyAtIENvdW50IHRoZSBudW1iZXIgb2YgdW5yZWFkIG1lc3NhZ2VzIG1lbnRpb25pbmcgdGhlIGN1cnJlbnQgdXNlclxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBVbnJlYWQgbWVudGlvbnMgY291bnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvdW50VW5yZWFkTWVudGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY291bnRVbnJlYWRNZW50aW9ucygpIHtcbiAgICAgIHZhciBsYXN0UmVhZCA9IHRoaXMubGFzdFJlYWQoKTtcbiAgICAgIHZhciB1c2VySUQgPSB0aGlzLmdldENsaWVudCgpLnVzZXJJRDtcbiAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgX21lc3NhZ2UkbWVudGlvbmVkX3VzO1xuXG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlc1tpXTtcblxuICAgICAgICBpZiAodGhpcy5fY291bnRNZXNzYWdlQXNVbnJlYWQobWVzc2FnZSkgJiYgKCFsYXN0UmVhZCB8fCBtZXNzYWdlLmNyZWF0ZWRfYXQgPiBsYXN0UmVhZCkgJiYgKF9tZXNzYWdlJG1lbnRpb25lZF91cyA9IG1lc3NhZ2UubWVudGlvbmVkX3VzZXJzKSAhPT0gbnVsbCAmJiBfbWVzc2FnZSRtZW50aW9uZWRfdXMgIT09IHZvaWQgMCAmJiBfbWVzc2FnZSRtZW50aW9uZWRfdXMuc29tZShmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgIHJldHVybiB1c2VyLmlkID09PSB1c2VySUQ7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSAtIENyZWF0ZXMgYSBuZXcgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxRdWVyeUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIFNlcnZlciBSZXNwb25zZVxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeVwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHF1ZXJ5IC0gUXVlcnkgdGhlIEFQSSwgZ2V0IG1lc3NhZ2VzLCBtZW1iZXJzIG9yIG90aGVyIGNoYW5uZWwgZmllbGRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxRdWVyeU9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gb3B0aW9ucyBUaGUgcXVlcnkgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZVNldFR5cGV9IG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgSXQncyBwb3NzaWJsZSB0byBsb2FkIGRpc2p1bmN0IHNldHMgb2YgYSBjaGFubmVsJ3MgbWVzc2FnZXMgaW50byBzdGF0ZSwgdXNlIGBjdXJyZW50YCB0byBsb2FkIHRoZSBpbml0aWFsIGNoYW5uZWwgc3RhdGUgb3IgaWYgeW91IHdhbnQgdG8gZXh0ZW5kIHRoZSBjdXJyZW50bHkgZGlzcGxheWVkIG1lc3NhZ2VzLCB1c2UgYGxhdGVzdGAgaWYgeW91IHdhbnQgdG8gbG9hZC9leHRlbmQgdGhlIGxhdGVzdCBtZXNzYWdlcywgYG5ld2AgaXMgdXNlZCBmb3IgbG9hZGluZyBhIHNwZWNpZmljIG1lc3NhZ2UgYW5kIGl0J3Mgc3Vycm91bmRpbmdzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFF1ZXJ5Q2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBSZXR1cm5zIGEgcXVlcnkgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzJGRhdGE0LCBfdGhpcyRkYXRhNTtcblxuICAgICAgICB2YXIgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCxcbiAgICAgICAgICAgIHF1ZXJ5VVJMLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBtZW1iZXJzU3RyLFxuICAgICAgICAgICAgdGVtcENoYW5uZWxDaWQsXG4gICAgICAgICAgICBfdGhpcyRfaW5pdGlhbGl6ZVN0YXQsXG4gICAgICAgICAgICBtZXNzYWdlU2V0LFxuICAgICAgICAgICAgYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCxcbiAgICAgICAgICAgIF9hcmdzMzIgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzIkKF9jb250ZXh0MzIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgPSBfYXJnczMyLmxlbmd0aCA+IDEgJiYgX2FyZ3MzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzMlsxXSA6ICdjdXJyZW50JztcbiAgICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLndzUHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcXVlcnlVUkwgPSBcIlwiLmNvbmNhdCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwsIFwiL2NoYW5uZWxzL1wiKS5jb25jYXQodGhpcy50eXBlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgICBxdWVyeVVSTCArPSBcIi9cIi5jb25jYXQodGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMi5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHF1ZXJ5VVJMICsgJy9xdWVyeScsIF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gX2NvbnRleHQzMi5zZW50O1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBjaGFubmVsIGlkIGlmIGl0IHdhcyBtaXNzaW5nXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmlkID0gc3RhdGUuY2hhbm5lbC5pZDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2lkID0gc3RhdGUuY2hhbm5lbC5jaWQ7IC8vIHNldCB0aGUgY2hhbm5lbCBhcyBhY3RpdmUuLi5cblxuICAgICAgICAgICAgICAgICAgbWVtYmVyc1N0ciA9IHN0YXRlLm1lbWJlcnMubWFwKGZ1bmN0aW9uIChtZW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9tZW1iZXIkdXNlcjtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtYmVyLnVzZXJfaWQgfHwgKChfbWVtYmVyJHVzZXIgPSBtZW1iZXIudXNlcikgPT09IG51bGwgfHwgX21lbWJlciR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWVtYmVyJHVzZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgfSkuc29ydCgpLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgIHRlbXBDaGFubmVsQ2lkID0gXCJcIi5jb25jYXQodGhpcy50eXBlLCBcIjohbWVtYmVycy1cIikuY29uY2F0KG1lbWJlcnNTdHIpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAodGVtcENoYW5uZWxDaWQgaW4gdGhpcy5nZXRDbGllbnQoKS5hY3RpdmVDaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGdldHMgc2V0IGluIGBjbGllbnQuY2hhbm5lbCgpYCBmdW5jdGlvbiwgd2hlbiBjaGFubmVsIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNpbmcgbWVtYmVycywgbm90IGlkLlxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5nZXRDbGllbnQoKS5hY3RpdmVDaGFubmVsc1t0ZW1wQ2hhbm5lbENpZF07XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMuY2lkIGluIHRoaXMuZ2V0Q2xpZW50KCkuYWN0aXZlQ2hhbm5lbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCkuYWN0aXZlQ2hhbm5lbHNbdGhpcy5jaWRdID0gdGhpcztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLl9hZGRDaGFubmVsQ29uZmlnKHN0YXRlLmNoYW5uZWwpOyAvLyBhZGQgYW55IG1lc3NhZ2VzIHRvIG91ciBjaGFubmVsIHN0YXRlXG5cblxuICAgICAgICAgICAgICAgIF90aGlzJF9pbml0aWFsaXplU3RhdCA9IHRoaXMuX2luaXRpYWxpemVTdGF0ZShzdGF0ZSwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCksIG1lc3NhZ2VTZXQgPSBfdGhpcyRfaW5pdGlhbGl6ZVN0YXQubWVzc2FnZVNldDtcbiAgICAgICAgICAgICAgICBhcmVDYXBhYmlsaXRpZXNDaGFuZ2VkID0gX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLmNoYW5uZWwub3duX2NhcGFiaWxpdGllcyB8fCBbXSkuc29ydCgpLmpvaW4oKSAhPT0gX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5LmlzQXJyYXkoKF90aGlzJGRhdGE0ID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRkYXRhNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YTQub3duX2NhcGFiaWxpdGllcykgPyAoX3RoaXMkZGF0YTUgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNS5vd25fY2FwYWJpbGl0aWVzIDogW10pLnNvcnQoKS5qb2luKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gc3RhdGUuY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZmxpbmVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NhcGFiaWxpdGllcy5jaGFuZ2VkJyxcbiAgICAgICAgICAgICAgICAgICAgY2lkOiB0aGlzLmNpZCxcbiAgICAgICAgICAgICAgICAgICAgb3duX2NhcGFiaWxpdGllczogc3RhdGUuY2hhbm5lbC5vd25fY2FwYWJpbGl0aWVzXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2NoYW5uZWxzLnF1ZXJpZWQnLFxuICAgICAgICAgICAgICAgICAgcXVlcmllZENoYW5uZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzOiBbc3RhdGVdLFxuICAgICAgICAgICAgICAgICAgICBpc0xhdGVzdE1lc3NhZ2VTZXQ6IG1lc3NhZ2VTZXQuaXNMYXRlc3RcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5hYnJ1cHQoXCJyZXR1cm5cIiwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeShfeDMyKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGJhblVzZXIgLSBCYW5zIGEgdXNlciBmcm9tIGEgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7QmFuVXNlck9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJhblVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9iYW5Vc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMzKHRhcmdldFVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMyQoX2NvbnRleHQzMykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzMucHJldiA9IF9jb250ZXh0MzMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5iYW5Vc2VyKHRhcmdldFVzZXJJRCwgX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYmFuVXNlcihfeDMzLCBfeDM0KSB7XG4gICAgICAgIHJldHVybiBfYmFuVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFuVXNlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBoaWRlcyB0aGUgY2hhbm5lbCBmcm9tIHF1ZXJ5Q2hhbm5lbHMgZm9yIHRoZSB1c2VyIHVudGlsIGEgbWVzc2FnZSBpcyBhZGRlZFxuICAgICAqIElmIGNsZWFySGlzdG9yeSBpcyBzZXQgdG8gdHJ1ZSAtIGFsbCBtZXNzYWdlcyB3aWxsIGJlIHJlbW92ZWQgZm9yIHRoZSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHVzZXJJZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXJIaXN0b3J5XG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaGlkZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2hpZGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzQoKSB7XG4gICAgICAgIHZhciB1c2VySWQsXG4gICAgICAgICAgICBjbGVhckhpc3RvcnksXG4gICAgICAgICAgICBfYXJnczM0ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNCQoX2NvbnRleHQzNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzQucHJldiA9IF9jb250ZXh0MzQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXNlcklkID0gX2FyZ3MzNC5sZW5ndGggPiAwICYmIF9hcmdzMzRbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMzRbMF0gOiBudWxsO1xuICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeSA9IF9hcmdzMzQubGVuZ3RoID4gMSAmJiBfYXJnczM0WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczM0WzFdIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QoXCJcIi5jb25jYXQodGhpcy5fY2hhbm5lbFVSTCgpLCBcIi9oaWRlXCIpLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICBjbGVhcl9oaXN0b3J5OiBjbGVhckhpc3RvcnlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgcmV0dXJuIF9oaWRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoaWRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlbW92ZXMgdGhlIGhpZGRlbiBzdGF0dXMgZm9yIGEgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSB1c2VySWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzaG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2hvdyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNSgpIHtcbiAgICAgICAgdmFyIHVzZXJJZCxcbiAgICAgICAgICAgIF9hcmdzMzUgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM1JChfY29udGV4dDM1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNS5wcmV2ID0gX2NvbnRleHQzNS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1c2VySWQgPSBfYXJnczM1Lmxlbmd0aCA+IDAgJiYgX2FyZ3MzNVswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzNVswXSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM1Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QoXCJcIi5jb25jYXQodGhpcy5fY2hhbm5lbFVSTCgpLCBcIi9zaG93XCIpLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgcmV0dXJuIF9zaG93LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG93O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVuYmFuVXNlciAtIFJlbW92ZXMgdGhlIGJhbnMgZm9yIGEgdXNlciBvbiBhIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJhblVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bmJhblVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzYodGFyZ2V0VXNlcklEKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM2JChfY29udGV4dDM2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNi5wcmV2ID0gX2NvbnRleHQzNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM2Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnVuYmFuVXNlcih0YXJnZXRVc2VySUQsIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVuYmFuVXNlcihfeDM1KSB7XG4gICAgICAgIHJldHVybiBfdW5iYW5Vc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJhblVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc2hhZG93QmFuIC0gU2hhZG93IGJhbnMgYSB1c2VyIGZyb20gYSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHBhcmFtIHtCYW5Vc2VyT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2hhZG93QmFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2hhZG93QmFuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM3KHRhcmdldFVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNyQoX2NvbnRleHQzNykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzcucHJldiA9IF9jb250ZXh0MzcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5zaGFkb3dCYW4odGFyZ2V0VXNlcklELCBfb2JqZWN0U3ByZWFkJDUoX29iamVjdFNwcmVhZCQ1KHt9LCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzNy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzaGFkb3dCYW4oX3gzNiwgX3gzNykge1xuICAgICAgICByZXR1cm4gX3NoYWRvd0Jhbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hhZG93QmFuO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlbW92ZVNoYWRvd0JhbiAtIFJlbW92ZXMgdGhlIHNoYWRvdyBiYW4gZm9yIGEgdXNlciBvbiBhIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVTaGFkb3dCYW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZW1vdmVTaGFkb3dCYW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzgodGFyZ2V0VXNlcklEKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM4JChfY29udGV4dDM4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzOC5wcmV2ID0gX2NvbnRleHQzOC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM4Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnJlbW92ZVNoYWRvd0Jhbih0YXJnZXRVc2VySUQsIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVNoYWRvd0JhbihfeDM4KSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlU2hhZG93QmFuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVTaGFkb3dCYW47XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY3JlYXRlQ2FsbCAtIGNyZWF0ZXMgYSBjYWxsIGZvciB0aGUgY3VycmVudCBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NyZWF0ZUNhbGxPcHRpb25zfSBvcHRpb25zXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Q3JlYXRlQ2FsbFJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUNhbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jcmVhdGVDYWxsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM5KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzkkKF9jb250ZXh0MzkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM5LnByZXYgPSBfY29udGV4dDM5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL2NhbGwnLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY3JlYXRlQ2FsbChfeDM5KSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlQ2FsbDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBvbiAtIExpc3RlbiB0byBldmVudHMgb24gdGhpcyBjaGFubmVsLlxuICAgICAqXG4gICAgICogY2hhbm5lbC5vbignbWVzc2FnZS5uZXcnLCBldmVudCA9PiB7Y29uc29sZS5sb2coXCJteSBuZXcgbWVzc2FnZVwiLCBldmVudCwgY2hhbm5lbC5zdGF0ZS5tZXNzYWdlcyl9KVxuICAgICAqIG9yXG4gICAgICogY2hhbm5lbC5vbihldmVudCA9PiB7Y29uc29sZS5sb2coZXZlbnQudHlwZSl9KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudEhhbmRsZXI8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IEV2ZW50VHlwZXN9IGNhbGxiYWNrT3JTdHJpbmcgIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3IgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyPFN0cmVhbUNoYXRHZW5lcmljcz59IFtjYWxsYmFja09yTm90aGluZ10gVGhlIGNhbGxiYWNrIHRvIGNhbGxcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGNhbGxiYWNrT3JTdHJpbmcsIGNhbGxiYWNrT3JOb3RoaW5nKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGtleSA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPclN0cmluZyA6ICdhbGwnO1xuICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yTm90aGluZyA6IGNhbGxiYWNrT3JTdHJpbmc7XG5cbiAgICAgIGlmICghKGtleSBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jbGllbnQubG9nZ2VyKCdpbmZvJywgXCJBdHRhY2hpbmcgbGlzdGVuZXIgZm9yIFwiLmNvbmNhdChrZXksIFwiIGV2ZW50IG9uIGNoYW5uZWwgXCIpLmNvbmNhdCh0aGlzLmNpZCksIHtcbiAgICAgICAgdGFnczogWydldmVudCcsICdjaGFubmVsJ10sXG4gICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldLnB1c2goY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgIF90aGlzMi5fY2xpZW50LmxvZ2dlcignaW5mbycsIFwiUmVtb3ZpbmcgbGlzdGVuZXIgZm9yIFwiLmNvbmNhdChrZXksIFwiIGV2ZW50IGZyb20gY2hhbm5lbCBcIikuY29uY2F0KF90aGlzMi5jaWQpLCB7XG4gICAgICAgICAgICB0YWdzOiBbJ2V2ZW50JywgJ2NoYW5uZWwnXSxcbiAgICAgICAgICAgIGNoYW5uZWw6IF90aGlzMlxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXMyLmxpc3RlbmVyc1trZXldID0gX3RoaXMyLmxpc3RlbmVyc1trZXldLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlbCAhPT0gY2FsbGJhY2s7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG9mZiAtIFJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlclxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGNhbGxiYWNrT3JTdHJpbmcsIGNhbGxiYWNrT3JOb3RoaW5nKSB7XG4gICAgICB2YXIga2V5ID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yU3RyaW5nIDogJ2FsbCc7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja09yTm90aGluZyA/IGNhbGxiYWNrT3JOb3RoaW5nIDogY2FsbGJhY2tPclN0cmluZztcblxuICAgICAgaWYgKCEoa2V5IGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcIlJlbW92aW5nIGxpc3RlbmVyIGZvciBcIi5jb25jYXQoa2V5LCBcIiBldmVudCBmcm9tIGNoYW5uZWwgXCIpLmNvbmNhdCh0aGlzLmNpZCksIHtcbiAgICAgICAgdGFnczogWydldmVudCcsICdjaGFubmVsJ10sXG4gICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gdGhpcy5saXN0ZW5lcnNba2V5XS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gY2FsbGJhY2s7XG4gICAgICB9KTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5XG5cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlQ2hhbm5lbEV2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDaGFubmVsRXZlbnQoZXZlbnQpIHtcbiAgICAgIHZhciBfZXZlbnQkdXNlciwgX2V2ZW50JHVzZXIyLCBfZXZlbnQkdXNlcjMsIF9ldmVudCR1c2VyNSwgX2V2ZW50JHVzZXI2LCBfZXZlbnQkY2hhbm5lbCwgX2V2ZW50JG1lbWJlciwgX2V2ZW50JHVzZXI5LCBfZXZlbnQkdXNlcjEwLCBfY2hhbm5lbFN0YXRlJG1lbWJlcnMsIF9ldmVudCR1c2VyMTEsIF9jaGFubmVsU3RhdGUkbWVtYmVyczI7XG5cbiAgICAgIHZhciBjaGFubmVsID0gdGhpcztcblxuICAgICAgdGhpcy5fY2xpZW50LmxvZ2dlcignaW5mbycsIFwiY2hhbm5lbDpfaGFuZGxlQ2hhbm5lbEV2ZW50IC0gUmVjZWl2ZWQgZXZlbnQgb2YgdHlwZSB7IFwiLmNvbmNhdChldmVudC50eXBlLCBcIiB9IG9uIFwiKS5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2hhbm5lbCddLFxuICAgICAgICBjaGFubmVsOiB0aGlzXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNoYW5uZWxTdGF0ZSA9IGNoYW5uZWwuc3RhdGU7XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlICd0eXBpbmcuc3RhcnQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXIgPSBldmVudC51c2VyKSAhPT0gbnVsbCAmJiBfZXZlbnQkdXNlciAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyLmlkKSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUudHlwaW5nW2V2ZW50LnVzZXIuaWRdID0gZXZlbnQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndHlwaW5nLnN0b3AnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXIyID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIyICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXIyLmlkKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbm5lbFN0YXRlLnR5cGluZ1tldmVudC51c2VyLmlkXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdtZXNzYWdlLnJlYWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXIzID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIzICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXIzLmlkICYmIGV2ZW50LmNyZWF0ZWRfYXQpIHtcbiAgICAgICAgICAgIHZhciBfZXZlbnQkdXNlcjQsIF90aGlzJGdldENsaWVudCR1c2VyO1xuXG4gICAgICAgICAgICBjaGFubmVsU3RhdGUucmVhZFtldmVudC51c2VyLmlkXSA9IHtcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpbiBjbGllbnQudHMgdGhlIGhhbmRsZUV2ZW50IGNhbGwgdGhhdCBmbG93cyB0byB0aGlzIHNldHMgdGhpcyBgZXZlbnQucmVjZWl2ZWRfYXQgPSBuZXcgRGF0ZSgpO2BcbiAgICAgICAgICAgICAgbGFzdF9yZWFkOiBuZXcgRGF0ZShldmVudC5jcmVhdGVkX2F0KSxcbiAgICAgICAgICAgICAgbGFzdF9yZWFkX21lc3NhZ2VfaWQ6IGV2ZW50Lmxhc3RfcmVhZF9tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICB1c2VyOiBldmVudC51c2VyLFxuICAgICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IDBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICgoKF9ldmVudCR1c2VyNCA9IGV2ZW50LnVzZXIpID09PSBudWxsIHx8IF9ldmVudCR1c2VyNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JHVzZXI0LmlkKSA9PT0gKChfdGhpcyRnZXRDbGllbnQkdXNlciA9IHRoaXMuZ2V0Q2xpZW50KCkudXNlcikgPT09IG51bGwgfHwgX3RoaXMkZ2V0Q2xpZW50JHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldENsaWVudCR1c2VyLmlkKSkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUudW5yZWFkQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3VzZXIud2F0Y2hpbmcuc3RhcnQnOlxuICAgICAgICBjYXNlICd1c2VyLnVwZGF0ZWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXI1ID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXI1ICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXI1LmlkKSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUud2F0Y2hlcnNbZXZlbnQudXNlci5pZF0gPSBldmVudC51c2VyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3VzZXIud2F0Y2hpbmcuc3RvcCc6XG4gICAgICAgICAgaWYgKChfZXZlbnQkdXNlcjYgPSBldmVudC51c2VyKSAhPT0gbnVsbCAmJiBfZXZlbnQkdXNlcjYgIT09IHZvaWQgMCAmJiBfZXZlbnQkdXNlcjYuaWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjaGFubmVsU3RhdGUud2F0Y2hlcnNbZXZlbnQudXNlci5pZF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVzc2FnZS5kZWxldGVkJzpcbiAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0ZW5kRXZlbnRXaXRoT3duUmVhY3Rpb25zKGV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmhhcmRfZGVsZXRlKSBjaGFubmVsU3RhdGUucmVtb3ZlTWVzc2FnZShldmVudC5tZXNzYWdlKTtlbHNlIGNoYW5uZWxTdGF0ZS5hZGRNZXNzYWdlU29ydGVkKGV2ZW50Lm1lc3NhZ2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUucmVtb3ZlUXVvdGVkTWVzc2FnZVJlZmVyZW5jZXMoZXZlbnQubWVzc2FnZSk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5tZXNzYWdlLnBpbm5lZCkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUucmVtb3ZlUGlubmVkTWVzc2FnZShldmVudC5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdtZXNzYWdlLm5ldyc6XG4gICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBfZXZlbnQkdXNlcjcsIF90aGlzJGdldENsaWVudCR1c2VyMiwgX2V2ZW50JHVzZXI4O1xuXG4gICAgICAgICAgICAvKiBpZiBtZXNzYWdlIGJlbG9uZ3MgdG8gY3VycmVudCB1c2VyLCBhbHdheXMgYXNzdW1lIHRpbWVzdGFtcCBpcyBjaGFuZ2VkIHRvIGZpbHRlciBpdCBvdXQgYW5kIGFkZCBhZ2FpbiB0byBhdm9pZCBkdXBsaWNhdGlvbiAqL1xuICAgICAgICAgICAgdmFyIG93bk1lc3NhZ2UgPSAoKF9ldmVudCR1c2VyNyA9IGV2ZW50LnVzZXIpID09PSBudWxsIHx8IF9ldmVudCR1c2VyNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JHVzZXI3LmlkKSA9PT0gKChfdGhpcyRnZXRDbGllbnQkdXNlcjIgPSB0aGlzLmdldENsaWVudCgpLnVzZXIpID09PSBudWxsIHx8IF90aGlzJGdldENsaWVudCR1c2VyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZ2V0Q2xpZW50JHVzZXIyLmlkKTtcbiAgICAgICAgICAgIHZhciBpc1RocmVhZE1lc3NhZ2UgPSBldmVudC5tZXNzYWdlLnBhcmVudF9pZCAmJiAhZXZlbnQubWVzc2FnZS5zaG93X2luX2NoYW5uZWw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzVXBUb0RhdGUgfHwgaXNUaHJlYWRNZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5hZGRNZXNzYWdlU29ydGVkKGV2ZW50Lm1lc3NhZ2UsIG93bk1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZS5waW5uZWQpIHtcbiAgICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmFkZFBpbm5lZE1lc3NhZ2UoZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXI4ID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXI4ICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXI4LmlkKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIHVzZXJJZCBpbiBjaGFubmVsU3RhdGUucmVhZCkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VySWQgPT09IGV2ZW50LnVzZXIuaWQpIHtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5yZWFkW2V2ZW50LnVzZXIuaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXN0X3JlYWQ6IG5ldyBEYXRlKGV2ZW50LmNyZWF0ZWRfYXQpLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBldmVudC51c2VyLFxuICAgICAgICAgICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IDBcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5yZWFkW3VzZXJJZF0udW5yZWFkX21lc3NhZ2VzICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvd25NZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS51bnJlYWRDb3VudCA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NvdW50TWVzc2FnZUFzVW5yZWFkKGV2ZW50Lm1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS51bnJlYWRDb3VudCA9IGNoYW5uZWxTdGF0ZS51bnJlYWRDb3VudCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVzc2FnZS51cGRhdGVkJzpcbiAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0ZW5kRXZlbnRXaXRoT3duUmVhY3Rpb25zKGV2ZW50KTtcblxuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmFkZE1lc3NhZ2VTb3J0ZWQoZXZlbnQubWVzc2FnZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UucGlubmVkKSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5hZGRQaW5uZWRNZXNzYWdlKGV2ZW50Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnJlbW92ZVBpbm5lZE1lc3NhZ2UoZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnY2hhbm5lbC50cnVuY2F0ZWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JGNoYW5uZWwgPSBldmVudC5jaGFubmVsKSAhPT0gbnVsbCAmJiBfZXZlbnQkY2hhbm5lbCAhPT0gdm9pZCAwICYmIF9ldmVudCRjaGFubmVsLnRydW5jYXRlZF9hdCkge1xuICAgICAgICAgICAgdmFyIHRydW5jYXRlZEF0ID0gK25ldyBEYXRlKGV2ZW50LmNoYW5uZWwudHJ1bmNhdGVkX2F0KTtcbiAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5tZXNzYWdlU2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlU2V0LCBtZXNzYWdlU2V0SW5kZXgpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZVNldC5tZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkQXQgPSBfcmVmMi5jcmVhdGVkX2F0LFxuICAgICAgICAgICAgICAgICAgICBpZCA9IF9yZWYyLmlkO1xuICAgICAgICAgICAgICAgIGlmICh0cnVuY2F0ZWRBdCA+ICtjcmVhdGVkQXQpIGNoYW5uZWxTdGF0ZS5yZW1vdmVNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VTZXRJbmRleDogbWVzc2FnZVNldEluZGV4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUucGlubmVkTWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICAgICAgdmFyIGlkID0gX3JlZjMuaWQsXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQgPSBfcmVmMy5jcmVhdGVkX2F0O1xuICAgICAgICAgICAgICBpZiAodHJ1bmNhdGVkQXQgPiArY3JlYXRlZEF0KSBjaGFubmVsU3RhdGUucmVtb3ZlUGlubmVkTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5jbGVhck1lc3NhZ2VzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhbm5lbFN0YXRlLnVucmVhZENvdW50ID0gMDsgLy8gc3lzdGVtIG1lc3NhZ2VzIGRvbid0IGluY3JlbWVudCB1bnJlYWQgY291bnRzXG5cbiAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmFkZE1lc3NhZ2VTb3J0ZWQoZXZlbnQubWVzc2FnZSk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5tZXNzYWdlLnBpbm5lZCkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUuYWRkUGlubmVkTWVzc2FnZShldmVudC5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdtZW1iZXIuYWRkZWQnOlxuICAgICAgICBjYXNlICdtZW1iZXIudXBkYXRlZCc6XG4gICAgICAgICAgaWYgKChfZXZlbnQkbWVtYmVyID0gZXZlbnQubWVtYmVyKSAhPT0gbnVsbCAmJiBfZXZlbnQkbWVtYmVyICE9PSB2b2lkIDAgJiYgX2V2ZW50JG1lbWJlci51c2VyX2lkKSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC5tZW1iZXIudXNlcl9pZF0gPSBldmVudC5tZW1iZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVtYmVyLnJlbW92ZWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXI5ID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXI5ICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXI5LmlkKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbm5lbFN0YXRlLm1lbWJlcnNbZXZlbnQudXNlci5pZF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnY2hhbm5lbC51cGRhdGVkJzpcbiAgICAgICAgICBpZiAoZXZlbnQuY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIF9ldmVudCRjaGFubmVsMiwgX2NoYW5uZWwkZGF0YSwgX2V2ZW50JGNoYW5uZWwkaGlkZGVuLCBfZXZlbnQkY2hhbm5lbDMsIF9jaGFubmVsJGRhdGEyLCBfZXZlbnQkY2hhbm5lbCRvd25fY2EsIF9ldmVudCRjaGFubmVsNCwgX2NoYW5uZWwkZGF0YTM7XG5cbiAgICAgICAgICAgIHZhciBpc0Zyb3plbkNoYW5nZWQgPSAoKF9ldmVudCRjaGFubmVsMiA9IGV2ZW50LmNoYW5uZWwpID09PSBudWxsIHx8IF9ldmVudCRjaGFubmVsMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JGNoYW5uZWwyLmZyb3plbikgIT09IHVuZGVmaW5lZCAmJiBldmVudC5jaGFubmVsLmZyb3plbiAhPT0gKChfY2hhbm5lbCRkYXRhID0gY2hhbm5lbC5kYXRhKSA9PT0gbnVsbCB8fCBfY2hhbm5lbCRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2hhbm5lbCRkYXRhLmZyb3plbik7XG5cbiAgICAgICAgICAgIGlmIChpc0Zyb3plbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgdGhpcy5xdWVyeSh7XG4gICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICAgICAgICBsaW1pdDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgd2F0Y2hlcnM6IHtcbiAgICAgICAgICAgICAgICAgIGxpbWl0OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhbm5lbC5kYXRhID0gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgZXZlbnQuY2hhbm5lbCksIHt9LCB7XG4gICAgICAgICAgICAgIGhpZGRlbjogKF9ldmVudCRjaGFubmVsJGhpZGRlbiA9IChfZXZlbnQkY2hhbm5lbDMgPSBldmVudC5jaGFubmVsKSA9PT0gbnVsbCB8fCBfZXZlbnQkY2hhbm5lbDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRjaGFubmVsMy5oaWRkZW4pICE9PSBudWxsICYmIF9ldmVudCRjaGFubmVsJGhpZGRlbiAhPT0gdm9pZCAwID8gX2V2ZW50JGNoYW5uZWwkaGlkZGVuIDogKF9jaGFubmVsJGRhdGEyID0gY2hhbm5lbC5kYXRhKSA9PT0gbnVsbCB8fCBfY2hhbm5lbCRkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoYW5uZWwkZGF0YTIuaGlkZGVuLFxuICAgICAgICAgICAgICBvd25fY2FwYWJpbGl0aWVzOiAoX2V2ZW50JGNoYW5uZWwkb3duX2NhID0gKF9ldmVudCRjaGFubmVsNCA9IGV2ZW50LmNoYW5uZWwpID09PSBudWxsIHx8IF9ldmVudCRjaGFubmVsNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JGNoYW5uZWw0Lm93bl9jYXBhYmlsaXRpZXMpICE9PSBudWxsICYmIF9ldmVudCRjaGFubmVsJG93bl9jYSAhPT0gdm9pZCAwID8gX2V2ZW50JGNoYW5uZWwkb3duX2NhIDogKF9jaGFubmVsJGRhdGEzID0gY2hhbm5lbC5kYXRhKSA9PT0gbnVsbCB8fCBfY2hhbm5lbCRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoYW5uZWwkZGF0YTMub3duX2NhcGFiaWxpdGllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVhY3Rpb24ubmV3JzpcbiAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSAmJiBldmVudC5yZWFjdGlvbikge1xuICAgICAgICAgICAgZXZlbnQubWVzc2FnZSA9IGNoYW5uZWxTdGF0ZS5hZGRSZWFjdGlvbihldmVudC5yZWFjdGlvbiwgZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVhY3Rpb24uZGVsZXRlZCc6XG4gICAgICAgICAgaWYgKGV2ZW50LnJlYWN0aW9uKSB7XG4gICAgICAgICAgICBldmVudC5tZXNzYWdlID0gY2hhbm5lbFN0YXRlLnJlbW92ZVJlYWN0aW9uKGV2ZW50LnJlYWN0aW9uLCBldmVudC5tZXNzYWdlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyZWFjdGlvbi51cGRhdGVkJzpcbiAgICAgICAgICBpZiAoZXZlbnQucmVhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHJlYWN0aW9uLnVwZGF0ZWQgaXMgb25seSBjYWxsZWQgaWYgZW5mb3JjZV91bmlxdWUgaXMgdHJ1ZVxuICAgICAgICAgICAgZXZlbnQubWVzc2FnZSA9IGNoYW5uZWxTdGF0ZS5hZGRSZWFjdGlvbihldmVudC5yZWFjdGlvbiwgZXZlbnQubWVzc2FnZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnY2hhbm5lbC5oaWRkZW4nOlxuICAgICAgICAgIGNoYW5uZWwuZGF0YSA9IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIGNoYW5uZWwuZGF0YSksIHt9LCB7XG4gICAgICAgICAgICBoaWRkZW46IHRydWVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChldmVudC5jbGVhcl9oaXN0b3J5KSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUuY2xlYXJNZXNzYWdlcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoYW5uZWwudmlzaWJsZSc6XG4gICAgICAgICAgY2hhbm5lbC5kYXRhID0gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgY2hhbm5lbC5kYXRhKSwge30sIHtcbiAgICAgICAgICAgIGhpZGRlbjogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd1c2VyLmJhbm5lZCc6XG4gICAgICAgICAgaWYgKCEoKF9ldmVudCR1c2VyMTAgPSBldmVudC51c2VyKSAhPT0gbnVsbCAmJiBfZXZlbnQkdXNlcjEwICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXIxMC5pZCkpIGJyZWFrO1xuICAgICAgICAgIGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdID0gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgY2hhbm5lbFN0YXRlLm1lbWJlcnNbZXZlbnQudXNlci5pZF0gfHwge30pLCB7fSwge1xuICAgICAgICAgICAgc2hhZG93X2Jhbm5lZDogISFldmVudC5zaGFkb3csXG4gICAgICAgICAgICBiYW5uZWQ6ICFldmVudC5zaGFkb3csXG4gICAgICAgICAgICB1c2VyOiBfb2JqZWN0U3ByZWFkJDUoX29iamVjdFNwcmVhZCQ1KHt9LCAoKF9jaGFubmVsU3RhdGUkbWVtYmVycyA9IGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdKSA9PT0gbnVsbCB8fCBfY2hhbm5lbFN0YXRlJG1lbWJlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsU3RhdGUkbWVtYmVycy51c2VyKSB8fCB7fSksIGV2ZW50LnVzZXIpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndXNlci51bmJhbm5lZCc6XG4gICAgICAgICAgaWYgKCEoKF9ldmVudCR1c2VyMTEgPSBldmVudC51c2VyKSAhPT0gbnVsbCAmJiBfZXZlbnQkdXNlcjExICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXIxMS5pZCkpIGJyZWFrO1xuICAgICAgICAgIGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdID0gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgY2hhbm5lbFN0YXRlLm1lbWJlcnNbZXZlbnQudXNlci5pZF0gfHwge30pLCB7fSwge1xuICAgICAgICAgICAgc2hhZG93X2Jhbm5lZDogZmFsc2UsXG4gICAgICAgICAgICBiYW5uZWQ6IGZhbHNlLFxuICAgICAgICAgICAgdXNlcjogX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgKChfY2hhbm5lbFN0YXRlJG1lbWJlcnMyID0gY2hhbm5lbFN0YXRlLm1lbWJlcnNbZXZlbnQudXNlci5pZF0pID09PSBudWxsIHx8IF9jaGFubmVsU3RhdGUkbWVtYmVyczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsU3RhdGUkbWVtYmVyczIudXNlcikgfHwge30pLCBldmVudC51c2VyKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfSAvLyBhbnkgZXZlbnQgY2FuIHNlbmQgb3ZlciB0aGUgb25saW5lIGNvdW50XG5cblxuICAgICAgaWYgKGV2ZW50LndhdGNoZXJfY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjaGFubmVsLnN0YXRlLndhdGNoZXJfY291bnQgPSBldmVudC53YXRjaGVyX2NvdW50O1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfY2hlY2tJbml0aWFsaXplZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2hlY2tJbml0aWFsaXplZCgpIHtcbiAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCAmJiAhdGhpcy5vZmZsaW5lTW9kZSAmJiAhdGhpcy5nZXRDbGllbnQoKS5faXNVc2luZ1NlcnZlckF1dGgoKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkNoYW5uZWwgXCIuY29uY2F0KHRoaXMuY2lkLCBcIiBoYXNuJ3QgYmVlbiBpbml0aWFsaXplZCB5ZXQuIE1ha2Ugc3VyZSB0byBjYWxsIC53YXRjaCgpIGFuZCB3YWl0IGZvciBpdCB0byByZXNvbHZlXCIpKTtcbiAgICAgIH1cbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5XG5cbiAgfSwge1xuICAgIGtleTogXCJfaW5pdGlhbGl6ZVN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pbml0aWFsaXplU3RhdGUoc3RhdGUpIHtcbiAgICAgIHZhciBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnbGF0ZXN0JztcblxuICAgICAgdmFyIF90aGlzJGdldENsaWVudDIgPSB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgIGNsaWVudFN0YXRlID0gX3RoaXMkZ2V0Q2xpZW50Mi5zdGF0ZSxcbiAgICAgICAgICB1c2VyID0gX3RoaXMkZ2V0Q2xpZW50Mi51c2VyLFxuICAgICAgICAgIHVzZXJJRCA9IF90aGlzJGdldENsaWVudDIudXNlcklEOyAvLyBhZGQgdGhlIFVzZXJzXG5cblxuICAgICAgaWYgKHN0YXRlLm1lbWJlcnMpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIoc3RhdGUubWVtYmVycyksXG4gICAgICAgICAgICBfc3RlcDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChtZW1iZXIudXNlcikge1xuICAgICAgICAgICAgICBjbGllbnRTdGF0ZS51cGRhdGVVc2VyUmVmZXJlbmNlKG1lbWJlci51c2VyLCB0aGlzLmNpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZS5tZW1iZXJzaGlwID0gc3RhdGUubWVtYmVyc2hpcCB8fCB7fTtcbiAgICAgIHZhciBtZXNzYWdlcyA9IHN0YXRlLm1lc3NhZ2VzIHx8IFtdO1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUubWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5pbml0TWVzc2FnZXMoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF90aGlzJHN0YXRlJGFkZE1lc3NhZyA9IHRoaXMuc3RhdGUuYWRkTWVzc2FnZXNTb3J0ZWQobWVzc2FnZXMsIGZhbHNlLCB0cnVlLCB0cnVlLCBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0KSxcbiAgICAgICAgICBtZXNzYWdlU2V0ID0gX3RoaXMkc3RhdGUkYWRkTWVzc2FnLm1lc3NhZ2VTZXQ7XG5cbiAgICAgIGlmICghdGhpcy5zdGF0ZS5waW5uZWRNZXNzYWdlcykge1xuICAgICAgICB0aGlzLnN0YXRlLnBpbm5lZE1lc3NhZ2VzID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUuYWRkUGlubmVkTWVzc2FnZXMoc3RhdGUucGlubmVkX21lc3NhZ2VzIHx8IFtdKTtcblxuICAgICAgaWYgKHN0YXRlLnBlbmRpbmdfbWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5wZW5kaW5nX21lc3NhZ2VzID0gc3RhdGUucGVuZGluZ19tZXNzYWdlcztcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlLndhdGNoZXJfY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnN0YXRlLndhdGNoZXJfY291bnQgPSBzdGF0ZS53YXRjaGVyX2NvdW50O1xuICAgICAgfSAvLyBjb252ZXJ0IHRoZSBhcnJheXMgaW50byBvYmplY3RzIGZvciBlYXNpZXIgc3luY2luZy4uLlxuXG5cbiAgICAgIGlmIChzdGF0ZS53YXRjaGVycykge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIoc3RhdGUud2F0Y2hlcnMpLFxuICAgICAgICAgICAgX3N0ZXAyO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciB3YXRjaGVyID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAod2F0Y2hlcikge1xuICAgICAgICAgICAgICBjbGllbnRTdGF0ZS51cGRhdGVVc2VyUmVmZXJlbmNlKHdhdGNoZXIsIHRoaXMuY2lkKTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS53YXRjaGVyc1t3YXRjaGVyLmlkXSA9IHdhdGNoZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBpbml0aWFsaXplIHJlYWQgc3RhdGUgdG8gbGFzdCBtZXNzYWdlIG9yIGN1cnJlbnQgdGltZSBpZiB0aGUgY2hhbm5lbCBpcyBlbXB0eVxuICAgICAgLy8gaWYgdGhlIHVzZXIgaXMgYSBtZW1iZXIsIHRoaXMgdmFsdWUgd2lsbCBiZSBvdmVyd3JpdHRlbiBsYXRlciBvbiBvdGhlcndpc2UgdGhpcyBlbnN1cmVzXG4gICAgICAvLyB0aGF0IGV2ZXJ5dGhpbmcgdXAgdG8gdGhpcyBwb2ludCBpcyBub3QgbWFya2VkIGFzIHVucmVhZFxuXG5cbiAgICAgIGlmICh1c2VySUQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbGFzdF9yZWFkID0gdGhpcy5zdGF0ZS5sYXN0X21lc3NhZ2VfYXQgfHwgbmV3IERhdGUoKTtcblxuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgIHRoaXMuc3RhdGUucmVhZFt1c2VyLmlkXSA9IHtcbiAgICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgICBsYXN0X3JlYWQ6IGxhc3RfcmVhZCxcbiAgICAgICAgICAgIHVucmVhZF9tZXNzYWdlczogMFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gLy8gYXBwbHkgcmVhZCBzdGF0ZSBpZiBwYXJ0IG9mIHRoZSBzdGF0ZVxuXG5cbiAgICAgIGlmIChzdGF0ZS5yZWFkKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMihzdGF0ZS5yZWFkKSxcbiAgICAgICAgICAgIF9zdGVwMztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgX3JlYWQkdW5yZWFkX21lc3NhZ2VzO1xuXG4gICAgICAgICAgICB2YXIgcmVhZCA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucmVhZFtyZWFkLnVzZXIuaWRdID0ge1xuICAgICAgICAgICAgICBsYXN0X3JlYWQ6IG5ldyBEYXRlKHJlYWQubGFzdF9yZWFkKSxcbiAgICAgICAgICAgICAgbGFzdF9yZWFkX21lc3NhZ2VfaWQ6IHJlYWQubGFzdF9yZWFkX21lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgIHVucmVhZF9tZXNzYWdlczogKF9yZWFkJHVucmVhZF9tZXNzYWdlcyA9IHJlYWQudW5yZWFkX21lc3NhZ2VzKSAhPT0gbnVsbCAmJiBfcmVhZCR1bnJlYWRfbWVzc2FnZXMgIT09IHZvaWQgMCA/IF9yZWFkJHVucmVhZF9tZXNzYWdlcyA6IDAsXG4gICAgICAgICAgICAgIHVzZXI6IHJlYWQudXNlclxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHJlYWQudXNlci5pZCA9PT0gKHVzZXIgPT09IG51bGwgfHwgdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlci5pZCkpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS51bnJlYWRDb3VudCA9IHRoaXMuc3RhdGUucmVhZFtyZWFkLnVzZXIuaWRdLnVucmVhZF9tZXNzYWdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS5tZW1iZXJzKSB7XG4gICAgICAgIHRoaXMuc3RhdGUubWVtYmVycyA9IHN0YXRlLm1lbWJlcnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG1lbWJlcikge1xuICAgICAgICAgIGlmIChtZW1iZXIudXNlcikge1xuICAgICAgICAgICAgYWNjW21lbWJlci51c2VyLmlkXSA9IG1lbWJlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VTZXQ6IG1lc3NhZ2VTZXRcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9leHRlbmRFdmVudFdpdGhPd25SZWFjdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2V4dGVuZEV2ZW50V2l0aE93blJlYWN0aW9ucyhldmVudCkge1xuICAgICAgaWYgKCFldmVudC5tZXNzYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLnN0YXRlLmZpbmRNZXNzYWdlKGV2ZW50Lm1lc3NhZ2UuaWQsIGV2ZW50Lm1lc3NhZ2UucGFyZW50X2lkKTtcblxuICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgZXZlbnQubWVzc2FnZS5vd25fcmVhY3Rpb25zID0gbWVzc2FnZS5vd25fcmVhY3Rpb25zO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZGlzY29ubmVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGlzY29ubmVjdCgpIHtcbiAgICAgIHRoaXMuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcImNoYW5uZWw6ZGlzY29ubmVjdCgpIC0gRGlzY29ubmVjdGluZyB0aGUgY2hhbm5lbCBcIi5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbicsICdjaGFubmVsJ10sXG4gICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICB0aGlzLnN0YXRlLnNldElzVXBUb0RhdGUoZmFsc2UpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFubmVsO1xufSgpO1xuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbi8qKlxuICogQ2xpZW50U3RhdGUgLSBBIGNvbnRhaW5lciBjbGFzcyBmb3IgdGhlIGNsaWVudCBzdGF0ZS5cbiAqL1xudmFyIENsaWVudFN0YXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2xpZW50U3RhdGUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaWVudFN0YXRlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2VyQ2hhbm5lbFJlZmVyZW5jZXNcIiwgdm9pZCAwKTtcblxuICAgIC8vIHNob3cgdGhlIHN0YXR1cyBmb3IgYSBjZXJ0YWluIHVzZXIuLi5cbiAgICAvLyBpZSBvbmxpbmUsIG9mZmxpbmUgZXRjXG4gICAgdGhpcy51c2VycyA9IHt9OyAvLyBzdG9yZSB3aGljaCBjaGFubmVscyBjb250YWluIHJlZmVyZW5jZXMgdG8gdGhlIHNwZWNpZmllZCB1c2VyLi4uXG5cbiAgICB0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlcyA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENsaWVudFN0YXRlLCBbe1xuICAgIGtleTogXCJ1cGRhdGVVc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVVc2Vycyh1c2Vycykge1xuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEodXNlcnMpLFxuICAgICAgICAgIF9zdGVwO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciB1c2VyID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgdGhpcy51cGRhdGVVc2VyKHVzZXIpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVXNlcih1c2VyKSB7XG4gICAgICBpZiAodXNlciAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMudXNlcnNbdXNlci5pZF0gPSB1c2VyO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVVc2VyUmVmZXJlbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVVzZXJSZWZlcmVuY2UodXNlciwgY2hhbm5lbElEKSB7XG4gICAgICBpZiAodXNlciA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVVc2VyKHVzZXIpO1xuXG4gICAgICBpZiAoIXRoaXMudXNlckNoYW5uZWxSZWZlcmVuY2VzW3VzZXIuaWRdKSB7XG4gICAgICAgIHRoaXMudXNlckNoYW5uZWxSZWZlcmVuY2VzW3VzZXIuaWRdID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXNlckNoYW5uZWxSZWZlcmVuY2VzW3VzZXIuaWRdW2NoYW5uZWxJRF0gPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVBbGxDaGFubmVsUmVmZXJlbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUFsbENoYW5uZWxSZWZlcmVuY2UoY2hhbm5lbElEKSB7XG4gICAgICBmb3IgKHZhciB1c2VySUQgaW4gdGhpcy51c2VyQ2hhbm5lbFJlZmVyZW5jZXMpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudXNlckNoYW5uZWxSZWZlcmVuY2VzW3VzZXJJRF1bY2hhbm5lbElEXTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2xpZW50U3RhdGU7XG59KCk7XG5cbmZ1bmN0aW9uIG93bktleXMkNChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDQoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIEluc2lnaHRNZXRyaWNzID0gZnVuY3Rpb24gSW5zaWdodE1ldHJpY3MoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnNpZ2h0TWV0cmljcyk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdGlvblN0YXJ0VGltZXN0YW1wXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NDb25zZWN1dGl2ZUZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NUb3RhbEZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5zdGFuY2VDbGllbnRJZFwiLCB2b2lkIDApO1xuXG4gIHRoaXMuY29ubmVjdGlvblN0YXJ0VGltZXN0YW1wID0gbnVsbDtcbiAgdGhpcy53c1RvdGFsRmFpbHVyZXMgPSAwO1xuICB0aGlzLndzQ29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gIHRoaXMuaW5zdGFuY2VDbGllbnRJZCA9IHJhbmRvbUlkKCk7XG59O1xuLyoqXG4gKiBwb3N0SW5zaWdodHMgaXMgbm90IHN1cHBvc2VkIHRvIGJlIHVzZWQgYnkgZW5kIHVzZXJzIGRpcmVjdGx5IHdpdGhpbiBjaGF0IGFwcGxpY2F0aW9uLCBhbmQgdGh1cyBpcyBrZXB0IGlzb2xhdGVkXG4gKiBmcm9tIGFsbCB0aGUgY2xpZW50L2Nvbm5lY3Rpb24gY29kZS9sb2dpYy5cbiAqXG4gKiBAcGFyYW0gaW5zaWdodFR5cGVcbiAqIEBwYXJhbSBpbnNpZ2h0c1xuICovXG5cbnZhciBwb3N0SW5zaWdodHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoaW5zaWdodFR5cGUsIGluc2lnaHRzKSB7XG4gICAgdmFyIG1heEF0dGVtcHRzLCBpO1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBtYXhBdHRlbXB0cyA9IDM7XG4gICAgICAgICAgICBpID0gMDtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGlmICghKGkgPCBtYXhBdHRlbXB0cykpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjtcbiAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KFwiaHR0cHM6Ly9jaGF0LWluc2lnaHRzLmdldHN0cmVhbS5pby9pbnNpZ2h0cy9cIi5jb25jYXQoaW5zaWdodFR5cGUpLCBpbnNpZ2h0cyk7XG5cbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4O1xuICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDMpO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyO1xuICAgICAgICAgICAgcmV0dXJuIHNsZWVwKChpICsgMSkgKiAzMDAwKTtcblxuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwiY29udGludWVcIiwgMTQpO1xuXG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJicmVha1wiLCAxNyk7XG5cbiAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgOF1dKTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwb3N0SW5zaWdodHMoX3gsIF94Mikge1xuICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5mdW5jdGlvbiBidWlsZFdzRmF0YWxJbnNpZ2h0KGNvbm5lY3Rpb24sIGV2ZW50KSB7XG4gIHJldHVybiBfb2JqZWN0U3ByZWFkJDQoX29iamVjdFNwcmVhZCQ0KHt9LCBldmVudCksIGJ1aWxkV3NCYXNlSW5zaWdodChjb25uZWN0aW9uKSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkV3NCYXNlSW5zaWdodChjb25uZWN0aW9uKSB7XG4gIHZhciBfY29ubmVjdGlvbiR3cywgX25hdmlnYXRvciwgX25hdmlnYXRvcjI7XG5cbiAgdmFyIGNsaWVudCA9IGNvbm5lY3Rpb24uY2xpZW50O1xuICByZXR1cm4ge1xuICAgIHJlYWR5X3N0YXRlOiAoX2Nvbm5lY3Rpb24kd3MgPSBjb25uZWN0aW9uLndzKSA9PT0gbnVsbCB8fCBfY29ubmVjdGlvbiR3cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Nvbm5lY3Rpb24kd3MucmVhZHlTdGF0ZSxcbiAgICB1cmw6IGNvbm5lY3Rpb24uX2J1aWxkVXJsKCksXG4gICAgYXBpX2tleTogY2xpZW50LmtleSxcbiAgICBzdGFydF90czogY2xpZW50Lmluc2lnaHRNZXRyaWNzLmNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcCxcbiAgICBlbmRfdHM6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIGF1dGhfdHlwZTogY2xpZW50LmdldEF1dGhUeXBlKCksXG4gICAgdG9rZW46IGNsaWVudC50b2tlbk1hbmFnZXIudG9rZW4sXG4gICAgdXNlcl9pZDogY2xpZW50LnVzZXJJRCxcbiAgICB1c2VyX2RldGFpbHM6IGNsaWVudC5fdXNlcixcbiAgICBkZXZpY2U6IGNsaWVudC5vcHRpb25zLmRldmljZSxcbiAgICBjbGllbnRfaWQ6IGNvbm5lY3Rpb24uY29ubmVjdGlvbklELFxuICAgIHdzX2RldGFpbHM6IGNvbm5lY3Rpb24ud3MsXG4gICAgd3NfY29uc2VjdXRpdmVfZmFpbHVyZXM6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMsXG4gICAgd3NfdG90YWxfZmFpbHVyZXM6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy53c1RvdGFsRmFpbHVyZXMsXG4gICAgcmVxdWVzdF9pZDogY29ubmVjdGlvbi5yZXF1ZXN0SUQsXG4gICAgb25saW5lOiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IChfbmF2aWdhdG9yID0gbmF2aWdhdG9yKSA9PT0gbnVsbCB8fCBfbmF2aWdhdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbmF2aWdhdG9yLm9uTGluZSA6IG51bGwsXG4gICAgdXNlcl9hZ2VudDogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyAoX25hdmlnYXRvcjIgPSBuYXZpZ2F0b3IpID09PSBudWxsIHx8IF9uYXZpZ2F0b3IyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbmF2aWdhdG9yMi51c2VyQWdlbnQgOiBudWxsLFxuICAgIGluc3RhbmNlX2NsaWVudF9pZDogY2xpZW50Lmluc2lnaHRNZXRyaWNzLmluc3RhbmNlQ2xpZW50SWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0KGNvbm5lY3Rpb24pIHtcbiAgcmV0dXJuIGJ1aWxkV3NCYXNlSW5zaWdodChjb25uZWN0aW9uKTtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyQzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQzKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkMyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8vIFR5cGUgZ3VhcmRzIHRvIGNoZWNrIFdlYlNvY2tldCBlcnJvciB0eXBlXG52YXIgaXNDbG9zZUV2ZW50ID0gZnVuY3Rpb24gaXNDbG9zZUV2ZW50KHJlcykge1xuICByZXR1cm4gcmVzLmNvZGUgIT09IHVuZGVmaW5lZDtcbn07XG5cbnZhciBpc0Vycm9yRXZlbnQgPSBmdW5jdGlvbiBpc0Vycm9yRXZlbnQocmVzKSB7XG4gIHJldHVybiByZXMuZXJyb3IgIT09IHVuZGVmaW5lZDtcbn07XG4vKipcbiAqIFN0YWJsZVdTQ29ubmVjdGlvbiAtIEEgV1MgY29ubmVjdGlvbiB0aGF0IHJlY29ubmVjdHMgdXBvbiBmYWlsdXJlLlxuICogLSB0aGUgYnJvd3NlciB3aWxsIHNvbWV0aW1lcyByZXBvcnQgdGhhdCB5b3UncmUgb25saW5lIG9yIG9mZmxpbmVcbiAqIC0gdGhlIFdTIGNvbm5lY3Rpb24gY2FuIGJyZWFrIGFuZCBmYWlsICh0aGVyZSBpcyBhIDMwcyBoZWFsdGggY2hlY2spXG4gKiAtIHNvbWV0aW1lcyB5b3VyIFdTIGNvbm5lY3Rpb24gd2lsbCBzZWVtIHRvIHdvcmsgd2hpbGUgdGhlIHVzZXIgaXMgaW4gZmFjdCBvZmZsaW5lXG4gKiAtIHRvIHNwZWVkIHVwIG9ubGluZS9vZmZsaW5lIGRldGVjdGlvbiB5b3UgY2FuIHVzZSB0aGUgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnKTtcbiAqXG4gKiBUaGVyZSBhcmUgNCB3YXlzIGluIHdoaWNoIGEgY29ubmVjdGlvbiBjYW4gYmVjb21lIHVuaGVhbHRoeTpcbiAqIC0gd2Vic29ja2V0Lm9uZXJyb3IgaXMgY2FsbGVkXG4gKiAtIHdlYnNvY2tldC5vbmNsb3NlIGlzIGNhbGxlZFxuICogLSB0aGUgaGVhbHRoIGNoZWNrIGZhaWxzIGFuZCBubyBldmVudCBpcyByZWNlaXZlZCBmb3IgfjQwIHNlY29uZHNcbiAqIC0gdGhlIGJyb3dzZXIgaW5kaWNhdGVzIHRoZSBjb25uZWN0aW9uIGlzIG5vdyBvZmZsaW5lXG4gKlxuICogVGhlcmUgYXJlIDIgYXNzdW1wdGlvbnMgd2UgbWFrZSBhYm91dCB0aGUgc2VydmVyOlxuICogLSBzdGF0ZSBjYW4gYmUgcmVjb3ZlcmVkIGJ5IHF1ZXJ5aW5nIHRoZSBjaGFubmVsIGFnYWluXG4gKiAtIGlmIHRoZSBzZXJ2ZXJzIGZhaWxzIHRvIHB1Ymxpc2ggYSBtZXNzYWdlIHRvIHRoZSBjbGllbnQsIHRoZSBXUyBjb25uZWN0aW9uIGlzIGRlc3Ryb3llZFxuICovXG5cblxudmFyIFN0YWJsZVdTQ29ubmVjdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8vIGdsb2JhbCBmcm9tIGNvbnN0cnVjdG9yXG4gIC8vIGxvY2FsIHZhcnNcbiAgZnVuY3Rpb24gU3RhYmxlV1NDb25uZWN0aW9uKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGNsaWVudCA9IF9yZWYuY2xpZW50O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YWJsZVdTQ29ubmVjdGlvbik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25JRFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdGlvbk9wZW5cIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnNlY3V0aXZlRmFpbHVyZXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBpbmdJbnRlcnZhbFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVhbHRoQ2hlY2tUaW1lb3V0UmVmXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0Nvbm5lY3RpbmdcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzRGlzY29ubmVjdGVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0hlYWx0aHlcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzUmVzb2x2ZWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhc3RFdmVudFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdGlvbkNoZWNrVGltZW91dFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZlwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVqZWN0UHJvbWlzZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVxdWVzdElEXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNvbHZlUHJvbWlzZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG90YWxGYWlsdXJlc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzSURcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9idWlsZFVybFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcXMgPSBlbmNvZGVVUklDb21wb25lbnQoX3RoaXMuY2xpZW50Ll9idWlsZFdTUGF5bG9hZChfdGhpcy5yZXF1ZXN0SUQpKTtcblxuICAgICAgdmFyIHRva2VuID0gX3RoaXMuY2xpZW50LnRva2VuTWFuYWdlci5nZXRUb2tlbigpO1xuXG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoX3RoaXMuY2xpZW50LndzQmFzZVVSTCwgXCIvY29ubmVjdD9qc29uPVwiKS5jb25jYXQocXMsIFwiJmFwaV9rZXk9XCIpLmNvbmNhdChfdGhpcy5jbGllbnQua2V5LCBcIiZhdXRob3JpemF0aW9uPVwiKS5jb25jYXQodG9rZW4sIFwiJnN0cmVhbS1hdXRoLXR5cGU9XCIpLmNvbmNhdChfdGhpcy5jbGllbnQuZ2V0QXV0aFR5cGUoKSwgXCImWC1TdHJlYW0tQ2xpZW50PVwiKS5jb25jYXQoX3RoaXMuY2xpZW50LmdldFVzZXJBZ2VudCgpKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9ubGluZVN0YXR1c0NoYW5nZWRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICAgIC8vIG1hcmsgdGhlIGNvbm5lY3Rpb24gYXMgZG93blxuICAgICAgICBfdGhpcy5fbG9nKCdvbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBTdGF0dXMgY2hhbmdpbmcgdG8gb2ZmbGluZScpO1xuXG4gICAgICAgIF90aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAnb25saW5lJykge1xuICAgICAgICAvLyByZXRyeSByaWdodCBub3cuLi5cbiAgICAgICAgLy8gV2UgY2hlY2sgdGhpcy5pc0hlYWx0aHksIG5vdCBzdXJlIGlmIGl0J3MgYWx3YXlzXG4gICAgICAgIC8vIHNtYXJ0IHRvIGNyZWF0ZSBhIG5ldyBXUyBjb25uZWN0aW9uIGlmIHRoZSBvbGQgb25lIGlzIHN0aWxsIHVwIGFuZCBydW5uaW5nLlxuICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHdlIGRpZG4ndCBtaXNzIGFueSBtZXNzYWdlcywgc28gdGhpcyBwcm9jZXNzIGlzIGp1c3QgZXhwZW5zaXZlIGFuZCBub3QgbmVlZGVkLlxuICAgICAgICBfdGhpcy5fbG9nKFwib25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gU3RhdHVzIGNoYW5naW5nIHRvIG9ubGluZS4gaXNIZWFsdGh5OiBcIi5jb25jYXQoX3RoaXMuaXNIZWFsdGh5KSk7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgICAgICBfdGhpcy5fcmVjb25uZWN0KHtcbiAgICAgICAgICAgIGludGVydmFsOiAxMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbm9wZW5cIiwgZnVuY3Rpb24gKHdzSUQpIHtcbiAgICAgIGlmIChfdGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICAgIF90aGlzLl9sb2coJ29ub3BlbigpIC0gb25vcGVuIGNhbGxiYWNrJywge1xuICAgICAgICB3c0lEOiB3c0lEXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9ubWVzc2FnZVwiLCBmdW5jdGlvbiAod3NJRCwgZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICAgIF90aGlzLl9sb2coJ29ubWVzc2FnZSgpIC0gb25tZXNzYWdlIGNhbGxiYWNrJywge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIHdzSUQ6IHdzSURcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZGF0YSA9IHR5cGVvZiBldmVudC5kYXRhID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoZXZlbnQuZGF0YSkgOiBudWxsOyAvLyB3ZSB3YWl0IHRpbGwgdGhlIGZpcnN0IG1lc3NhZ2UgYmVmb3JlIHdlIGNvbnNpZGVyIHRoZSBjb25uZWN0aW9uIG9wZW4uLlxuICAgICAgLy8gdGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IGF1dGggZXJyb3JzIGFuZCBzaW1pbGFyIGVycm9ycyB0cmlnZ2VyIGEgd3Mub25vcGVuIGFuZCBpbW1lZGlhdGVseVxuICAgICAgLy8gYWZ0ZXIgdGhhdCBhIHdzLm9uY2xvc2UuLlxuXG4gICAgICBpZiAoIV90aGlzLmlzUmVzb2x2ZWQgJiYgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMkcmVzb2x2ZVByb21pc2U7XG5cbiAgICAgICAgX3RoaXMuaXNSZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICB2YXIgX3RoaXMkcmVqZWN0UHJvbWlzZTtcblxuICAgICAgICAgIChfdGhpcyRyZWplY3RQcm9taXNlID0gX3RoaXMucmVqZWN0UHJvbWlzZSkgPT09IG51bGwgfHwgX3RoaXMkcmVqZWN0UHJvbWlzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmVqZWN0UHJvbWlzZS5jYWxsKF90aGlzLCBfdGhpcy5fZXJyb3JGcm9tV1NFdmVudChkYXRhLCBmYWxzZSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIChfdGhpcyRyZXNvbHZlUHJvbWlzZSA9IF90aGlzLnJlc29sdmVQcm9taXNlKSA9PT0gbnVsbCB8fCBfdGhpcyRyZXNvbHZlUHJvbWlzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmVzb2x2ZVByb21pc2UuY2FsbChfdGhpcywgZGF0YSk7XG5cbiAgICAgICAgX3RoaXMuX3NldEhlYWx0aCh0cnVlKTtcbiAgICAgIH0gLy8gdHJpZ2dlciB0aGUgZXZlbnQuLlxuXG5cbiAgICAgIF90aGlzLmxhc3RFdmVudCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgIGlmIChkYXRhICYmIGRhdGEudHlwZSA9PT0gJ2hlYWx0aC5jaGVjaycpIHtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVOZXh0UGluZygpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jbGllbnQuaGFuZGxlRXZlbnQoZXZlbnQpO1xuXG4gICAgICBfdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25jbG9zZVwiLCBmdW5jdGlvbiAod3NJRCwgZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICAgIF90aGlzLl9sb2coJ29uY2xvc2UoKSAtIG9uY2xvc2UgY2FsbGJhY2sgLSAnICsgZXZlbnQuY29kZSwge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIHdzSUQ6IHdzSURcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXZlbnQuY29kZSA9PT0gY2hhdENvZGVzLldTX0NMT1NFRF9TVUNDRVNTKSB7XG4gICAgICAgIHZhciBfdGhpcyRyZWplY3RQcm9taXNlMjtcblxuICAgICAgICAvLyB0aGlzIGlzIGEgcGVybWFuZW50IGVycm9yIHJhaXNlZCBieSBzdHJlYW0uLlxuICAgICAgICAvLyB1c3VhbGx5IGNhdXNlZCBieSBpbnZhbGlkIGF1dGggZGV0YWlsc1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXCJXUyBjb25uZWN0aW9uIHJlamVjdCB3aXRoIGVycm9yIFwiLmNvbmNhdChldmVudC5yZWFzb24pKTtcbiAgICAgICAgZXJyb3IucmVhc29uID0gZXZlbnQucmVhc29uO1xuICAgICAgICBlcnJvci5jb2RlID0gZXZlbnQuY29kZTtcbiAgICAgICAgZXJyb3Iud2FzQ2xlYW4gPSBldmVudC53YXNDbGVhbjtcbiAgICAgICAgZXJyb3IudGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAoX3RoaXMkcmVqZWN0UHJvbWlzZTIgPSBfdGhpcy5yZWplY3RQcm9taXNlKSA9PT0gbnVsbCB8fCBfdGhpcyRyZWplY3RQcm9taXNlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmVqZWN0UHJvbWlzZTIuY2FsbChfdGhpcywgZXJyb3IpO1xuXG4gICAgICAgIF90aGlzLl9sb2coXCJvbmNsb3NlKCkgLSBXUyBjb25uZWN0aW9uIHJlamVjdCB3aXRoIGVycm9yIFwiLmNvbmNhdChldmVudC5yZWFzb24pLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF90aGlzJHJlamVjdFByb21pc2UzO1xuXG4gICAgICAgIF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgICAgX3RoaXMudG90YWxGYWlsdXJlcyArPSAxO1xuXG4gICAgICAgIF90aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuXG4gICAgICAgIF90aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAoX3RoaXMkcmVqZWN0UHJvbWlzZTMgPSBfdGhpcy5yZWplY3RQcm9taXNlKSA9PT0gbnVsbCB8fCBfdGhpcyRyZWplY3RQcm9taXNlMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmVqZWN0UHJvbWlzZTMuY2FsbChfdGhpcywgX3RoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZXZlbnQpKTtcblxuICAgICAgICBfdGhpcy5fbG9nKFwib25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiBjbG9zZWQuIENhbGxpbmcgcmVjb25uZWN0IC4uLlwiLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pOyAvLyByZWNvbm5lY3QgaWYgaXRzIGFuIGFibm9ybWFsIGZhaWx1cmVcblxuXG4gICAgICAgIF90aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uZXJyb3JcIiwgZnVuY3Rpb24gKHdzSUQsIGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcmVqZWN0UHJvbWlzZTQ7XG5cbiAgICAgIGlmIChfdGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG4gICAgICBfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICBfdGhpcy50b3RhbEZhaWx1cmVzICs9IDE7XG5cbiAgICAgIF90aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuXG4gICAgICBfdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIChfdGhpcyRyZWplY3RQcm9taXNlNCA9IF90aGlzLnJlamVjdFByb21pc2UpID09PSBudWxsIHx8IF90aGlzJHJlamVjdFByb21pc2U0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRyZWplY3RQcm9taXNlNC5jYWxsKF90aGlzLCBfdGhpcy5fZXJyb3JGcm9tV1NFdmVudChldmVudCkpO1xuXG4gICAgICBfdGhpcy5fbG9nKFwib25lcnJvcigpIC0gV1MgY29ubmVjdGlvbiByZXN1bHRlZCBpbnRvIGVycm9yXCIsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX3JlY29ubmVjdCgpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldEhlYWx0aFwiLCBmdW5jdGlvbiAoaGVhbHRoeSkge1xuICAgICAgaWYgKGhlYWx0aHkgPT09IF90aGlzLmlzSGVhbHRoeSkgcmV0dXJuO1xuICAgICAgX3RoaXMuaXNIZWFsdGh5ID0gaGVhbHRoeTtcblxuICAgICAgaWYgKF90aGlzLmlzSGVhbHRoeSkge1xuICAgICAgICBfdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgICAgb25saW5lOiBfdGhpcy5pc0hlYWx0aHlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyB3ZSdyZSBvZmZsaW5lLCB3YWl0IGZldyBzZWNvbmRzIGFuZCBmaXJlIGFuZCBldmVudCBpZiBzdGlsbCBvZmZsaW5lXG5cblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5pc0hlYWx0aHkpIHJldHVybjtcblxuICAgICAgICBfdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgICAgb25saW5lOiBfdGhpcy5pc0hlYWx0aHlcbiAgICAgICAgfSk7XG4gICAgICB9LCA1MDAwKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9lcnJvckZyb21XU0V2ZW50XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGlzV1NGYWlsdXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuICAgICAgdmFyIGNvZGU7XG4gICAgICB2YXIgc3RhdHVzQ29kZTtcbiAgICAgIHZhciBtZXNzYWdlO1xuXG4gICAgICBpZiAoaXNDbG9zZUV2ZW50KGV2ZW50KSkge1xuICAgICAgICBjb2RlID0gZXZlbnQuY29kZTtcbiAgICAgICAgc3RhdHVzQ29kZSA9ICd1bmtub3duJztcbiAgICAgICAgbWVzc2FnZSA9IGV2ZW50LnJlYXNvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRXJyb3JFdmVudChldmVudCkpIHtcbiAgICAgICAgY29kZSA9IGV2ZW50LmVycm9yLmNvZGU7XG4gICAgICAgIHN0YXR1c0NvZGUgPSBldmVudC5lcnJvci5TdGF0dXNDb2RlO1xuICAgICAgICBtZXNzYWdlID0gZXZlbnQuZXJyb3IubWVzc2FnZTtcbiAgICAgIH0gLy8gS2VlcGluZyB0aGlzIGB3YXJuYCBsZXZlbCBsb2csIHRvIGF2b2lkIGNsdXR0ZXJpbmcgb2YgZXJyb3IgbG9ncyBmcm9tIHdzIGZhaWx1cmVzLlxuXG5cbiAgICAgIF90aGlzLl9sb2coXCJfZXJyb3JGcm9tV1NFdmVudCgpIC0gV1MgZmFpbGVkIHdpdGggY29kZSBcIi5jb25jYXQoY29kZSksIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICB9LCAnd2FybicpO1xuXG4gICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXCJXUyBmYWlsZWQgd2l0aCBjb2RlIFwiLmNvbmNhdChjb2RlLCBcIiBhbmQgcmVhc29uIC0gXCIpLmNvbmNhdChtZXNzYWdlKSk7XG4gICAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgICAgIC8qKlxuICAgICAgICogU3RhdHVzQ29kZSBkb2VzIG5vdCBleGlzdCBvbiBhbnkgZXZlbnQgdHlwZXMgYnV0IGhhcyBiZWVuIGxlZnRcbiAgICAgICAqIGFzIGlzIHRvIHByZXNlcnZlIEpTIGZ1bmN0aW9uYWxpdHkgZHVyaW5nIHRoZSBUUyBpbXBsZW1lbnRhdGlvblxuICAgICAgICovXG5cbiAgICAgIGVycm9yLlN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgICAgZXJyb3IuaXNXU0ZhaWx1cmUgPSBpc1dTRmFpbHVyZTtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXR1cENvbm5lY3Rpb25Qcm9taXNlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmlzUmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgIC8qKiBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBvbmNlIHdzLm9wZW4gaXMgY2FsbGVkICovXG5cbiAgICAgIF90aGlzLmNvbm5lY3Rpb25PcGVuID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBfdGhpcy5yZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICAgIF90aGlzLnJlamVjdFByb21pc2UgPSByZWplY3Q7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjaGVkdWxlTmV4dFBpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZikge1xuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICAgIH0gLy8gMzAgc2Vjb25kcyBpcyB0aGUgcmVjb21tZW5kZWQgaW50ZXJ2YWwgKG1lc3NlbmdlciB1c2VzIHRoaXMpXG5cblxuICAgICAgX3RoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHNlbmQgdGhlIGhlYWx0aGNoZWNrLi4sIHNlcnZlciByZXBsaWVzIHdpdGggYSBoZWFsdGggY2hlY2sgZXZlbnRcbiAgICAgICAgdmFyIGRhdGEgPSBbe1xuICAgICAgICAgIHR5cGU6ICdoZWFsdGguY2hlY2snLFxuICAgICAgICAgIGNsaWVudF9pZDogX3RoaXMuY2xpZW50LmNsaWVudElEXG4gICAgICAgIH1dOyAvLyB0cnkgdG8gc2VuZCBvbiB0aGUgY29ubmVjdGlvblxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIF90aGlzJHdzO1xuXG4gICAgICAgICAgKF90aGlzJHdzID0gX3RoaXMud3MpID09PSBudWxsIHx8IF90aGlzJHdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3cy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgey8vIGVycm9yIHdpbGwgYWxyZWFkeSBiZSBkZXRlY3RlZCBlbHNld2hlcmVcbiAgICAgICAgfVxuICAgICAgfSwgX3RoaXMucGluZ0ludGVydmFsKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcblxuICAgICAgICBpZiAoX3RoaXMubGFzdEV2ZW50ICYmIG5vdy5nZXRUaW1lKCkgLSBfdGhpcy5sYXN0RXZlbnQuZ2V0VGltZSgpID4gX3RoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCkge1xuICAgICAgICAgIF90aGlzLl9sb2coJ3NjaGVkdWxlQ29ubmVjdGlvbkNoZWNrIC0gZ29pbmcgdG8gcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgICBfdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcblxuICAgICAgICAgIF90aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX3RoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgfSk7XG5cbiAgICAvKiogU3RyZWFtQ2hhdCBjbGllbnQgKi9cbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAvKiogY29uc2VjdXRpdmUgZmFpbHVyZXMgaW5mbHVlbmNlIHRoZSBkdXJhdGlvbiBvZiB0aGUgdGltZW91dCAqL1xuXG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAvKioga2VlcCB0cmFjayBvZiB0aGUgdG90YWwgbnVtYmVyIG9mIGZhaWx1cmVzICovXG5cbiAgICB0aGlzLnRvdGFsRmFpbHVyZXMgPSAwO1xuICAgIC8qKiBXZSBvbmx5IG1ha2UgMSBhdHRlbXB0IHRvIHJlY29ubmVjdCBhdCB0aGUgc2FtZSB0aW1lLi4gKi9cblxuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgLyoqIFRvIGF2b2lkIHJlY29ubmVjdCBpZiBjbGllbnQgaXMgZGlzY29ubmVjdGVkICovXG5cbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgLyoqIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGNvbm5lY3Rpb24gcHJvbWlzZSBpcyByZXNvbHZlZCAqL1xuXG4gICAgdGhpcy5pc1Jlc29sdmVkID0gZmFsc2U7XG4gICAgLyoqIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgd2UgaGF2ZSBhIHdvcmtpbmcgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyICovXG5cbiAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgIC8qKiBJbmNyZW1lbnRlZCB3aGVuIGEgbmV3IFdTIGNvbm5lY3Rpb24gaXMgbWFkZSAqL1xuXG4gICAgdGhpcy53c0lEID0gMTtcbiAgICAvKiogU3RvcmUgdGhlIGxhc3QgZXZlbnQgdGltZSBmb3IgaGVhbHRoIGNoZWNrcyAqL1xuXG4gICAgdGhpcy5sYXN0RXZlbnQgPSBudWxsO1xuICAgIC8qKiBTZW5kIGEgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgZXZlcnkgMjUgc2Vjb25kcyAqL1xuXG4gICAgdGhpcy5waW5nSW50ZXJ2YWwgPSAyNSAqIDEwMDA7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0ID0gdGhpcy5waW5nSW50ZXJ2YWwgKyAxMCAqIDEwMDA7XG4gICAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMub25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3RhYmxlV1NDb25uZWN0aW9uLCBbe1xuICAgIGtleTogXCJfbG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2cobXNnKSB7XG4gICAgICB2YXIgZXh0cmEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIGxldmVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnaW5mbyc7XG4gICAgICB0aGlzLmNsaWVudC5sb2dnZXIobGV2ZWwsICdjb25uZWN0aW9uOicgKyBtc2csIF9vYmplY3RTcHJlYWQkMyh7XG4gICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbiddXG4gICAgICB9LCBleHRyYSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRDbGllbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2xpZW50KGNsaWVudCkge1xuICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbm5lY3QgLSBDb25uZWN0IHRvIHRoZSBXUyBVUkxcbiAgICAgKiB0aGUgZGVmYXVsdCAxNXMgdGltZW91dCBhbGxvd3MgYmV0d2VlbiAyfjMgdHJpZXNcbiAgICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8Q2hhbm5lbFR5cGUsIENvbW1hbmRUeXBlLCBVc2VyVHlwZT59IFByb21pc2UgdGhhdCBjb21wbGV0ZXMgb25jZSB0aGUgZmlyc3QgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jb25uZWN0MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHZhciB0aW1lb3V0LFxuICAgICAgICAgICAgaGVhbHRoQ2hlY2ssXG4gICAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gX2FyZ3MubGVuZ3RoID4gMCAmJiBfYXJnc1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMF0gOiAxNTAwMDtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJZb3UndmUgY2FsbGVkIGNvbm5lY3QgdHdpY2UsIGNhbiBvbmx5IGF0dGVtcHQgMSBjb25uZWN0aW9uIGF0IHRoZSB0aW1lXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3QoKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgaGVhbHRoQ2hlY2sgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coXCJjb25uZWN0KCkgLSBFc3RhYmxpc2hlZCB3cyBjb25uZWN0aW9uIHdpdGggaGVhbHRoY2hlY2s6IFwiLmNvbmNhdChoZWFsdGhDaGVjaykpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEyO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSg0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQudDAuY29kZSA9PT0gY2hhdENvZGVzLlRPS0VOX0VYUElSRUQgJiYgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgIGlmIChfY29udGV4dC50MC5pc1dTRmFpbHVyZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgIGNvZGU6IF9jb250ZXh0LnQwLmNvZGUsXG4gICAgICAgICAgICAgICAgICBTdGF0dXNDb2RlOiBfY29udGV4dC50MC5TdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX2NvbnRleHQudDAubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiBfY29udGV4dC50MC5pc1dTRmFpbHVyZVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2FpdEZvckhlYWx0aHkodGltZW91dCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1s0LCAxMl1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9jb25uZWN0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29ubmVjdDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfd2FpdEZvckhlYWx0aHkgcG9sbHMgdGhlIHByb21pc2UgY29ubmVjdGlvbiB0byBzZWUgaWYgaXRzIHJlc29sdmVkIHVudGlsIGl0IHRpbWVzIG91dFxuICAgICAqIHRoZSBkZWZhdWx0IDE1cyB0aW1lb3V0IGFsbG93cyBiZXR3ZWVuIDJ+MyB0cmllc1xuICAgICAqIEBwYXJhbSB0aW1lb3V0IGR1cmF0aW9uKG1zKVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3dhaXRGb3JIZWFsdGh5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfd2FpdEZvckhlYWx0aHkyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciB0aW1lb3V0LFxuICAgICAgICAgICAgX2FyZ3M0ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gX2FyZ3M0Lmxlbmd0aCA+IDAgJiYgX2FyZ3M0WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczRbMF0gOiAxNTAwMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLnJhY2UoW19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGludGVydmFsLCBpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gNTA7IC8vIG1zXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA8PSB0aW1lb3V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jb25uZWN0aW9uT3BlbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIuc2VudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpID09PSB0aW1lb3V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IF9jb250ZXh0Mi50MC5jb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXR1c0NvZGU6IF9jb250ZXh0Mi50MC5TdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9jb250ZXh0Mi50MC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiBfY29udGV4dDIudDAuaXNXU0ZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xlZXAoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpICs9IGludGVydmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzMsIDldXSk7XG4gICAgICAgICAgICAgICAgfSkpKCksIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKHRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0dXNDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaW5pdGlhbCBXUyBjb25uZWN0aW9uIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNXU0ZhaWx1cmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMpO1xuICAgICAgICAgICAgICAgIH0pKSgpXSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfd2FpdEZvckhlYWx0aHkoKSB7XG4gICAgICAgIHJldHVybiBfd2FpdEZvckhlYWx0aHkyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfd2FpdEZvckhlYWx0aHk7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogQnVpbGRzIGFuZCByZXR1cm5zIHRoZSB1cmwgZm9yIHdlYnNvY2tldC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHVybCBzdHJpbmdcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRpc2Nvbm5lY3RcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBkaXNjb25uZWN0IC0gRGlzY29ubmVjdCB0aGUgY29ubmVjdGlvbiBhbmQgZG9lc24ndCByZWNvdmVyLi4uXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXNjb25uZWN0KHRpbWVvdXQpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9sb2coXCJkaXNjb25uZWN0KCkgLSBDbG9zaW5nIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiBmb3Igd3NJRCBcIi5jb25jYXQodGhpcy53c0lEKSk7XG5cbiAgICAgIHRoaXMud3NJRCArPSAxO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNEaXNjb25uZWN0ZWQgPSB0cnVlOyAvLyBzdGFydCBieSByZW1vdmluZyBhbGwgdGhlIGxpc3RlbmVyc1xuXG4gICAgICBpZiAodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy5vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7IC8vIHJlbW92ZSB3cyBoYW5kbGVycy4uLlxuXG4gICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycykge1xuICAgICAgICB0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNDbG9zZWRQcm9taXNlOyAvLyBhbmQgZmluYWxseSBjbG9zZS4uLlxuICAgICAgLy8gQXNzaWduaW5nIHRvIGxvY2FsIGhlcmUgYmVjYXVzZSB3ZSB3aWxsIHJlbW92ZSBpdCBmcm9tIHRoaXMgYmVmb3JlIHRoZVxuICAgICAgLy8gcHJvbWlzZSByZXNvbHZlcy5cblxuICAgICAgdmFyIHdzID0gdGhpcy53cztcblxuICAgICAgaWYgKHdzICYmIHdzLmNsb3NlICYmIHdzLnJlYWR5U3RhdGUgPT09IHdzLk9QRU4pIHtcbiAgICAgICAgaXNDbG9zZWRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICB2YXIgb25jbG9zZSA9IGZ1bmN0aW9uIG9uY2xvc2UoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzMy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gcmVzb2x2aW5nIGlzQ2xvc2VkUHJvbWlzZSBcIi5jb25jYXQoZXZlbnQgPyAnd2l0aCcgOiAnd2l0aG91dCcsIFwiIGNsb3NlIGZyYW1lXCIpLCB7XG4gICAgICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgd3Mub25jbG9zZSA9IG9uY2xvc2U7IC8vIEluIGNhc2Ugd2UgZG9uJ3QgcmVjZWl2ZSBjbG9zZSBmcmFtZSB3ZWJzb2NrZXQgc2VydmVyIGluIHRpbWUsXG4gICAgICAgICAgLy8gbGV0cyBub3Qgd2FpdCBmb3IgbW9yZSB0aGFuIDEgc2Vjb25kcy5cblxuICAgICAgICAgIHNldFRpbWVvdXQob25jbG9zZSwgdGltZW91dCAhPSBudWxsID8gdGltZW91dCA6IDEwMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9sb2coXCJkaXNjb25uZWN0KCkgLSBNYW51YWxseSBjbG9zZWQgY29ubmVjdGlvbiBieSBjYWxsaW5nIGNsaWVudC5kaXNjb25uZWN0KClcIik7XG5cbiAgICAgICAgd3MuY2xvc2UoY2hhdENvZGVzLldTX0NMT1NFRF9TVUNDRVNTLCAnTWFudWFsbHkgY2xvc2VkIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBjbGllbnQuZGlzY29ubmVjdCgpJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9sb2coXCJkaXNjb25uZWN0KCkgLSB3cyBjb25uZWN0aW9uIGRvZXNuJ3QgZXhpc3Qgb3IgaXQgaXMgYWxyZWFkeSBjbG9zZWQuXCIpO1xuXG4gICAgICAgIGlzQ2xvc2VkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgdGhpcy53cztcbiAgICAgIHJldHVybiBpc0Nsb3NlZFByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jb25uZWN0IC0gQ29ubmVjdCB0byB0aGUgV1MgZW5kcG9pbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZTxDaGFubmVsVHlwZSwgQ29tbWFuZFR5cGUsIFVzZXJUeXBlPn0gUHJvbWlzZSB0aGF0IGNvbXBsZXRlcyBvbmNlIHRoZSBmaXJzdCBoZWFsdGggY2hlY2sgbWVzc2FnZSBpcyByZWNlaXZlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2Nvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jb25uZWN0MyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkge1xuICAgICAgICB2YXIgaXNUb2tlblJlYWR5LCB3c1VSTCwgcmVzcG9uc2UsIGluc2lnaHRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmlzRGlzY29ubmVjdGVkICYmIHRoaXMuY2xpZW50Lm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyBzaW1wbHkgaWdub3JlIF9jb25uZWN0IGlmIGl0J3MgY3VycmVudGx5IHRyeWluZyB0byBjb25uZWN0XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdElEID0gcmFuZG9tSWQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy5jb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBpc1Rva2VuUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDY7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coXCJfY29ubmVjdCgpIC0gd2FpdGluZyBmb3IgdG9rZW5cIik7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIudG9rZW5SZWFkeSgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgaXNUb2tlblJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxMztcbiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbXCJjYXRjaFwiXSg2KTtcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMTU7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNUb2tlblJlYWR5KSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKFwiX2Nvbm5lY3QoKSAtIHRva2VuUHJvdmlkZXIgZmFpbGVkIGJlZm9yZSwgc28gZ29pbmcgdG8gcmV0cnlcIik7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXR1cENvbm5lY3Rpb25Qcm9taXNlKCk7XG5cbiAgICAgICAgICAgICAgICB3c1VSTCA9IHRoaXMuX2J1aWxkVXJsKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coXCJfY29ubmVjdCgpIC0gQ29ubmVjdGluZyB0byBcIi5jb25jYXQod3NVUkwpLCB7XG4gICAgICAgICAgICAgICAgICB3c1VSTDogd3NVUkwsXG4gICAgICAgICAgICAgICAgICByZXF1ZXN0SUQ6IHRoaXMucmVxdWVzdElEXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VSTCk7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLm9ub3Blbi5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gdGhpcy5vbmNsb3NlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IuYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgICAgICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gdGhpcy5vbm1lc3NhZ2UuYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbk9wZW47XG5cbiAgICAgICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM2O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSUQgPSByZXNwb25zZS5jb25uZWN0aW9uX2lkO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzQ29uc2VjdXRpdmVGYWlsdXJlcyA+IDAgJiYgdGhpcy5jbGllbnQub3B0aW9ucy5lbmFibGVJbnNpZ2h0cykge1xuICAgICAgICAgICAgICAgICAgcG9zdEluc2lnaHRzKCd3c19zdWNjZXNzX2FmdGVyX2ZhaWx1cmUnLCBidWlsZFdzU3VjY2Vzc0FmdGVyRmFpbHVyZUluc2lnaHQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuaW5zaWdodE1ldHJpY3Mud3NDb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAzODtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUudDEgPSBfY29udGV4dDVbXCJjYXRjaFwiXSgxNSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZyhcIl9jb25uZWN0KCkgLSBFcnJvciAtIFwiLCBfY29udGV4dDUudDEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50Lm9wdGlvbnMuZW5hYmxlSW5zaWdodHMpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzQ29uc2VjdXRpdmVGYWlsdXJlcysrO1xuICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuaW5zaWdodE1ldHJpY3Mud3NUb3RhbEZhaWx1cmVzKys7XG4gICAgICAgICAgICAgICAgICBpbnNpZ2h0cyA9IGJ1aWxkV3NGYXRhbEluc2lnaHQodGhpcywgY29udmVydEVycm9yVG9Kc29uKF9jb250ZXh0NS50MSkpO1xuICAgICAgICAgICAgICAgICAgcG9zdEluc2lnaHRzID09PSBudWxsIHx8IHBvc3RJbnNpZ2h0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9zdEluc2lnaHRzKCd3c19mYXRhbCcsIGluc2lnaHRzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDUudDE7XG5cbiAgICAgICAgICAgICAgY2FzZSA0NDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMsIFtbNiwgMTNdLCBbMTUsIDM4XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9jb25uZWN0My5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2Nvbm5lY3Q7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX3JlY29ubmVjdCAtIFJldHJ5IHRoZSBjb25uZWN0aW9uIHRvIFdTIGVuZHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3sgaW50ZXJ2YWw/OiBudW1iZXI7IHJlZnJlc2hUb2tlbj86IGJvb2xlYW4gfX0gb3B0aW9ucyBGb2xsb3dpbmcgb3B0aW9ucyBhcmUgYXZhaWxhYmxlXG4gICAgICpcbiAgICAgKiAtIGBpbnRlcnZhbGBcdHtpbnR9XHRcdFx0bnVtYmVyIG9mIG1zIHRoYXQgZnVuY3Rpb24gc2hvdWxkIHdhaXQgYmVmb3JlIHJlY29ubmVjdGluZ1xuICAgICAqIC0gYHJlZnJlc2hUb2tlbmAge2Jvb2xlYW59XHRyZWxvYWQvcmVmcmVzaCB1c2VyIHRva2VuIGJlIHJlZnJlc2hlZCBiZWZvcmUgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcmVjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVjb25uZWN0MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIGludGVydmFsLFxuICAgICAgICAgICAgX2FyZ3M2ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M2Lmxlbmd0aCA+IDAgJiYgX2FyZ3M2WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczZbMF0gOiB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gSW5pdGlhdGluZyB0aGUgcmVjb25uZWN0Jyk7IC8vIG9ubHkgYWxsb3cgMSBjb25uZWN0aW9uIGF0IHRoZSB0aW1lXG5cblxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuaXNDb25uZWN0aW5nIHx8IHRoaXMuaXNIZWFsdGh5KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMSkgc2luY2UgYWxyZWFkeSBjb25uZWN0aW5nIG9yIGhlYWx0aHknKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAvLyByZWNvbm5lY3QgaW4gY2FzZSBvZiBvbiBlcnJvciBvciBvbiBjbG9zZVxuICAgICAgICAgICAgICAgIC8vIGFsc28gcmVjb25uZWN0IGlmIHRoZSBoZWFsdGggY2hlY2sgY3ljbGUgZmFpbHNcbiAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IHJldHJ5SW50ZXJ2YWwodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICB9IC8vIHJlY29ubmVjdCwgb3IgdHJ5IGFnYWluIGFmdGVyIGEgbGl0dGxlIHdoaWxlLi4uXG5cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xlZXAoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmlzSGVhbHRoeSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgyKSBzaW5jZSBhbHJlYWR5IGNvbm5lY3Rpbmcgb3IgaGVhbHRoeScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlzRGlzY29ubmVjdGVkICYmIHRoaXMuY2xpZW50Lm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgzKSBzaW5jZSBkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRGVzdHJveWluZyBjdXJyZW50IFdTIGNvbm5lY3Rpb24nKTsgLy8gY2xlYW51cCB0aGUgb2xkIGNvbm5lY3Rpb25cblxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKTtcblxuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDIwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3QoKTtcblxuICAgICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gV2FpdGluZyBmb3IgcmVjb3ZlckNhbGxCYWNrJyk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5yZWNvdmVyU3RhdGUoKTtcblxuICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRmluaXNoZWQgcmVjb3ZlckNhbGxCYWNrJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDMwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0NltcImNhdGNoXCJdKDIwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQ2LnQwLmNvZGUgPT09IGNoYXRDb2Rlcy5UT0tFTl9FWFBJUkVEICYmICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdTIGZhaWx1cmUgZHVlIHRvIGV4cGlyZWQgdG9rZW4sIHNvIGdvaW5nIHRvIHRyeSB0byByZWxvYWQgdG9rZW4gYW5kIHJlY29ubmVjdCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fcmVjb25uZWN0KHtcbiAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgIC8vIHJlY29ubmVjdCBvbiBXUyBmYWlsdXJlcywgZG9uJ3QgcmVjb25uZWN0IGlmIHRoZXJlIGlzIGEgY29kZSBidWdcbiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQ2LnQwLmlzV1NGYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdTIGZhaWx1cmUsIHNvIGdvaW5nIHRvIHRyeSB0byByZWNvbm5lY3QnKTtcblxuICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSA9PSBFTkQgPT0nKTtcblxuICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcywgW1syMCwgMzBdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9yZWNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfcmVjb25uZWN0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlY29ubmVjdDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBvbmxpbmVTdGF0dXNDaGFuZ2VkIC0gdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgYnJvd3NlciBjb25uZWN0cyBvciBkaXNjb25uZWN0cyBmcm9tIHRoZSBpbnRlcm5ldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IHdpdGggdHlwZSBvbmxpbmUgb3Igb2ZmbGluZVxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb25cIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24gLSBSZW1vdmVzIHRoZSBjdXJyZW50IFdTIGNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbigpIHtcbiAgICAgIC8vIGluY3JlbWVudCB0aGUgSUQsIG1lYW5pbmcgd2Ugd2lsbCBpZ25vcmUgYWxsIG1lc3NhZ2VzIGZyb20gdGhlIG9sZFxuICAgICAgLy8gd3MgY29ubmVjdGlvbiBmcm9tIG5vdyBvbi5cbiAgICAgIHRoaXMud3NJRCArPSAxO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgX3RoaXMkd3MyLCBfdGhpcyR3czM7XG5cbiAgICAgICAgdGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkd3MyID0gdGhpcy53cykgPT09IG51bGwgfHwgX3RoaXMkd3MyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3czIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJHdzMyA9IHRoaXMud3MpID09PSBudWxsIHx8IF90aGlzJHdzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3MzLmNsb3NlKCk7XG4gICAgICB9IGNhdGNoIChlKSB7Ly8gd2UgZG9uJ3QgY2FyZVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2V0dXBQcm9taXNlIC0gc2V0cyB1cCB0aGUgdGhpcy5jb25uZWN0T3BlbiBwcm9taXNlXG4gICAgICovXG5cbiAgfV0pO1xuXG4gIHJldHVybiBTdGFibGVXU0Nvbm5lY3Rpb247XG59KCk7XG5cbmZ1bmN0aW9uIG93bktleXMkMihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDIoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQyKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vKipcbiAqIENyZWF0ZXMgdGhlIEpXVCB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIGZvciBhIFVzZXJTZXNzaW9uXG4gKiBAbWV0aG9kIEpXVFVzZXJUb2tlblxuICogQG1lbWJlcm9mIHNpZ25pbmdcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1NlY3JldH0gYXBpU2VjcmV0IC0gQVBJIFNlY3JldCBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBUaGUgdXNlcl9pZCBrZXkgaW4gdGhlIEpXVCBwYXlsb2FkXG4gKiBAcGFyYW0ge1VSfSBbZXh0cmFEYXRhXSAtIEV4dHJhIHRoYXQgc2hvdWxkIGJlIHBhcnQgb2YgdGhlIEpXVCB0b2tlblxuICogQHBhcmFtIHtTaWduT3B0aW9uc30gW2p3dE9wdGlvbnNdIC0gT3B0aW9ucyB0aGF0IGNhbiBiZSBwYXN0IHRvIGp3dC5zaWduXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEpXVCBUb2tlblxuICovXG5mdW5jdGlvbiBKV1RVc2VyVG9rZW4oYXBpU2VjcmV0LCB1c2VySWQpIHtcbiAgdmFyIGV4dHJhRGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciBqd3RPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcblxuICBpZiAodHlwZW9mIHVzZXJJZCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1c2VySWQgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gIH1cblxuICB2YXIgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQkMih7XG4gICAgdXNlcl9pZDogdXNlcklkXG4gIH0sIGV4dHJhRGF0YSk7IC8vIG1ha2Ugc3VyZSB3ZSByZXR1cm4gYSBjbGVhciBlcnJvciB3aGVuIGp3dCBpcyBzaGltbWVkIChpZS4gYnJvd3NlciBidWlsZClcblxuXG4gIGlmIChqd3QgPT0gbnVsbCB8fCBqd3Quc2lnbiA9PSBudWxsKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBqd3QgY3J5cHRvLCBpZiB5b3UgYXJlIGdldHRpbmcgdGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHlvdSBhcmUgdHJ5aW5nIHRvIGdlbmVyYXRlIHRva2VucyBvbiBicm93c2VyIG9yIFJlYWN0IE5hdGl2ZSAob3Igb3RoZXIgZW52aXJvbm1lbnQgd2hlcmUgY3J5cHRvIGZ1bmN0aW9ucyBhcmUgbm90IGF2YWlsYWJsZSkuIFBsZWFzZSBOb3RlOiB0b2tlbiBzaG91bGQgb25seSBiZSBnZW5lcmF0ZWQgc2VydmVyLXNpZGUuXCIpO1xuICB9XG5cbiAgdmFyIG9wdHMgPSBfZXh0ZW5kcyh7XG4gICAgYWxnb3JpdGhtOiAnSFMyNTYnLFxuICAgIG5vVGltZXN0YW1wOiB0cnVlXG4gIH0sIGp3dE9wdGlvbnMpO1xuXG4gIGlmIChwYXlsb2FkLmlhdCkge1xuICAgIG9wdHMubm9UaW1lc3RhbXAgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBhcGlTZWNyZXQsIG9wdHMpO1xufVxuZnVuY3Rpb24gSldUU2VydmVyVG9rZW4oYXBpU2VjcmV0KSB7XG4gIHZhciBqd3RPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIHBheWxvYWQgPSB7XG4gICAgc2VydmVyOiB0cnVlXG4gIH07XG5cbiAgdmFyIG9wdHMgPSBfZXh0ZW5kcyh7XG4gICAgYWxnb3JpdGhtOiAnSFMyNTYnLFxuICAgIG5vVGltZXN0YW1wOiB0cnVlXG4gIH0sIGp3dE9wdGlvbnMpO1xuXG4gIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBhcGlTZWNyZXQsIG9wdHMpO1xufVxuZnVuY3Rpb24gVXNlckZyb21Ub2tlbih0b2tlbikge1xuICB2YXIgZnJhZ21lbnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcblxuICBpZiAoZnJhZ21lbnRzLmxlbmd0aCAhPT0gMykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBiNjRQYXlsb2FkID0gZnJhZ21lbnRzWzFdO1xuICB2YXIgcGF5bG9hZCA9IGRlY29kZUJhc2U2NChiNjRQYXlsb2FkKTtcbiAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xuICByZXR1cm4gZGF0YS51c2VyX2lkO1xufVxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXJcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBEZXZUb2tlbih1c2VySWQpIHtcbiAgcmV0dXJuIFsnZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5JywgLy97XCJhbGdcIjogXCJIUzI1NlwiLCBcInR5cFwiOiBcIkpXVFwifVxuICBlbmNvZGVCYXNlNjQoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHVzZXJfaWQ6IHVzZXJJZFxuICB9KSksICdkZXZ0b2tlbicgLy8gaGFyZGNvZGVkIHNpZ25hdHVyZVxuICBdLmpvaW4oJy4nKTtcbn1cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgQnVmZmVyfSBib2R5IHRoZSBzaWduZWQgbWVzc2FnZVxuICogQHBhcmFtIHtzdHJpbmd9IHNlY3JldCB0aGUgc2hhcmVkIHNlY3JldCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBzaWduYXR1cmUgKFN0cmVhbSBBUEkgc2VjcmV0KVxuICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hdHVyZSB0aGUgc2lnbmF0dXJlIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbmZ1bmN0aW9uIENoZWNrU2lnbmF0dXJlKGJvZHksIHNlY3JldCwgc2lnbmF0dXJlKSB7XG4gIHZhciBrZXkgPSBCdWZmZXIuZnJvbShzZWNyZXQsICd1dGY4Jyk7XG4gIHZhciBoYXNoID0gY3J5cHRvJDEuY3JlYXRlSG1hYygnc2hhMjU2Jywga2V5KS51cGRhdGUoYm9keSkuZGlnZXN0KCdoZXgnKTtcblxuICB0cnkge1xuICAgIHJldHVybiBjcnlwdG8kMS50aW1pbmdTYWZlRXF1YWwoQnVmZmVyLmZyb20oaGFzaCksIEJ1ZmZlci5mcm9tKHNpZ25hdHVyZSkpO1xuICB9IGNhdGNoIChfdW51c2VkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogVG9rZW5NYW5hZ2VyXG4gKlxuICogSGFuZGxlcyBhbGwgdGhlIG9wZXJhdGlvbnMgYXJvdW5kIHVzZXIgdG9rZW4uXG4gKi9cbnZhciBUb2tlbk1hbmFnZXIgPVxuLyoqXG4gKiBDb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7U2VjcmV0fSBzZWNyZXRcbiAqL1xuZnVuY3Rpb24gVG9rZW5NYW5hZ2VyKHNlY3JldCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb2tlbk1hbmFnZXIpO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvYWRUb2tlblByb21pc2VcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eXBlXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2VjcmV0XCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG9rZW5cIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b2tlblByb3ZpZGVyXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldFRva2VuT3JQcm92aWRlclwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0b2tlbk9yUHJvdmlkZXIsIHVzZXIpIHtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF90aGlzLnZhbGlkYXRlVG9rZW4odG9rZW5PclByb3ZpZGVyLCB1c2VyKTtcblxuICAgICAgICAgICAgICBfdGhpcy51c2VyID0gdXNlcjtcblxuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0b2tlbk9yUHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudG9rZW5Qcm92aWRlciA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgICAgICAgICAgICBfdGhpcy50eXBlID0gJ3Byb3ZpZGVyJztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIF90aGlzLnRva2VuID0gdG9rZW5PclByb3ZpZGVyO1xuICAgICAgICAgICAgICAgIF90aGlzLnR5cGUgPSAnc3RhdGljJztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghdG9rZW5PclByb3ZpZGVyICYmIF90aGlzLnVzZXIgJiYgX3RoaXMuc2VjcmV0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudG9rZW4gPSBKV1RVc2VyVG9rZW4oX3RoaXMuc2VjcmV0LCB1c2VyLmlkLCB7fSwge30pO1xuICAgICAgICAgICAgICAgIF90aGlzLnR5cGUgPSAnc3RhdGljJztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3O1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubG9hZFRva2VuKCk7XG5cbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUpO1xuICAgIH0pKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94Mikge1xuICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KCkpO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc2V0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy50b2tlbiA9IHVuZGVmaW5lZDtcbiAgICBfdGhpcy51c2VyID0gdW5kZWZpbmVkO1xuICAgIF90aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWxpZGF0ZVRva2VuXCIsIGZ1bmN0aW9uICh0b2tlbk9yUHJvdmlkZXIsIHVzZXIpIHtcbiAgICAvLyBhbGxvdyBlbXB0eSB0b2tlbiBmb3IgYW5vbiB1c2VyXG4gICAgaWYgKHVzZXIgJiYgdXNlci5hbm9uICYmICF0b2tlbk9yUHJvdmlkZXIpIHJldHVybjsgLy8gRG9uJ3QgYWxsb3cgZW1wdHkgdG9rZW4gZm9yIG5vbi1zZXJ2ZXIgc2lkZSBjbGllbnQuXG5cbiAgICBpZiAoIV90aGlzLnNlY3JldCAmJiAhdG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgdG9rZW4gY2FuIG5vdCBiZSBlbXB0eScpO1xuICAgIH1cblxuICAgIGlmICh0b2tlbk9yUHJvdmlkZXIgJiYgdHlwZW9mIHRva2VuT3JQcm92aWRlciAhPT0gJ3N0cmluZycgJiYgIWlzRnVuY3Rpb24odG9rZW5PclByb3ZpZGVyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VyIHRva2VuIHNob3VsZCBlaXRoZXIgYmUgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gQWxsb3cgZW1wdHkgdG9rZW4gZm9yIGFub255bW91cyB1c2Vyc1xuICAgICAgaWYgKHVzZXIuYW5vbiAmJiB0b2tlbk9yUHJvdmlkZXIgPT09ICcnKSByZXR1cm47XG4gICAgICB2YXIgdG9rZW5Vc2VySWQgPSBVc2VyRnJvbVRva2VuKHRva2VuT3JQcm92aWRlcik7XG5cbiAgICAgIGlmICh0b2tlbk9yUHJvdmlkZXIgIT0gbnVsbCAmJiAodG9rZW5Vc2VySWQgPT0gbnVsbCB8fCB0b2tlblVzZXJJZCA9PT0gJycgfHwgdG9rZW5Vc2VySWQgIT09IHVzZXIuaWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndXNlclRva2VuIGRvZXMgbm90IGhhdmUgYSB1c2VyX2lkIG9yIGlzIG5vdCBtYXRjaGluZyB3aXRoIHVzZXIuaWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRva2VuUmVhZHlcIiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdGhpcy5sb2FkVG9rZW5Qcm9taXNlO1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2FkVG9rZW5cIiwgZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hc3luYy1wcm9taXNlLWV4ZWN1dG9yXG4gICAgX3RoaXMubG9hZFRva2VuUHJvbWlzZSA9IG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnR5cGUgPT09ICdzdGF0aWMnKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzb2x2ZShfdGhpcy50b2tlbikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy50b2tlblByb3ZpZGVyICYmIHR5cGVvZiBfdGhpcy50b2tlblByb3ZpZGVyICE9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy50b2tlblByb3ZpZGVyKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIF90aGlzLnRva2VuID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MltcImNhdGNoXCJdKDMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHJlamVjdChuZXcgRXJyb3IoXCJDYWxsIHRvIHRva2VuUHJvdmlkZXIgZmFpbGVkIHdpdGggbWVzc2FnZTogXCIuY29uY2F0KF9jb250ZXh0Mi50MCkpKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzLnRva2VuKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCA5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94MywgX3g0KSB7XG4gICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuICAgIHJldHVybiBfdGhpcy5sb2FkVG9rZW5Qcm9taXNlO1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRUb2tlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF90aGlzLnRva2VuKSB7XG4gICAgICByZXR1cm4gX3RoaXMudG9rZW47XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLnVzZXIgJiYgX3RoaXMudXNlci5hbm9uICYmICFfdGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIF90aGlzLnRva2VuO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZWNyZXQpIHtcbiAgICAgIHJldHVybiBKV1RTZXJ2ZXJUb2tlbihfdGhpcy5zZWNyZXQpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcIkJvdGggc2VjcmV0IGFuZCB1c2VyIHRva2VucyBhcmUgbm90IHNldC4gRWl0aGVyIGNsaWVudC5jb25uZWN0VXNlciB3YXNuJ3QgY2FsbGVkIG9yIGNsaWVudC5kaXNjb25uZWN0IHdhcyBjYWxsZWRcIik7XG4gIH0pO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzU3RhdGljXCIsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMudHlwZSA9PT0gJ3N0YXRpYyc7XG4gIH0pO1xuXG4gIHRoaXMubG9hZFRva2VuUHJvbWlzZSA9IG51bGw7XG5cbiAgaWYgKHNlY3JldCkge1xuICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICB9XG5cbiAgdGhpcy50eXBlID0gJ3N0YXRpYyc7XG5cbiAgaWYgKHRoaXMuc2VjcmV0KSB7XG4gICAgdGhpcy50b2tlbiA9IEpXVFNlcnZlclRva2VuKHRoaXMuc2VjcmV0KTtcbiAgfVxufVxuLyoqXG4gKiBTZXQgdGhlIHN0YXRpYyBzdHJpbmcgdG9rZW4gb3IgdG9rZW4gcHJvdmlkZXIuXG4gKiBUb2tlbiBwcm92aWRlciBzaG91bGQgcmV0dXJuIGEgdG9rZW4gc3RyaW5nIG9yIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBzdHJpbmcgdG9rZW4uXG4gKlxuICogQHBhcmFtIHtUb2tlbk9yUHJvdmlkZXJ9IHRva2VuT3JQcm92aWRlclxuICogQHBhcmFtIHtVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gdXNlclxuICovXG47XG5cbnZhciBBUElFcnJvckNvZGVzID0ge1xuICAnLTEnOiB7XG4gICAgbmFtZTogJ0ludGVybmFsU3lzdGVtRXJyb3InLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnMic6IHtcbiAgICBuYW1lOiAnQWNjZXNzS2V5RXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzMnOiB7XG4gICAgbmFtZTogJ0F1dGhlbnRpY2F0aW9uRmFpbGVkRXJyb3InLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnNCc6IHtcbiAgICBuYW1lOiAnSW5wdXRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNic6IHtcbiAgICBuYW1lOiAnRHVwbGljYXRlVXNlcm5hbWVFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnOSc6IHtcbiAgICBuYW1lOiAnUmF0ZUxpbWl0RXJyb3InLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnMTYnOiB7XG4gICAgbmFtZTogJ0RvZXNOb3RFeGlzdEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICcxNyc6IHtcbiAgICBuYW1lOiAnTm90QWxsb3dlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICcxOCc6IHtcbiAgICBuYW1lOiAnRXZlbnROb3RTdXBwb3J0ZWRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMTknOiB7XG4gICAgbmFtZTogJ0NoYW5uZWxGZWF0dXJlTm90U3VwcG9ydGVkRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzIwJzoge1xuICAgIG5hbWU6ICdNZXNzYWdlVG9vTG9uZ0Vycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICcyMSc6IHtcbiAgICBuYW1lOiAnTXVsdGlwbGVOZXN0aW5nTGV2ZWxFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMjInOiB7XG4gICAgbmFtZTogJ1BheWxvYWRUb29CaWdFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMjMnOiB7XG4gICAgbmFtZTogJ1JlcXVlc3RUaW1lb3V0RXJyb3InLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnMjQnOiB7XG4gICAgbmFtZTogJ01heEhlYWRlclNpemVFeGNlZWRlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc0MCc6IHtcbiAgICBuYW1lOiAnQXV0aEVycm9yVG9rZW5FeHBpcmVkJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc0MSc6IHtcbiAgICBuYW1lOiAnQXV0aEVycm9yVG9rZW5Ob3RWYWxpZFlldCcsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDInOiB7XG4gICAgbmFtZTogJ0F1dGhFcnJvclRva2VuVXNlZEJlZm9yZUlzc3VlZEF0JyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc0Myc6IHtcbiAgICBuYW1lOiAnQXV0aEVycm9yVG9rZW5TaWduYXR1cmVJbnZhbGlkJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc0NCc6IHtcbiAgICBuYW1lOiAnQ3VzdG9tQ29tbWFuZEVuZHBvaW50TWlzc2luZ0Vycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc0NSc6IHtcbiAgICBuYW1lOiAnQ3VzdG9tQ29tbWFuZEVuZHBvaW50Q2FsbEVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzQ2Jzoge1xuICAgIG5hbWU6ICdDb25uZWN0aW9uSUROb3RGb3VuZEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc2MCc6IHtcbiAgICBuYW1lOiAnQ29vbERvd25FcnJvcicsXG4gICAgcmV0cnlhYmxlOiB0cnVlXG4gIH0sXG4gICc2OSc6IHtcbiAgICBuYW1lOiAnRXJyV3JvbmdSZWdpb24nLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzcwJzoge1xuICAgIG5hbWU6ICdFcnJRdWVyeUNoYW5uZWxQZXJtaXNzaW9ucycsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNzEnOiB7XG4gICAgbmFtZTogJ0VyclRvb01hbnlDb25uZWN0aW9ucycsXG4gICAgcmV0cnlhYmxlOiB0cnVlXG4gIH0sXG4gICc5OSc6IHtcbiAgICBuYW1lOiAnQXBwU3VzcGVuZGVkRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfVxufTtcbmZ1bmN0aW9uIGlzQVBJRXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIGVycm9yLmNvZGUgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzRXJyb3JSZXRyeWFibGUoZXJyb3IpIHtcbiAgaWYgKCFlcnJvci5jb2RlKSByZXR1cm4gZmFsc2U7XG4gIHZhciBlcnIgPSBBUElFcnJvckNvZGVzW1wiXCIuY29uY2F0KGVycm9yLmNvZGUpXTtcbiAgaWYgKCFlcnIpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGVyci5yZXRyeWFibGU7XG59XG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb25JREVycm9yKGVycm9yKSB7XG4gIHJldHVybiBlcnJvci5jb2RlID09PSA0NjsgLy8gQ29ubmVjdGlvbklETm90Rm91bmRFcnJvclxufVxuZnVuY3Rpb24gaXNXU0ZhaWx1cmUoZXJyKSB7XG4gIGlmICh0eXBlb2YgZXJyLmlzV1NGYWlsdXJlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZXJyLmlzV1NGYWlsdXJlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShlcnIubWVzc2FnZSkuaXNXU0ZhaWx1cmU7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRXJyb3JSZXNwb25zZShyZXMpIHtcbiAgcmV0dXJuICFyZXMuc3RhdHVzIHx8IHJlcy5zdGF0dXMgPCAyMDAgfHwgMzAwIDw9IHJlcy5zdGF0dXM7XG59XG5cbmZ1bmN0aW9uIG93bktleXMkMShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQxKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIENvbm5lY3Rpb25TdGF0ZTtcblxuKGZ1bmN0aW9uIChDb25uZWN0aW9uU3RhdGUpIHtcbiAgQ29ubmVjdGlvblN0YXRlW1wiQ2xvc2VkXCJdID0gXCJDTE9TRURcIjtcbiAgQ29ubmVjdGlvblN0YXRlW1wiQ29ubmVjdGVkXCJdID0gXCJDT05ORUNURURcIjtcbiAgQ29ubmVjdGlvblN0YXRlW1wiQ29ubmVjdGluZ1wiXSA9IFwiQ09OTkVDVElOR1wiO1xuICBDb25uZWN0aW9uU3RhdGVbXCJEaXNjb25uZWN0ZWRcIl0gPSBcIkRJU0NPTk5FQ1RFRFwiO1xuICBDb25uZWN0aW9uU3RhdGVbXCJJbml0XCJdID0gXCJJTklUXCI7XG59KShDb25uZWN0aW9uU3RhdGUgfHwgKENvbm5lY3Rpb25TdGF0ZSA9IHt9KSk7XG5cbnZhciBXU0Nvbm5lY3Rpb25GYWxsYmFjayA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFdTQ29ubmVjdGlvbkZhbGxiYWNrKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGNsaWVudCA9IF9yZWYuY2xpZW50O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdTQ29ubmVjdGlvbkZhbGxiYWNrKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnNlY3V0aXZlRmFpbHVyZXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25JRFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FuY2VsVG9rZW5cIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vbmxpbmVTdGF0dXNDaGFuZ2VkXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMuX2xvZyhcIl9vbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBcIi5jb25jYXQoZXZlbnQudHlwZSkpO1xuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICAgIHZhciBfdGhpcyRjYW5jZWxUb2tlbjtcblxuICAgICAgICBfdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkNsb3NlZCk7XG5cbiAgICAgICAgKF90aGlzJGNhbmNlbFRva2VuID0gX3RoaXMuY2FuY2VsVG9rZW4pID09PSBudWxsIHx8IF90aGlzJGNhbmNlbFRva2VuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjYW5jZWxUb2tlbi5jYW5jZWwoJ2Rpc2Nvbm5lY3QoKSBpcyBjYWxsZWQnKTtcbiAgICAgICAgX3RoaXMuY2FuY2VsVG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdvbmxpbmUnICYmIF90aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ2xvc2VkKSB7XG4gICAgICAgIF90aGlzLmNvbm5lY3QodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVxXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBhcmFtcywgY29uZmlnLCByZXRyeSkge1xuICAgICAgICB2YXIgX3RoaXMkY2FuY2VsVG9rZW4yLCByZXM7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNhbmNlbFRva2VuICYmICFwYXJhbXMuY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmNhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNsaWVudC5kb0F4aW9zUmVxdWVzdCgnZ2V0JywgX3RoaXMuY2xpZW50LmJhc2VVUkwucmVwbGFjZSgnOjMwMzAnLCAnOjg5MDAnKSArICcvbG9uZ3BvbGwnLCAvLyByZXBsYWNlIHBvcnQgaWYgcHJlc2VudCBmb3IgdGVzdGluZyB3aXRoIGxvY2FsIEFQSVxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgICAgY29uZmlnOiBfb2JqZWN0U3ByZWFkJDEoX29iamVjdFNwcmVhZCQxKHt9LCBjb25maWcpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxUb2tlbjogKF90aGlzJGNhbmNlbFRva2VuMiA9IF90aGlzLmNhbmNlbFRva2VuKSA9PT0gbnVsbCB8fCBfdGhpcyRjYW5jZWxUb2tlbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNhbmNlbFRva2VuMi50b2tlblxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwOyAvLyBhbHdheXMgcmVzZXQgaW4gY2FzZSBvZiBubyBlcnJvclxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCByZXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEocmV0cnkgJiYgaXNFcnJvclJldHJ5YWJsZShfY29udGV4dC50MCkpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5fbG9nKFwiX3JlcSgpIC0gUmV0cnlhYmxlIGVycm9yLCByZXRyeWluZyByZXF1ZXN0XCIpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2O1xuICAgICAgICAgICAgICAgIHJldHVybiBzbGVlcChyZXRyeUludGVydmFsKF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3RoaXMuX3JlcShwYXJhbXMsIGNvbmZpZywgcmV0cnkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94Mykge1xuICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wb2xsXCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgIHZhciBfZGF0YSRldmVudHMsIGRhdGEsIGk7XG5cbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBpZiAoIShfdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI1O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxO1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcmVxKHt9LCB7XG4gICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDBcbiAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mi5zZW50O1xuXG4gICAgICAgICAgICAgIC8vIDMwcyA9PiBBUEkgcmVzcG9uZHMgaW4gMjBzIGlmIHRoZXJlIGlzIG5vIGV2ZW50XG4gICAgICAgICAgICAgIGlmICgoX2RhdGEkZXZlbnRzID0gZGF0YS5ldmVudHMpICE9PSBudWxsICYmIF9kYXRhJGV2ZW50cyAhPT0gdm9pZCAwICYmIF9kYXRhJGV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5ldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KGRhdGEuZXZlbnRzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIzO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MltcImNhdGNoXCJdKDEpO1xuXG4gICAgICAgICAgICAgIGlmICghYXhpb3MuaXNDYW5jZWwoX2NvbnRleHQyLnQwKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpcy5fbG9nKFwiX3BvbGwoKSAtIGF4aW9zIGNhbmNlbGVkIHJlcXVlc3RcIik7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIGlmICghaXNDb25uZWN0aW9uSURFcnJvcihfY29udGV4dDIudDApKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLl9sb2coXCJfcG9sbCgpIC0gQ29ubmVjdGlvbklEIGVycm9yLCBjb25uZWN0aW5nIHdpdGhvdXQgSUQuLi5cIik7XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLmNvbm5lY3QodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgIGlmICghKGlzQVBJRXJyb3IoX2NvbnRleHQyLnQwKSAmJiAhaXNFcnJvclJldHJ5YWJsZShfY29udGV4dDIudDApKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkNsb3NlZCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjM7XG4gICAgICAgICAgICAgIHJldHVybiBzbGVlcChyZXRyeUludGVydmFsKF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcblxuICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAwO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCA4XV0pO1xuICAgIH0pKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25uZWN0XCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgIHZhciByZWNvbm5lY3QsXG4gICAgICAgICAgX3lpZWxkJF90aGlzJF9yZXEsXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgX2FyZ3MzID0gYXJndW1lbnRzO1xuXG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmVjb25uZWN0ID0gX2FyZ3MzLmxlbmd0aCA+IDAgJiYgX2FyZ3MzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczNbMF0gOiBmYWxzZTtcblxuICAgICAgICAgICAgICBpZiAoIShfdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMuX2xvZygnY29ubmVjdCgpIC0gY29ubmVjdGluZyBhbHJlYWR5IGluIHByb2dyZXNzJywge1xuICAgICAgICAgICAgICAgIHJlY29ubmVjdDogcmVjb25uZWN0XG4gICAgICAgICAgICAgIH0sICd3YXJuJyk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMuX2xvZygnY29ubmVjdCgpIC0gYWxyZWFkeSBjb25uZWN0ZWQgYW5kIHBvbGxpbmcnLCB7XG4gICAgICAgICAgICAgICAgcmVjb25uZWN0OiByZWNvbm5lY3RcbiAgICAgICAgICAgICAgfSwgJ3dhcm4nKTtcblxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBfdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcpO1xuXG4gICAgICAgICAgICAgIF90aGlzLmNvbm5lY3Rpb25JRCA9IHVuZGVmaW5lZDsgLy8gY29ubmVjdCBzaG91bGQgYmUgc2VudCB3aXRoIGVtcHR5IGNvbm5lY3Rpb25faWQgc28gQVBJIGNyZWF0ZXMgb25lXG5cbiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5O1xuICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyO1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3JlcSh7XG4gICAgICAgICAgICAgICAganNvbjogX3RoaXMuY2xpZW50Ll9idWlsZFdTUGF5bG9hZCgpXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiA4MDAwXG4gICAgICAgICAgICAgIH0sIC8vIDhzXG4gICAgICAgICAgICAgIHJlY29ubmVjdCk7XG5cbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIF95aWVsZCRfdGhpcyRfcmVxID0gX2NvbnRleHQzLnNlbnQ7XG4gICAgICAgICAgICAgIGV2ZW50ID0gX3lpZWxkJF90aGlzJF9yZXEuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLmNvbm5lY3Rpb25JRCA9IGV2ZW50LmNvbm5lY3Rpb25faWQ7IC8vIEB0cy1leHBlY3QtZXJyb3JcblxuICAgICAgICAgICAgICBfdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3BvbGwoKTtcblxuICAgICAgICAgICAgICBpZiAocmVjb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xpZW50LnJlY292ZXJTdGF0ZSgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgZXZlbnQpO1xuXG4gICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDIyO1xuICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbXCJjYXRjaFwiXSg5KTtcblxuICAgICAgICAgICAgICBfdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkNsb3NlZCk7XG5cbiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQzLnQwO1xuXG4gICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzksIDIyXV0pO1xuICAgIH0pKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0hlYWx0aHlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICEhX3RoaXMuY29ubmVjdGlvbklEICYmIF90aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzY29ubmVjdFwiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICB2YXIgX3RoaXMkY2FuY2VsVG9rZW4zO1xuXG4gICAgICB2YXIgdGltZW91dCxcbiAgICAgICAgICBjb25uZWN0aW9uX2lkLFxuICAgICAgICAgIF9hcmdzNCA9IGFyZ3VtZW50cztcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB0aW1lb3V0ID0gX2FyZ3M0Lmxlbmd0aCA+IDAgJiYgX2FyZ3M0WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczRbMF0gOiAyMDAwO1xuICAgICAgICAgICAgICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMoX3RoaXMuX29ubGluZVN0YXR1c0NoYW5nZWQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkKTtcblxuICAgICAgICAgICAgICAoX3RoaXMkY2FuY2VsVG9rZW4zID0gX3RoaXMuY2FuY2VsVG9rZW4pID09PSBudWxsIHx8IF90aGlzJGNhbmNlbFRva2VuMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2FuY2VsVG9rZW4zLmNhbmNlbCgnZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuICAgICAgICAgICAgICBfdGhpcy5jYW5jZWxUb2tlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgY29ubmVjdGlvbl9pZCA9IF90aGlzLmNvbm5lY3Rpb25JRDtcbiAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbklEID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDc7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcmVxKHtcbiAgICAgICAgICAgICAgICBjbG9zZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uX2lkOiBjb25uZWN0aW9uX2lkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aW1lb3V0XG4gICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgX3RoaXMuX2xvZyhcImRpc2Nvbm5lY3QoKSAtIENsb3NlZCBjb25uZWN0aW9uSURcIik7XG5cbiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNjtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTM7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFtcImNhdGNoXCJdKDcpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9sb2coXCJkaXNjb25uZWN0KCkgLSBGYWlsZWRcIiwge1xuICAgICAgICAgICAgICAgIGVycjogX2NvbnRleHQ0LnQwXG4gICAgICAgICAgICAgIH0sICdlcnJvcicpO1xuXG4gICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzcsIDEzXV0pO1xuICAgIH0pKSk7XG5cbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLnN0YXRlID0gQ29ubmVjdGlvblN0YXRlLkluaXQ7XG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy5fb25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoV1NDb25uZWN0aW9uRmFsbGJhY2ssIFt7XG4gICAga2V5OiBcIl9sb2dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvZyhtc2cpIHtcbiAgICAgIHZhciBleHRyYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgbGV2ZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdpbmZvJztcbiAgICAgIHRoaXMuY2xpZW50LmxvZ2dlcihsZXZlbCwgJ1dTQ29ubmVjdGlvbkZhbGxiYWNrOicgKyBtc2csIF9vYmplY3RTcHJlYWQkMSh7XG4gICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbl9mYWxsYmFjaycsICdjb25uZWN0aW9uJ11cbiAgICAgIH0sIGV4dHJhKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZXRTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0U3RhdGUoc3RhdGUpIHtcbiAgICAgIHRoaXMuX2xvZyhcIl9zZXRTdGF0ZSgpIC0gXCIuY29uY2F0KHN0YXRlKSk7IC8vIHRyYW5zaXRpb24gZnJvbSBjb25uZWN0aW5nID0+IGNvbm5lY3RlZFxuXG5cbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZyAmJiBzdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJyxcbiAgICAgICAgICBvbmxpbmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNsb3NlZCB8fCBzdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJyxcbiAgICAgICAgICBvbmxpbmU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuXG4gIH1dKTtcblxuICByZXR1cm4gV1NDb25uZWN0aW9uRmFsbGJhY2s7XG59KCk7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG4vKipcbiAqIFV0aWxpdHkgVHlwZXNcbiAqL1xuXG4vKiBVbmtub3duIFJlY29yZCAqL1xuLy9hbGlhcyB0byBhdm9pZCBicmVha2luZyBjaGFuZ2VcblxuLyoqXG4gKiBSZXNwb25zZSBUeXBlc1xuICovXG4vLyBUaHVtYiBVUkwodGh1bWJfdXJsKSBpcyBhZGRlZCBjb25zaWRlcmluZyB2aWRlbyBhdHRhY2htZW50cyBhcyB0aGUgYmFja2VuZCB3aWxsIHJldHVybiB0aGUgdGh1bWJuYWlsIGluIHRoZSByZXNwb25zZS5cblxuLyoqXG4gKiBPcHRpb24gVHlwZXNcbiAqL1xuLy8gVE9ETzogcmVuYW1lIHRvIFVwZGF0ZUNoYW5uZWxPcHRpb25zIGluIHRoZSBuZXh0IG1ham9yIHVwZGF0ZSBhbmQgdXNlIGl0IGluIGNoYW5uZWwuX3VwZGF0ZSBhbmQvb3IgY2hhbm5lbC51cGRhdGVcblxuLyoqIEBkZXByZWNhdGVkIHVzZSBNYXJrQ2hhbm5lbHNSZWFkT3B0aW9ucyBpbnN0ZWFkICovXG4vLyBUT0RPOiByZW5hbWUgdG8gVXBkYXRlQ2hhbm5lbFR5cGVPcHRpb25zIGluIHRoZSBuZXh0IG1ham9yIHVwZGF0ZVxuXG4vKipcbiAqIEV2ZW50IFR5cGVzXG4gKi9cblxuLyoqXG4gKiBGaWx0ZXIgVHlwZXNcbiAqL1xuXG4vKipcbiAqIFNvcnQgVHlwZXNcbiAqL1xuXG4vKipcbiAqIEJhc2UgVHlwZXNcbiAqL1xuXG4vKlxuICBEZWxldGVVc2VyT3B0aW9ucyBzcGVjaWZpZXMgYSBjb2xsZWN0aW9uIG9mIG9uZSBvciBtb3JlIGB1c2VyX2lkc2AgdG8gYmUgZGVsZXRlZC5cblxuICBgdXNlcmA6XG4gICAgLSBzb2Z0OiBtYXJrcyB1c2VyIGFzIGRlbGV0ZWQgYW5kIHJldGFpbnMgYWxsIHVzZXIgZGF0YSBcbiAgICAtIHBydW5pbmc6IG1hcmtzIHVzZXIgYXMgZGVsZXRlZCBhbmQgbnVsbGlmaWVzIHVzZXIgaW5mb3JtYXRpb24gXG4gICAgLSBoYXJkOiBkZWxldGVzIHVzZXIgY29tcGxldGVseSAtIHRoaXMgcmVxdWlyZXMgaGFyZCBvcHRpb24gZm9yIG1lc3NhZ2VzIGFuZCBjb252ZXJzYXRpb24gYXMgd2VsbFxuICBgY29udmVyc2F0aW9uc2A6XG4gICAgLSBzb2Z0OiBtYXJrcyBhbGwgY29udmVyc2F0aW9uIGNoYW5uZWxzIGFzIGRlbGV0ZWQgKHNhbWUgZWZmZWN0IGFzIERlbGV0ZSBDaGFubmVscyB3aXRoICdoYXJkJyBvcHRpb24gZGlzYWJsZWQpXG4gICAgLSBoYXJkOiBkZWxldGVzIGNoYW5uZWwgYW5kIGFsbCBpdHMgZGF0YSBjb21wbGV0ZWx5IGluY2x1ZGluZyBtZXNzYWdlcyAoc2FtZSBlZmZlY3QgYXMgRGVsZXRlIENoYW5uZWxzIHdpdGggJ2hhcmQnIG9wdGlvbiBlbmFibGVkKVxuICBgbWVzc2FnZXNgOlxuICAgIC0gc29mdDogbWFya3MgYWxsIHVzZXIgbWVzc2FnZXMgYXMgZGVsZXRlZCB3aXRob3V0IHJlbW92aW5nIGFueSByZWxhdGVkIG1lc3NhZ2UgZGF0YVxuICAgIC0gcHJ1bmluZzogbWFya3MgYWxsIHVzZXIgbWVzc2FnZXMgYXMgZGVsZXRlZCwgbnVsbGlmaWVzIG1lc3NhZ2UgaW5mb3JtYXRpb24gYW5kIHJlbW92ZXMgc29tZSBtZXNzYWdlIGRhdGEgc3VjaCBhcyByZWFjdGlvbnMgYW5kIGZsYWdzXG4gICAgLSBoYXJkOiBkZWxldGVzIG1lc3NhZ2VzIGNvbXBsZXRlbHkgd2l0aCBhbGwgcmVsYXRlZCBpbmZvcm1hdGlvblxuICBgbmV3X2NoYW5uZWxfb3duZXJfaWRgOiBhbnkgY2hhbm5lbHMgb3duZWQgYnkgdGhlIGhhcmQtZGVsZXRlZCB1c2VyIHdpbGwgYmUgdHJhbnNmZXJyZWQgdG8gdGhpcyB1c2VyIElEXG4gKi9cbi8vIFRPRE86IGFkZCBiZXR0ZXIgdHlwaW5nXG52YXIgRXJyb3JGcm9tUmVzcG9uc2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHMoRXJyb3JGcm9tUmVzcG9uc2UsIF9FcnJvcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFcnJvckZyb21SZXNwb25zZSk7XG5cbiAgZnVuY3Rpb24gRXJyb3JGcm9tUmVzcG9uc2UoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVycm9yRnJvbVJlc3BvbnNlKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY29kZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlc3BvbnNlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdHVzXCIsIHZvaWQgMCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gRXJyb3JGcm9tUmVzcG9uc2U7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuXG52YXIgX2V4Y2x1ZGVkID0gW1wiY3JlYXRlZF9hdFwiLCBcInVwZGF0ZWRfYXRcIiwgXCJsYXN0X2FjdGl2ZVwiLCBcIm9ubGluZVwiXSxcbiAgICBfZXhjbHVkZWQyID0gW1wicGFyYW1zXCIsIFwiaGVhZGVyc1wiXTtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnc3RyaW5nJyB8fCB4IGluc3RhbmNlb2YgU3RyaW5nO1xufVxuXG52YXIgU3RyZWFtQ2hhdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0cmVhbUNoYXQoX2tleSwgc2VjcmV0T3JPcHRpb25zLCBfb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIF90aGlzJG9wdGlvbnM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RyZWFtQ2hhdCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXNlclwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aXZlQ2hhbm5lbHNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFub255bW91c1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJheGlvc0luc3RhbmNlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXNlVVJMXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJicm93c2VyXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGVhbmluZ0ludGVydmFsUmVmXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRJRFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29uZmlnc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwia2V5XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsaXN0ZW5lcnNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2dlclwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVjb3ZlclN0YXRlT25SZWNvbm5lY3RcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm11dGVkQ2hhbm5lbHNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm11dGVkVXNlcnNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5vZGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wdGlvbnNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlY3JldFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2V0VXNlclByb21pc2VcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b2tlbk1hbmFnZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJBZ2VudFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlcklEXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3c0Jhc2VVUkxcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzQ29ubmVjdGlvblwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NGYWxsYmFja1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NQcm9taXNlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25zZWN1dGl2ZUZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnNpZ2h0TWV0cmljc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVmYXVsdFdTVGltZW91dFdpdGhGYWxsYmFja1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVmYXVsdFdTVGltZW91dFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXJcIiwgbnVsbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ2V0Q29ubmVjdGlvbklEXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyR3c0Nvbm5lY3Rpb24sIF90aGlzJHdzRmFsbGJhY2s7XG5cbiAgICAgIHJldHVybiAoKF90aGlzJHdzQ29ubmVjdGlvbiA9IF90aGlzLndzQ29ubmVjdGlvbikgPT09IG51bGwgfHwgX3RoaXMkd3NDb25uZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3c0Nvbm5lY3Rpb24uY29ubmVjdGlvbklEKSB8fCAoKF90aGlzJHdzRmFsbGJhY2sgPSBfdGhpcy53c0ZhbGxiYWNrKSA9PT0gbnVsbCB8fCBfdGhpcyR3c0ZhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3c0ZhbGxiYWNrLmNvbm5lY3Rpb25JRCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGFzQ29ubmVjdGlvbklEXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKF90aGlzLl9nZXRDb25uZWN0aW9uSUQoKSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25uZWN0VXNlclwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVzZXIsIHVzZXJUb2tlbk9yUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIHNldFRva2VuUHJvbWlzZSwgd3NQcm9taXNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICh1c2VyLmlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFwiaWRcIiBmaWVsZCBvbiB0aGUgdXNlciBpcyBtaXNzaW5nJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnVzZXJJRCA9PT0gdXNlci5pZCAmJiBfdGhpcy5zZXRVc2VyUHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb25zZWN1dGl2ZSBjYWxscyB0byBjb25uZWN0VXNlciBpcyBkZXRlY3RlZCwgaWRlYWxseSB5b3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgaW4geW91ciBhcHAuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfdGhpcy5zZXRVc2VyUHJvbWlzZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMudXNlcklEKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlIGNsaWVudC5kaXNjb25uZWN0KCkgYmVmb3JlIHRyeWluZyB0byBjb25uZWN0IGFzIGEgZGlmZmVyZW50IHVzZXIuIGNvbm5lY3RVc2VyIHdhcyBjYWxsZWQgdHdpY2UuJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIGlmICgoX3RoaXMuX2lzVXNpbmdTZXJ2ZXJBdXRoKCkgfHwgX3RoaXMubm9kZSkgJiYgIV90aGlzLm9wdGlvbnMuYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQbGVhc2UgZG8gbm90IHVzZSBjb25uZWN0VXNlciBzZXJ2ZXIgc2lkZS4gY29ubmVjdFVzZXIgaW1wYWN0cyBNQVUgYW5kIGNvbmN1cnJlbnQgY29ubmVjdGlvbiB1c2FnZSBhbmQgdGh1cyB5b3VyIGJpbGwuIElmIHlvdSBoYXZlIGEgdmFsaWQgdXNlLWNhc2UsIGFkZCBcImFsbG93U2VydmVyU2lkZUNvbm5lY3Q6IHRydWVcIiB0byB0aGUgY2xpZW50IG9wdGlvbnMgdG8gZGlzYWJsZSB0aGlzIHdhcm5pbmcuJyk7XG4gICAgICAgICAgICAgICAgfSAvLyB3ZSBnZW5lcmF0ZSB0aGUgY2xpZW50IGlkIGNsaWVudCBzaWRlXG5cblxuICAgICAgICAgICAgICAgIF90aGlzLnVzZXJJRCA9IHVzZXIuaWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2V0VG9rZW5Qcm9taXNlID0gX3RoaXMuX3NldFRva2VuKHVzZXIsIHVzZXJUb2tlbk9yUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuX3NldFVzZXIodXNlcik7XG5cbiAgICAgICAgICAgICAgICB3c1Byb21pc2UgPSBfdGhpcy5vcGVuQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFVzZXJQcm9taXNlID0gUHJvbWlzZS5hbGwoW3NldFRva2VuUHJvbWlzZSwgd3NQcm9taXNlXSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0WzFdO1xuICAgICAgICAgICAgICAgIH0gLy8gV2Ugb25seSByZXR1cm4gY29ubmVjdGlvbiBwcm9taXNlO1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0VXNlclByb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgxNCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGNsaWVudCB0byBhbGxvdyB0aGUgdXNlciB0byByZXRyeSBjb25uZWN0VXNlciBhZ2FpblxuICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmRpc2Nvbm5lY3RVc2VyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQudDA7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzE0LCAyMF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyKSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRVc2VyXCIsIHRoaXMuY29ubmVjdFVzZXIpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldFRva2VuXCIsIGZ1bmN0aW9uICh1c2VyLCB1c2VyVG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICByZXR1cm4gX3RoaXMudG9rZW5NYW5hZ2VyLnNldFRva2VuT3JQcm92aWRlcih1c2VyVG9rZW5PclByb3ZpZGVyLCB1c2VyKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsb3NlQ29ubmVjdGlvblwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMkd3NDb25uZWN0aW9uMiwgX3RoaXMkd3NGYWxsYmFjazI7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNsZWFuaW5nSW50ZXJ2YWxSZWYgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5jbGVhbmluZ0ludGVydmFsUmVmKTtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmNsZWFuaW5nSW50ZXJ2YWxSZWYgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbKF90aGlzJHdzQ29ubmVjdGlvbjIgPSBfdGhpcy53c0Nvbm5lY3Rpb24pID09PSBudWxsIHx8IF90aGlzJHdzQ29ubmVjdGlvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHdzQ29ubmVjdGlvbjIuZGlzY29ubmVjdCh0aW1lb3V0KSwgKF90aGlzJHdzRmFsbGJhY2syID0gX3RoaXMud3NGYWxsYmFjaykgPT09IG51bGwgfHwgX3RoaXMkd3NGYWxsYmFjazIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHdzRmFsbGJhY2syLmRpc2Nvbm5lY3QodGltZW91dCldKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94Mykge1xuICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZW5Db25uZWN0aW9uXCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgIHZhciBfdGhpcyR3c0Nvbm5lY3Rpb24zLCBfdGhpcyR3c0Nvbm5lY3Rpb240LCBfdGhpcyR3c0ZhbGxiYWNrMztcblxuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmIChfdGhpcy51c2VySUQpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVXNlciBpcyBub3Qgc2V0IG9uIGNsaWVudCwgdXNlIGNsaWVudC5jb25uZWN0VXNlciBvciBjbGllbnQuY29ubmVjdEFub255bW91c1VzZXIgaW5zdGVhZCcpO1xuXG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGlmICghKChfdGhpcyR3c0Nvbm5lY3Rpb24zID0gX3RoaXMud3NDb25uZWN0aW9uKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb24zICE9PSB2b2lkIDAgJiYgX3RoaXMkd3NDb25uZWN0aW9uMy5pc0Nvbm5lY3RpbmcgJiYgX3RoaXMud3NQcm9taXNlKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcycsIHtcbiAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50J11cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgX3RoaXMud3NQcm9taXNlKTtcblxuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBpZiAoISgoKF90aGlzJHdzQ29ubmVjdGlvbjQgPSBfdGhpcy53c0Nvbm5lY3Rpb24pICE9PSBudWxsICYmIF90aGlzJHdzQ29ubmVjdGlvbjQgIT09IHZvaWQgMCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb240LmlzSGVhbHRoeSB8fCAoX3RoaXMkd3NGYWxsYmFjazMgPSBfdGhpcy53c0ZhbGxiYWNrKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0ZhbGxiYWNrMyAhPT0gdm9pZCAwICYmIF90aGlzJHdzRmFsbGJhY2szLmlzSGVhbHRoeSgpKSAmJiBfdGhpcy5faGFzQ29ubmVjdGlvbklEKCkpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyKCdpbmZvJywgJ2NsaWVudDpvcGVuQ29ubmVjdGlvbigpIC0gb3BlbkNvbm5lY3Rpb24gY2FsbGVkIHR3aWNlLCBoZWFsdGh5IGNvbm5lY3Rpb24gYWxyZWFkeSBleGlzdHMnLCB7XG4gICAgICAgICAgICAgICAgdGFnczogWydjb25uZWN0aW9uJywgJ2NsaWVudCddXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBfdGhpcy5jbGllbnRJRCA9IFwiXCIuY29uY2F0KF90aGlzLnVzZXJJRCwgXCItLVwiKS5jb25jYXQocmFuZG9tSWQoKSk7XG4gICAgICAgICAgICAgIF90aGlzLndzUHJvbWlzZSA9IF90aGlzLmNvbm5lY3QoKTtcblxuICAgICAgICAgICAgICBfdGhpcy5fc3RhcnRDbGVhbmluZygpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLndzUHJvbWlzZSk7XG5cbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTMpO1xuICAgIH0pKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dXBDb25uZWN0aW9uXCIsIHRoaXMub3BlbkNvbm5lY3Rpb24pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX25vcm1hbGl6ZURhdGVcIiwgZnVuY3Rpb24gKGJlZm9yZSkge1xuICAgICAgaWYgKGJlZm9yZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgYmVmb3JlID0gYmVmb3JlLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiZWZvcmUgPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvbid0IHBhc3MgYmxhbmsgc3RyaW5nIGZvciBzaW5jZSwgdXNlIG51bGwgaW5zdGVhZCBpZiByZXNldHRpbmcgdGhlIHRva2VuIHJldm9rZVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJlZm9yZTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpc2Nvbm5lY3RVc2VyXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBjbG9zZVByb21pc2UsIF9pLCBfT2JqZWN0JHZhbHVlcywgX2NoYW5uZWw7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyKCdpbmZvJywgJ2NsaWVudDpkaXNjb25uZWN0KCkgLSBEaXNjb25uZWN0aW5nIHRoZSBjbGllbnQnLCB7XG4gICAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50J11cbiAgICAgICAgICAgICAgICB9KTsgLy8gcmVtb3ZlIHRoZSB1c2VyIHNwZWNpZmljIGZpZWxkc1xuXG5cbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMudXNlcjtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX3VzZXI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLnVzZXJJRDtcbiAgICAgICAgICAgICAgICBfdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbG9zZVByb21pc2UgPSBfdGhpcy5jbG9zZUNvbm5lY3Rpb24odGltZW91dCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKF9pID0gMCwgX09iamVjdCR2YWx1ZXMgPSBPYmplY3QudmFsdWVzKF90aGlzLmFjdGl2ZUNoYW5uZWxzKTsgX2kgPCBfT2JqZWN0JHZhbHVlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgIF9jaGFubmVsID0gX09iamVjdCR2YWx1ZXNbX2ldO1xuXG4gICAgICAgICAgICAgICAgICBfY2hhbm5lbC5fZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH0gLy8gZW5zdXJlIHdlIG5vIGxvbmdlciByZXR1cm4gaW5hY3RpdmUgY2hhbm5lbHNcblxuXG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlQ2hhbm5lbHMgPSB7fTsgLy8gcmVzZXQgY2xpZW50IHN0YXRlXG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBDbGllbnRTdGF0ZSgpOyAvLyByZXNldCB0b2tlbiBtYW5hZ2VyXG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF90aGlzLnRva2VuTWFuYWdlci5yZXNldCk7IC8vIGRlbGF5IHJlc2V0aW5nIHRvIHVzZSB0b2tlbiBmb3IgZGlzY29ubmVjdCBjYWxsc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBXUyBjb25uZWN0aW9uXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBjbG9zZVByb21pc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0KTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkaXNjb25uZWN0XCIsIHRoaXMuZGlzY29ubmVjdFVzZXIpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdEFub255bW91c1VzZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKChfdGhpcy5faXNVc2luZ1NlcnZlckF1dGgoKSB8fCBfdGhpcy5ub2RlKSAmJiAhX3RoaXMub3B0aW9ucy5hbGxvd1NlcnZlclNpZGVDb25uZWN0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGxlYXNlIGRvIG5vdCB1c2UgY29ubmVjdFVzZXIgc2VydmVyIHNpZGUuIGNvbm5lY3RVc2VyIGltcGFjdHMgTUFVIGFuZCBjb25jdXJyZW50IGNvbm5lY3Rpb24gdXNhZ2UgYW5kIHRodXMgeW91ciBiaWxsLiBJZiB5b3UgaGF2ZSBhIHZhbGlkIHVzZS1jYXNlLCBhZGQgXCJhbGxvd1NlcnZlclNpZGVDb25uZWN0OiB0cnVlXCIgdG8gdGhlIGNsaWVudCBvcHRpb25zIHRvIGRpc2FibGUgdGhpcyB3YXJuaW5nLicpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5hbm9ueW1vdXMgPSB0cnVlO1xuICAgICAgX3RoaXMudXNlcklEID0gcmFuZG9tSWQoKTtcbiAgICAgIHZhciBhbm9ueW1vdXNVc2VyID0ge1xuICAgICAgICBpZDogX3RoaXMudXNlcklELFxuICAgICAgICBhbm9uOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fc2V0VG9rZW4oYW5vbnltb3VzVXNlciwgJycpO1xuXG4gICAgICBfdGhpcy5fc2V0VXNlcihhbm9ueW1vdXNVc2VyKTtcblxuICAgICAgcmV0dXJuIF90aGlzLl9zZXR1cENvbm5lY3Rpb24oKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldEFub255bW91c1VzZXJcIiwgdGhpcy5jb25uZWN0QW5vbnltb3VzVXNlcik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb0F4aW9zUmVxdWVzdFwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUodHlwZSwgdXJsLCBkYXRhKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgcmVxdWVzdENvbmZpZyxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgX3JlcXVlc3RDb25maWckaGVhZGVyLFxuICAgICAgICAgICAgX2FyZ3M1ID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczUubGVuZ3RoID4gMyAmJiBfYXJnczVbM10gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVszXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmVxdWVzdENvbmZpZyA9IF90aGlzLl9lbnJpY2hBeGlvc09wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA0O1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvZ0FwaVJlcXVlc3QodHlwZSwgdXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IHR5cGU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSBfY29udGV4dDUudDAgPT09ICdnZXQnID8gOSA6IF9jb250ZXh0NS50MCA9PT0gJ2RlbGV0ZScgPyAxMyA6IF9jb250ZXh0NS50MCA9PT0gJ3Bvc3QnID8gMTcgOiBfY29udGV4dDUudDAgPT09ICdwb3N0Rm9ybScgPyAyMSA6IF9jb250ZXh0NS50MCA9PT0gJ3B1dCcgPyAyNSA6IF9jb250ZXh0NS50MCA9PT0gJ3BhdGNoJyA/IDI5IDogX2NvbnRleHQ1LnQwID09PSAnb3B0aW9ucycgPyAzMyA6IDM3O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5heGlvc0luc3RhbmNlLmdldCh1cmwsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2UuZGVsZXRlKHVybCwgcmVxdWVzdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwiYnJlYWtcIiwgMzgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxOTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3NJbnN0YW5jZS5wb3N0KHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwiYnJlYWtcIiwgMzgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3NJbnN0YW5jZS5wb3N0Rm9ybSh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2UucHV0KHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwiYnJlYWtcIiwgMzgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3NJbnN0YW5jZS5wYXRjaCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzE6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2Uub3B0aW9ucyh1cmwsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXF1ZXN0IHR5cGUnKTtcblxuICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIF90aGlzLl9sb2dBcGlSZXNwb25zZSh0eXBlLCB1cmwsIHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0MzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDQzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MSA9IF9jb250ZXh0NVtcImNhdGNoXCJdKDQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MS5jbGllbnRfcmVxdWVzdF9pZCA9IChfcmVxdWVzdENvbmZpZyRoZWFkZXIgPSByZXF1ZXN0Q29uZmlnLmhlYWRlcnMpID09PSBudWxsIHx8IF9yZXF1ZXN0Q29uZmlnJGhlYWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcXVlc3RDb25maWckaGVhZGVyWyd4LWNsaWVudC1yZXF1ZXN0LWlkJ107XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5fbG9nQXBpRXJyb3IodHlwZSwgdXJsLCBfY29udGV4dDUudDEpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfY29udGV4dDUudDEucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDUudDEucmVzcG9uc2UuZGF0YS5jb2RlID09PSBjaGF0Q29kZXMuVE9LRU5fRVhQSVJFRCAmJiAhX3RoaXMudG9rZW5NYW5hZ2VyLmlzU3RhdGljKCkpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA+IDEpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDUzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1MztcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xlZXAocmV0cnlJbnRlcnZhbChfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1MzpcbiAgICAgICAgICAgICAgICBfdGhpcy50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU2O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5kb0F4aW9zUmVxdWVzdCh0eXBlLCB1cmwsIGRhdGEsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX3RoaXMuaGFuZGxlUmVzcG9uc2UoX2NvbnRleHQ1LnQxLnJlc3BvbnNlKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDUudDE7XG5cbiAgICAgICAgICAgICAgY2FzZSA2MTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIG51bGwsIFtbNCwgNDNdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g1LCBfeDYsIF94Nykge1xuICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpc3BhdGNoRXZlbnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoIWV2ZW50LnJlY2VpdmVkX2F0KSBldmVudC5yZWNlaXZlZF9hdCA9IG5ldyBEYXRlKCk7IC8vIGNsaWVudCBldmVudCBoYW5kbGVyc1xuXG4gICAgICB2YXIgcG9zdExpc3RlbmVyQ2FsbGJhY2tzID0gX3RoaXMuX2hhbmRsZUNsaWVudEV2ZW50KGV2ZW50KTsgLy8gY2hhbm5lbCBldmVudCBoYW5kbGVyc1xuXG5cbiAgICAgIHZhciBjaWQgPSBldmVudC5jaWQ7XG4gICAgICB2YXIgY2hhbm5lbCA9IGNpZCA/IF90aGlzLmFjdGl2ZUNoYW5uZWxzW2NpZF0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwuX2hhbmRsZUNoYW5uZWxFdmVudChldmVudCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9jYWxsQ2xpZW50TGlzdGVuZXJzKGV2ZW50KTtcblxuICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbC5fY2FsbENoYW5uZWxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBwb3N0TGlzdGVuZXJDYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gYygpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVFdmVudFwiLCBmdW5jdGlvbiAobWVzc2FnZUV2ZW50KSB7XG4gICAgICAvLyBkaXNwYXRjaCB0aGUgZXZlbnQgdG8gdGhlIGNoYW5uZWwgbGlzdGVuZXJzXG4gICAgICB2YXIganNvblN0cmluZyA9IG1lc3NhZ2VFdmVudC5kYXRhO1xuICAgICAgdmFyIGV2ZW50ID0gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcblxuICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXBkYXRlTWVtYmVyV2F0Y2hlclJlZmVyZW5jZXNcIiwgZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHZhciByZWZNYXAgPSBfdGhpcy5zdGF0ZS51c2VyQ2hhbm5lbFJlZmVyZW5jZXNbdXNlci5pZF0gfHwge307XG5cbiAgICAgIGZvciAodmFyIF9jaGFubmVsSUQgaW4gcmVmTWFwKSB7XG4gICAgICAgIHZhciBfY2hhbm5lbDIgPSBfdGhpcy5hY3RpdmVDaGFubmVsc1tfY2hhbm5lbElEXTtcblxuICAgICAgICBpZiAoX2NoYW5uZWwyICE9PSBudWxsICYmIF9jaGFubmVsMiAhPT0gdm9pZCAwICYmIF9jaGFubmVsMi5zdGF0ZSkge1xuICAgICAgICAgIGlmIChfY2hhbm5lbDIuc3RhdGUubWVtYmVyc1t1c2VyLmlkXSkge1xuICAgICAgICAgICAgX2NoYW5uZWwyLnN0YXRlLm1lbWJlcnNbdXNlci5pZF0udXNlciA9IHVzZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF9jaGFubmVsMi5zdGF0ZS53YXRjaGVyc1t1c2VyLmlkXSkge1xuICAgICAgICAgICAgX2NoYW5uZWwyLnN0YXRlLndhdGNoZXJzW3VzZXIuaWRdID0gdXNlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX2NoYW5uZWwyLnN0YXRlLnJlYWRbdXNlci5pZF0pIHtcbiAgICAgICAgICAgIF9jaGFubmVsMi5zdGF0ZS5yZWFkW3VzZXIuaWRdLnVzZXIgPSB1c2VyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VwZGF0ZVVzZXJSZWZlcmVuY2VzXCIsIHRoaXMuX3VwZGF0ZU1lbWJlcldhdGNoZXJSZWZlcmVuY2VzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91cGRhdGVVc2VyTWVzc2FnZVJlZmVyZW5jZXNcIiwgZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHZhciByZWZNYXAgPSBfdGhpcy5zdGF0ZS51c2VyQ2hhbm5lbFJlZmVyZW5jZXNbdXNlci5pZF0gfHwge307XG5cbiAgICAgIGZvciAodmFyIF9jaGFubmVsSUQyIGluIHJlZk1hcCkge1xuICAgICAgICB2YXIgX2NoYW5uZWwzID0gX3RoaXMuYWN0aXZlQ2hhbm5lbHNbX2NoYW5uZWxJRDJdO1xuICAgICAgICB2YXIgc3RhdGUgPSBfY2hhbm5lbDMuc3RhdGU7XG4gICAgICAgIC8qKiB1cGRhdGUgdGhlIG1lc3NhZ2VzIGZyb20gdGhpcyB1c2VyLiAqL1xuXG4gICAgICAgIHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZS51cGRhdGVVc2VyTWVzc2FnZXModXNlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGVsZXRlVXNlck1lc3NhZ2VSZWZlcmVuY2VcIiwgZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHZhciBoYXJkRGVsZXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgIHZhciByZWZNYXAgPSBfdGhpcy5zdGF0ZS51c2VyQ2hhbm5lbFJlZmVyZW5jZXNbdXNlci5pZF0gfHwge307XG5cbiAgICAgIGZvciAodmFyIF9jaGFubmVsSUQzIGluIHJlZk1hcCkge1xuICAgICAgICB2YXIgX2NoYW5uZWw0ID0gX3RoaXMuYWN0aXZlQ2hhbm5lbHNbX2NoYW5uZWxJRDNdO1xuICAgICAgICB2YXIgc3RhdGUgPSBfY2hhbm5lbDQuc3RhdGU7XG4gICAgICAgIC8qKiBkZWxldGVkIHRoZSBtZXNzYWdlcyBmcm9tIHRoaXMgdXNlci4gKi9cblxuICAgICAgICBzdGF0ZSA9PT0gbnVsbCB8fCBzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGUuZGVsZXRlVXNlck1lc3NhZ2VzKHVzZXIsIGhhcmREZWxldGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hhbmRsZVVzZXJFdmVudFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghZXZlbnQudXNlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvKiogdXBkYXRlIHRoZSBjbGllbnQuc3RhdGUgd2l0aCBhbnkgY2hhbmdlcyB0byB1c2VycyAqL1xuXG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAndXNlci5wcmVzZW5jZS5jaGFuZ2VkJyB8fCBldmVudC50eXBlID09PSAndXNlci51cGRhdGVkJykge1xuICAgICAgICBpZiAoZXZlbnQudXNlci5pZCA9PT0gX3RoaXMudXNlcklEKSB7XG4gICAgICAgICAgdmFyIHVzZXIgPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy51c2VyIHx8IHt9KTtcblxuICAgICAgICAgIHZhciBfdXNlciA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLl91c2VyIHx8IHt9KTsgLy8gUmVtb3ZlIGRlbGV0ZWQgcHJvcGVydGllcyBmcm9tIHVzZXIgb2JqZWN0cy5cblxuXG4gICAgICAgICAgZm9yICh2YXIgX2tleTIgaW4gX3RoaXMudXNlcikge1xuICAgICAgICAgICAgaWYgKF9rZXkyIGluIGV2ZW50LnVzZXIgfHwgaXNPd25Vc2VyQmFzZVByb3BlcnR5KF9rZXkyKSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVsZXRlIHVzZXJbX2tleTJdO1xuICAgICAgICAgICAgZGVsZXRlIF91c2VyW19rZXkyXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqIFVwZGF0aW5nIG9ubHkgYXZhaWxhYmxlIHByb3BlcnRpZXMgaW4gX3VzZXIgb2JqZWN0LiAqL1xuXG5cbiAgICAgICAgICBmb3IgKHZhciBfa2V5MyBpbiBldmVudC51c2VyKSB7XG4gICAgICAgICAgICBpZiAoX3VzZXIgJiYgX2tleTMgaW4gX3VzZXIpIHtcbiAgICAgICAgICAgICAgX3VzZXJbX2tleTNdID0gZXZlbnQudXNlcltfa2V5M107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBAdHMtZXhwZWN0LWVycm9yXG5cblxuICAgICAgICAgIF90aGlzLl91c2VyID0gX29iamVjdFNwcmVhZCh7fSwgX3VzZXIpO1xuICAgICAgICAgIF90aGlzLnVzZXIgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHVzZXIpLCBldmVudC51c2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0YXRlLnVwZGF0ZVVzZXIoZXZlbnQudXNlcik7XG5cbiAgICAgICAgX3RoaXMuX3VwZGF0ZU1lbWJlcldhdGNoZXJSZWZlcmVuY2VzKGV2ZW50LnVzZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3VzZXIudXBkYXRlZCcpIHtcbiAgICAgICAgX3RoaXMuX3VwZGF0ZVVzZXJNZXNzYWdlUmVmZXJlbmNlcyhldmVudC51c2VyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd1c2VyLmRlbGV0ZWQnICYmIGV2ZW50LnVzZXIuZGVsZXRlZF9hdCAmJiAoZXZlbnQubWFya19tZXNzYWdlc19kZWxldGVkIHx8IGV2ZW50LmhhcmRfZGVsZXRlKSkge1xuICAgICAgICBfdGhpcy5fZGVsZXRlVXNlck1lc3NhZ2VSZWZlcmVuY2UoZXZlbnQudXNlciwgZXZlbnQuaGFyZF9kZWxldGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NhbGxDbGllbnRMaXN0ZW5lcnNcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY2xpZW50ID0gX3RoaXM7IC8vIGdhdGhlciBhbmQgY2FsbCB0aGUgbGlzdGVuZXJzXG5cbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICAgICAgaWYgKGNsaWVudC5saXN0ZW5lcnMuYWxsKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgX3RvQ29uc3VtYWJsZUFycmF5KGNsaWVudC5saXN0ZW5lcnMuYWxsKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjbGllbnQubGlzdGVuZXJzW2V2ZW50LnR5cGVdKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgX3RvQ29uc3VtYWJsZUFycmF5KGNsaWVudC5saXN0ZW5lcnNbZXZlbnQudHlwZV0pKTtcbiAgICAgIH0gLy8gY2FsbCB0aGUgZXZlbnQgYW5kIHNlbmQgaXQgdG8gdGhlIGxpc3RlbmVyc1xuXG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDAsIF9saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7IF9pMiA8IF9saXN0ZW5lcnMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSBfbGlzdGVuZXJzW19pMl07XG4gICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlY292ZXJTdGF0ZVwiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7XG4gICAgICB2YXIgY2lkcztcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0Nikge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIoJ2luZm8nLCBcImNsaWVudDpyZWNvdmVyU3RhdGUoKSAtIFN0YXJ0IG9mIHJlY292ZXJTdGF0ZSB3aXRoIGNvbm5lY3Rpb25JRCBcIi5jb25jYXQoX3RoaXMuX2dldENvbm5lY3Rpb25JRCgpKSwge1xuICAgICAgICAgICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbiddXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNpZHMgPSBPYmplY3Qua2V5cyhfdGhpcy5hY3RpdmVDaGFubmVscyk7XG5cbiAgICAgICAgICAgICAgaWYgKCEoY2lkcy5sZW5ndGggJiYgX3RoaXMucmVjb3ZlclN0YXRlT25SZWNvbm5lY3QpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLmxvZ2dlcignaW5mbycsIFwiY2xpZW50OnJlY292ZXJTdGF0ZSgpIC0gU3RhcnQgdGhlIHF1ZXJ5aW5nIG9mIFwiLmNvbmNhdChjaWRzLmxlbmd0aCwgXCIgY2hhbm5lbHNcIiksIHtcbiAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50J11cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2O1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucXVlcnlDaGFubmVscyh7XG4gICAgICAgICAgICAgICAgY2lkOiB7XG4gICAgICAgICAgICAgICAgICAkaW46IGNpZHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsYXN0X21lc3NhZ2VfYXQ6IC0xXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsaW1pdDogMzBcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyKCdpbmZvJywgJ2NsaWVudDpyZWNvdmVyU3RhdGUoKSAtIFF1ZXJ5aW5nIGNoYW5uZWxzIGZpbmlzaGVkJywge1xuICAgICAgICAgICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbicsICdjbGllbnQnXVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBfdGhpcy5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29ubmVjdGlvbi5yZWNvdmVyZWQnXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICBfdGhpcy5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29ubmVjdGlvbi5yZWNvdmVyZWQnXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBfdGhpcy53c1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0VXNlclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlNik7XG4gICAgfSkpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldENoYW5uZWxCeU1lbWJlcnNcIiwgZnVuY3Rpb24gKGNoYW5uZWxUeXBlLCBjdXN0b20pIHtcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBjaGFubmVsIGFscmVhZHkgZXhpc3RzLlxuICAgICAgLy8gT25seSBhbGxvdyAxIGNoYW5uZWwgb2JqZWN0IHBlciBjaWRcbiAgICAgIHZhciBtZW1iZXJzU3RyID0gX3RvQ29uc3VtYWJsZUFycmF5KGN1c3RvbS5tZW1iZXJzIHx8IFtdKS5zb3J0KCkuam9pbignLCcpO1xuXG4gICAgICB2YXIgdGVtcENpZCA9IFwiXCIuY29uY2F0KGNoYW5uZWxUeXBlLCBcIjohbWVtYmVycy1cIikuY29uY2F0KG1lbWJlcnNTdHIpO1xuXG4gICAgICBpZiAoIW1lbWJlcnNTdHIpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1BsZWFzZSBzcGVjaWZ5IGF0bGVhc3Qgb25lIG1lbWJlciB3aGVuIGNyZWF0aW5nIHVuaXF1ZSBjb252ZXJzYXRpb24nKTtcbiAgICAgIH0gLy8gY2hhbm5lbCBjb3VsZCBleGlzdCBpbiBgYWN0aXZlQ2hhbm5lbHNgIGxpc3Qgd2l0aCBlaXRoZXIgb25lIG9mIHRoZSBmb2xsb3dpbmcgdHdvIGtleXM6XG4gICAgICAvLyAxLiBjaWQgLSBXaGljaCBnZXRzIHNldCBvbiBjaGFubmVsIG9ubHkgYWZ0ZXIgY2FsbGluZyBjaGFubmVsLnF1ZXJ5IG9yIGNoYW5uZWwud2F0Y2ggb3IgY2hhbm5lbC5jcmVhdGVcbiAgICAgIC8vIDIuIFNvcnRlZCBtZW1iZXJzU3RyIC0gRS5nLiwgXCJtZXNzYWdpbmc6YW1pbix2aXNoYWxcIiBPUiBcIm1lc3NhZ2luZzphbWluLGphYXAsdG9tXCJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyBzZXQgd2hlbiB5b3UgY3JlYXRlIGEgY2hhbm5lbCwgYnV0IGhhdmVuJ3QgcXVlcmllZCB5ZXQuIEFmdGVyIHF1ZXJ5LFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB3ZSB3aWxsIHJlcGxhY2UgaXQgd2l0aCBgY2lkYFxuXG5cbiAgICAgIGZvciAodmFyIF9rZXk0IGluIF90aGlzLmFjdGl2ZUNoYW5uZWxzKSB7XG4gICAgICAgIHZhciBfY2hhbm5lbDUgPSBfdGhpcy5hY3RpdmVDaGFubmVsc1tfa2V5NF07XG5cbiAgICAgICAgaWYgKF9jaGFubmVsNS5kaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfa2V5NCA9PT0gdGVtcENpZCkge1xuICAgICAgICAgIHJldHVybiBfY2hhbm5lbDU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2tleTQuaW5kZXhPZihcIlwiLmNvbmNhdChjaGFubmVsVHlwZSwgXCI6IW1lbWJlcnMtXCIpKSA9PT0gMCkge1xuICAgICAgICAgIHZhciBtZW1iZXJzU3RySW5FeGlzdGluZ0NoYW5uZWwgPSBPYmplY3Qua2V5cyhfY2hhbm5lbDUuc3RhdGUubWVtYmVycykuc29ydCgpLmpvaW4oJywnKTtcblxuICAgICAgICAgIGlmIChtZW1iZXJzU3RySW5FeGlzdGluZ0NoYW5uZWwgPT09IG1lbWJlcnNTdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfY2hhbm5lbDU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFubmVsID0gbmV3IENoYW5uZWwoX3RoaXMsIGNoYW5uZWxUeXBlLCB1bmRlZmluZWQsIGN1c3RvbSk7IC8vIEZvciB0aGUgdGltZSBiZWluZyBzZXQgdGhlIGtleSBhcyBtZW1iZXJzU3RyLCBzaW5jZSB3ZSBkb24ndCBrbm93IHRoZSBjaWQgeWV0LlxuICAgICAgLy8gSW4gY2hhbm5lbC5xdWVyeSwgd2Ugd2lsbCByZXBsYWNlIGl0IHdpdGggJ2NpZCcuXG5cbiAgICAgIF90aGlzLmFjdGl2ZUNoYW5uZWxzW3RlbXBDaWRdID0gY2hhbm5lbDtcbiAgICAgIHJldHVybiBjaGFubmVsO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0Q2hhbm5lbEJ5SWRcIiwgZnVuY3Rpb24gKGNoYW5uZWxUeXBlLCBjaGFubmVsSUQsIGN1c3RvbSkge1xuICAgICAgaWYgKHR5cGVvZiBjaGFubmVsSUQgPT09ICdzdHJpbmcnICYmIH5jaGFubmVsSUQuaW5kZXhPZignOicpKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBjaGFubmVsIGlkIFwiLmNvbmNhdChjaGFubmVsSUQsIFwiLCBjYW4ndCBjb250YWluIHRoZSA6IGNoYXJhY3RlclwiKSk7XG4gICAgICB9IC8vIG9ubHkgYWxsb3cgMSBjaGFubmVsIG9iamVjdCBwZXIgY2lkXG5cblxuICAgICAgdmFyIGNpZCA9IFwiXCIuY29uY2F0KGNoYW5uZWxUeXBlLCBcIjpcIikuY29uY2F0KGNoYW5uZWxJRCk7XG5cbiAgICAgIGlmIChjaWQgaW4gX3RoaXMuYWN0aXZlQ2hhbm5lbHMgJiYgIV90aGlzLmFjdGl2ZUNoYW5uZWxzW2NpZF0uZGlzY29ubmVjdGVkKSB7XG4gICAgICAgIHZhciBfY2hhbm5lbDYgPSBfdGhpcy5hY3RpdmVDaGFubmVsc1tjaWRdO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhjdXN0b20pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBfY2hhbm5lbDYuZGF0YSA9IGN1c3RvbTtcbiAgICAgICAgICBfY2hhbm5lbDYuX2RhdGEgPSBjdXN0b207XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2NoYW5uZWw2O1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBDaGFubmVsKF90aGlzLCBjaGFubmVsVHlwZSwgY2hhbm5lbElELCBjdXN0b20pO1xuICAgICAgX3RoaXMuYWN0aXZlQ2hhbm5lbHNbY2hhbm5lbC5jaWRdID0gY2hhbm5lbDtcbiAgICAgIHJldHVybiBjaGFubmVsO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlVXNlcnNcIiwgdGhpcy51cHNlcnRVc2Vycyk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1cGRhdGVVc2VyXCIsIHRoaXMudXBzZXJ0VXNlcik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdW5ibG9ja01lc3NhZ2VcIiwgdGhpcy51bmJsb2NrTWVzc2FnZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXJrQWxsUmVhZFwiLCB0aGlzLm1hcmtDaGFubmVsc1JlYWQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzVXNpbmdTZXJ2ZXJBdXRoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhIV90aGlzLnNlY3JldDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9idWlsZFdTUGF5bG9hZFwiLCBmdW5jdGlvbiAoY2xpZW50X3JlcXVlc3RfaWQpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXJfaWQ6IF90aGlzLnVzZXJJRCxcbiAgICAgICAgdXNlcl9kZXRhaWxzOiBfdGhpcy5fdXNlcixcbiAgICAgICAgZGV2aWNlOiBfdGhpcy5vcHRpb25zLmRldmljZSxcbiAgICAgICAgY2xpZW50X3JlcXVlc3RfaWQ6IGNsaWVudF9yZXF1ZXN0X2lkXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIHNldCB0aGUga2V5XG4gICAgdGhpcy5rZXkgPSBfa2V5O1xuICAgIHRoaXMubGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBDbGllbnRTdGF0ZSgpOyAvLyBhIGxpc3Qgb2YgY2hhbm5lbHMgdG8gaGlkZSB3cyBldmVudHMgZnJvbVxuXG4gICAgdGhpcy5tdXRlZENoYW5uZWxzID0gW107XG4gICAgdGhpcy5tdXRlZFVzZXJzID0gW107IC8vIHNldCB0aGUgc2VjcmV0XG5cbiAgICBpZiAoc2VjcmV0T3JPcHRpb25zICYmIGlzU3RyaW5nKHNlY3JldE9yT3B0aW9ucykpIHtcbiAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0T3JPcHRpb25zO1xuICAgIH0gLy8gc2V0IHRoZSBvcHRpb25zLi4uIGFuZCBmaWd1cmUgb3V0IGRlZmF1bHRzLi4uXG5cblxuICAgIHZhciBpbnB1dE9wdGlvbnMgPSBfb3B0aW9ucyA/IF9vcHRpb25zIDogc2VjcmV0T3JPcHRpb25zICYmICFpc1N0cmluZyhzZWNyZXRPck9wdGlvbnMpID8gc2VjcmV0T3JPcHRpb25zIDoge307XG4gICAgdGhpcy5icm93c2VyID0gdHlwZW9mIGlucHV0T3B0aW9ucy5icm93c2VyICE9PSAndW5kZWZpbmVkJyA/IGlucHV0T3B0aW9ucy5icm93c2VyIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgdGhpcy5ub2RlID0gIXRoaXMuYnJvd3NlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgIHRpbWVvdXQ6IDMwMDAsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgLy8gbWFraW5nIHN1cmUgY29va2llcyBhcmUgbm90IHNlbnRcbiAgICAgIHdhcm1VcDogZmFsc2UsXG4gICAgICByZWNvdmVyU3RhdGVPblJlY29ubmVjdDogdHJ1ZVxuICAgIH0sIGlucHV0T3B0aW9ucyk7XG5cbiAgICBpZiAodGhpcy5ub2RlICYmICF0aGlzLm9wdGlvbnMuaHR0cHNBZ2VudCkge1xuICAgICAgdGhpcy5vcHRpb25zLmh0dHBzQWdlbnQgPSBuZXcgaHR0cHMuQWdlbnQoe1xuICAgICAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgICAgIGtlZXBBbGl2ZU1zZWNzOiAzMDAwXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUodGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLnNldEJhc2VVUkwodGhpcy5vcHRpb25zLmJhc2VVUkwgfHwgJ2h0dHBzOi8vY2hhdC5zdHJlYW0taW8tYXBpLmNvbScpO1xuXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudi5TVFJFQU1fTE9DQUxfVEVTVF9SVU4pIHtcbiAgICAgIHRoaXMuc2V0QmFzZVVSTCgnaHR0cDovL2xvY2FsaG9zdDozMDMwJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudi5TVFJFQU1fTE9DQUxfVEVTVF9IT1NUKSB7XG4gICAgICB0aGlzLnNldEJhc2VVUkwoJ2h0dHA6Ly8nICsgcHJvY2Vzcy5lbnYuU1RSRUFNX0xPQ0FMX1RFU1RfSE9TVCk7XG4gICAgfSAvLyBXUyBjb25uZWN0aW9uIGlzIGluaXRpYWxpemVkIHdoZW4gc2V0VXNlciBpcyBjYWxsZWRcblxuXG4gICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBudWxsO1xuICAgIHRoaXMud3NQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLnNldFVzZXJQcm9taXNlID0gbnVsbDsgLy8ga2VlcHMgYSByZWZlcmVuY2UgdG8gYWxsIHRoZSBjaGFubmVscyB0aGF0IGFyZSBpbiB1c2VcblxuICAgIHRoaXMuYWN0aXZlQ2hhbm5lbHMgPSB7fTsgLy8gbWFwcGluZyBiZXR3ZWVuIGNoYW5uZWwgZ3JvdXBzIGFuZCBjb25maWdzXG5cbiAgICB0aGlzLmNvbmZpZ3MgPSB7fTtcbiAgICB0aGlzLmFub255bW91cyA9IGZhbHNlO1xuICAgIHRoaXMucGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlID0gKF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF90aGlzJG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG9wdGlvbnMucGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlOyAvLyBJZiBpdHMgYSBzZXJ2ZXItc2lkZSBjbGllbnQsIHRoZW4gbGV0cyBpbml0aWFsaXplIHRoZSB0b2tlbk1hbmFnZXIsIHNpbmNlIHRva2VuIHdpbGwgYmVcbiAgICAvLyBnZW5lcmF0ZWQgZnJvbSBzZWNyZXQuXG5cbiAgICB0aGlzLnRva2VuTWFuYWdlciA9IG5ldyBUb2tlbk1hbmFnZXIodGhpcy5zZWNyZXQpO1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgdGhpcy5pbnNpZ2h0TWV0cmljcyA9IG5ldyBJbnNpZ2h0TWV0cmljcygpO1xuICAgIHRoaXMuZGVmYXVsdFdTVGltZW91dFdpdGhGYWxsYmFjayA9IDYwMDA7XG4gICAgdGhpcy5kZWZhdWx0V1NUaW1lb3V0ID0gMTUwMDA7XG4gICAgdGhpcy5heGlvc0luc3RhbmNlLmRlZmF1bHRzLnBhcmFtc1NlcmlhbGl6ZXIgPSBheGlvc1BhcmFtc1NlcmlhbGl6ZXI7XG4gICAgLyoqXG4gICAgICogbG9nZ2VyIGZ1bmN0aW9uIHNob3VsZCBhY2NlcHQgMyBwYXJhbWV0ZXJzOlxuICAgICAqIEBwYXJhbSBsb2dMZXZlbCBzdHJpbmdcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAgIHN0cmluZ1xuICAgICAqIEBwYXJhbSBleHRyYURhdGEgb2JqZWN0XG4gICAgICpcbiAgICAgKiBlLmcuLFxuICAgICAqIGNvbnN0IGNsaWVudCA9IG5ldyBTdHJlYW1DaGF0KCdhcGlfa2V5Jywge30sIHtcbiAgICAgKiBcdFx0bG9nZ2VyID0gKGxvZ0xldmVsLCBtZXNzYWdlLCBleHRyYURhdGEpID0+IHtcbiAgICAgKiBcdFx0XHRjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICAgKiBcdFx0fVxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiBleHRyYURhdGEgY29udGFpbnMgdGFncyBhcnJheSBhdHRhY2hlZCB0byBsb2cgbWVzc2FnZS4gVGFncyBjYW4gaGF2ZSBvbmUvbWFueSBvZiBmb2xsb3dpbmcgdmFsdWVzOlxuICAgICAqIDEuIGFwaVxuICAgICAqIDIuIGFwaV9yZXF1ZXN0XG4gICAgICogMy4gYXBpX3Jlc3BvbnNlXG4gICAgICogNC4gY2xpZW50XG4gICAgICogNS4gY2hhbm5lbFxuICAgICAqIDYuIGNvbm5lY3Rpb25cbiAgICAgKiA3LiBldmVudFxuICAgICAqXG4gICAgICogSXQgbWF5IGFsc28gY29udGFpbnMgc29tZSBleHRyYSBkYXRhLCBzb21lIGV4YW1wbGVzIGhhdmUgYmVlbiBtZW50aW9uZWQgYmVsb3c6XG4gICAgICogMS4ge1xuICAgICAqIFx0XHR0YWdzOiBbJ2FwaScsICdhcGlfcmVxdWVzdCcsICdjbGllbnQnXSxcbiAgICAgKiBcdFx0dXJsOiBzdHJpbmcsXG4gICAgICogXHRcdHBheWxvYWQ6IG9iamVjdCxcbiAgICAgKiBcdFx0Y29uZmlnOiBvYmplY3RcbiAgICAgKiB9XG4gICAgICogMi4ge1xuICAgICAqIFx0XHR0YWdzOiBbJ2FwaScsICdhcGlfcmVzcG9uc2UnLCAnY2xpZW50J10sXG4gICAgICogXHRcdHVybDogc3RyaW5nLFxuICAgICAqIFx0XHRyZXNwb25zZTogb2JqZWN0XG4gICAgICogfVxuICAgICAqIDMuIHtcbiAgICAgKiBcdFx0dGFnczogWydhcGknLCAnYXBpX3Jlc3BvbnNlJywgJ2NsaWVudCddLFxuICAgICAqIFx0XHR1cmw6IHN0cmluZyxcbiAgICAgKiBcdFx0ZXJyb3I6IG9iamVjdFxuICAgICAqIH1cbiAgICAgKiA0LiB7XG4gICAgICogXHRcdHRhZ3M6IFsnZXZlbnQnLCAnY2xpZW50J10sXG4gICAgICogXHRcdGV2ZW50OiBvYmplY3RcbiAgICAgKiB9XG4gICAgICogNS4ge1xuICAgICAqIFx0XHR0YWdzOiBbJ2NoYW5uZWwnXSxcbiAgICAgKiBcdFx0Y2hhbm5lbDogb2JqZWN0XG4gICAgICogfVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2dnZXIgPSBpc0Z1bmN0aW9uKGlucHV0T3B0aW9ucy5sb2dnZXIpID8gaW5wdXRPcHRpb25zLmxvZ2dlciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgdGhpcy5yZWNvdmVyU3RhdGVPblJlY29ubmVjdCA9IHRoaXMub3B0aW9ucy5yZWNvdmVyU3RhdGVPblJlY29ubmVjdDtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgY2xpZW50IGluc3RhbmNlXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gYWx3YXlzIHJldHVybnMgdGhlIHNhbWUgQ2xpZW50IGluc3RhbmNlIHRvIGF2b2lkIGlzc3VlcyByYWlzZWQgYnkgbXVsdGlwbGUgQ2xpZW50IGFuZCBXUyBjb25uZWN0aW9uc1xuICAgKlxuICAgKiAqKkFmdGVyIHRoZSBmaXJzdCBjYWxsLCB0aGUgY2xpZW50IGNvbmZpZ3VyYXRpb24gd2lsbCBub3QgY2hhbmdlIGlmIHRoZSBrZXkgb3Igb3B0aW9ucyBwYXJhbWV0ZXJzIGNoYW5nZSoqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUgYXBpIGtleVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlY3JldF0gLSB0aGUgYXBpIHNlY3JldFxuICAgKiBAcGFyYW0ge1N0cmVhbUNoYXRPcHRpb25zfSBbb3B0aW9uc10gLSBhZGRpdGlvbmFsIG9wdGlvbnMsIGhlcmUgeW91IGNhbiBwYXNzIGN1c3RvbSBvcHRpb25zIHRvIGF4aW9zIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYnJvd3Nlcl0gLSBlbmZvcmNlIHRoZSBjbGllbnQgdG8gYmUgaW4gYnJvd3NlciBtb2RlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMud2FybVVwXSAtIGRlZmF1bHQgdG8gZmFsc2UsIGlmIHRydWUsIGNsaWVudCB3aWxsIG9wZW4gYSBjb25uZWN0aW9uIGFzIHNvb24gYXMgcG9zc2libGUgdG8gc3BlZWQgdXAgZm9sbG93aW5nIHJlcXVlc3RzXG4gICAqIEBwYXJhbSB7TG9nZ2VyfSBbb3B0aW9ucy5Mb2dnZXJdIC0gY3VzdG9tIGxvZ2dlclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dF0gLSBkZWZhdWx0IHRvIDMwMDBcbiAgICogQHBhcmFtIHtodHRwc0FnZW50fSBbb3B0aW9ucy5odHRwc0FnZW50XSAtIGN1c3RvbSBodHRwc0FnZW50LCBpbiBub2RlIGl0J3MgZGVmYXVsdCB0byBodHRwcy5hZ2VudCgpXG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmluaXRpYWxpemUgdGhlIGNsaWVudCBpbiB1c2VyIG1vZGU8L2NhcHRpb24+XG4gICAqIFN0cmVhbUNoYXQuZ2V0SW5zdGFuY2UoJ2FwaV9rZXknKVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5pbml0aWFsaXplIHRoZSBjbGllbnQgaW4gdXNlciBtb2RlIHdpdGggb3B0aW9uczwvY2FwdGlvbj5cbiAgICogU3RyZWFtQ2hhdC5nZXRJbnN0YW5jZSgnYXBpX2tleScsIHsgdGltZW91dDo1MDAwIH0pXG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPnNlY3JldCBpcyBvcHRpb25hbCBhbmQgb25seSB1c2VkIGluIHNlcnZlciBzaWRlIG1vZGU8L2NhcHRpb24+XG4gICAqIFN0cmVhbUNoYXQuZ2V0SW5zdGFuY2UoJ2FwaV9rZXknLCBcInNlY3JldFwiLCB7IGh0dHBzQWdlbnQ6IGN1c3RvbUFnZW50IH0pXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFN0cmVhbUNoYXQsIFt7XG4gICAga2V5OiBcImRldlRva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldlRva2VuKHVzZXJJRCkge1xuICAgICAgcmV0dXJuIERldlRva2VuKHVzZXJJRCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEF1dGhUeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1dGhUeXBlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYW5vbnltb3VzID8gJ2Fub255bW91cycgOiAnand0JztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0QmFzZVVSTFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRCYXNlVVJMKGJhc2VVUkwpIHtcbiAgICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgICB0aGlzLndzQmFzZVVSTCA9IHRoaXMuYmFzZVVSTC5yZXBsYWNlKCdodHRwJywgJ3dzJykucmVwbGFjZSgnOjMwMzAnLCAnOjg4MDAnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NldFVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFVzZXIodXNlcikge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIG9uZSBpcyB1c2VkIGJ5IHRoZSBmcm9udGVuZC4gVGhpcyBpcyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgdXNlciBvYmplY3Qgc3RvcmVkIG9uIGJhY2tlbmQuXG4gICAgICAgKiBJdCBjb250YWlucyByZXNlcnZlZCBwcm9wZXJ0aWVzIGFuZCBvd24gdXNlciBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBub3QgcHJlc2VudCBpbiBgdGhpcy5fdXNlcmAuXG4gICAgICAgKi9cbiAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgICB0aGlzLnVzZXJJRCA9IHVzZXIuaWQ7IC8vIHRoaXMgb25lIGlzIGFjdHVhbGx5IHVzZWQgZm9yIHJlcXVlc3RzLiBUaGlzIGlzIGEgY29weSBvZiBjdXJyZW50IHVzZXIgcHJvdmlkZWQgdG8gYGNvbm5lY3RVc2VyYCBmdW5jdGlvbi5cblxuICAgICAgdGhpcy5fdXNlciA9IF9vYmplY3RTcHJlYWQoe30sIHVzZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24sIHdpdGhvdXQgcmVtb3ZpbmcgdGhlIHVzZXIgc2V0IG9uIGNsaWVudC5cbiAgICAgKiBjbGllbnQuY2xvc2VDb25uZWN0aW9uIHdpbGwgbm90IHRyaWdnZXIgZGVmYXVsdCBhdXRvLXJldHJ5IG1lY2hhbmlzbSBmb3IgcmVjb25uZWN0aW9uLiBZb3UgbmVlZFxuICAgICAqIHRvIGNhbGwgY2xpZW50Lm9wZW5Db25uZWN0aW9uIHRvIHJlY29ubmVjdCB0byB3ZWJzb2NrZXQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIG1haW5seSB1c2VmdWwgb24gbW9iaWxlIHNpZGUuIFlvdSBjYW4gb25seSByZWNlaXZlIHB1c2ggbm90aWZpY2F0aW9uc1xuICAgICAqIGlmIHlvdSBkb24ndCBoYXZlIGFjdGl2ZSB3ZWJzb2NrZXQgY29ubmVjdGlvbi5cbiAgICAgKiBTbyB3aGVuIHlvdXIgYXBwIGdvZXMgdG8gYmFja2dyb3VuZCwgeW91IGNhbiBjYWxsIGBjbGllbnQuY2xvc2VDb25uZWN0aW9uYC5cbiAgICAgKiBBbmQgd2hlbiBhcHAgY29tZXMgYmFjayB0byBmb3JlZ3JvdW5kLCBjYWxsIGBjbGllbnQub3BlbkNvbm5lY3Rpb25gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNmdWwgZGlzY29ubmVjdGlvbi5cbiAgICAgKiAgICAgICAgICAgICAgICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2xvc2VFdmVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQXBwU2V0dGluZ3NcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiB1cGRhdGVBcHBTZXR0aW5ncyAtIHVwZGF0ZXMgYXBwbGljYXRpb24gc2V0dGluZ3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXBwU2V0dGluZ3N9IG9wdGlvbnMgQXBwIHNldHRpbmdzLlxuICAgICAqIElFOiB7XG4gICAgICAgICdhcG5fY29uZmlnJzoge1xuICAgICAgICAgICdhdXRoX3R5cGUnOiAndG9rZW4nLFxuICAgICAgICAgICdhdXRoX2tleVwiOiBmcy5yZWFkRmlsZVN5bmMoXG4gICAgICAgICAgICAnLi9hcG4tcHVzaC1hdXRoLWtleS5wOCcsXG4gICAgICAgICAgICAndXRmLTgnLFxuICAgICAgICAgICksXG4gICAgICAgICAgJ2tleV9pZCc6ICdrZXlpZCcsXG4gICAgICAgICAgJ3RlYW1faWQnOiAndGVhbWlkJyxcbiAgICAgICAgICAnbm90aWZpY2F0aW9uX3RlbXBsYXRlXCI6ICdub3RpZmljYXRpb24gaGFuZGxlYmFycyB0ZW1wbGF0ZScsXG4gICAgICAgICAgJ2J1bmRsZV9pZCc6ICdjb20uYXBwbGUueW91ci5hcHAnLFxuICAgICAgICAgICdkZXZlbG9wbWVudCc6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgJ2ZpcmViYXNlX2NvbmZpZyc6IHtcbiAgICAgICAgICAnc2VydmVyX2tleSc6ICdzZXJ2ZXIga2V5IGZyb20gZmNtJyxcbiAgICAgICAgICAnbm90aWZpY2F0aW9uX3RlbXBsYXRlJzogJ25vdGlmaWNhdGlvbiBoYW5kbGViYXJzIHRlbXBsYXRlJyxcbiAgICAgICAgICAnZGF0YV90ZW1wbGF0ZSc6ICdkYXRhIGhhbmRsZWJhcnMgdGVtcGxhdGUnLFxuICAgICAgICAgICdhcG5fdGVtcGxhdGUnOiAnYXBuIG5vdGlmaWNhdGlvbiBoYW5kbGViYXJzIHRlbXBsYXRlIHVuZGVyIHYyJ1xuICAgICAgICB9LFxuICAgICAgICAnd2ViaG9va191cmwnOiAnaHR0cHM6Ly9hY21lLmNvbS9teS9hd2Vzb21lL3dlYmhvb2svJ1xuICAgICAgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlQXBwU2V0dGluZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhvcHRpb25zKSB7XG4gICAgICAgIHZhciBhcG5fY29uZmlnO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBhcG5fY29uZmlnID0gb3B0aW9ucy5hcG5fY29uZmlnO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFwbl9jb25maWcgIT09IG51bGwgJiYgYXBuX2NvbmZpZyAhPT0gdm9pZCAwICYmIGFwbl9jb25maWcucDEyX2NlcnQpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBhcG5fY29uZmlnOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFwbl9jb25maWcpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICAgIHAxMl9jZXJ0OiBCdWZmZXIuZnJvbShhcG5fY29uZmlnLnAxMl9jZXJ0KS50b1N0cmluZygnYmFzZTY0JylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRjaCh0aGlzLmJhc2VVUkwgKyAnL2FwcCcsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFwcFNldHRpbmdzKF94OCkge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZUFwcFNldHRpbmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGVBcHBTZXR0aW5ncztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJyZXZva2VUb2tlbnNcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBSZXZva2VzIGFsbCB0b2tlbnMgb24gYXBwbGljYXRpb24gbGV2ZWwgaXNzdWVkIGJlZm9yZSBnaXZlbiB0aW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXZva2VUb2tlbnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChiZWZvcmUpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUFwcFNldHRpbmdzKHtcbiAgICAgICAgICAgICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogdGhpcy5fbm9ybWFsaXplRGF0ZShiZWZvcmUpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0OC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmV2b2tlVG9rZW5zKF94OSkge1xuICAgICAgICByZXR1cm4gX3Jldm9rZVRva2Vucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV2b2tlVG9rZW5zO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIFJldm9rZXMgdG9rZW4gZm9yIGEgdXNlciBpc3N1ZWQgYmVmb3JlIGdpdmVuIHRpbWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJldm9rZVVzZXJUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jldm9rZVVzZXJUb2tlbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KHVzZXJJRCwgYmVmb3JlKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZva2VVc2Vyc1Rva2VuKFt1c2VySURdLCBiZWZvcmUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJldm9rZVVzZXJUb2tlbihfeDEwLCBfeDExKSB7XG4gICAgICAgIHJldHVybiBfcmV2b2tlVXNlclRva2VuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXZva2VVc2VyVG9rZW47XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogUmV2b2tlcyB0b2tlbnMgZm9yIGEgbGlzdCBvZiB1c2VycyBpc3N1ZWQgYmVmb3JlIGdpdmVuIHRpbWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJldm9rZVVzZXJzVG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXZva2VVc2Vyc1Rva2VuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKHVzZXJJRHMsIGJlZm9yZSkge1xuICAgICAgICB2YXIgdXNlcnMsIF9pdGVyYXRvciwgX3N0ZXAsIHVzZXJJRDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKGJlZm9yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBiZWZvcmUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IHRoaXMuX25vcm1hbGl6ZURhdGUoYmVmb3JlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1c2VycyA9IFtdO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHVzZXJJRHMpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJJRCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB1c2Vycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogdXNlcklELFxuICAgICAgICAgICAgICAgICAgICAgIHNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiBiZWZvcmVcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnRpYWxVcGRhdGVVc2Vycyh1c2Vycyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDEwLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJldm9rZVVzZXJzVG9rZW4oX3gxMiwgX3gxMykge1xuICAgICAgICByZXR1cm4gX3Jldm9rZVVzZXJzVG9rZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldm9rZVVzZXJzVG9rZW47XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0QXBwU2V0dGluZ3MgLSByZXRyaWV2ZXMgYXBwbGljYXRpb24gc2V0dGluZ3NcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEFwcFNldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0QXBwU2V0dGluZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL2FwcCcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxMS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRBcHBTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRBcHBTZXR0aW5ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0QXBwU2V0dGluZ3M7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdGVzdFB1c2hTZXR0aW5ncyAtIFRlc3RzIHRoZSBwdXNoIHNldHRpbmdzIGZvciBhIHVzZXIgd2l0aCBhIHJhbmRvbSBjaGF0IG1lc3NhZ2UgYW5kIHRoZSBjb25maWd1cmVkIHB1c2ggdGVtcGxhdGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklEIFVzZXIgSUQuIElmIHVzZXIgaGFzIG5vIGRldmljZXMsIGl0IHdpbGwgZXJyb3JcbiAgICAgKiBAcGFyYW0ge1Rlc3RQdXNoRGF0YUlucHV0fSBbZGF0YV0gT3ZlcnJpZGVzIGZvciBwdXNoIHRlbXBsYXRlcy9tZXNzYWdlIHVzZWRcbiAgICAgKiAgSUU6IHtcbiAgICAgICAgICBtZXNzYWdlSUQ6ICdpZC1vZi1tZXNzYWdlJywgLy8gd2lsbCBlcnJvciBpZiBtZXNzYWdlIGRvZXMgbm90IGV4aXN0XG4gICAgICAgICAgYXBuVGVtcGxhdGU6ICd7fScsIC8vIGlmIGFwcCBkb2Vzbid0IGhhdmUgYXBuIGNvbmZpZ3VyZWQgaXQgd2lsbCBlcnJvclxuICAgICAgICAgIGZpcmViYXNlVGVtcGxhdGU6ICd7fScsIC8vIGlmIGFwcCBkb2Vzbid0IGhhdmUgZmlyZWJhc2UgY29uZmlndXJlZCBpdCB3aWxsIGVycm9yXG4gICAgICAgICAgZmlyZWJhc2VEYXRhVGVtcGxhdGU6ICd7fScsIC8vIGlmIGFwcCBkb2Vzbid0IGhhdmUgZmlyZWJhc2UgY29uZmlndXJlZCBpdCB3aWxsIGVycm9yXG4gICAgICAgICAgc2tpcERldmljZXM6IHRydWUsIC8vIHNraXAgY29uZmlnL2RldmljZSBjaGVja3MgYW5kIHNlbmRpbmcgdG8gcmVhbCBkZXZpY2VzXG4gICAgICAgICAgcHVzaFByb3ZpZGVyTmFtZTogJ3N0YWdpbmcnIC8vIG9uZSBvZiB5b3VyIGNvbmZpZ3VyZWQgcHVzaCBwcm92aWRlcnNcbiAgICAgICAgICBwdXNoUHJvdmlkZXJUeXBlOiAnYXBuJyAvLyBvbmUgb2Ygc3VwcG9ydGVkIHByb3ZpZGVyIHR5cGVzXG4gICAgICAgIH1cbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidGVzdFB1c2hTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Rlc3RQdXNoU2V0dGluZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIodXNlcklEKSB7XG4gICAgICAgIHZhciBkYXRhLFxuICAgICAgICAgICAgX2FyZ3MxMiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfYXJnczEyLmxlbmd0aCA+IDEgJiYgX2FyZ3MxMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxMlsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL2NoZWNrX3B1c2gnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRFxuICAgICAgICAgICAgICAgIH0sIGRhdGEubWVzc2FnZUlEID8ge1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogZGF0YS5tZXNzYWdlSURcbiAgICAgICAgICAgICAgICB9IDoge30pLCBkYXRhLmFwblRlbXBsYXRlID8ge1xuICAgICAgICAgICAgICAgICAgYXBuX3RlbXBsYXRlOiBkYXRhLmFwblRlbXBsYXRlXG4gICAgICAgICAgICAgICAgfSA6IHt9KSwgZGF0YS5maXJlYmFzZVRlbXBsYXRlID8ge1xuICAgICAgICAgICAgICAgICAgZmlyZWJhc2VfdGVtcGxhdGU6IGRhdGEuZmlyZWJhc2VUZW1wbGF0ZVxuICAgICAgICAgICAgICAgIH0gOiB7fSksIGRhdGEuZmlyZWJhc2VEYXRhVGVtcGxhdGUgPyB7XG4gICAgICAgICAgICAgICAgICBmaXJlYmFzZV9kYXRhX3RlbXBsYXRlOiBkYXRhLmZpcmViYXNlRGF0YVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgfSA6IHt9KSwgZGF0YS5za2lwRGV2aWNlcyA/IHtcbiAgICAgICAgICAgICAgICAgIHNraXBfZGV2aWNlczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0gOiB7fSksIGRhdGEucHVzaFByb3ZpZGVyTmFtZSA/IHtcbiAgICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogZGF0YS5wdXNoUHJvdmlkZXJOYW1lXG4gICAgICAgICAgICAgICAgfSA6IHt9KSwgZGF0YS5wdXNoUHJvdmlkZXJUeXBlID8ge1xuICAgICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcl90eXBlOiBkYXRhLnB1c2hQcm92aWRlclR5cGVcbiAgICAgICAgICAgICAgICB9IDoge30pKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdGVzdFB1c2hTZXR0aW5ncyhfeDE0KSB7XG4gICAgICAgIHJldHVybiBfdGVzdFB1c2hTZXR0aW5ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGVzdFB1c2hTZXR0aW5ncztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB0ZXN0U1FTU2V0dGluZ3MgLSBUZXN0cyB0aGF0IHRoZSBnaXZlbiBvciBjb25maWd1cmVkIFNRUyBjb25maWd1cmF0aW9uIGlzIHZhbGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Rlc3RTUVNEYXRhSW5wdXR9IFtkYXRhXSBPdmVycmlkZXMgU1FTIHNldHRpbmdzIGZvciB0ZXN0aW5nIGlmIG5lZWRlZFxuICAgICAqICBJRToge1xuICAgICAgICAgIHNxc19rZXk6ICdhdXRoX2tleScsXG4gICAgICAgICAgc3FzX3NlY3JldDogJ2F1dGhfc2VjcmV0JyxcbiAgICAgICAgICBzcXNfdXJsOiAndXJsX3RvX3F1ZXVlJyxcbiAgICAgICAgfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidGVzdFNRU1NldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGVzdFNRU1NldHRpbmdzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkge1xuICAgICAgICB2YXIgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzMTMgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2FyZ3MxMy5sZW5ndGggPiAwICYmIF9hcmdzMTNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTNbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jaGVja19zcXMnLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdGVzdFNRU1NldHRpbmdzKCkge1xuICAgICAgICByZXR1cm4gX3Rlc3RTUVNTZXR0aW5ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGVzdFNRU1NldHRpbmdzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHRlc3RTTlNTZXR0aW5ncyAtIFRlc3RzIHRoYXQgdGhlIGdpdmVuIG9yIGNvbmZpZ3VyZWQgU05TIGNvbmZpZ3VyYXRpb24gaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGVzdFNOU0RhdGFJbnB1dH0gW2RhdGFdIE92ZXJyaWRlcyBTTlMgc2V0dGluZ3MgZm9yIHRlc3RpbmcgaWYgbmVlZGVkXG4gICAgICogIElFOiB7XG4gICAgICAgICAgc25zX2tleTogJ2F1dGhfa2V5JyxcbiAgICAgICAgICBzbnNfc2VjcmV0OiAnYXV0aF9zZWNyZXQnLFxuICAgICAgICAgIHNuc190b3BpY19hcm46ICd0b3BpY190b19wdWJsaXNoX3RvJyxcbiAgICAgICAgfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidGVzdFNOU1NldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGVzdFNOU1NldHRpbmdzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkge1xuICAgICAgICB2YXIgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzMTQgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2FyZ3MxNC5sZW5ndGggPiAwICYmIF9hcmdzMTRbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTRbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jaGVja19zbnMnLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdGVzdFNOU1NldHRpbmdzKCkge1xuICAgICAgICByZXR1cm4gX3Rlc3RTTlNTZXR0aW5ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGVzdFNOU1NldHRpbmdzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSB3ZWJzb2NrZXQgYW5kIHJlbW92ZXMgdGhlIHVzZXIgZnJvbSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGltZW91dCBNYXggbnVtYmVyIG9mIG1zLCB0byB3YWl0IGZvciBjbG9zZSBldmVudCBvZiB3ZWJzb2NrZXQsIGJlZm9yZSBmb3JjZWZ1bGx5IGFzc3VtaW5nIHN1Y2Nlc3NmdWwgZGlzY29ubmVjdGlvbi5cbiAgICAgKiAgICAgICAgICAgICAgICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2xvc2VFdmVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0R3Vlc3RVc2VyXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogc2V0R3Vlc3RVc2VyIC0gU2V0dXAgYSB0ZW1wb3JhcnkgZ3Vlc3QgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gdXNlciBEYXRhIGFib3V0IHRoaXMgdXNlci4gSUUge25hbWU6IFwiam9oblwifVxuICAgICAqXG4gICAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBzZXR1cFxuICAgICAqL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2V0R3Vlc3RVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KHVzZXIpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlLCBfcmVzcG9uc2UkdXNlciwgZ3Vlc3RVc2VyO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmFub255bW91cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gMTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9ndWVzdCcsIHtcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDE1LnNlbnQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDc7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS50MCA9IF9jb250ZXh0MTVbXCJjYXRjaFwiXSgxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFub255bW91cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0MTUudDA7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICB0aGlzLmFub255bW91cyA9IGZhbHNlOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5cbiAgICAgICAgICAgICAgICBfcmVzcG9uc2UkdXNlciA9IHJlc3BvbnNlLnVzZXIsIF9yZXNwb25zZSR1c2VyLmNyZWF0ZWRfYXQsIF9yZXNwb25zZSR1c2VyLnVwZGF0ZWRfYXQsIF9yZXNwb25zZSR1c2VyLmxhc3RfYWN0aXZlLCBfcmVzcG9uc2UkdXNlci5vbmxpbmUsIGd1ZXN0VXNlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVzcG9uc2UkdXNlciwgX2V4Y2x1ZGVkKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0VXNlcihndWVzdFVzZXIsIHJlc3BvbnNlLmFjY2Vzc190b2tlbik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE1LCB0aGlzLCBbWzEsIDddXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNldEd1ZXN0VXNlcihfeDE1KSB7XG4gICAgICAgIHJldHVybiBfc2V0R3Vlc3RVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRHdWVzdFVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY3JlYXRlVG9rZW4gLSBDcmVhdGVzIGEgdG9rZW4gdG8gYXV0aGVudGljYXRlIHRoaXMgdXNlci4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHNlcnZlciBzaWRlLlxuICAgICAqIFRoZSByZXN1bHRpbmcgdG9rZW4gc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgY2xpZW50IHNpZGUgd2hlbiB0aGUgdXNlcnMgcmVnaXN0ZXJzIG9yIGxvZ3MgaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklEIFRoZSBVc2VyIElEXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtleHBdIFRoZSBleHBpcmF0aW9uIHRpbWUgZm9yIHRoZSB0b2tlbiBleHByZXNzZWQgaW4gdGhlIG51bWJlciBvZiBzZWNvbmRzIHNpbmNlIHRoZSBlcG9jaFxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXR1cm5zIGEgdG9rZW5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVRva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVRva2VuKHVzZXJJRCwgZXhwLCBpYXQpIHtcbiAgICAgIGlmICh0aGlzLnNlY3JldCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwidG9rZW5zIGNhbiBvbmx5IGJlIGNyZWF0ZWQgc2VydmVyLXNpZGUgdXNpbmcgdGhlIEFQSSBTZWNyZXRcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBleHRyYSA9IHt9O1xuXG4gICAgICBpZiAoZXhwKSB7XG4gICAgICAgIGV4dHJhLmV4cCA9IGV4cDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlhdCkge1xuICAgICAgICBleHRyYS5pYXQgPSBpYXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHVzZXJJRCwgZXh0cmEsIHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogb24gLSBMaXN0ZW4gdG8gZXZlbnRzIG9uIGFsbCBjaGFubmVscyBhbmQgdXNlcnMgeW91ciB3YXRjaGluZ1xuICAgICAqXG4gICAgICogY2xpZW50Lm9uKCdtZXNzYWdlLm5ldycsIGV2ZW50ID0+IHtjb25zb2xlLmxvZyhcIm15IG5ldyBtZXNzYWdlXCIsIGV2ZW50LCBjaGFubmVsLnN0YXRlLm1lc3NhZ2VzKX0pXG4gICAgICogb3JcbiAgICAgKiBjbGllbnQub24oZXZlbnQgPT4ge2NvbnNvbGUubG9nKGV2ZW50LnR5cGUpfSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyPFN0cmVhbUNoYXRHZW5lcmljcz4gfCBzdHJpbmd9IGNhbGxiYWNrT3JTdHJpbmcgIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3IgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyPFN0cmVhbUNoYXRHZW5lcmljcz59IFtjYWxsYmFja09yTm90aGluZ10gVGhlIGNhbGxiYWNrIHRvIGNhbGxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3sgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQgfX0gRGVzY3JpcHRpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGNhbGxiYWNrT3JTdHJpbmcsIGNhbGxiYWNrT3JOb3RoaW5nKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGtleSA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPclN0cmluZyA6ICdhbGwnO1xuICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yTm90aGluZyA6IGNhbGxiYWNrT3JTdHJpbmc7XG5cbiAgICAgIGlmICghKGtleSBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIFwiQXR0YWNoaW5nIGxpc3RlbmVyIGZvciBcIi5jb25jYXQoa2V5LCBcIiBldmVudFwiKSwge1xuICAgICAgICB0YWdzOiBbJ2V2ZW50JywgJ2NsaWVudCddXG4gICAgICB9KTtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0ucHVzaChjYWxsYmFjayk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgX3RoaXMyLmxvZ2dlcignaW5mbycsIFwiUmVtb3ZpbmcgbGlzdGVuZXIgZm9yIFwiLmNvbmNhdChrZXksIFwiIGV2ZW50XCIpLCB7XG4gICAgICAgICAgICB0YWdzOiBbJ2V2ZW50JywgJ2NsaWVudCddXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpczIubGlzdGVuZXJzW2tleV0gPSBfdGhpczIubGlzdGVuZXJzW2tleV0uZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsICE9PSBjYWxsYmFjaztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogb2ZmIC0gUmVtb3ZlIHRoZSBldmVudCBoYW5kbGVyXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9mZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoY2FsbGJhY2tPclN0cmluZywgY2FsbGJhY2tPck5vdGhpbmcpIHtcbiAgICAgIHZhciBrZXkgPSBjYWxsYmFja09yTm90aGluZyA/IGNhbGxiYWNrT3JTdHJpbmcgOiAnYWxsJztcbiAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPck5vdGhpbmcgOiBjYWxsYmFja09yU3RyaW5nO1xuXG4gICAgICBpZiAoIShrZXkgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBcIlJlbW92aW5nIGxpc3RlbmVyIGZvciBcIi5jb25jYXQoa2V5LCBcIiBldmVudFwiKSwge1xuICAgICAgICB0YWdzOiBbJ2V2ZW50JywgJ2NsaWVudCddXG4gICAgICB9KTtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSB0aGlzLmxpc3RlbmVyc1trZXldLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBjYWxsYmFjaztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfbG9nQXBpUmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9nQXBpUmVxdWVzdCh0eXBlLCB1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBcImNsaWVudDogXCIuY29uY2F0KHR5cGUsIFwiIC0gUmVxdWVzdCAtIFwiKS5jb25jYXQodXJsKSwge1xuICAgICAgICB0YWdzOiBbJ2FwaScsICdhcGlfcmVxdWVzdCcsICdjbGllbnQnXSxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIHBheWxvYWQ6IGRhdGEsXG4gICAgICAgIGNvbmZpZzogY29uZmlnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2xvZ0FwaVJlc3BvbnNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2dBcGlSZXNwb25zZSh0eXBlLCB1cmwsIHJlc3BvbnNlKSB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIFwiY2xpZW50OlwiLmNvbmNhdCh0eXBlLCBcIiAtIFJlc3BvbnNlIC0gdXJsOiBcIikuY29uY2F0KHVybCwgXCIgPiBzdGF0dXMgXCIpLmNvbmNhdChyZXNwb25zZS5zdGF0dXMpLCB7XG4gICAgICAgIHRhZ3M6IFsnYXBpJywgJ2FwaV9yZXNwb25zZScsICdjbGllbnQnXSxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIHJlc3BvbnNlOiByZXNwb25zZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9sb2dBcGlFcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9nQXBpRXJyb3IodHlwZSwgdXJsLCBlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgXCJjbGllbnQ6XCIuY29uY2F0KHR5cGUsIFwiIC0gRXJyb3IgLSB1cmw6IFwiKS5jb25jYXQodXJsKSwge1xuICAgICAgICB0YWdzOiBbJ2FwaScsICdhcGlfcmVzcG9uc2UnLCAnY2xpZW50J10sXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KHVybCwgcGFyYW1zKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdCgnZ2V0JywgdXJsLCBudWxsLCB7XG4gICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHV0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1dCh1cmwsIGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0KCdwdXQnLCB1cmwsIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3N0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBvc3QodXJsLCBkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdCgncG9zdCcsIHVybCwgZGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBhdGNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdGNoKHVybCwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ3BhdGNoJywgdXJsLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUodXJsLCBwYXJhbXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0KCdkZWxldGUnLCB1cmwsIG51bGwsIHtcbiAgICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZW5kRmlsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRmlsZSh1cmwsIHVyaSwgbmFtZSwgY29udGVudFR5cGUsIHVzZXIpIHtcbiAgICAgIHZhciBkYXRhID0gYWRkRmlsZVRvRm9ybURhdGEodXJpLCBuYW1lLCBjb250ZW50VHlwZSB8fCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpO1xuICAgICAgaWYgKHVzZXIgIT0gbnVsbCkgZGF0YS5hcHBlbmQoJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG4gICAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdCgncG9zdEZvcm0nLCB1cmwsIGRhdGEsIHtcbiAgICAgICAgaGVhZGVyczogZGF0YS5nZXRIZWFkZXJzID8gZGF0YS5nZXRIZWFkZXJzKCkgOiB7fSxcbiAgICAgICAgLy8gbm9kZSB2cyBicm93c2VyXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIHRpbWVvdXQ6IDAsXG4gICAgICAgICAgbWF4Q29udGVudExlbmd0aDogSW5maW5pdHksXG4gICAgICAgICAgbWF4Qm9keUxlbmd0aDogSW5maW5pdHlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVycm9yRnJvbVJlc3BvbnNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVycm9yRnJvbVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgZXJyO1xuICAgICAgZXJyID0gbmV3IEVycm9yRnJvbVJlc3BvbnNlKFwiU3RyZWFtQ2hhdCBlcnJvciBIVFRQIGNvZGU6IFwiLmNvbmNhdChyZXNwb25zZS5zdGF0dXMpKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5jb2RlKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcihcIlN0cmVhbUNoYXQgZXJyb3IgY29kZSBcIi5jb25jYXQocmVzcG9uc2UuZGF0YS5jb2RlLCBcIjogXCIpLmNvbmNhdChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpKTtcbiAgICAgICAgZXJyLmNvZGUgPSByZXNwb25zZS5kYXRhLmNvZGU7XG4gICAgICB9XG5cbiAgICAgIGVyci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgZXJyLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVJlc3BvbnNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgIGlmIChpc0Vycm9yUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IHRoaXMuZXJyb3JGcm9tUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZUNsaWVudEV2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDbGllbnRFdmVudChldmVudCkge1xuICAgICAgdmFyIF9ldmVudCRtZSxcbiAgICAgICAgICBfdGhpczMgPSB0aGlzLFxuICAgICAgICAgIF9ldmVudCRtZTI7XG5cbiAgICAgIHZhciBjbGllbnQgPSB0aGlzO1xuICAgICAgdmFyIHBvc3RMaXN0ZW5lckNhbGxiYWNrcyA9IFtdO1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBcImNsaWVudDpfaGFuZGxlQ2xpZW50RXZlbnQgLSBSZWNlaXZlZCBldmVudCBvZiB0eXBlIHsgXCIuY29uY2F0KGV2ZW50LnR5cGUsIFwiIH1cIiksIHtcbiAgICAgICAgdGFnczogWydldmVudCcsICdjbGllbnQnXSxcbiAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICB9KTtcblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd1c2VyLnByZXNlbmNlLmNoYW5nZWQnIHx8IGV2ZW50LnR5cGUgPT09ICd1c2VyLnVwZGF0ZWQnIHx8IGV2ZW50LnR5cGUgPT09ICd1c2VyLmRlbGV0ZWQnKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVVzZXJFdmVudChldmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnaGVhbHRoLmNoZWNrJyAmJiBldmVudC5tZSkge1xuICAgICAgICBjbGllbnQudXNlciA9IGV2ZW50Lm1lO1xuICAgICAgICBjbGllbnQuc3RhdGUudXBkYXRlVXNlcihldmVudC5tZSk7XG4gICAgICAgIGNsaWVudC5tdXRlZENoYW5uZWxzID0gZXZlbnQubWUuY2hhbm5lbF9tdXRlcztcbiAgICAgICAgY2xpZW50Lm11dGVkVXNlcnMgPSBldmVudC5tZS5tdXRlcztcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmNoYW5uZWwgJiYgZXZlbnQudHlwZSA9PT0gJ25vdGlmaWNhdGlvbi5tZXNzYWdlX25ldycpIHtcbiAgICAgICAgdGhpcy5fYWRkQ2hhbm5lbENvbmZpZyhldmVudC5jaGFubmVsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdub3RpZmljYXRpb24uY2hhbm5lbF9tdXRlc191cGRhdGVkJyAmJiAoX2V2ZW50JG1lID0gZXZlbnQubWUpICE9PSBudWxsICYmIF9ldmVudCRtZSAhPT0gdm9pZCAwICYmIF9ldmVudCRtZS5jaGFubmVsX211dGVzKSB7XG4gICAgICAgIHZhciBjdXJyZW50TXV0ZWRDaGFubmVsSWRzID0gW107XG4gICAgICAgIHZhciBuZXh0TXV0ZWRDaGFubmVsSWRzID0gW107XG4gICAgICAgIHRoaXMubXV0ZWRDaGFubmVscy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG11dGUuY2hhbm5lbCAmJiBjdXJyZW50TXV0ZWRDaGFubmVsSWRzLnB1c2gobXV0ZS5jaGFubmVsLmNpZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudC5tZS5jaGFubmVsX211dGVzLmZvckVhY2goZnVuY3Rpb24gKG11dGUpIHtcbiAgICAgICAgICByZXR1cm4gbXV0ZS5jaGFubmVsICYmIG5leHRNdXRlZENoYW5uZWxJZHMucHVzaChtdXRlLmNoYW5uZWwuY2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKiBTZXQgdGhlIHVucmVhZCBjb3VudCBvZiB1bi1tdXRlZCBjaGFubmVscyB0byAwLCB3aGljaCBpcyB0aGUgYmVoYXZpb3VyIG9mIGJhY2tlbmQgKi9cblxuICAgICAgICBjdXJyZW50TXV0ZWRDaGFubmVsSWRzLmZvckVhY2goZnVuY3Rpb24gKGNpZCkge1xuICAgICAgICAgIGlmICghbmV4dE11dGVkQ2hhbm5lbElkcy5pbmNsdWRlcyhjaWQpICYmIF90aGlzMy5hY3RpdmVDaGFubmVsc1tjaWRdKSB7XG4gICAgICAgICAgICBfdGhpczMuYWN0aXZlQ2hhbm5lbHNbY2lkXS5zdGF0ZS51bnJlYWRDb3VudCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXRlZENoYW5uZWxzID0gZXZlbnQubWUuY2hhbm5lbF9tdXRlcztcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdub3RpZmljYXRpb24ubXV0ZXNfdXBkYXRlZCcgJiYgKF9ldmVudCRtZTIgPSBldmVudC5tZSkgIT09IG51bGwgJiYgX2V2ZW50JG1lMiAhPT0gdm9pZCAwICYmIF9ldmVudCRtZTIubXV0ZXMpIHtcbiAgICAgICAgdGhpcy5tdXRlZFVzZXJzID0gZXZlbnQubWUubXV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnbm90aWZpY2F0aW9uLm1hcmtfcmVhZCcgJiYgZXZlbnQudW5yZWFkX2NoYW5uZWxzID09PSAwKSB7XG4gICAgICAgIHZhciBhY3RpdmVDaGFubmVsS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlQ2hhbm5lbHMpO1xuICAgICAgICBhY3RpdmVDaGFubmVsS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChhY3RpdmVDaGFubmVsS2V5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5hY3RpdmVDaGFubmVsc1thY3RpdmVDaGFubmVsS2V5XS5zdGF0ZS51bnJlYWRDb3VudCA9IDA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGV2ZW50LnR5cGUgPT09ICdjaGFubmVsLmRlbGV0ZWQnIHx8IGV2ZW50LnR5cGUgPT09ICdub3RpZmljYXRpb24uY2hhbm5lbF9kZWxldGVkJykgJiYgZXZlbnQuY2lkKSB7XG4gICAgICAgIHZhciBfdGhpcyRhY3RpdmVDaGFubmVscyQ7XG5cbiAgICAgICAgY2xpZW50LnN0YXRlLmRlbGV0ZUFsbENoYW5uZWxSZWZlcmVuY2UoZXZlbnQuY2lkKTtcbiAgICAgICAgKF90aGlzJGFjdGl2ZUNoYW5uZWxzJCA9IHRoaXMuYWN0aXZlQ2hhbm5lbHNbZXZlbnQuY2lkXSkgPT09IG51bGwgfHwgX3RoaXMkYWN0aXZlQ2hhbm5lbHMkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhY3RpdmVDaGFubmVscyQuX2Rpc2Nvbm5lY3QoKTtcbiAgICAgICAgcG9zdExpc3RlbmVyQ2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghZXZlbnQuY2lkKSByZXR1cm47XG4gICAgICAgICAgZGVsZXRlIF90aGlzMy5hY3RpdmVDaGFubmVsc1tldmVudC5jaWRdO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBvc3RMaXN0ZW5lckNhbGxiYWNrcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX211dGVTdGF0dXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX211dGVTdGF0dXMoY2lkKSB7XG4gICAgICB2YXIgbXV0ZVN0YXR1cztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm11dGVkQ2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIF9tdXRlJGNoYW5uZWw7XG5cbiAgICAgICAgdmFyIG11dGUgPSB0aGlzLm11dGVkQ2hhbm5lbHNbaV07XG5cbiAgICAgICAgaWYgKCgoX211dGUkY2hhbm5lbCA9IG11dGUuY2hhbm5lbCkgPT09IG51bGwgfHwgX211dGUkY2hhbm5lbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX211dGUkY2hhbm5lbC5jaWQpID09PSBjaWQpIHtcbiAgICAgICAgICBtdXRlU3RhdHVzID0ge1xuICAgICAgICAgICAgbXV0ZWQ6IG11dGUuZXhwaXJlcyA/IG5ldyBEYXRlKG11dGUuZXhwaXJlcykuZ2V0VGltZSgpID4gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiB0cnVlLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBtdXRlLmNyZWF0ZWRfYXQgPyBuZXcgRGF0ZShtdXRlLmNyZWF0ZWRfYXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGV4cGlyZXNBdDogbXV0ZS5leHBpcmVzID8gbmV3IERhdGUobXV0ZS5leHBpcmVzKSA6IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtdXRlU3RhdHVzKSB7XG4gICAgICAgIHJldHVybiBtdXRlU3RhdHVzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtdXRlZDogZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRBdDogbnVsbCxcbiAgICAgICAgZXhwaXJlc0F0OiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb25uZWN0XCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2Nvbm5lY3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoISghdGhpcy51c2VySUQgfHwgIXRoaXMuX3VzZXIpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbGwgY29ubmVjdFVzZXIgb3IgY29ubmVjdEFub255bW91c1VzZXIgYmVmb3JlIHN0YXJ0aW5nIHRoZSBjb25uZWN0aW9uJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQmFzZVVSTCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdXZWJzb2NrZXQgYmFzZSB1cmwgbm90IHNldCcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnRJRCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdjbGllbnRJRCBpcyBub3Qgc2V0Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53c0Nvbm5lY3Rpb24gJiYgKHRoaXMub3B0aW9ucy53YXJtVXAgfHwgdGhpcy5vcHRpb25zLmVuYWJsZUluc2lnaHRzKSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fc2F5SGkoKTtcbiAgICAgICAgICAgICAgICB9IC8vIFRoZSBTdGFibGVXU0Nvbm5lY3Rpb24gaGFuZGxlcyBhbGwgdGhlIHJlY29ubmVjdGlvbiBsb2dpYy5cblxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53c0Nvbm5lY3Rpb24gJiYgdGhpcy5ub2RlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGF2b2lkaW5nIGFkZGluZyB0cyBnZW5lcmljcyBvbiB3c0Nvbm5lY3Rpb24gaW4gb3B0aW9ucyBzaW5jZSBpdHMgb25seSB1c2VmdWwgZm9yIHVuaXQgdGVzdCBwdXJwb3NlLlxuICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLndzQ29ubmVjdGlvbi5zZXRDbGllbnQodGhpcyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLndzQ29ubmVjdGlvbiA9IHRoaXMub3B0aW9ucy53c0Nvbm5lY3Rpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMud3NDb25uZWN0aW9uID0gbmV3IFN0YWJsZVdTQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpc1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNi5wcmV2ID0gODtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53c0ZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndzRmFsbGJhY2suY29ubmVjdCgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53c0Nvbm5lY3Rpb24uY29ubmVjdCh0aGlzLm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjayA/IHRoaXMuZGVmYXVsdFdTVGltZW91dFdpdGhGYWxsYmFjayA6IHRoaXMuZGVmYXVsdFdTVGltZW91dCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDE4O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYudDAgPSBfY29udGV4dDE2W1wiY2F0Y2hcIl0oOCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjayAmJiBpc1dTRmFpbHVyZShfY29udGV4dDE2LnQwKSAmJiBpc09ubGluZSgpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6Y29ubmVjdCgpIC0gV1MgZmFpbGVkLCBmYWxsYmFjayB0byBsb25ncG9sbCcsIHtcbiAgICAgICAgICAgICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbicsICdjbGllbnQnXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNwb3J0LmNoYW5nZWQnLFxuICAgICAgICAgICAgICAgICAgbW9kZTogJ2xvbmdwb2xsJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy53c0Nvbm5lY3Rpb24uX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLndzQ29ubmVjdGlvbi5kaXNjb25uZWN0KCkudGhlbigpOyAvLyBjbG9zZSBXUyBzbyBubyByZXRyeVxuXG4gICAgICAgICAgICAgICAgdGhpcy53c0ZhbGxiYWNrID0gbmV3IFdTQ29ubmVjdGlvbkZhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndzRmFsbGJhY2suY29ubmVjdCgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDE2LnQwO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTYsIHRoaXMsIFtbOCwgMThdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfY29ubmVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29ubmVjdDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgY29ubmVjdGl2aXR5IHdpdGggc2VydmVyIGZvciB3YXJtdXAgcHVycG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfc2F5SGlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NheUhpKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBjbGllbnRfcmVxdWVzdF9pZCA9IHJhbmRvbUlkKCk7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogY2xpZW50X3JlcXVlc3RfaWRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ2dldCcsIHRoaXMuYmFzZVVSTCArICcvaGknLCBudWxsLCBvcHRzKS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoX3RoaXM0Lm9wdGlvbnMuZW5hYmxlSW5zaWdodHMpIHtcbiAgICAgICAgICBwb3N0SW5zaWdodHMoJ2h0dHBfaGlfZmFpbGVkJywge1xuICAgICAgICAgICAgYXBpX2tleTogX3RoaXM0LmtleSxcbiAgICAgICAgICAgIGVycjogZSxcbiAgICAgICAgICAgIGNsaWVudF9yZXF1ZXN0X2lkOiBjbGllbnRfcmVxdWVzdF9pZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcXVlcnlVc2VycyAtIFF1ZXJ5IHVzZXJzIGFuZCB3YXRjaCB1c2VyIHByZXNlbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1VzZXJGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz59IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7VXNlclNvcnQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gc29ydCBTb3J0IG9wdGlvbnMsIGZvciBpbnN0YW5jZSBbe2xhc3RfYWN0aXZlOiAtMX1dLlxuICAgICAqIFdoZW4gdXNpbmcgbXVsdGlwbGUgZmllbGRzLCBtYWtlIHN1cmUgeW91IHVzZSBhcnJheSBvZiBvYmplY3RzIHRvIGd1YXJhbnRlZSBmaWVsZCBvcmRlciwgZm9yIGluc3RhbmNlIFt7bGFzdF9hY3RpdmU6IC0xfSwge2NyZWF0ZWRfYXQ6IDF9XVxuICAgICAqIEBwYXJhbSB7VXNlck9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge3ByZXNlbmNlOiB0cnVlfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IHVzZXJzOiBBcnJheTxVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj4gfT59IFVzZXIgUXVlcnkgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5VXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeVVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KGZpbHRlckNvbmRpdGlvbnMpIHtcbiAgICAgICAgdmFyIHNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgX2FyZ3MxNyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHNvcnQgPSBfYXJnczE3Lmxlbmd0aCA+IDEgJiYgX2FyZ3MxN1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxN1sxXSA6IFtdO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE3Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxN1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxN1syXSA6IHt9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgcHJlc2VuY2U6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTsgLy8gTWFrZSBzdXJlIHdlIHdhaXQgZm9yIHRoZSBjb25uZWN0IHByb21pc2UgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIG9uZVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53c1Byb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLnByZXNlbmNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSAvLyBSZXR1cm4gYSBsaXN0IG9mIHVzZXJzXG5cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvdXNlcnMnLCB7XG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpXG4gICAgICAgICAgICAgICAgICB9LCBkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDE3LnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS51cGRhdGVVc2VycyhkYXRhLnVzZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5VXNlcnMoX3gxNikge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5VXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5VXNlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcXVlcnlCYW5uZWRVc2VycyAtIFF1ZXJ5IHVzZXIgYmFuc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtCYW5uZWRVc2Vyc0ZpbHRlcnN9IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7QmFubmVkVXNlcnNTb3J0fSBzb3J0IFNvcnQgb3B0aW9ucyBbe2NyZWF0ZWRfYXQ6IDF9XS5cbiAgICAgKiBAcGFyYW0ge0Jhbm5lZFVzZXJzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge2xpbWl0OiAxMCwgb2Zmc2V0OjAsIGV4Y2x1ZGVfZXhwaXJlZF9iYW5zOiB0cnVlfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxCYW5uZWRVc2Vyc1Jlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBCYW4gUXVlcnkgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5QmFubmVkVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeUJhbm5lZFVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkge1xuICAgICAgICB2YXIgZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxOCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGZpbHRlckNvbmRpdGlvbnMgPSBfYXJnczE4Lmxlbmd0aCA+IDAgJiYgX2FyZ3MxOFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOFswXSA6IHt9O1xuICAgICAgICAgICAgICAgIHNvcnQgPSBfYXJnczE4Lmxlbmd0aCA+IDEgJiYgX2FyZ3MxOFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOFsxXSA6IFtdO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE4Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxOFsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOFsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvcXVlcnlfYmFubmVkX3VzZXJzJywge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJDb25kaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICBzb3J0OiBub3JtYWxpemVRdWVyeVNvcnQoc29ydClcbiAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5QmFubmVkVXNlcnMoKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlCYW5uZWRVc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlCYW5uZWRVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeU1lc3NhZ2VGbGFncyAtIFF1ZXJ5IG1lc3NhZ2UgZmxhZ3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZUZsYWdzRmlsdGVyc30gZmlsdGVyQ29uZGl0aW9ucyBNb25nb0RCIHN0eWxlIGZpbHRlciBjb25kaXRpb25zXG4gICAgICogQHBhcmFtIHtNZXNzYWdlRmxhZ3NQYWdpbmF0aW9uT3B0aW9uc30gb3B0aW9ucyBPcHRpb24gb2JqZWN0LCB7bGltaXQ6IDEwLCBvZmZzZXQ6MH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8TWVzc2FnZUZsYWdzUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IE1lc3NhZ2UgRmxhZ3MgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5TWVzc2FnZUZsYWdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlNZXNzYWdlRmxhZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7XG4gICAgICAgIHZhciBmaWx0ZXJDb25kaXRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTkgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBmaWx0ZXJDb25kaXRpb25zID0gX2FyZ3MxOS5sZW5ndGggPiAwICYmIF9hcmdzMTlbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTlbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxOS5sZW5ndGggPiAxICYmIF9hcmdzMTlbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTlbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vZmxhZ3MvbWVzc2FnZScsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9uc1xuICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlNZXNzYWdlRmxhZ3MoKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlNZXNzYWdlRmxhZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5TWVzc2FnZUZsYWdzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5Q2hhbm5lbHMgLSBRdWVyeSBjaGFubmVsc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDaGFubmVsRmlsdGVyczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBmaWx0ZXJDb25kaXRpb25zIG9iamVjdCBNb25nb0RCIHN0eWxlIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxTb3J0PFN0cmVhbUNoYXRHZW5lcmljcz59IFtzb3J0XSBTb3J0IG9wdGlvbnMsIGZvciBpbnN0YW5jZSB7Y3JlYXRlZF9hdDogLTF9LlxuICAgICAqIFdoZW4gdXNpbmcgbXVsdGlwbGUgZmllbGRzLCBtYWtlIHN1cmUgeW91IHVzZSBhcnJheSBvZiBvYmplY3RzIHRvIGd1YXJhbnRlZSBmaWVsZCBvcmRlciwgZm9yIGluc3RhbmNlIFt7bGFzdF91cGRhdGVkOiAtMX0sIHtjcmVhdGVkX2F0OiAxfV1cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxTdGF0ZU9wdGlvbnN9IFtzdGF0ZU9wdGlvbnNdIFN0YXRlIG9wdGlvbnMgb2JqZWN0LiBUaGVzZSBvcHRpb25zIHdpbGwgb25seSBiZSB1c2VkIGZvciBzdGF0ZSBtYW5hZ2VtZW50IGFuZCB3b24ndCBiZSBzZW50IGluIHRoZSByZXF1ZXN0LlxuICAgICAqIC0gc3RhdGVPcHRpb25zLnNraXBJbml0aWFsaXphdGlvbiAtIFNraXBzIHRoZSBpbml0aWFsaXphdGlvbiBvZiB0aGUgc3RhdGUgZm9yIHRoZSBjaGFubmVscyBtYXRjaGluZyB0aGUgaWRzIGluIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IGNoYW5uZWxzOiBBcnJheTxDaGFubmVsQVBJUmVzcG9uc2U8QVN0cmVhbUNoYXRHZW5lcmljcz4+fT4gfSBzZWFyY2ggY2hhbm5lbHMgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5Q2hhbm5lbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeUNoYW5uZWxzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKGZpbHRlckNvbmRpdGlvbnMpIHtcbiAgICAgICAgdmFyIHNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgc3RhdGVPcHRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzMjAgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3MyMC5sZW5ndGggPiAxICYmIF9hcmdzMjBbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjBbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MyMC5sZW5ndGggPiAyICYmIF9hcmdzMjBbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjBbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBzdGF0ZU9wdGlvbnMgPSBfYXJnczIwLmxlbmd0aCA+IDMgJiYgX2FyZ3MyMFszXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyMFszXSA6IHt9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICB3YXRjaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHByZXNlbmNlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07IC8vIE1ha2Ugc3VyZSB3ZSB3YWl0IGZvciB0aGUgY29ubmVjdCBwcm9taXNlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBvbmVcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3NQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucy53YXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gLy8gUmV0dXJuIGEgbGlzdCBvZiBjaGFubmVsc1xuXG5cbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJDb25kaXRpb25zLFxuICAgICAgICAgICAgICAgICAgc29ydDogbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpXG4gICAgICAgICAgICAgICAgfSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvY2hhbm5lbHMnLCBwYXlsb2FkKTtcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIwLnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdjaGFubmVscy5xdWVyaWVkJyxcbiAgICAgICAgICAgICAgICAgIHF1ZXJpZWRDaGFubmVsczoge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsczogZGF0YS5jaGFubmVscyxcbiAgICAgICAgICAgICAgICAgICAgaXNMYXRlc3RNZXNzYWdlU2V0OiB0cnVlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuaHlkcmF0ZUFjdGl2ZUNoYW5uZWxzKGRhdGEuY2hhbm5lbHMsIHN0YXRlT3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeUNoYW5uZWxzKF94MTcpIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeUNoYW5uZWxzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeUNoYW5uZWxzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImh5ZHJhdGVBY3RpdmVDaGFubmVsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoeWRyYXRlQWN0aXZlQ2hhbm5lbHMoKSB7XG4gICAgICB2YXIgY2hhbm5lbHNGcm9tQXBpID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICAgIHZhciBzdGF0ZU9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIHNraXBJbml0aWFsaXphdGlvbiA9IHN0YXRlT3B0aW9ucy5za2lwSW5pdGlhbGl6YXRpb24sXG4gICAgICAgICAgX3N0YXRlT3B0aW9ucyRvZmZsaW5lID0gc3RhdGVPcHRpb25zLm9mZmxpbmVNb2RlLFxuICAgICAgICAgIG9mZmxpbmVNb2RlID0gX3N0YXRlT3B0aW9ucyRvZmZsaW5lID09PSB2b2lkIDAgPyBmYWxzZSA6IF9zdGF0ZU9wdGlvbnMkb2ZmbGluZTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjaGFubmVsc0Zyb21BcGkpLFxuICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgY2hhbm5lbFN0YXRlID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgdGhpcy5fYWRkQ2hhbm5lbENvbmZpZyhjaGFubmVsU3RhdGUuY2hhbm5lbCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbm5lbHMgPSBbXTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjaGFubmVsc0Zyb21BcGkpLFxuICAgICAgICAgIF9zdGVwMztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX2NoYW5uZWxTdGF0ZSA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICB2YXIgYyA9IHRoaXMuY2hhbm5lbChfY2hhbm5lbFN0YXRlLmNoYW5uZWwudHlwZSwgX2NoYW5uZWxTdGF0ZS5jaGFubmVsLmlkKTtcbiAgICAgICAgICBjLmRhdGEgPSBfY2hhbm5lbFN0YXRlLmNoYW5uZWw7XG4gICAgICAgICAgYy5vZmZsaW5lTW9kZSA9IG9mZmxpbmVNb2RlO1xuICAgICAgICAgIGMuaW5pdGlhbGl6ZWQgPSAhb2ZmbGluZU1vZGU7XG5cbiAgICAgICAgICBpZiAoc2tpcEluaXRpYWxpemF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMuX2luaXRpYWxpemVTdGF0ZShfY2hhbm5lbFN0YXRlLCAnbGF0ZXN0Jyk7XG4gICAgICAgICAgfSBlbHNlIGlmICghc2tpcEluaXRpYWxpemF0aW9uLmluY2x1ZGVzKF9jaGFubmVsU3RhdGUuY2hhbm5lbC5pZCkpIHtcbiAgICAgICAgICAgIGMuc3RhdGUuY2xlYXJNZXNzYWdlcygpO1xuXG4gICAgICAgICAgICBjLl9pbml0aWFsaXplU3RhdGUoX2NoYW5uZWxTdGF0ZSwgJ2xhdGVzdCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoYW5uZWxzLnB1c2goYyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hhbm5lbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNlYXJjaCAtIFF1ZXJ5IG1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz59IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZUZpbHRlcnM8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IHN0cmluZ30gcXVlcnkgc2VhcmNoIHF1ZXJ5IG9yIG9iamVjdCBNb25nb0RCIHN0eWxlIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge1NlYXJjaE9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIHt1c2VyX2lkOiAndG9tbWFzbyd9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFNlYXJjaEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBzZWFyY2ggbWVzc2FnZXMgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlYXJjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlYXJjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShmaWx0ZXJDb25kaXRpb25zLCBxdWVyeSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICBfYXJnczIxID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMjEubGVuZ3RoID4gMiAmJiBfYXJnczIxWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczIxWzJdIDoge307XG5cbiAgICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLm9mZnNldCAmJiBvcHRpb25zLm5leHQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBvZmZzZXQgd2l0aCBuZXh0XCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJDb25kaXRpb25zXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICBzb3J0OiBvcHRpb25zLnNvcnQgPyBub3JtYWxpemVRdWVyeVNvcnQob3B0aW9ucy5zb3J0KSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIHF1ZXJ5ID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXlsb2FkLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIGlmICghKF90eXBlb2YocXVlcnkpID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5tZXNzYWdlX2ZpbHRlcl9jb25kaXRpb25zID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgdHlwZSBcIi5jb25jYXQoX3R5cGVvZihxdWVyeSksIFwiIGZvciBxdWVyeSBwYXJhbWV0ZXJcIikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3NQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvc2VhcmNoJywge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlYXJjaChfeDE4LCBfeDE5KSB7XG4gICAgICAgIHJldHVybiBfc2VhcmNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWFyY2g7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc2V0TG9jYWxEZXZpY2UgLSBTZXQgdGhlIGRldmljZSBpbmZvIGZvciB0aGUgY3VycmVudCBjbGllbnQoZGV2aWNlKSB0aGF0IHdpbGwgYmUgc2VudCB2aWEgV1MgY29ubmVjdGlvbiBhdXRvbWF0aWNhbGx5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jhc2VEZXZpY2VGaWVsZHN9IGRldmljZSB0aGUgZGV2aWNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2UuaWQgZGV2aWNlIGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZS5wdXNoX3Byb3ZpZGVyIHRoZSBwdXNoIHByb3ZpZGVyXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldExvY2FsRGV2aWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExvY2FsRGV2aWNlKGRldmljZSkge1xuICAgICAgdmFyIF90aGlzJHdzQ29ubmVjdGlvbjUsIF90aGlzJHdzQ29ubmVjdGlvbjYsIF90aGlzJHdzRmFsbGJhY2s0O1xuXG4gICAgICBpZiAoKF90aGlzJHdzQ29ubmVjdGlvbjUgPSB0aGlzLndzQ29ubmVjdGlvbikgIT09IG51bGwgJiYgX3RoaXMkd3NDb25uZWN0aW9uNSAhPT0gdm9pZCAwICYmIF90aGlzJHdzQ29ubmVjdGlvbjUuaXNDb25uZWN0aW5nICYmIHRoaXMud3NQcm9taXNlIHx8ICgoX3RoaXMkd3NDb25uZWN0aW9uNiA9IHRoaXMud3NDb25uZWN0aW9uKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb242ICE9PSB2b2lkIDAgJiYgX3RoaXMkd3NDb25uZWN0aW9uNi5pc0hlYWx0aHkgfHwgKF90aGlzJHdzRmFsbGJhY2s0ID0gdGhpcy53c0ZhbGxiYWNrKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0ZhbGxiYWNrNCAhPT0gdm9pZCAwICYmIF90aGlzJHdzRmFsbGJhY2s0LmlzSGVhbHRoeSgpKSAmJiB0aGlzLl9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3lvdSBjYW4gb25seSBzZXQgZGV2aWNlIGJlZm9yZSBvcGVuaW5nIGEgd2Vic29ja2V0IGNvbm5lY3Rpb24nKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vcHRpb25zLmRldmljZSA9IGRldmljZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkRGV2aWNlIC0gQWRkcyBhIHB1c2ggZGV2aWNlIGZvciBhIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIGRldmljZSBpZFxuICAgICAqIEBwYXJhbSB7UHVzaFByb3ZpZGVyfSBwdXNoX3Byb3ZpZGVyIHRoZSBwdXNoIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIHRoZSB1c2VyIGlkIChkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwdXNoX3Byb3ZpZGVyX25hbWVdIHVzZXIgcHJvdmlkZWQgcHVzaCBwcm92aWRlciBuYW1lIGZvciBtdWx0aSBidW5kbGUgc3VwcG9ydFxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGREZXZpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hZGREZXZpY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoaWQsIHB1c2hfcHJvdmlkZXIsIHVzZXJJRCwgcHVzaF9wcm92aWRlcl9uYW1lKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9kZXZpY2VzJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXI6IHB1c2hfcHJvdmlkZXJcbiAgICAgICAgICAgICAgICB9LCB1c2VySUQgIT0gbnVsbCA/IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRFxuICAgICAgICAgICAgICAgIH0gOiB7fSksIHB1c2hfcHJvdmlkZXJfbmFtZSAhPSBudWxsID8ge1xuICAgICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcl9uYW1lOiBwdXNoX3Byb3ZpZGVyX25hbWVcbiAgICAgICAgICAgICAgICB9IDoge30pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkRGV2aWNlKF94MjAsIF94MjEsIF94MjIsIF94MjMpIHtcbiAgICAgICAgcmV0dXJuIF9hZGREZXZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZERldmljZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXREZXZpY2VzIC0gUmV0dXJucyB0aGUgZGV2aWNlcyBhc3NvY2lhdGVkIHdpdGggYSBjdXJyZW50IHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSBVc2VyIElELiBPbmx5IHdvcmtzIG9uIHNlcnZlcnNpZGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0RldmljZTxTdHJlYW1DaGF0R2VuZXJpY3M+W119IEFycmF5IG9mIGRldmljZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldERldmljZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXREZXZpY2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIzKHVzZXJJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgJy9kZXZpY2VzJywgdXNlcklEID8ge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0RGV2aWNlcyhfeDI0KSB7XG4gICAgICAgIHJldHVybiBfZ2V0RGV2aWNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RGV2aWNlcztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXRVbnJlYWRDb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldFVucmVhZENvdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KHVzZXJJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgJy91bnJlYWQnLCB1c2VySUQgPyB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySURcbiAgICAgICAgICAgICAgICB9IDoge30pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyNC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRVbnJlYWRDb3VudChfeDI1KSB7XG4gICAgICAgIHJldHVybiBfZ2V0VW5yZWFkQ291bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFVucmVhZENvdW50O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlbW92ZURldmljZSAtIFJlbW92ZXMgdGhlIGRldmljZSB3aXRoIHRoZSBnaXZlbiBpZC4gQ2xpZW50c2lkZSB1c2VycyBjYW4gb25seSBkZWxldGUgdGhlaXIgb3duIGRldmljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgZGV2aWNlIGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIFRoZSB1c2VyIGlkLiBPbmx5IHNwZWNpZnkgdGhpcyBmb3Igc2VydmVyc2lkZSByZXF1ZXN0c1xuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVEZXZpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZW1vdmVEZXZpY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUoaWQsIHVzZXJJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgJy9kZXZpY2VzJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgICAgICB9LCB1c2VySUQgPyB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySURcbiAgICAgICAgICAgICAgICB9IDoge30pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlRGV2aWNlKF94MjYsIF94MjcpIHtcbiAgICAgICAgcmV0dXJuIF9yZW1vdmVEZXZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbW92ZURldmljZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXRSYXRlTGltaXRzIC0gUmV0dXJucyB0aGUgcmF0ZSBsaW1pdHMgcXVvdGEgYW5kIHVzYWdlIGZvciB0aGUgY3VycmVudCBhcHAsIHBvc3NpYmx5IGZpbHRlciBmb3IgYSBzcGVjaWZpYyBwbGF0Zm9ybSBhbmQvb3IgZW5kcG9pbnRzLlxuICAgICAqIE9ubHkgYXZhaWxhYmxlIHNlcnZlci1zaWRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgZm9yIHRoZSBjYWxsLiBJZiBub25lIG9mIHRoZSBwYXJhbXMgYXJlIHNldCwgYWxsIGxpbWl0cyBmb3IgYWxsIHBsYXRmb3JtcyBhcmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybnMge1Byb21pc2U8R2V0UmF0ZUxpbWl0c1Jlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJhdGVMaW1pdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRSYXRlTGltaXRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KHBhcmFtcykge1xuICAgICAgICB2YXIgX3JlZjcsIHNlcnZlclNpZGUsIHdlYiwgYW5kcm9pZCwgaW9zLCBlbmRwb2ludHM7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9yZWY3ID0gcGFyYW1zIHx8IHt9LCBzZXJ2ZXJTaWRlID0gX3JlZjcuc2VydmVyU2lkZSwgd2ViID0gX3JlZjcud2ViLCBhbmRyb2lkID0gX3JlZjcuYW5kcm9pZCwgaW9zID0gX3JlZjcuaW9zLCBlbmRwb2ludHMgPSBfcmVmNy5lbmRwb2ludHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvcmF0ZV9saW1pdHMnLCB7XG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJfc2lkZTogc2VydmVyU2lkZSxcbiAgICAgICAgICAgICAgICAgIHdlYjogd2ViLFxuICAgICAgICAgICAgICAgICAgYW5kcm9pZDogYW5kcm9pZCxcbiAgICAgICAgICAgICAgICAgIGlvczogaW9zLFxuICAgICAgICAgICAgICAgICAgZW5kcG9pbnRzOiBlbmRwb2ludHMgPyBlbmRwb2ludHMuam9pbignLCcpIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFJhdGVMaW1pdHMoX3gyOCkge1xuICAgICAgICByZXR1cm4gX2dldFJhdGVMaW1pdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFJhdGVMaW1pdHM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZENoYW5uZWxDb25maWdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZENoYW5uZWxDb25maWcoX3JlZjgpIHtcbiAgICAgIHZhciBjaWQgPSBfcmVmOC5jaWQsXG4gICAgICAgICAgY29uZmlnID0gX3JlZjguY29uZmlnO1xuICAgICAgdGhpcy5jb25maWdzW2NpZF0gPSBjb25maWc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNoYW5uZWwgLSBSZXR1cm5zIGEgbmV3IGNoYW5uZWwgd2l0aCB0aGUgZ2l2ZW4gdHlwZSwgaWQgYW5kIGN1c3RvbSBkYXRhXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBjcmVhdGUgYSB1bmlxdWUgY29udmVyc2F0aW9uIGJldHdlZW4gMiBvciBtb3JlIHVzZXJzOyB5b3UgY2FuIGxlYXZlIG91dCB0aGUgSUQgcGFyYW1ldGVyIGFuZCBwcm92aWRlIHRoZSBsaXN0IG9mIG1lbWJlcnMuXG4gICAgICogTWFrZSBzdXJlIHRvIGF3YWl0IGNoYW5uZWwuY3JlYXRlKCkgb3IgY2hhbm5lbC53YXRjaCgpIGJlZm9yZSBhY2Nlc3NpbmcgY2hhbm5lbCBmdW5jdGlvbnM6XG4gICAgICogaWUuIGNoYW5uZWwgPSBjbGllbnQuY2hhbm5lbChcIm1lc3NhZ2luZ1wiLCB7bWVtYmVyczogW1widG9tbWFzb1wiLCBcInRoaWVycnlcIl19KVxuICAgICAqIGF3YWl0IGNoYW5uZWwuY3JlYXRlKCkgdG8gYXNzaWduIGFuIElEIHRvIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFubmVsVHlwZSBUaGUgY2hhbm5lbCB0eXBlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBDaGFubmVsRGF0YTxTdHJlYW1DaGF0R2VuZXJpY3M+IHwgbnVsbH0gW2NoYW5uZWxJRE9yQ3VzdG9tXSAgIFRoZSBjaGFubmVsIElELCB5b3UgY2FuIGxlYXZlIHRoaXMgb3V0IGlmIHlvdSB3YW50IHRvIGNyZWF0ZSBhIGNvbnZlcnNhdGlvbiBjaGFubmVsXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjdXN0b21dICAgIEN1c3RvbSBkYXRhIHRvIGF0dGFjaCB0byB0aGUgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHJldHVybiB7Y2hhbm5lbH0gVGhlIGNoYW5uZWwgb2JqZWN0LCBpbml0aWFsaXplIGl0IHVzaW5nIGNoYW5uZWwud2F0Y2goKVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhbm5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFubmVsKGNoYW5uZWxUeXBlLCBjaGFubmVsSURPckN1c3RvbSkge1xuICAgICAgdmFyIF9jdXN0b20kbWVtYmVycztcblxuICAgICAgdmFyIGN1c3RvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICAgIGlmICghdGhpcy51c2VySUQgJiYgIXRoaXMuX2lzVXNpbmdTZXJ2ZXJBdXRoKCkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbGwgY29ubmVjdFVzZXIgb3IgY29ubmVjdEFub255bW91c1VzZXIgYmVmb3JlIGNyZWF0aW5nIGEgY2hhbm5lbCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAofmNoYW5uZWxUeXBlLmluZGV4T2YoJzonKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgY2hhbm5lbCBncm91cCBcIi5jb25jYXQoY2hhbm5lbFR5cGUsIFwiLCBjYW4ndCBjb250YWluIHRoZSA6IGNoYXJhY3RlclwiKSk7XG4gICAgICB9IC8vIHN1cHBvcnQgY2hhbm5lbChcIm1lc3NhZ2luZ1wiLCB7b3B0aW9uc30pXG5cblxuICAgICAgaWYgKGNoYW5uZWxJRE9yQ3VzdG9tICYmIF90eXBlb2YoY2hhbm5lbElET3JDdXN0b20pID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGFubmVsQnlNZW1iZXJzKGNoYW5uZWxUeXBlLCBjaGFubmVsSURPckN1c3RvbSk7XG4gICAgICB9IC8vIC8vIHN1cHBvcnQgY2hhbm5lbChcIm1lc3NhZ2luZ1wiLCB1bmRlZmluZWQsIHtvcHRpb25zfSlcblxuXG4gICAgICBpZiAoIWNoYW5uZWxJRE9yQ3VzdG9tICYmIF90eXBlb2YoY3VzdG9tKSA9PT0gJ29iamVjdCcgJiYgKF9jdXN0b20kbWVtYmVycyA9IGN1c3RvbS5tZW1iZXJzKSAhPT0gbnVsbCAmJiBfY3VzdG9tJG1lbWJlcnMgIT09IHZvaWQgMCAmJiBfY3VzdG9tJG1lbWJlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENoYW5uZWxCeU1lbWJlcnMoY2hhbm5lbFR5cGUsIGN1c3RvbSk7XG4gICAgICB9IC8vIHN1cHBvcnQgY2hhbm5lbChcIm1lc3NhZ2luZ1wiLCBudWxsLCB7b3B0aW9uc30pXG4gICAgICAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwgdW5kZWZpbmVkLCB7b3B0aW9uc30pXG4gICAgICAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwgXCJcIiwge29wdGlvbnN9KVxuXG5cbiAgICAgIGlmICghY2hhbm5lbElET3JDdXN0b20pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFubmVsKHRoaXMsIGNoYW5uZWxUeXBlLCB1bmRlZmluZWQsIGN1c3RvbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdldENoYW5uZWxCeUlkKGNoYW5uZWxUeXBlLCBjaGFubmVsSURPckN1c3RvbSwgY3VzdG9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXQncyBhIGhlbHBlciBtZXRob2QgZm9yIGBjbGllbnQuY2hhbm5lbCgpYCBtZXRob2QsIHVzZWQgdG8gY3JlYXRlIHVuaXF1ZSBjb252ZXJzYXRpb24gb3JcbiAgICAgKiBjaGFubmVsIGJhc2VkIG9uIG1lbWJlciBsaXN0IGluc3RlYWQgb2YgaWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgY2hhbm5lbCBhbHJlYWR5IGV4aXN0cyBpbiBgYWN0aXZlQ2hhbm5lbHNgIGxpc3QsIHRoZW4gd2Ugc2ltcGx5IHJldHVybiBpdCwgc2luY2UgdGhhdFxuICAgICAqIG1lYW5zIHRoZSBzYW1lIGNoYW5uZWwgd2FzIGFscmVhZHkgcmVxdWVzdGVkIG9yIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBPdGhlcndpc2Ugd2UgY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIENoYW5uZWwgY2xhc3MgYW5kIHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhbm5lbFR5cGUgVGhlIGNoYW5uZWwgdHlwZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VzdG9tXSAgICBDdXN0b20gZGF0YSB0byBhdHRhY2ggdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2NoYW5uZWx9IFRoZSBjaGFubmVsIG9iamVjdCwgaW5pdGlhbGl6ZSBpdCB1c2luZyBjaGFubmVsLndhdGNoKClcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBhcnRpYWxVcGRhdGVVc2VyXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogcGFydGlhbFVwZGF0ZVVzZXIgLSBVcGRhdGUgdGhlIGdpdmVuIHVzZXIgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BhcnRpYWxVc2VyVXBkYXRlPFN0cmVhbUNoYXRHZW5lcmljcz59IHBhcnRpYWxVc2VyT2JqZWN0IHdoaWNoIHNob3VsZCBjb250YWluIGlkIGFuZCBhbnkgb2YgXCJzZXRcIiBvciBcInVuc2V0XCIgcGFyYW1zO1xuICAgICAqIGV4YW1wbGU6IHtpZDogXCJ1c2VyMVwiLCBzZXQ6e2ZpZWxkOiB2YWx1ZX0sIHVuc2V0OltcImZpZWxkMlwiXX1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8eyB1c2VyczogeyBba2V5OiBzdHJpbmddOiBVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiB9IH0+fSBsaXN0IG9mIHVwZGF0ZWQgdXNlcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3BhcnRpYWxVcGRhdGVVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KHBhcnRpYWxVc2VyT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI3JChfY29udGV4dDI3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNy5wcmV2ID0gX2NvbnRleHQyNy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnRpYWxVcGRhdGVVc2VycyhbcGFydGlhbFVzZXJPYmplY3RdKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjcuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mjcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcGFydGlhbFVwZGF0ZVVzZXIoX3gyOSkge1xuICAgICAgICByZXR1cm4gX3BhcnRpYWxVcGRhdGVVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJ0aWFsVXBkYXRlVXNlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1cHNlcnRVc2VycyAtIEJhdGNoIHVwc2VydCB0aGUgbGlzdCBvZiB1c2Vyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPltdfSB1c2VycyBsaXN0IG9mIHVzZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwc2VydFVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBzZXJ0VXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgodXNlcnMpIHtcbiAgICAgICAgdmFyIHVzZXJNYXAsIF9pdGVyYXRvcjQsIF9zdGVwNCwgdXNlck9iamVjdDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOCQoX2NvbnRleHQyOCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjgucHJldiA9IF9jb250ZXh0MjgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXNlck1hcCA9IHt9O1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih1c2Vycyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5wcmV2ID0gMjtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucygpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI4Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHVzZXJPYmplY3QgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlck9iamVjdC5pZCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdVc2VyIElEIGlzIHJlcXVpcmVkIHdoZW4gdXBkYXRpbmcgYSB1c2VyJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHVzZXJNYXBbdXNlck9iamVjdC5pZF0gPSB1c2VyT2JqZWN0O1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI4Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMTY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI4LnByZXYgPSAxMztcbiAgICAgICAgICAgICAgICBfY29udGV4dDI4LnQwID0gX2NvbnRleHQyOFtcImNhdGNoXCJdKDIpO1xuXG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKF9jb250ZXh0MjgudDApO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5wcmV2ID0gMTY7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LmZpbmlzaCgxNik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI4Lm5leHQgPSAyMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvdXNlcnMnLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyczogdXNlck1hcFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mjguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyOCwgdGhpcywgW1syLCAxMywgMTYsIDE5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cHNlcnRVc2VycyhfeDMwKSB7XG4gICAgICAgIHJldHVybiBfdXBzZXJ0VXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwc2VydFVzZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgdXBzZXJ0VXNlcnMoKSBmdW5jdGlvbiBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogdXBkYXRlVXNlcnMgLSBCYXRjaCB1cGRhdGUgdGhlIGxpc3Qgb2YgdXNlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz5bXX0gdXNlcnMgbGlzdCBvZiB1c2Vyc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8eyB1c2VyczogeyBba2V5OiBzdHJpbmddOiBVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiB9IH0+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBzZXJ0VXNlclwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHVwc2VydFVzZXIgLSBVcGRhdGUgb3IgQ3JlYXRlIHRoZSBnaXZlbiB1c2VyIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gdXNlck9iamVjdCB1c2VyIG9iamVjdCwgdGhlIG9ubHkgcmVxdWlyZWQgZmllbGQgaXMgdGhlIHVzZXIgaWQuIElFIHtpZDogXCJteXVzZXJcIn0gaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8eyB1c2VyczogeyBba2V5OiBzdHJpbmddOiBVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiB9IH0+fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwc2VydFVzZXIodXNlck9iamVjdCkge1xuICAgICAgcmV0dXJuIHRoaXMudXBzZXJ0VXNlcnMoW3VzZXJPYmplY3RdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB1cHNlcnRVc2VyKCkgZnVuY3Rpb24gaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIHVwZGF0ZVVzZXIgLSBVcGRhdGUgb3IgQ3JlYXRlIHRoZSBnaXZlbiB1c2VyIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gdXNlck9iamVjdCB1c2VyIG9iamVjdCwgdGhlIG9ubHkgcmVxdWlyZWQgZmllbGQgaXMgdGhlIHVzZXIgaWQuIElFIHtpZDogXCJteXVzZXJcIn0gaXMgdmFsaWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBhcnRpYWxVcGRhdGVVc2Vyc1wiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHBhcnRpYWxVcGRhdGVVc2VycyAtIEJhdGNoIHBhcnRpYWwgdXBkYXRlIG9mIHVzZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BhcnRpYWxVc2VyVXBkYXRlPFN0cmVhbUNoYXRHZW5lcmljcz5bXX0gdXNlcnMgbGlzdCBvZiBwYXJ0aWFsIHVwZGF0ZSByZXF1ZXN0c1xuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IHVzZXJzOiB7IFtrZXk6IHN0cmluZ106IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IH0gfT59XG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9wYXJ0aWFsVXBkYXRlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjkodXNlcnMpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjUsIF9zdGVwNSwgdXNlck9iamVjdDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOSQoX2NvbnRleHQyOSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjkucHJldiA9IF9jb250ZXh0MjkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHVzZXJzKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5LnByZXYgPSAxO1xuXG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5zKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICgoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1c2VyT2JqZWN0ID0gX3N0ZXA1LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJPYmplY3QuaWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCB3aGVuIHVwZGF0aW5nIGEgdXNlcicpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkucHJldiA9IDExO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkudDAgPSBfY29udGV4dDI5W1wiY2F0Y2hcIl0oMSk7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmUoX2NvbnRleHQyOS50MCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5LnByZXYgPSAxNDtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUuZigpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjkuZmluaXNoKDE0KTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDE5O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGNoKHRoaXMuYmFzZVVSTCArICcvdXNlcnMnLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyczogdXNlcnNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjksIHRoaXMsIFtbMSwgMTEsIDE0LCAxN11dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcGFydGlhbFVwZGF0ZVVzZXJzKF94MzEpIHtcbiAgICAgICAgcmV0dXJuIF9wYXJ0aWFsVXBkYXRlVXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnRpYWxVcGRhdGVVc2VycztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMCh1c2VySUQsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMCQoX2NvbnRleHQzMCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzAucHJldiA9IF9jb250ZXh0MzAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvXCIuY29uY2F0KHVzZXJJRCksIHBhcmFtcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDMwLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVVzZXIoX3gzMiwgX3gzMykge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZVVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcmVzdG9yZVVzZXJzIC0gUmVzdG9yZSBzb2Z0IGRlbGV0ZWQgdXNlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHVzZXJfaWRzIHdoaWNoIHVzZXJzIHRvIHJlc3RvcmVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlfSBBbiBBUEkgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlc3RvcmVVc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jlc3RvcmVVc2VycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMSh1c2VyX2lkcykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMSQoX2NvbnRleHQzMSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzEucHJldiA9IF9jb250ZXh0MzEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL3VzZXJzL3Jlc3RvcmVcIiwge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZHM6IHVzZXJfaWRzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMxLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDMxLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlc3RvcmVVc2VycyhfeDM0KSB7XG4gICAgICAgIHJldHVybiBfcmVzdG9yZVVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN0b3JlVXNlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcmVhY3RpdmF0ZVVzZXIgLSBSZWFjdGl2YXRlIG9uZSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklEIHdoaWNoIHVzZXIgdG8gcmVhY3RpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVhY3RpdmF0ZVVzZXJPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1VzZXJSZXNwb25zZX0gUmVhY3RpdmF0ZWQgdXNlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVhY3RpdmF0ZVVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWFjdGl2YXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMih1c2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzIkKF9jb250ZXh0MzIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9cIi5jb25jYXQodXNlcklELCBcIi9yZWFjdGl2YXRlXCIpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDMyLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlYWN0aXZhdGVVc2VyKF94MzUsIF94MzYpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdGl2YXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVhY3RpdmF0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcmVhY3RpdmF0ZVVzZXJzIC0gUmVhY3RpdmF0ZSBtYW55IHVzZXJzIGFzeW5jaHJvbm91c2x5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1c2VyX2lkcyB3aGljaCB1c2VycyB0byByZWFjdGl2YXRlXG4gICAgICogQHBhcmFtIHtSZWFjdGl2YXRlVXNlcnNPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Rhc2tSZXNwb25zZX0gQSB0YXNrIElEXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWFjdGl2YXRlVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWFjdGl2YXRlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzModXNlcl9pZHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzMkKF9jb250ZXh0MzMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMzLnByZXYgPSBfY29udGV4dDMzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9yZWFjdGl2YXRlXCIsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZHM6IHVzZXJfaWRzXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZWFjdGl2YXRlVXNlcnMoX3gzNywgX3gzOCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0aXZhdGVVc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVhY3RpdmF0ZVVzZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlYWN0aXZhdGVVc2VyIC0gRGVhY3RpdmF0ZSBvbmUgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCB3aGljaCB1c2VyIHRvIGRlYWN0aXZhdGVcbiAgICAgKiBAcGFyYW0ge0RlYWN0aXZhdGVVc2Vyc09wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqXG4gICAgICogQHJldHVybiB7VXNlclJlc3BvbnNlfSBEZWFjdGl2YXRlZCB1c2VyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWFjdGl2YXRlVXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlYWN0aXZhdGVVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM0KHVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNCQoX2NvbnRleHQzNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzQucHJldiA9IF9jb250ZXh0MzQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL3VzZXJzL1wiLmNvbmNhdCh1c2VySUQsIFwiL2RlYWN0aXZhdGVcIiksIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVhY3RpdmF0ZVVzZXIoX3gzOSwgX3g0MCkge1xuICAgICAgICByZXR1cm4gX2RlYWN0aXZhdGVVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWFjdGl2YXRlVXNlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWFjdGl2YXRlVXNlcnMgLSBEZWFjdGl2YXRlIG1hbnkgdXNlcnMgYXN5bmNocm9ub3VzbHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHVzZXJfaWRzIHdoaWNoIHVzZXJzIHRvIGRlYWN0aXZhdGVcbiAgICAgKiBAcGFyYW0ge0RlYWN0aXZhdGVVc2Vyc09wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqXG4gICAgICogQHJldHVybiB7VGFza1Jlc3BvbnNlfSBBIHRhc2sgSURcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlYWN0aXZhdGVVc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlYWN0aXZhdGVVc2VycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNSh1c2VyX2lkcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNSQoX2NvbnRleHQzNSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzUucHJldiA9IF9jb250ZXh0MzUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL3VzZXJzL2RlYWN0aXZhdGVcIiwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkczogdXNlcl9pZHNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlYWN0aXZhdGVVc2VycyhfeDQxLCBfeDQyKSB7XG4gICAgICAgIHJldHVybiBfZGVhY3RpdmF0ZVVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWFjdGl2YXRlVXNlcnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZXhwb3J0VXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2V4cG9ydFVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzYodXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM2JChfY29udGV4dDM2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNi5wcmV2ID0gX2NvbnRleHQzNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDM2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9cIi5jb25jYXQodXNlcklELCBcIi9leHBvcnRcIiksIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZXhwb3J0VXNlcihfeDQzLCBfeDQ0KSB7XG4gICAgICAgIHJldHVybiBfZXhwb3J0VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXhwb3J0VXNlcjtcbiAgICB9KClcbiAgICAvKiogYmFuVXNlciAtIGJhbnMgYSB1c2VyIGZyb20gYWxsIGNoYW5uZWxzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHBhcmFtIHtCYW5Vc2VyT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJiYW5Vc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYmFuVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNyh0YXJnZXRVc2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzckKF9jb250ZXh0MzcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM3LnByZXYgPSBfY29udGV4dDM3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzcubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vYmFuJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogdGFyZ2V0VXNlcklEXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzNy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBiYW5Vc2VyKF94NDUsIF94NDYpIHtcbiAgICAgICAgcmV0dXJuIF9iYW5Vc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYW5Vc2VyO1xuICAgIH0oKVxuICAgIC8qKiB1bmJhblVzZXIgLSByZXZva2UgZ2xvYmFsIGJhbiBmb3IgYSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHBhcmFtIHtVbkJhblVzZXJPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJhblVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bmJhblVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzgodGFyZ2V0VXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM4JChfY29udGV4dDM4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzOC5wcmV2ID0gX2NvbnRleHQzOC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDM4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vYmFuJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogdGFyZ2V0VXNlcklEXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzOC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1bmJhblVzZXIoX3g0NywgX3g0OCkge1xuICAgICAgICByZXR1cm4gX3VuYmFuVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5iYW5Vc2VyO1xuICAgIH0oKVxuICAgIC8qKiBzaGFkb3dCYW4gLSBzaGFkb3cgYmFucyBhIHVzZXIgZnJvbSBhbGwgY2hhbm5lbHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcGFyYW0ge0JhblVzZXJPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNoYWRvd0JhblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NoYWRvd0JhbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzOSh0YXJnZXRVc2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzkkKF9jb250ZXh0MzkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM5LnByZXYgPSBfY29udGV4dDM5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFuVXNlcih0YXJnZXRVc2VySUQsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgc2hhZG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzOS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzaGFkb3dCYW4oX3g0OSwgX3g1MCkge1xuICAgICAgICByZXR1cm4gX3NoYWRvd0Jhbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hhZG93QmFuO1xuICAgIH0oKVxuICAgIC8qKiByZW1vdmVTaGFkb3dCYW4gLSByZXZva2UgZ2xvYmFsIHNoYWRvdyBiYW4gZm9yIGEgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7VW5CYW5Vc2VyT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlU2hhZG93QmFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVtb3ZlU2hhZG93QmFuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQwKHRhcmdldFVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0MCQoX2NvbnRleHQ0MCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDAucHJldiA9IF9jb250ZXh0NDAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0MC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51bmJhblVzZXIodGFyZ2V0VXNlcklELCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHNoYWRvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlU2hhZG93QmFuKF94NTEsIF94NTIpIHtcbiAgICAgICAgcmV0dXJuIF9yZW1vdmVTaGFkb3dCYW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbW92ZVNoYWRvd0JhbjtcbiAgICB9KClcbiAgICAvKiogbXV0ZVVzZXIgLSBtdXRlcyBhIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSBPbmx5IHVzZWQgd2l0aCBzZXJ2ZXJzaWRlIGF1dGhcbiAgICAgKiBAcGFyYW0ge011dGVVc2VyT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxNdXRlVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibXV0ZVVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9tdXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0MSh0YXJnZXRJRCwgdXNlcklEKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M0MSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDEkKF9jb250ZXh0NDEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQxLnByZXYgPSBfY29udGV4dDQxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQxLmxlbmd0aCA+IDIgJiYgX2FyZ3M0MVsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0MVsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NDEubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vbXV0ZScsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfaWQ6IHRhcmdldElEXG4gICAgICAgICAgICAgICAgfSwgdXNlcklEID8ge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0MS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ0MS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNDEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBtdXRlVXNlcihfeDUzLCBfeDU0KSB7XG4gICAgICAgIHJldHVybiBfbXV0ZVVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG11dGVVc2VyO1xuICAgIH0oKVxuICAgIC8qKiB1bm11dGVVc2VyIC0gdW5tdXRlcyBhIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY3VycmVudFVzZXJJRF0gT25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5tdXRlVXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VubXV0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDIodGFyZ2V0SUQsIGN1cnJlbnRVc2VySUQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDIkKF9jb250ZXh0NDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQyLnByZXYgPSBfY29udGV4dDQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NDIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vdW5tdXRlJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfaWQ6IHRhcmdldElEXG4gICAgICAgICAgICAgICAgfSwgY3VycmVudFVzZXJJRCA/IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IGN1cnJlbnRVc2VySURcbiAgICAgICAgICAgICAgICB9IDoge30pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5tdXRlVXNlcihfeDU1LCBfeDU2KSB7XG4gICAgICAgIHJldHVybiBfdW5tdXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5tdXRlVXNlcjtcbiAgICB9KClcbiAgICAvKiogdXNlck11dGVTdGF0dXMgLSBjaGVjayBpZiBhIHVzZXIgaXMgbXV0ZWQgb3Igbm90LCBjYW4gYmUgdXNlZCBhZnRlciBjb25uZWN0VXNlcigpIGlzIGNhbGxlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElEXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1c2VyTXV0ZVN0YXR1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1c2VyTXV0ZVN0YXR1cyh0YXJnZXRJRCkge1xuICAgICAgaWYgKCF0aGlzLnVzZXIgfHwgIXRoaXMud3NQcm9taXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFrZSBzdXJlIHRvIGF3YWl0IGNvbm5lY3RVc2VyKCkgZmlyc3QuJyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tdXRlZFVzZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmICh0aGlzLm11dGVkVXNlcnNbaV0udGFyZ2V0LmlkID09PSB0YXJnZXRJRCkgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZmxhZ01lc3NhZ2UgLSBmbGFnIGEgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRNZXNzYWdlSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudXNlcl9pZF0gY3VycmVudFVzZXJJRCwgb25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmxhZ01lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9mbGFnTWVzc2FnZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0Myh0YXJnZXRNZXNzYWdlSUQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0MyQoX2NvbnRleHQ0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDMucHJldiA9IF9jb250ZXh0NDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDMubGVuZ3RoID4gMSAmJiBfYXJnczQzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQzWzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0My5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvbW9kZXJhdGlvbi9mbGFnJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfbWVzc2FnZV9pZDogdGFyZ2V0TWVzc2FnZUlEXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0My5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ0My5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNDMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBmbGFnTWVzc2FnZShfeDU3KSB7XG4gICAgICAgIHJldHVybiBfZmxhZ01lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZsYWdNZXNzYWdlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGZsYWdVc2VyIC0gZmxhZyBhIHVzZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0SURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudXNlcl9pZF0gY3VycmVudFVzZXJJRCwgb25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmxhZ1VzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9mbGFnVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0NCh0YXJnZXRJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDQgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ0JChfY29udGV4dDQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0NC5wcmV2ID0gX2NvbnRleHQ0NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0NC5sZW5ndGggPiAxICYmIF9hcmdzNDRbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDRbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQ0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL2ZsYWcnLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldF91c2VyX2lkOiB0YXJnZXRJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQ0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZmxhZ1VzZXIoX3g1OCkge1xuICAgICAgICByZXR1cm4gX2ZsYWdVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbGFnVXNlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1bmZsYWdNZXNzYWdlIC0gdW5mbGFnIGEgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRNZXNzYWdlSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudXNlcl9pZF0gY3VycmVudFVzZXJJRCwgb25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5mbGFnTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VuZmxhZ01lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDUodGFyZ2V0TWVzc2FnZUlEKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M0NSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDUkKF9jb250ZXh0NDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQ1LnByZXYgPSBfY29udGV4dDQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQ1Lmxlbmd0aCA+IDEgJiYgX2FyZ3M0NVsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0NVsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NDUubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vdW5mbGFnJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfbWVzc2FnZV9pZDogdGFyZ2V0TWVzc2FnZUlEXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ0NS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0NS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNDUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1bmZsYWdNZXNzYWdlKF94NTkpIHtcbiAgICAgICAgcmV0dXJuIF91bmZsYWdNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmZsYWdNZXNzYWdlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVuZmxhZ1VzZXIgLSB1bmZsYWcgYSB1c2VyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVuZmxhZ1VzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bmZsYWdVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ2KHRhcmdldElEKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M0NiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDYkKF9jb250ZXh0NDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQ2LnByZXYgPSBfY29udGV4dDQ2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQ2Lmxlbmd0aCA+IDEgJiYgX2FyZ3M0NlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0NlsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NDYubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vdW5mbGFnJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogdGFyZ2V0SURcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0NiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVuZmxhZ1VzZXIoX3g2MCkge1xuICAgICAgICByZXR1cm4gX3VuZmxhZ1VzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZmxhZ1VzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0Q2FsbFRva2VuIC0gcmV0cmlldmVzIHRoZSBhdXRoIHRva2VuIG5lZWRlZCB0byBqb2luIGEgY2FsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNhbGxJRFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge1Byb21pc2U8R2V0Q2FsbFRva2VuUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2FsbFRva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0Q2FsbFRva2VuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ3KGNhbGxJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDcgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ3JChfY29udGV4dDQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0Ny5wcmV2ID0gX2NvbnRleHQ0Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0Ny5sZW5ndGggPiAxICYmIF9hcmdzNDdbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDdbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQ3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvY2FsbHMvXCIuY29uY2F0KGNhbGxJRCksIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDcuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQ3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0Q2FsbFRva2VuKF94NjEpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRDYWxsVG9rZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldENhbGxUb2tlbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfcXVlcnlGbGFncyAtIFF1ZXJ5IGZsYWdzLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGbGFnc0ZpbHRlcnN9IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7RmxhZ3NQYWdpbmF0aW9uT3B0aW9uc30gb3B0aW9ucyBPcHRpb24gb2JqZWN0LCB7bGltaXQ6IDEwLCBvZmZzZXQ6MH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8RmxhZ3NSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gRmxhZ3MgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9xdWVyeUZsYWdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlGbGFnczIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDgoKSB7XG4gICAgICAgIHZhciBmaWx0ZXJDb25kaXRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDggPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ4JChfY29udGV4dDQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0OC5wcmV2ID0gX2NvbnRleHQ0OC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBmaWx0ZXJDb25kaXRpb25zID0gX2FyZ3M0OC5sZW5ndGggPiAwICYmIF9hcmdzNDhbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDhbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0OC5sZW5ndGggPiAxICYmIF9hcmdzNDhbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDhbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQ4Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL2ZsYWdzJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQ4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX3F1ZXJ5RmxhZ3MoKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlGbGFnczIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9xdWVyeUZsYWdzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9xdWVyeUZsYWdSZXBvcnRzIC0gUXVlcnkgZmxhZyByZXBvcnRzLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGbGFnUmVwb3J0c0ZpbHRlcnN9IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7RmxhZ1JlcG9ydHNQYWdpbmF0aW9uT3B0aW9uc30gb3B0aW9ucyBPcHRpb24gb2JqZWN0LCB7bGltaXQ6IDEwLCBvZmZzZXQ6MH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8RmxhZ1JlcG9ydHNSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gRmxhZyBSZXBvcnRzIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcXVlcnlGbGFnUmVwb3J0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5RmxhZ1JlcG9ydHMyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ5KCkge1xuICAgICAgICB2YXIgZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQ5ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0OSQoX2NvbnRleHQ0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDkucHJldiA9IF9jb250ZXh0NDkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZmlsdGVyQ29uZGl0aW9ucyA9IF9hcmdzNDkubGVuZ3RoID4gMCAmJiBfYXJnczQ5WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ5WzBdIDoge307XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDkubGVuZ3RoID4gMSAmJiBfYXJnczQ5WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ5WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0OS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvbW9kZXJhdGlvbi9yZXBvcnRzJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQ5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX3F1ZXJ5RmxhZ1JlcG9ydHMoKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlGbGFnUmVwb3J0czIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9xdWVyeUZsYWdSZXBvcnRzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9yZXZpZXdGbGFnUmVwb3J0IC0gcmV2aWV3IGZsYWcgcmVwb3J0XG4gICAgICpcbiAgICAgKiBOb3RlOiBEbyBub3QgdXNlIHRoaXMuXG4gICAgICogSXQgaXMgcHJlc2VudCBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiwgYW5kIHdpbGwsIGJyZWFrIGFuZC9vciBiZSByZW1vdmVkIGF0IGFueSBwb2ludCBpbiB0aW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2lkXSBmbGFnIHJlcG9ydCB0byByZXZpZXdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jldmlld1Jlc3VsdF0gZmxhZyByZXBvcnQgcmV2aWV3IHJlc3VsdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51c2VyX2lkXSBjdXJyZW50VXNlcklELCBvbmx5IHVzZWQgd2l0aCBzZXJ2ZXJzaWRlIGF1dGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucmV2aWV3X2RldGFpbHNdIGN1c3RvbSBpbmZvcm1hdGlvbiBhYm91dCByZXZpZXcgcmVzdWx0XG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmV2aWV3RmxhZ1JlcG9ydFJlc3BvbnNlPj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcmV2aWV3RmxhZ1JlcG9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jldmlld0ZsYWdSZXBvcnQyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUwKGlkLCByZXZpZXdSZXN1bHQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczUwID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1MCQoX2NvbnRleHQ1MCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTAucHJldiA9IF9jb250ZXh0NTAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNTAubGVuZ3RoID4gMiAmJiBfYXJnczUwWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczUwWzJdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1MC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRjaCh0aGlzLmJhc2VVUkwgKyBcIi9tb2RlcmF0aW9uL3JlcG9ydHMvXCIuY29uY2F0KGlkKSwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICByZXZpZXdfcmVzdWx0OiByZXZpZXdSZXN1bHRcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUwLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDUwLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1MCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9yZXZpZXdGbGFnUmVwb3J0KF94NjIsIF94NjMpIHtcbiAgICAgICAgcmV0dXJuIF9yZXZpZXdGbGFnUmVwb3J0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3Jldmlld0ZsYWdSZXBvcnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdW5ibG9ja01lc3NhZ2UgLSB1bmJsb2NrcyBtZXNzYWdlIGJsb2NrZWQgYnkgYXV0b21vZFxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0TWVzc2FnZUlEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVuYmxvY2tNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdW5ibG9ja01lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTEodGFyZ2V0TWVzc2FnZUlEKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M1MSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTEkKF9jb250ZXh0NTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUxLnByZXYgPSBfY29udGV4dDUxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczUxLmxlbmd0aCA+IDEgJiYgX2FyZ3M1MVsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1MVsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NTEubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vdW5ibG9ja19tZXNzYWdlJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfbWVzc2FnZV9pZDogdGFyZ2V0TWVzc2FnZUlEXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1MS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1bmJsb2NrTWVzc2FnZShfeDY0KSB7XG4gICAgICAgIHJldHVybiBfdW5ibG9ja01lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2tNZXNzYWdlO1xuICAgIH0oKSAvLyBhbGlhcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblxuICB9LCB7XG4gICAga2V5OiBcIm1hcmtDaGFubmVsc1JlYWRcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBtYXJrQ2hhbm5lbHNSZWFkIC0gbWFya3MgY2hhbm5lbHMgcmVhZCAtXG4gICAgICogaXQgYWNjZXB0cyBhIG1hcCBvZiBjaWQ6bWVzc2FnZWlkIHBhaXJzLCBpZiBtZXNzYWdlaWQgaXMgZW1wdHksIHRoZSB3aG9sZSBjaGFubmVsIHdpbGwgYmUgbWFya2VkIGFzIHJlYWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWFya0NoYW5uZWxzUmVhZE9wdGlvbnMgPFN0cmVhbUNoYXRHZW5lcmljcz59IFtkYXRhXVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9tYXJrQ2hhbm5lbHNSZWFkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUyKCkge1xuICAgICAgICB2YXIgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzNTIgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUyJChfY29udGV4dDUyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1Mi5wcmV2ID0gX2NvbnRleHQ1Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2FyZ3M1Mi5sZW5ndGggPiAwICYmIF9hcmdzNTJbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNTJbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jaGFubmVscy9yZWFkJywgX29iamVjdFNwcmVhZCh7fSwgZGF0YSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1MiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIG1hcmtDaGFubmVsc1JlYWQoKSB7XG4gICAgICAgIHJldHVybiBfbWFya0NoYW5uZWxzUmVhZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFya0NoYW5uZWxzUmVhZDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVDb21tYW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNvbW1hbmQoZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL2NvbW1hbmRzJywgZGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENvbW1hbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tbWFuZChuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvY29tbWFuZHMvXCIuY29uY2F0KG5hbWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQ29tbWFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDb21tYW5kKG5hbWUsIGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnB1dCh0aGlzLmJhc2VVUkwgKyBcIi9jb21tYW5kcy9cIi5jb25jYXQobmFtZSksIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVDb21tYW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUNvbW1hbmQobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL2NvbW1hbmRzL1wiLmNvbmNhdChuYW1lKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxpc3RDb21tYW5kc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0Q29tbWFuZHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvY29tbWFuZHNcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUNoYW5uZWxUeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNoYW5uZWxUeXBlKGRhdGEpIHtcbiAgICAgIHZhciBjaGFubmVsRGF0YSA9IF9leHRlbmRzKHt9LCB7XG4gICAgICAgIGNvbW1hbmRzOiBbJ2FsbCddXG4gICAgICB9LCBkYXRhKTtcblxuICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL2NoYW5uZWx0eXBlcycsIGNoYW5uZWxEYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2hhbm5lbFR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2hhbm5lbFR5cGUoY2hhbm5lbFR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9jaGFubmVsdHlwZXMvXCIuY29uY2F0KGNoYW5uZWxUeXBlKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNoYW5uZWxUeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNoYW5uZWxUeXBlKGNoYW5uZWxUeXBlLCBkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXQodGhpcy5iYXNlVVJMICsgXCIvY2hhbm5lbHR5cGVzL1wiLmNvbmNhdChjaGFubmVsVHlwZSksIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVDaGFubmVsVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVDaGFubmVsVHlwZShjaGFubmVsVHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL2NoYW5uZWx0eXBlcy9cIi5jb25jYXQoY2hhbm5lbFR5cGUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdENoYW5uZWxUeXBlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0Q2hhbm5lbFR5cGVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL2NoYW5uZWx0eXBlc1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJhbnNsYXRlTWVzc2FnZSAtIGFkZHMgdGhlIHRyYW5zbGF0aW9uIHRvIHRoZSBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZUlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gUmVzcG9uc2UgdGhhdCBpbmNsdWRlcyB0aGUgbWVzc2FnZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHJhbnNsYXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RyYW5zbGF0ZU1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTMobWVzc2FnZUlkLCBsYW5ndWFnZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1MyQoX2NvbnRleHQ1Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTMucHJldiA9IF9jb250ZXh0NTMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1My5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlSWQsIFwiL3RyYW5zbGF0ZVwiKSwge1xuICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDUzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1MywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZU1lc3NhZ2UoX3g2NSwgX3g2Nikge1xuICAgICAgICByZXR1cm4gX3RyYW5zbGF0ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYW5zbGF0ZU1lc3NhZ2U7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX25vcm1hbGl6ZUV4cGlyYXRpb24gLSB0cmFuc2Zvcm1zIGV4cGlyYXRpb24gdmFsdWUgaW50byBJU08gc3RyaW5nXG4gICAgICogQHBhcmFtIHt1bmRlZmluZWR8bnVsbHxudW1iZXJ8c3RyaW5nfERhdGV9IHRpbWVvdXRPckV4cGlyYXRpb25EYXRlIGV4cGlyYXRpb24gZGF0ZSBvciB0aW1lb3V0LiBVc2UgbnVtYmVyIHR5cGUgdG8gc2V0IHRpbWVvdXQgaW4gc2Vjb25kcywgc3RyaW5nIG9yIERhdGUgdG8gc2V0IGV4YWN0IGV4cGlyYXRpb24gZGF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX25vcm1hbGl6ZUV4cGlyYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX25vcm1hbGl6ZUV4cGlyYXRpb24odGltZW91dE9yRXhwaXJhdGlvbkRhdGUpIHtcbiAgICAgIHZhciBwaW5FeHBpcmVzID0gbnVsbDtcblxuICAgICAgaWYgKHR5cGVvZiB0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIG5vdy5zZXRTZWNvbmRzKG5vdy5nZXRTZWNvbmRzKCkgKyB0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZSk7XG4gICAgICAgIHBpbkV4cGlyZXMgPSBub3cudG9JU09TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcodGltZW91dE9yRXhwaXJhdGlvbkRhdGUpKSB7XG4gICAgICAgIHBpbkV4cGlyZXMgPSB0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZTtcbiAgICAgIH0gZWxzZSBpZiAodGltZW91dE9yRXhwaXJhdGlvbkRhdGUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHBpbkV4cGlyZXMgPSB0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZS50b0lTT1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGluRXhwaXJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX21lc3NhZ2VJZCAtIGV4dHJhY3RzIHN0cmluZyBtZXNzYWdlIGlkIGZyb20gZWl0aGVyIG1lc3NhZ2Ugb2JqZWN0IG9yIG1lc3NhZ2UgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHsgaWQ6IHN0cmluZyB9fSBtZXNzYWdlT3JNZXNzYWdlSWQgbWVzc2FnZSBvYmplY3Qgb3IgbWVzc2FnZSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvclRleHQgZXJyb3IgbWVzc2FnZSB0byByZXBvcnQgaW4gY2FzZSBvZiBtZXNzYWdlIGlkIGFic2VuY2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl92YWxpZGF0ZUFuZEdldE1lc3NhZ2VJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdmFsaWRhdGVBbmRHZXRNZXNzYWdlSWQobWVzc2FnZU9yTWVzc2FnZUlkLCBlcnJvclRleHQpIHtcbiAgICAgIHZhciBtZXNzYWdlSWQ7XG5cbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZU9yTWVzc2FnZUlkID09PSAnc3RyaW5nJykge1xuICAgICAgICBtZXNzYWdlSWQgPSBtZXNzYWdlT3JNZXNzYWdlSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW1lc3NhZ2VPck1lc3NhZ2VJZC5pZCkge1xuICAgICAgICAgIHRocm93IEVycm9yKGVycm9yVGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdlSWQgPSBtZXNzYWdlT3JNZXNzYWdlSWQuaWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXNzYWdlSWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHBpbk1lc3NhZ2UgLSBwaW5zIHRoZSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB7IGlkOiBzdHJpbmcgfX0gbWVzc2FnZU9yTWVzc2FnZUlkIG1lc3NhZ2Ugb2JqZWN0IG9yIG1lc3NhZ2UgaWRcbiAgICAgKiBAcGFyYW0ge3VuZGVmaW5lZHxudWxsfG51bWJlcnxzdHJpbmd8RGF0ZX0gdGltZW91dE9yRXhwaXJhdGlvbkRhdGUgZXhwaXJhdGlvbiBkYXRlIG9yIHRpbWVvdXQuIFVzZSBudW1iZXIgdHlwZSB0byBzZXQgdGltZW91dCBpbiBzZWNvbmRzLCBzdHJpbmcgb3IgRGF0ZSB0byBzZXQgZXhhY3QgZXhwaXJhdGlvbiBkYXRlXG4gICAgICogQHBhcmFtIHt1bmRlZmluZWR8c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IFtwaW5uZWRCeV0gd2hvIHdpbGwgYXBwZWFyIGFzIGEgdXNlciB3aG8gcGlubmVkIGEgbWVzc2FnZS4gT25seSBmb3Igc2VydmVyLXNpZGUgdXNlLiBQcm92aWRlIGB1bmRlZmluZWRgIHdoZW4gcGlubmluZyBtZXNzYWdlIGNsaWVudC1zaWRlXG4gICAgICogQHBhcmFtIHt1bmRlZmluZWR8bnVtYmVyfHN0cmluZ3xEYXRlfSBwaW5uZWRBdCBkYXRlIHdoZW4gbWVzc2FnZSBzaG91bGQgYmUgcGlubmVkLiBJdCBhZmZlY3RzIHRoZSBvcmRlciBvZiBwaW5uZWQgbWVzc2FnZXMuIFVzZSBuZWdhdGl2ZSBudW1iZXIgdG8gc2V0IHJlbGF0aXZlIHRpbWUgaW4gdGhlIHBhc3QsIHN0cmluZyBvciBEYXRlIHRvIHNldCBleGFjdCBkYXRlIG9mIHBpblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGluTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwaW5NZXNzYWdlKG1lc3NhZ2VPck1lc3NhZ2VJZCwgdGltZW91dE9yRXhwaXJhdGlvbkRhdGUsIHBpbm5lZEJ5LCBwaW5uZWRBdCkge1xuICAgICAgdmFyIG1lc3NhZ2VJZCA9IHRoaXMuX3ZhbGlkYXRlQW5kR2V0TWVzc2FnZUlkKG1lc3NhZ2VPck1lc3NhZ2VJZCwgJ1BsZWFzZSBzcGVjaWZ5IHRoZSBtZXNzYWdlIGlkIHdoZW4gY2FsbGluZyB1bnBpbk1lc3NhZ2UnKTtcblxuICAgICAgcmV0dXJuIHRoaXMucGFydGlhbFVwZGF0ZU1lc3NhZ2UobWVzc2FnZUlkLCB7XG4gICAgICAgIHNldDoge1xuICAgICAgICAgIHBpbm5lZDogdHJ1ZSxcbiAgICAgICAgICBwaW5fZXhwaXJlczogdGhpcy5fbm9ybWFsaXplRXhwaXJhdGlvbih0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZSksXG4gICAgICAgICAgcGlubmVkX2F0OiB0aGlzLl9ub3JtYWxpemVFeHBpcmF0aW9uKHBpbm5lZEF0KVxuICAgICAgICB9XG4gICAgICB9LCBwaW5uZWRCeSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVucGluTWVzc2FnZSAtIHVucGlucyB0aGUgbWVzc2FnZSB0aGF0IHdhcyBwcmV2aW91c2x5IHBpbm5lZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IG1lc3NhZ2VPck1lc3NhZ2VJZCBtZXNzYWdlIG9iamVjdCBvciBtZXNzYWdlIGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB7IGlkOiBzdHJpbmcgfX0gW3VzZXJJZF1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVucGluTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnBpbk1lc3NhZ2UobWVzc2FnZU9yTWVzc2FnZUlkLCB1c2VySWQpIHtcbiAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLl92YWxpZGF0ZUFuZEdldE1lc3NhZ2VJZChtZXNzYWdlT3JNZXNzYWdlSWQsICdQbGVhc2Ugc3BlY2lmeSB0aGUgbWVzc2FnZSBpZCB3aGVuIGNhbGxpbmcgdW5waW5NZXNzYWdlJyk7XG5cbiAgICAgIHJldHVybiB0aGlzLnBhcnRpYWxVcGRhdGVNZXNzYWdlKG1lc3NhZ2VJZCwge1xuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICBwaW5uZWQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sIHVzZXJJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZU1lc3NhZ2UgLSBVcGRhdGUgdGhlIGdpdmVuIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T21pdDxNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiwgJ21lbnRpb25lZF91c2Vycyc+ICYgeyBtZW50aW9uZWRfdXNlcnM/OiBzdHJpbmdbXSB9fSBtZXNzYWdlIG9iamVjdCwgaWQgbmVlZHMgdG8gYmUgc3BlY2lmaWVkXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB7IGlkOiBzdHJpbmcgfX0gW3VzZXJJZF1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNraXBfZW5yaWNoX3VybF0gRG8gbm90IHRyeSB0byBlbnJpY2ggdGhlIFVSTHMgd2l0aGluIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3sgbWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfX0gUmVzcG9uc2UgdGhhdCBpbmNsdWRlcyB0aGUgbWVzc2FnZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZU1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTQobWVzc2FnZSwgdXNlcklkLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBjbG9uZWRNZXNzYWdlLCByZXNlcnZlZE1lc3NhZ2VGaWVsZHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU0JChfY29udGV4dDU0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1NC5wcmV2ID0gX2NvbnRleHQ1NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1NC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdQbGVhc2Ugc3BlY2lmeSB0aGUgbWVzc2FnZSBpZCB3aGVuIGNhbGxpbmcgdXBkYXRlTWVzc2FnZScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjbG9uZWRNZXNzYWdlID0gX2V4dGVuZHMoe30sIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjbG9uZWRNZXNzYWdlLmlkO1xuICAgICAgICAgICAgICAgIHJlc2VydmVkTWVzc2FnZUZpZWxkcyA9IFsnY29tbWFuZCcsICdjcmVhdGVkX2F0JywgJ2h0bWwnLCAnbGF0ZXN0X3JlYWN0aW9ucycsICdvd25fcmVhY3Rpb25zJywgJ3F1b3RlZF9tZXNzYWdlJywgJ3JlYWN0aW9uX2NvdW50cycsICdyZXBseV9jb3VudCcsICd0eXBlJywgJ3VwZGF0ZWRfYXQnLCAndXNlcicsICdfX2h0bWwnXTtcbiAgICAgICAgICAgICAgICByZXNlcnZlZE1lc3NhZ2VGaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGNsb25lZE1lc3NhZ2VbaXRlbV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2xvbmVkTWVzc2FnZVtpdGVtXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICh1c2VySWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHVzZXJJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkTWVzc2FnZS51c2VyX2lkID0gdXNlcklkO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkTWVzc2FnZS51c2VyID0ge1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiB1c2VySWQuaWRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2VydmVyIGFsd2F5cyBleHBlY3RzIG1lbnRpb25lZF91c2VycyB0byBiZSBhcnJheSBvZiBzdHJpbmcuIFdlIGFyZSBhZGRpbmcgZXh0cmEgY2hlY2ssIGp1c3QgaW4gY2FzZVxuICAgICAgICAgICAgICAgICAqIFNESyBtaXNzZWQgdGhpcyBjb252ZXJzaW9uLlxuICAgICAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjbG9uZWRNZXNzYWdlLm1lbnRpb25lZF91c2VycykgJiYgIWlzU3RyaW5nKGNsb25lZE1lc3NhZ2UubWVudGlvbmVkX3VzZXJzWzBdKSkge1xuICAgICAgICAgICAgICAgICAgY2xvbmVkTWVzc2FnZS5tZW50aW9uZWRfdXNlcnMgPSBjbG9uZWRNZXNzYWdlLm1lbnRpb25lZF91c2Vycy5tYXAoZnVuY3Rpb24gKG11KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtdS5pZDtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KG1lc3NhZ2UuaWQpLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNsb25lZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1NC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1NC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTU0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlTWVzc2FnZShfeDY3LCBfeDY4LCBfeDY5KSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlTWVzc2FnZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBwYXJ0aWFsVXBkYXRlTWVzc2FnZSAtIFVwZGF0ZSB0aGUgZ2l2ZW4gbWVzc2FnZSBpZCB3aGlsZSByZXRhaW5pbmcgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIG1lc3NhZ2UgaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGFydGlhbFVwZGF0ZU1lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gIHBhcnRpYWxNZXNzYWdlT2JqZWN0IHdoaWNoIHNob3VsZCBjb250YWluIGlkIGFuZCBhbnkgb2YgXCJzZXRcIiBvciBcInVuc2V0XCIgcGFyYW1zO1xuICAgICAqICAgICAgICAgZXhhbXBsZToge2lkOiBcInVzZXIxXCIsIHNldDp7dGV4dDogXCJoaVwifSwgdW5zZXQ6W1wiY29sb3JcIl19XG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB7IGlkOiBzdHJpbmcgfX0gW3VzZXJJZF1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcF9lbnJpY2hfdXJsXSBEbyBub3QgdHJ5IHRvIGVucmljaCB0aGUgVVJMcyB3aXRoaW4gbWVzc2FnZVxuICAgICAqXG4gICAgICogQHJldHVybiB7eyBtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiB9fSBSZXNwb25zZSB0aGF0IGluY2x1ZGVzIHRoZSB1cGRhdGVkIG1lc3NhZ2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBhcnRpYWxVcGRhdGVNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcGFydGlhbFVwZGF0ZU1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTUoaWQsIHBhcnRpYWxNZXNzYWdlT2JqZWN0LCB1c2VySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHVzZXI7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU1JChfY29udGV4dDU1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1NS5wcmV2ID0gX2NvbnRleHQ1NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NTUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUGxlYXNlIHNwZWNpZnkgdGhlIG1lc3NhZ2UgaWQgd2hlbiBjYWxsaW5nIHBhcnRpYWxVcGRhdGVNZXNzYWdlJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHVzZXIgPSB1c2VySWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlcklkICE9IG51bGwgJiYgaXNTdHJpbmcodXNlcklkKSkge1xuICAgICAgICAgICAgICAgICAgdXNlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHVzZXJJZFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDU1Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1dCh0aGlzLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQoaWQpLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFydGlhbE1lc3NhZ2VPYmplY3QpLCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDU1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1NSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnRpYWxVcGRhdGVNZXNzYWdlKF94NzAsIF94NzEsIF94NzIsIF94NzMpIHtcbiAgICAgICAgcmV0dXJuIF9wYXJ0aWFsVXBkYXRlTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbFVwZGF0ZU1lc3NhZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZU1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTYobWVzc2FnZUlELCBoYXJkRGVsZXRlKSB7XG4gICAgICAgIHZhciBwYXJhbXM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU2JChfY29udGV4dDU2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1Ni5wcmV2ID0gX2NvbnRleHQ1Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7fTtcblxuICAgICAgICAgICAgICAgIGlmIChoYXJkRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhhcmQ6IHRydWVcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Ni5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KG1lc3NhZ2VJRCksIHBhcmFtcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDU2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1NiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZU1lc3NhZ2UoX3g3NCwgX3g3NSkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZU1lc3NhZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldE1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTcobWVzc2FnZUlEKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU3JChfY29udGV4dDU3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1Ny5wcmV2ID0gX2NvbnRleHQ1Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDU3Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KG1lc3NhZ2VJRCkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTcuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NTcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTU3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0TWVzc2FnZShfeDc2KSB7XG4gICAgICAgIHJldHVybiBfZ2V0TWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0TWVzc2FnZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXRVc2VyQWdlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMudXNlckFnZW50IHx8IFwic3RyZWFtLWNoYXQtamF2YXNjcmlwdC1jbGllbnQtXCIuY29uY2F0KHRoaXMubm9kZSA/ICdub2RlJyA6ICdicm93c2VyJywgXCItXCIsIFwiOC4xNC41XCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRVc2VyQWdlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlckFnZW50KHVzZXJBZ2VudCkge1xuICAgICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9pc1VzaW5nU2VydmVyQXV0aCAtIFJldHVybnMgdHJ1ZSBpZiB3ZSdyZSB1c2luZyBzZXJ2ZXIgc2lkZSBhdXRoXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZW5yaWNoQXhpb3NPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbnJpY2hBeGlvc09wdGlvbnMoKSB7XG4gICAgICB2YXIgX29wdGlvbnMkaGVhZGVycztcblxuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHtcbiAgICAgICAgcGFyYW1zOiB7fSxcbiAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgIGNvbmZpZzoge31cbiAgICAgIH07XG5cbiAgICAgIHZhciB0b2tlbiA9IHRoaXMuX2dldFRva2VuKCk7XG5cbiAgICAgIHZhciBhdXRob3JpemF0aW9uID0gdG9rZW4gPyB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IHRva2VuXG4gICAgICB9IDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHNpZ25hbCA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyICE9PSBudWxsKSB7XG4gICAgICAgIHNpZ25hbCA9IHRoaXMubmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIuc2lnbmFsO1xuICAgICAgICB0aGlzLm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoKF9vcHRpb25zJGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMpICE9PSBudWxsICYmIF9vcHRpb25zJGhlYWRlcnMgIT09IHZvaWQgMCAmJiBfb3B0aW9ucyRoZWFkZXJzWyd4LWNsaWVudC1yZXF1ZXN0LWlkJ10pKSB7XG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucy5oZWFkZXJzKSwge30sIHtcbiAgICAgICAgICAneC1jbGllbnQtcmVxdWVzdC1pZCc6IHJhbmRvbUlkKClcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcmVmOSA9IHRoaXMub3B0aW9ucy5heGlvc1JlcXVlc3RDb25maWcgfHwge30sXG4gICAgICAgICAgYXhpb3NSZXF1ZXN0Q29uZmlnUGFyYW1zID0gX3JlZjkucGFyYW1zLFxuICAgICAgICAgIGF4aW9zUmVxdWVzdENvbmZpZ0hlYWRlcnMgPSBfcmVmOS5oZWFkZXJzLFxuICAgICAgICAgIGF4aW9zUmVxdWVzdENvbmZpZ1Jlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjksIF9leGNsdWRlZDIpO1xuXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VySUQsXG4gICAgICAgICAgY29ubmVjdGlvbl9pZDogdGhpcy5fZ2V0Q29ubmVjdGlvbklEKCksXG4gICAgICAgICAgYXBpX2tleTogdGhpcy5rZXlcbiAgICAgICAgfSwgb3B0aW9ucy5wYXJhbXMpLCBheGlvc1JlcXVlc3RDb25maWdQYXJhbXMgfHwge30pLFxuICAgICAgICBoZWFkZXJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYXV0aG9yaXphdGlvbiksIHt9LCB7XG4gICAgICAgICAgJ3N0cmVhbS1hdXRoLXR5cGUnOiB0aGlzLmdldEF1dGhUeXBlKCksXG4gICAgICAgICAgJ1gtU3RyZWFtLUNsaWVudCc6IHRoaXMuZ2V0VXNlckFnZW50KClcbiAgICAgICAgfSwgb3B0aW9ucy5oZWFkZXJzKSwgYXhpb3NSZXF1ZXN0Q29uZmlnSGVhZGVycyB8fCB7fSlcbiAgICAgIH0sIHNpZ25hbCA/IHtcbiAgICAgICAgc2lnbmFsOiBzaWduYWxcbiAgICAgIH0gOiB7fSksIG9wdGlvbnMuY29uZmlnKSwgYXhpb3NSZXF1ZXN0Q29uZmlnUmVzdCB8fCB7fSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VG9rZW4oKSB7XG4gICAgICBpZiAoIXRoaXMudG9rZW5NYW5hZ2VyIHx8IHRoaXMuYW5vbnltb3VzKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuTWFuYWdlci5nZXRUb2tlbigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc3RhcnRDbGVhbmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnRDbGVhbmluZygpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuY2xlYW5pbmdJbnRlcnZhbFJlZiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jbGVhbmluZ0ludGVydmFsUmVmID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjYWxsIGNsZWFuIG9uIHRoZSBjaGFubmVsLCB1c2VkIGZvciBjYWxsaW5nIHRoZSBzdG9wLnR5cGluZyBldmVudCBldGMuXG4gICAgICAgIGZvciAodmFyIF9pMyA9IDAsIF9PYmplY3QkdmFsdWVzMiA9IE9iamVjdC52YWx1ZXModGhhdC5hY3RpdmVDaGFubmVscyk7IF9pMyA8IF9PYmplY3QkdmFsdWVzMi5sZW5ndGg7IF9pMysrKSB7XG4gICAgICAgICAgdmFyIF9jaGFubmVsNyA9IF9PYmplY3QkdmFsdWVzMltfaTNdO1xuXG4gICAgICAgICAgX2NoYW5uZWw3LmNsZWFuKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGVuY29kZSB3cyB1cmwgcGF5bG9hZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMganNvbiBzdHJpbmdcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInZlcmlmeVdlYmhvb2tcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBjaGVja3Mgc2lnbmF0dXJlIG9mIGEgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgQnVmZmVyfSByYXdCb2R5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hdHVyZSBmcm9tIEhUVFAgaGVhZGVyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gdmVyaWZ5V2ViaG9vayhyZXF1ZXN0Qm9keSwgeFNpZ25hdHVyZSkge1xuICAgICAgcmV0dXJuICEhdGhpcy5zZWNyZXQgJiYgQ2hlY2tTaWduYXR1cmUocmVxdWVzdEJvZHksIHRoaXMuc2VjcmV0LCB4U2lnbmF0dXJlKTtcbiAgICB9XG4gICAgLyoqIGdldFBlcm1pc3Npb24gLSBnZXRzIHRoZSBkZWZpbml0aW9uIGZvciBhIHBlcm1pc3Npb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UGVybWlzc2lvbkFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBlcm1pc3Npb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGVybWlzc2lvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9wZXJtaXNzaW9ucy9cIikuY29uY2F0KG5hbWUpKTtcbiAgICB9XG4gICAgLyoqIGNyZWF0ZVBlcm1pc3Npb24gLSBjcmVhdGVzIGEgY3VzdG9tIHBlcm1pc3Npb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q3VzdG9tUGVybWlzc2lvbk9wdGlvbnN9IHBlcm1pc3Npb25EYXRhIHRoZSBwZXJtaXNzaW9uIGRhdGFcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVQZXJtaXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVBlcm1pc3Npb24ocGVybWlzc2lvbkRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9wZXJtaXNzaW9uc1wiKSwgX29iamVjdFNwcmVhZCh7fSwgcGVybWlzc2lvbkRhdGEpKTtcbiAgICB9XG4gICAgLyoqIHVwZGF0ZVBlcm1pc3Npb24gLSB1cGRhdGVzIGFuIGV4aXN0aW5nIGN1c3RvbSBwZXJtaXNzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICAgKiBAcGFyYW0ge09taXQ8Q3VzdG9tUGVybWlzc2lvbk9wdGlvbnMsICdpZCc+fSBwZXJtaXNzaW9uRGF0YSB0aGUgcGVybWlzc2lvbiBkYXRhXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUGVybWlzc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQZXJtaXNzaW9uKGlkLCBwZXJtaXNzaW9uRGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMucHV0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcGVybWlzc2lvbnMvXCIpLmNvbmNhdChpZCksIF9vYmplY3RTcHJlYWQoe30sIHBlcm1pc3Npb25EYXRhKSk7XG4gICAgfVxuICAgIC8qKiBkZWxldGVQZXJtaXNzaW9uIC0gZGVsZXRlcyBhIGN1c3RvbSBwZXJtaXNzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVBlcm1pc3Npb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUGVybWlzc2lvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9wZXJtaXNzaW9ucy9cIikuY29uY2F0KG5hbWUpKTtcbiAgICB9XG4gICAgLyoqIGxpc3RQZXJtaXNzaW9ucyAtIHJldHVybnMgdGhlIGxpc3Qgb2YgYWxsIHBlcm1pc3Npb25zIGZvciB0aGlzIGFwcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsaXN0UGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdFBlcm1pc3Npb25zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcGVybWlzc2lvbnNcIikpO1xuICAgIH1cbiAgICAvKiogY3JlYXRlUm9sZSAtIGNyZWF0ZXMgYSBjdXN0b20gcm9sZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIG5ldyByb2xlIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSb2xlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVJvbGUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMucG9zdChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3JvbGVzXCIpLCB7XG4gICAgICAgIG5hbWU6IG5hbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogbGlzdFJvbGVzIC0gcmV0dXJucyB0aGUgbGlzdCBvZiBhbGwgcm9sZXMgZm9yIHRoaXMgYXBwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RSb2xlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0Um9sZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9yb2xlc1wiKSk7XG4gICAgfVxuICAgIC8qKiBkZWxldGVSb2xlIC0gZGVsZXRlcyBhIGN1c3RvbSByb2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgcm9sZSBuYW1lXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlUm9sZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVSb2xlKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZShcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3JvbGVzL1wiKS5jb25jYXQobmFtZSkpO1xuICAgIH1cbiAgICAvKiogc3luYyAtIHJldHVybnMgYWxsIGV2ZW50cyB0aGF0IGhhcHBlbmVkIGZvciBhIGxpc3Qgb2YgY2hhbm5lbHMgc2luY2UgbGFzdCBzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gY2hhbm5lbF9jaWRzIGxpc3Qgb2YgY2hhbm5lbCBDSURzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhc3Rfc3luY19hdCBsYXN0IHRpbWUgdGhlIHVzZXIgd2FzIG9ubGluZSBhbmQgaW4gc3luYy4gUkZDMzMzOSBpZS4gXCIyMDIwLTA1LTA2VDE1OjA1OjAxLjIwN1pcIlxuICAgICAqIEBwYXJhbSB7U3luY09wdGlvbnN9IG9wdGlvbnMgU2VlIEpTRG9jIGluIHRoZSB0eXBlIGZpZWxkcyBmb3IgbW9yZSBpbmZvXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTeW5jUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3luY1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzeW5jKGNoYW5uZWxfY2lkcywgbGFzdF9zeW5jX2F0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5wb3N0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvc3luY1wiKSwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGNoYW5uZWxfY2lkczogY2hhbm5lbF9jaWRzLFxuICAgICAgICBsYXN0X3N5bmNfYXQ6IGxhc3Rfc3luY19hdFxuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZW5kVXNlckN1c3RvbUV2ZW50IC0gU2VuZCBhIGN1c3RvbSBldmVudCB0byBhIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySUQgdGFyZ2V0IHVzZXIgaWRcbiAgICAgKiBAcGFyYW0ge1VzZXJDdXN0b21FdmVudH0gZXZlbnQgZm9yIGV4YW1wbGUge3R5cGU6ICdmcmllbmRzaGlwLXJlcXVlc3QnfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBUElSZXNwb25zZT59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRVc2VyQ3VzdG9tRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZW5kVXNlckN1c3RvbUV2ZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU4KHRhcmdldFVzZXJJRCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTgkKF9jb250ZXh0NTgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDU4LnByZXYgPSBfY29udGV4dDU4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTgubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3VzZXJzL1wiKS5jb25jYXQodGFyZ2V0VXNlcklELCBcIi9ldmVudFwiKSwge1xuICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDU4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1OCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlbmRVc2VyQ3VzdG9tRXZlbnQoX3g3NywgX3g3OCkge1xuICAgICAgICByZXR1cm4gX3NlbmRVc2VyQ3VzdG9tRXZlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbmRVc2VyQ3VzdG9tRXZlbnQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQmxvY2tMaXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUJsb2NrTGlzdChibG9ja0xpc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9ibG9ja2xpc3RzXCIpLCBibG9ja0xpc3QpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsaXN0QmxvY2tMaXN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0QmxvY2tMaXN0cygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL2Jsb2NrbGlzdHNcIikpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRCbG9ja0xpc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QmxvY2tMaXN0KG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL2Jsb2NrbGlzdHMvXCIpLmNvbmNhdChuYW1lKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUJsb2NrTGlzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCbG9ja0xpc3QobmFtZSwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMucHV0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvYmxvY2tsaXN0cy9cIikuY29uY2F0KG5hbWUpLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQmxvY2tMaXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUJsb2NrTGlzdChuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9ibG9ja2xpc3RzL1wiKS5jb25jYXQobmFtZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHBvcnRDaGFubmVsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHBvcnRDaGFubmVscyhyZXF1ZXN0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBwYXlsb2FkID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGNoYW5uZWxzOiByZXF1ZXN0XG4gICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHRoaXMucG9zdChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL2V4cG9ydF9jaGFubmVsc1wiKSwgcGF5bG9hZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4cG9ydFVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydFVzZXJzKHJlcXVlc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9leHBvcnQvdXNlcnNcIiksIHJlcXVlc3QpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHBvcnRDaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydENoYW5uZWwocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwb3J0Q2hhbm5lbHMoW3JlcXVlc3RdLCBvcHRpb25zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RXhwb3J0Q2hhbm5lbFN0YXR1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFeHBvcnRDaGFubmVsU3RhdHVzKGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9leHBvcnRfY2hhbm5lbHMvXCIpLmNvbmNhdChpZCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGVTZWdtZW50IC0gQ3JlYXRlcyBhIENhbXBhaWduIFNlZ21lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U2VnbWVudERhdGF9IHBhcmFtcyBTZWdtZW50IGRhdGFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NlZ21lbnR9IFRoZSBDcmVhdGVkIFNlZ21lbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVNlZ21lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jcmVhdGVTZWdtZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU5KHBhcmFtcykge1xuICAgICAgICB2YXIgX3lpZWxkJHRoaXMkcG9zdCwgc2VnbWVudDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1OSQoX2NvbnRleHQ1OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTkucHJldiA9IF9jb250ZXh0NTkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1OS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL3NlZ21lbnRzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHNlZ21lbnQ6IHBhcmFtc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRwb3N0ID0gX2NvbnRleHQ1OS5zZW50O1xuICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBfeWllbGQkdGhpcyRwb3N0LnNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTkuYWJydXB0KFwicmV0dXJuXCIsIHNlZ21lbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1OSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNlZ21lbnQoX3g3OSkge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZVNlZ21lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZVNlZ21lbnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcXVlcnlTZWdtZW50cyAtIFF1ZXJ5IENhbXBhaWduIFNlZ21lbnRzXG4gICAgICpcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NlZ21lbnRbXX0gU2VnbWVudHNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5U2VnbWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeVNlZ21lbnRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYwKGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczYwID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MCQoX2NvbnRleHQ2MCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjAucHJldiA9IF9jb250ZXh0NjAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNjAubGVuZ3RoID4gMSAmJiBfYXJnczYwWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczYwWzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2MC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvc2VnbWVudHNcIiwge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2MC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ2MC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2MC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeVNlZ21lbnRzKF94ODApIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeVNlZ21lbnRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeVNlZ21lbnRzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVNlZ21lbnQgLSBVcGRhdGUgYSBDYW1wYWlnbiBTZWdtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgU2VnbWVudCBJRFxuICAgICAqIEBwYXJhbSB7UGFydGlhbDxTZWdtZW50RGF0YT59IHBhcmFtcyBTZWdtZW50IGRhdGFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NlZ21lbnR9IFVwZGF0ZWQgU2VnbWVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlU2VnbWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZVNlZ21lbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjEoaWQsIHBhcmFtcykge1xuICAgICAgICB2YXIgX3lpZWxkJHRoaXMkcHV0LCBzZWdtZW50O1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYxJChfY29udGV4dDYxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2MS5wcmV2ID0gX2NvbnRleHQ2MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYxLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1dCh0aGlzLmJhc2VVUkwgKyBcIi9zZWdtZW50cy9cIi5jb25jYXQoaWQpLCB7XG4gICAgICAgICAgICAgICAgICBzZWdtZW50OiBwYXJhbXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkcHV0ID0gX2NvbnRleHQ2MS5zZW50O1xuICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBfeWllbGQkdGhpcyRwdXQuc2VnbWVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2MS5hYnJ1cHQoXCJyZXR1cm5cIiwgc2VnbWVudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYxLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlU2VnbWVudChfeDgxLCBfeDgyKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlU2VnbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlU2VnbWVudDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVTZWdtZW50IC0gRGVsZXRlIGEgQ2FtcGFpZ24gU2VnbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFNlZ21lbnQgSURcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVTZWdtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlU2VnbWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2MihpZCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MiQoX2NvbnRleHQ2Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjIucHJldiA9IF9jb250ZXh0NjIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjIuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL3NlZ21lbnRzL1wiLmNvbmNhdChpZCkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVTZWdtZW50KF94ODMpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVTZWdtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVTZWdtZW50O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZUNhbXBhaWduIC0gQ3JlYXRlcyBhIENhbXBhaWduXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NhbXBhaWduRGF0YX0gcGFyYW1zIENhbXBhaWduIGRhdGFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NhbXBhaWdufSBUaGUgQ3JlYXRlZCBDYW1wYWlnblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQ2FtcGFpZ25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jcmVhdGVDYW1wYWlnbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2MyhwYXJhbXMpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJHBvc3QyLCBjYW1wYWlnbjtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MyQoX2NvbnRleHQ2Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjMucHJldiA9IF9jb250ZXh0NjMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2My5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWduc1wiLCB7XG4gICAgICAgICAgICAgICAgICBjYW1wYWlnbjogcGFyYW1zXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF95aWVsZCR0aGlzJHBvc3QyID0gX2NvbnRleHQ2My5zZW50O1xuICAgICAgICAgICAgICAgIGNhbXBhaWduID0gX3lpZWxkJHRoaXMkcG9zdDIuY2FtcGFpZ247XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjMuYWJydXB0KFwicmV0dXJuXCIsIGNhbXBhaWduKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVDYW1wYWlnbihfeDg0KSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZUNhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5Q2FtcGFpZ25zIC0gUXVlcnkgQ2FtcGFpZ25zXG4gICAgICpcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NhbXBhaWduW119IENhbXBhaWduc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlDYW1wYWlnbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeUNhbXBhaWducyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2NChmaWx0ZXJzKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M2NCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjQkKF9jb250ZXh0NjQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDY0LnByZXYgPSBfY29udGV4dDY0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczY0Lmxlbmd0aCA+IDEgJiYgX2FyZ3M2NFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2NFsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NjQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWduc1wiLCB7XG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlcnNcbiAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDY0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2NCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5Q2FtcGFpZ25zKF94ODUpIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeUNhbXBhaWducy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlDYW1wYWlnbnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdXBkYXRlQ2FtcGFpZ24gLSBVcGRhdGUgYSBDYW1wYWlnblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIENhbXBhaWduIElEXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsPENhbXBhaWduRGF0YT59IHBhcmFtcyBDYW1wYWlnbiBkYXRhXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDYW1wYWlnbn0gVXBkYXRlZCBDYW1wYWlnblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQ2FtcGFpZ25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRhdGVDYW1wYWlnbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2NShpZCwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfeWllbGQkdGhpcyRwdXQyLCBjYW1wYWlnbjtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2NSQoX2NvbnRleHQ2NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjUucHJldiA9IF9jb250ZXh0NjUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2NS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXQodGhpcy5iYXNlVVJMICsgXCIvY2FtcGFpZ25zL1wiLmNvbmNhdChpZCksIHtcbiAgICAgICAgICAgICAgICAgIGNhbXBhaWduOiBwYXJhbXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkcHV0MiA9IF9jb250ZXh0NjUuc2VudDtcbiAgICAgICAgICAgICAgICBjYW1wYWlnbiA9IF95aWVsZCR0aGlzJHB1dDIuY2FtcGFpZ247XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjUuYWJydXB0KFwicmV0dXJuXCIsIGNhbXBhaWduKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2NS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVDYW1wYWlnbihfeDg2LCBfeDg3KSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZUNhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbGV0ZUNhbXBhaWduIC0gRGVsZXRlIGEgQ2FtcGFpZ25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYW1wYWlnbiBJRFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBUElSZXNwb25zZT59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUNhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlQ2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjYoaWQpIHtcbiAgICAgICAgdmFyIHBhcmFtcyxcbiAgICAgICAgICAgIF9hcmdzNjYgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY2JChfY29udGV4dDY2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2Ni5wcmV2ID0gX2NvbnRleHQ2Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfYXJnczY2Lmxlbmd0aCA+IDEgJiYgX2FyZ3M2NlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2NlsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY2LmFicnVwdChcInJldHVyblwiLCB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnMvXCIuY29uY2F0KGlkKSwgcGFyYW1zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTY2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVsZXRlQ2FtcGFpZ24oX3g4OCkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZUNhbXBhaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVDYW1wYWlnbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBzY2hlZHVsZUNhbXBhaWduIC0gU2NoZWR1bGUgYSBDYW1wYWlnblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIENhbXBhaWduIElEXG4gICAgICogQHBhcmFtIHt7c2NoZWR1bGVkRm9yOiBudW1iZXJ9fSBwYXJhbXMgU2NoZWR1bGUgcGFyYW1zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDYW1wYWlnbn0gU2NoZWR1bGVkIENhbXBhaWduXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzY2hlZHVsZUNhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2NoZWR1bGVDYW1wYWlnbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2NyhpZCwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBzY2hlZHVsZWRGb3IsIF95aWVsZCR0aGlzJHBhdGNoLCBjYW1wYWlnbjtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2NyQoX2NvbnRleHQ2Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjcucHJldiA9IF9jb250ZXh0NjcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkRm9yID0gcGFyYW1zLnNjaGVkdWxlZEZvcjtcbiAgICAgICAgICAgICAgICBfY29udGV4dDY3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGNoKHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWducy9cIi5jb25jYXQoaWQsIFwiL3NjaGVkdWxlXCIpLCB7XG4gICAgICAgICAgICAgICAgICBzY2hlZHVsZWRfZm9yOiBzY2hlZHVsZWRGb3JcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkcGF0Y2ggPSBfY29udGV4dDY3LnNlbnQ7XG4gICAgICAgICAgICAgICAgY2FtcGFpZ24gPSBfeWllbGQkdGhpcyRwYXRjaC5jYW1wYWlnbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgY2FtcGFpZ24pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2NywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNjaGVkdWxlQ2FtcGFpZ24oX3g4OSwgX3g5MCkge1xuICAgICAgICByZXR1cm4gX3NjaGVkdWxlQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNjaGVkdWxlQ2FtcGFpZ247XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc3RvcENhbXBhaWduIC0gU3RvcCBhIENhbXBhaWduXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FtcGFpZ24gSURcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NhbXBhaWdufSBTdG9wcGVkIENhbXBhaWduXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdG9wQ2FtcGFpZ25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zdG9wQ2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjgoaWQpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJHBhdGNoMiwgY2FtcGFpZ247XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjgkKF9jb250ZXh0NjgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDY4LnByZXYgPSBfY29udGV4dDY4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NjgubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0Y2godGhpcy5iYXNlVVJMICsgXCIvY2FtcGFpZ25zL1wiLmNvbmNhdChpZCwgXCIvc3RvcFwiKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF95aWVsZCR0aGlzJHBhdGNoMiA9IF9jb250ZXh0Njguc2VudDtcbiAgICAgICAgICAgICAgICBjYW1wYWlnbiA9IF95aWVsZCR0aGlzJHBhdGNoMi5jYW1wYWlnbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OC5hYnJ1cHQoXCJyZXR1cm5cIiwgY2FtcGFpZ24pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2OCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHN0b3BDYW1wYWlnbihfeDkxKSB7XG4gICAgICAgIHJldHVybiBfc3RvcENhbXBhaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdG9wQ2FtcGFpZ247XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcmVzdW1lQ2FtcGFpZ24gLSBSZXN1bWUgYSBDYW1wYWlnblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIENhbXBhaWduIElEXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDYW1wYWlnbn0gUmVzdW1lZCBDYW1wYWlnblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVzdW1lQ2FtcGFpZ25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXN1bWVDYW1wYWlnbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2OShpZCkge1xuICAgICAgICB2YXIgX3lpZWxkJHRoaXMkcGF0Y2gzLCBjYW1wYWlnbjtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2OSQoX2NvbnRleHQ2OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjkucHJldiA9IF9jb250ZXh0NjkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2OS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRjaCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnMvXCIuY29uY2F0KGlkLCBcIi9yZXN1bWVcIikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRwYXRjaDMgPSBfY29udGV4dDY5LnNlbnQ7XG4gICAgICAgICAgICAgICAgY2FtcGFpZ24gPSBfeWllbGQkdGhpcyRwYXRjaDMuY2FtcGFpZ247XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjkuYWJydXB0KFwicmV0dXJuXCIsIGNhbXBhaWduKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXN1bWVDYW1wYWlnbihfeDkyKSB7XG4gICAgICAgIHJldHVybiBfcmVzdW1lQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VtZUNhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHRlc3RDYW1wYWlnbiAtIFRlc3QgYSBDYW1wYWlnblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIENhbXBhaWduIElEXG4gICAgICogQHBhcmFtIHt7dXNlcnM6IHN0cmluZ1tdfX0gcGFyYW1zIFRlc3QgcGFyYW1zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUZXN0Q2FtcGFpZ25SZXNwb25zZX0gVGVzdCBjYW1wYWlnbiByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidGVzdENhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGVzdENhbXBhaWduID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcwKGlkLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIHVzZXJzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3MCQoX2NvbnRleHQ3MCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzAucHJldiA9IF9jb250ZXh0NzAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXNlcnMgPSBwYXJhbXMudXNlcnM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3MC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWducy9cIi5jb25jYXQoaWQsIFwiL3Rlc3RcIiksIHtcbiAgICAgICAgICAgICAgICAgIHVzZXJzOiB1c2Vyc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3MC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3MC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3MC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0ZXN0Q2FtcGFpZ24oX3g5MywgX3g5NCkge1xuICAgICAgICByZXR1cm4gX3Rlc3RDYW1wYWlnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGVzdENhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5UmVjaXBpZW50cyAtIFF1ZXJ5IENhbXBhaWduIFJlY2lwaWVudCBSZXN1bHRzXG4gICAgICpcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JlY2lwaWVudFtdfSBSZWNpcGllbnRzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeVJlY2lwaWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeVJlY2lwaWVudHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzEoZmlsdGVycykge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNzEgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTcxJChfY29udGV4dDcxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3MS5wcmV2ID0gX2NvbnRleHQ3MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M3MS5sZW5ndGggPiAxICYmIF9hcmdzNzFbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNzFbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDcxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9yZWNpcGllbnRzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyc1xuICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NzEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcxLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlSZWNpcGllbnRzKF94OTUpIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeVJlY2lwaWVudHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5UmVjaXBpZW50cztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBlbnJpY2hVUkwgLSBHZXQgT3BlbkdyYXBoIGRhdGEgb2YgdGhlIGdpdmVuIGxpbmtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgbGlua1xuICAgICAqIEByZXR1cm4ge09HQXR0YWNobWVudH0gT0cgQXR0YWNobWVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5yaWNoVVJMXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZW5yaWNoVVJMID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcyKHVybCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3MiQoX2NvbnRleHQ3Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzIucHJldiA9IF9jb250ZXh0NzIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzIuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL29nXCIsIHtcbiAgICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3MiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGVucmljaFVSTChfeDk2KSB7XG4gICAgICAgIHJldHVybiBfZW5yaWNoVVJMLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbnJpY2hVUkw7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0VGFzayAtIEdldHMgc3RhdHVzIG9mIGEgbG9uZyBydW5uaW5nIHRhc2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUYXNrIElEXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUYXNrU3RhdHVzfSBUaGUgdGFzayBzdGF0dXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFRhc2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRUYXNrID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTczKGlkKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTczJChfY29udGV4dDczKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3My5wcmV2ID0gX2NvbnRleHQ3My5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3My5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi90YXNrcy9cIikuY29uY2F0KGlkKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDczLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3MywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRhc2soX3g5Nykge1xuICAgICAgICByZXR1cm4gX2dldFRhc2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFRhc2s7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVsZXRlQ2hhbm5lbHMgLSBEZWxldGVzIGEgbGlzdCBvZiBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBjaWRzIENoYW5uZWwgQ0lEc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaGFyZF9kZWxldGVdIERlZmluZXMgaWYgdGhlIGNoYW5uZWwgaXMgaGFyZCBkZWxldGVkIG9yIG5vdFxuICAgICAqXG4gICAgICogQHJldHVybiB7RGVsZXRlQ2hhbm5lbHNSZXNwb25zZX0gUmVzdWx0IG9mIHRoZSBzb2Z0IGRlbGV0aW9uLCBpZiBzZXJ2ZXItc2lkZSwgaXQgaG9sZHMgdGhlIHRhc2sgSUQgYXMgd2VsbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQ2hhbm5lbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxldGVDaGFubmVscyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3NChjaWRzKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M3NCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzQkKF9jb250ZXh0NzQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDc0LnByZXYgPSBfY29udGV4dDc0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczc0Lmxlbmd0aCA+IDEgJiYgX2FyZ3M3NFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3NFsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NzQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9jaGFubmVscy9kZWxldGVcIiwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBjaWRzOiBjaWRzXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3NC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVDaGFubmVscyhfeDk4KSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlQ2hhbm5lbHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZUNoYW5uZWxzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbGV0ZVVzZXJzIC0gQmF0Y2ggRGVsZXRlIFVzZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1c2VyX2lkcyB3aGljaCB1c2VycyB0byBkZWxldGVcbiAgICAgKiBAcGFyYW0ge0RlbGV0ZVVzZXJPcHRpb25zfSBvcHRpb25zIENvbmZpZ3VyYXRpb24gaG93IHRvIGRlbGV0ZSB1c2Vyc1xuICAgICAqXG4gICAgICogQHJldHVybiB7VGFza1Jlc3BvbnNlfSBBIHRhc2sgSURcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzUodXNlcl9pZHMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczc1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3NSQoX2NvbnRleHQ3NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzUucHJldiA9IF9jb250ZXh0NzUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNzUubGVuZ3RoID4gMSAmJiBfYXJnczc1WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczc1WzFdIDoge307XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2Ygb3B0aW9ucy51c2VyICE9PSAndW5kZWZpbmVkJyAmJiAhWydzb2Z0JywgJ2hhcmQnLCAncHJ1bmluZyddLmluY2x1ZGVzKG9wdGlvbnMudXNlcikpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDc1Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRlbGV0ZSB1c2VyIG9wdGlvbnMuIHVzZXIgbXVzdCBiZSBvbmUgb2YgW3NvZnQgaGFyZCBwcnVuaW5nXScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2Ygb3B0aW9ucy5jb252ZXJzYXRpb25zICE9PSAndW5kZWZpbmVkJyAmJiAhWydzb2Z0JywgJ2hhcmQnXS5pbmNsdWRlcyhvcHRpb25zLmNvbnZlcnNhdGlvbnMpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3NS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkZWxldGUgdXNlciBvcHRpb25zLiBjb252ZXJzYXRpb25zIG11c3QgYmUgb25lIG9mIFtzb2Z0IGhhcmRdJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBvcHRpb25zLm1lc3NhZ2VzICE9PSAndW5kZWZpbmVkJyAmJiAhWydzb2Z0JywgJ2hhcmQnLCAncHJ1bmluZyddLmluY2x1ZGVzKG9wdGlvbnMubWVzc2FnZXMpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3NS5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkZWxldGUgdXNlciBvcHRpb25zLiBtZXNzYWdlcyBtdXN0IGJlIG9uZSBvZiBbc29mdCBoYXJkIHBydW5pbmddJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NzUubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9kZWxldGVcIiwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkczogdXNlcl9pZHNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDc1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVVc2VycyhfeDk5KSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlVXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZVVzZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVJbXBvcnRVUkwgLSBDcmVhdGUgYW4gSW1wb3J0IHVwbG9hZCB1cmwuXG4gICAgICpcbiAgICAgKiBOb3RlOiBEbyBub3QgdXNlIHRoaXMuXG4gICAgICogSXQgaXMgcHJlc2VudCBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiwgYW5kIHdpbGwsIGJyZWFrIGFuZC9vciBiZSByZW1vdmVkIGF0IGFueSBwb2ludCBpbiB0aW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWUgZmlsZW5hbWUgb2YgdXBsb2FkZWQgZGF0YVxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlICYgQ3JlYXRlSW1wb3J0UmVzcG9uc2V9IEFuIEltcG9ydFRhc2tcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9jcmVhdGVJbXBvcnRVUkxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jcmVhdGVJbXBvcnRVUkwyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc2KGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc2JChfY29udGV4dDc2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3Ni5wcmV2ID0gX2NvbnRleHQ3Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDc2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvaW1wb3J0X3VybHNcIiwge1xuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDc2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3NiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9jcmVhdGVJbXBvcnRVUkwoX3gxMDApIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVJbXBvcnRVUkwyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfY3JlYXRlSW1wb3J0VVJMO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVJbXBvcnQgLSBDcmVhdGUgYW4gSW1wb3J0IFRhc2suXG4gICAgICpcbiAgICAgKiBOb3RlOiBEbyBub3QgdXNlIHRoaXMuXG4gICAgICogSXQgaXMgcHJlc2VudCBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiwgYW5kIHdpbGwsIGJyZWFrIGFuZC9vciBiZSByZW1vdmVkIGF0IGFueSBwb2ludCBpbiB0aW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBwYXRoIG9mIHVwbG9hZGVkIGRhdGFcbiAgICAgKiBAcGFyYW0ge0NyZWF0ZUltcG9ydE9wdGlvbnN9IG9wdGlvbnMgaW1wb3J0IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIENyZWF0ZUltcG9ydFJlc3BvbnNlfSBBbiBJbXBvcnRUYXNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfY3JlYXRlSW1wb3J0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlSW1wb3J0MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3NyhwYXRoKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M3NyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzckKF9jb250ZXh0NzcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDc3LnByZXYgPSBfY29udGV4dDc3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczc3Lmxlbmd0aCA+IDEgJiYgX2FyZ3M3N1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3N1sxXSA6IHtcbiAgICAgICAgICAgICAgICAgIG1vZGU6ICd1cHNlcnQnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDc3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvaW1wb3J0c1wiLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGhcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDc3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3NywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9jcmVhdGVJbXBvcnQoX3gxMDEpIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVJbXBvcnQyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfY3JlYXRlSW1wb3J0O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9nZXRJbXBvcnQgLSBHZXQgYW4gSW1wb3J0IFRhc2suXG4gICAgICpcbiAgICAgKiBOb3RlOiBEbyBub3QgdXNlIHRoaXMuXG4gICAgICogSXQgaXMgcHJlc2VudCBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiwgYW5kIHdpbGwsIGJyZWFrIGFuZC9vciBiZSByZW1vdmVkIGF0IGFueSBwb2ludCBpbiB0aW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgSW1wb3J0IFRhc2tcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlICYgR2V0SW1wb3J0UmVzcG9uc2V9IEFuIEltcG9ydFRhc2tcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRJbXBvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRJbXBvcnQyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc4KGlkKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc4JChfY29udGV4dDc4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3OC5wcmV2ID0gX2NvbnRleHQ3OC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDc4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9pbXBvcnRzL1wiLmNvbmNhdChpZCkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3OC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfZ2V0SW1wb3J0KF94MTAyKSB7XG4gICAgICAgIHJldHVybiBfZ2V0SW1wb3J0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2dldEltcG9ydDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfbGlzdEltcG9ydHMgLSBMaXN0cyBJbXBvcnQgVGFza3MuXG4gICAgICpcbiAgICAgKiBOb3RlOiBEbyBub3QgdXNlIHRoaXMuXG4gICAgICogSXQgaXMgcHJlc2VudCBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiwgYW5kIHdpbGwsIGJyZWFrIGFuZC9vciBiZSByZW1vdmVkIGF0IGFueSBwb2ludCBpbiB0aW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0xpc3RJbXBvcnRzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgcGFnaW5hdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIExpc3RJbXBvcnRzUmVzcG9uc2V9IEFuIEltcG9ydFRhc2tcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9saXN0SW1wb3J0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2xpc3RJbXBvcnRzMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3OShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc5JChfY29udGV4dDc5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3OS5wcmV2ID0gX2NvbnRleHQ3OS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDc5Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9pbXBvcnRzXCIsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3OS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfbGlzdEltcG9ydHMoX3gxMDMpIHtcbiAgICAgICAgcmV0dXJuIF9saXN0SW1wb3J0czIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9saXN0SW1wb3J0cztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1cHNlcnRQdXNoUHJvdmlkZXIgLSBDcmVhdGUgb3IgVXBkYXRlIGEgcHVzaCBwcm92aWRlclxuICAgICAqXG4gICAgICogTm90ZTogV29ya3Mgb25seSBmb3IgdjIgcHVzaCB2ZXJzaW9uIGlzIGVuYWJsZWQgb24gYXBwIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQdXNoUHJvdmlkZXJDb25maWd9IGNvbmZpZ3VyYXRpb24gb2YgdGhlIHByb3ZpZGVyIHlvdSB3YW50IHRvIGNyZWF0ZSBvciB1cGRhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlICYgUHVzaFByb3ZpZGVyVXBzZXJ0UmVzcG9uc2V9IEEgcHVzaCBwcm92aWRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBzZXJ0UHVzaFByb3ZpZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBzZXJ0UHVzaFByb3ZpZGVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgwKHB1c2hQcm92aWRlcikge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MCQoX2NvbnRleHQ4MCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODAucHJldiA9IF9jb250ZXh0ODAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4MC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL3B1c2hfcHJvdmlkZXJzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXI6IHB1c2hQcm92aWRlclxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4MC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4MC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4MC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cHNlcnRQdXNoUHJvdmlkZXIoX3gxMDQpIHtcbiAgICAgICAgcmV0dXJuIF91cHNlcnRQdXNoUHJvdmlkZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwc2VydFB1c2hQcm92aWRlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVQdXNoUHJvdmlkZXIgLSBEZWxldGUgYSBwdXNoIHByb3ZpZGVyXG4gICAgICpcbiAgICAgKiBOb3RlOiBXb3JrcyBvbmx5IGZvciB2MiBwdXNoIHZlcnNpb24gaXMgZW5hYmxlZCBvbiBhcHAgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1B1c2hQcm92aWRlcklEfSB0eXBlIGFuZCBmb3JlaWduIGlkIG9mIHRoZSBwdXNoIHByb3ZpZGVyIHRvIGJlIGRlbGV0ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlfSBBbiBBUEkgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVB1c2hQcm92aWRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZVB1c2hQcm92aWRlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MShfcmVmMTApIHtcbiAgICAgICAgdmFyIHR5cGUsIG5hbWU7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgxJChfY29udGV4dDgxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4MS5wcmV2ID0gX2NvbnRleHQ4MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0eXBlID0gX3JlZjEwLnR5cGUsIG5hbWUgPSBfcmVmMTAubmFtZTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDgxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9wdXNoX3Byb3ZpZGVycy9cIi5jb25jYXQodHlwZSwgXCIvXCIpLmNvbmNhdChuYW1lKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgxLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDgxLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4MSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVB1c2hQcm92aWRlcihfeDEwNSkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZVB1c2hQcm92aWRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlUHVzaFByb3ZpZGVyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGxpc3RQdXNoUHJvdmlkZXJzIC0gR2V0IGFsbCBwdXNoIHByb3ZpZGVycyBpbiB0aGUgYXBwXG4gICAgICpcbiAgICAgKiBOb3RlOiBXb3JrcyBvbmx5IGZvciB2MiBwdXNoIHZlcnNpb24gaXMgZW5hYmxlZCBvbiBhcHAgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIFB1c2hQcm92aWRlckxpc3RSZXNwb25zZX0gQSBwdXNoIHByb3ZpZGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsaXN0UHVzaFByb3ZpZGVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2xpc3RQdXNoUHJvdmlkZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgyKCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MiQoX2NvbnRleHQ4Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODIucHJldiA9IF9jb250ZXh0ODIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvcHVzaF9wcm92aWRlcnNcIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDgyLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4MiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxpc3RQdXNoUHJvdmlkZXJzKCkge1xuICAgICAgICByZXR1cm4gX2xpc3RQdXNoUHJvdmlkZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaXN0UHVzaFByb3ZpZGVycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIGFuIGFib3J0IGNvbnRyb2xsZXIgdGhhdCB3aWxsIGJlIHVzZWQgYnkgdGhlIG5leHQgSFRUUCBSZXF1ZXN0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQWJvcnRDb250cm9sbGVyRm9yTmV4dFJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQWJvcnRDb250cm9sbGVyRm9yTmV4dFJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXh0UmVxdWVzdEFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY29tbWl0cyBhIHBlbmRpbmcgbWVzc2FnZSwgbWFraW5nIGl0IHZpc2libGUgaW4gdGhlIGNoYW5uZWwgYW5kIGZvciBvdGhlciB1c2Vyc1xuICAgICAqIEBwYXJhbSBpZCB0aGUgbWVzc2FnZSBpZFxuICAgICAqXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2UgJiBNZXNzYWdlUmVzcG9uc2V9IFRoZSBtZXNzYWdlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb21taXRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY29tbWl0TWVzc2FnZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MyhpZCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MyQoX2NvbnRleHQ4Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODMucHJldiA9IF9jb250ZXh0ODMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4My5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChpZCwgXCIvY29tbWl0XCIpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0ODMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY29tbWl0TWVzc2FnZShfeDEwNikge1xuICAgICAgICByZXR1cm4gX2NvbW1pdE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbW1pdE1lc3NhZ2U7XG4gICAgfSgpXG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShrZXksIHNlY3JldE9yT3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgaWYgKCFTdHJlYW1DaGF0Ll9pbnN0YW5jZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNlY3JldE9yT3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBTdHJlYW1DaGF0Ll9pbnN0YW5jZSA9IG5ldyBTdHJlYW1DaGF0KGtleSwgc2VjcmV0T3JPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTdHJlYW1DaGF0Ll9pbnN0YW5jZSA9IG5ldyBTdHJlYW1DaGF0KGtleSwgc2VjcmV0T3JPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gU3RyZWFtQ2hhdC5faW5zdGFuY2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0cmVhbUNoYXQ7XG59KCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShTdHJlYW1DaGF0LCBcIl9pbnN0YW5jZVwiLCB2b2lkIDApO1xuXG52YXIgRVZFTlRfTUFQID0ge1xuICAnY2hhbm5lbC5jcmVhdGVkJzogdHJ1ZSxcbiAgJ2NoYW5uZWwuZGVsZXRlZCc6IHRydWUsXG4gICdjaGFubmVsLmhpZGRlbic6IHRydWUsXG4gICdjaGFubmVsLmtpY2tlZCc6IHRydWUsXG4gICdjaGFubmVsLm11dGVkJzogdHJ1ZSxcbiAgJ2NoYW5uZWwudHJ1bmNhdGVkJzogdHJ1ZSxcbiAgJ2NoYW5uZWwudW5tdXRlZCc6IHRydWUsXG4gICdjaGFubmVsLnVwZGF0ZWQnOiB0cnVlLFxuICAnY2hhbm5lbC52aXNpYmxlJzogdHJ1ZSxcbiAgJ2hlYWx0aC5jaGVjayc6IHRydWUsXG4gICdtZW1iZXIuYWRkZWQnOiB0cnVlLFxuICAnbWVtYmVyLnJlbW92ZWQnOiB0cnVlLFxuICAnbWVtYmVyLnVwZGF0ZWQnOiB0cnVlLFxuICAnbWVzc2FnZS5kZWxldGVkJzogdHJ1ZSxcbiAgJ21lc3NhZ2UubmV3JzogdHJ1ZSxcbiAgJ21lc3NhZ2UucmVhZCc6IHRydWUsXG4gICdtZXNzYWdlLnVwZGF0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLmFkZGVkX3RvX2NoYW5uZWwnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLmNoYW5uZWxfZGVsZXRlZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24uY2hhbm5lbF9tdXRlc191cGRhdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5jaGFubmVsX3RydW5jYXRlZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24uaW52aXRlX2FjY2VwdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5pbnZpdGVfcmVqZWN0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLmludml0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLm1hcmtfcmVhZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24ubWVzc2FnZV9uZXcnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLm11dGVzX3VwZGF0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLnJlbW92ZWRfZnJvbV9jaGFubmVsJzogdHJ1ZSxcbiAgJ3JlYWN0aW9uLmRlbGV0ZWQnOiB0cnVlLFxuICAncmVhY3Rpb24ubmV3JzogdHJ1ZSxcbiAgJ3JlYWN0aW9uLnVwZGF0ZWQnOiB0cnVlLFxuICAndHlwaW5nLnN0YXJ0JzogdHJ1ZSxcbiAgJ3R5cGluZy5zdG9wJzogdHJ1ZSxcbiAgJ3VzZXIuYmFubmVkJzogdHJ1ZSxcbiAgJ3VzZXIuZGVsZXRlZCc6IHRydWUsXG4gICd1c2VyLnByZXNlbmNlLmNoYW5nZWQnOiB0cnVlLFxuICAndXNlci51bmJhbm5lZCc6IHRydWUsXG4gICd1c2VyLnVucmVhZF9tZXNzYWdlX3JlbWluZGVyJzogdHJ1ZSxcbiAgJ3VzZXIudXBkYXRlZCc6IHRydWUsXG4gICd1c2VyLndhdGNoaW5nLnN0YXJ0JzogdHJ1ZSxcbiAgJ3VzZXIud2F0Y2hpbmcuc3RvcCc6IHRydWUsXG4gIC8vIGxvY2FsIGV2ZW50c1xuICAnY2hhbm5lbHMucXVlcmllZCc6IHRydWUsXG4gICdjb25uZWN0aW9uLmNoYW5nZWQnOiB0cnVlLFxuICAnY29ubmVjdGlvbi5yZWNvdmVyZWQnOiB0cnVlLFxuICAndHJhbnNwb3J0LmNoYW5nZWQnOiB0cnVlLFxuICAnY2FwYWJpbGl0aWVzLmNoYW5nZWQnOiB0cnVlXG59O1xuXG52YXIgQWxsb3cgPSAnQWxsb3cnO1xudmFyIERlbnkgPSAnRGVueSc7XG52YXIgQW55UmVzb3VyY2UgPSBbJyonXTtcbnZhciBBbnlSb2xlID0gWycqJ107XG52YXIgTWF4UHJpb3JpdHkgPSA5OTk7XG52YXIgTWluUHJpb3JpdHkgPSAxOyAvLyBkZXByZWNhdGVkIHBlcm1pc3Npb24gb2JqZWN0IGNsYXNzLCB5b3Ugc2hvdWxkIHVzZSB0aGUgbmV3IHBlcm1pc3Npb24gc3lzdGVtIHYyIGFuZCB1c2UgcGVybWlzc2lvbnNcbi8vIGRlZmluZWQgaW4gQnVpbHRpblBlcm1pc3Npb25zIHRvIGNvbmZpZ3VyZSB5b3VyIGNoYW5uZWwgdHlwZXNcblxudmFyIFBlcm1pc3Npb24gPSBmdW5jdGlvbiBQZXJtaXNzaW9uKG5hbWUsIHByaW9yaXR5KSB7XG4gIHZhciByZXNvdXJjZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IEFueVJlc291cmNlO1xuICB2YXIgcm9sZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IEFueVJvbGU7XG4gIHZhciBvd25lciA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogZmFsc2U7XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IEFsbG93O1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZXJtaXNzaW9uKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aW9uXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib3duZXJcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmlvcml0eVwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc291cmNlc1wiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJvbGVzXCIsIHZvaWQgMCk7XG5cbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy5hY3Rpb24gPSBhY3Rpb247XG4gIHRoaXMub3duZXIgPSBvd25lcjtcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICB0aGlzLnJlc291cmNlcyA9IHJlc291cmNlcztcbiAgdGhpcy5yb2xlcyA9IHJvbGVzO1xufTsgLy8gZGVwcmVjYXRlZFxuXG52YXIgQWxsb3dBbGwgPSBuZXcgUGVybWlzc2lvbignQWxsb3cgYWxsJywgTWF4UHJpb3JpdHksIEFueVJlc291cmNlLCBBbnlSb2xlLCBmYWxzZSwgQWxsb3cpOyAvLyBkZXByZWNhdGVkXG5cbnZhciBEZW55QWxsID0gbmV3IFBlcm1pc3Npb24oJ0RlbnkgYWxsJywgTWluUHJpb3JpdHksIEFueVJlc291cmNlLCBBbnlSb2xlLCBmYWxzZSwgRGVueSk7XG52YXIgQnVpbHRpblJvbGVzID0ge1xuICBBZG1pbjogJ2FkbWluJyxcbiAgQW5vbnltb3VzOiAnYW5vbnltb3VzJyxcbiAgQ2hhbm5lbE1lbWJlcjogJ2NoYW5uZWxfbWVtYmVyJyxcbiAgQ2hhbm5lbE1vZGVyYXRvcjogJ2NoYW5uZWxfbW9kZXJhdG9yJyxcbiAgR3Vlc3Q6ICdndWVzdCcsXG4gIFVzZXI6ICd1c2VyJ1xufTtcbnZhciBCdWlsdGluUGVybWlzc2lvbnMgPSB7XG4gIEFkZExpbmtzOiAnQWRkIExpbmtzJyxcbiAgQmFuVXNlcjogJ0JhbiBVc2VyJyxcbiAgQ3JlYXRlQ2hhbm5lbDogJ0NyZWF0ZSBDaGFubmVsJyxcbiAgQ3JlYXRlTWVzc2FnZTogJ0NyZWF0ZSBNZXNzYWdlJyxcbiAgQ3JlYXRlUmVhY3Rpb246ICdDcmVhdGUgUmVhY3Rpb24nLFxuICBEZWxldGVBbnlBdHRhY2htZW50OiAnRGVsZXRlIEFueSBBdHRhY2htZW50JyxcbiAgRGVsZXRlQW55Q2hhbm5lbDogJ0RlbGV0ZSBBbnkgQ2hhbm5lbCcsXG4gIERlbGV0ZUFueU1lc3NhZ2U6ICdEZWxldGUgQW55IE1lc3NhZ2UnLFxuICBEZWxldGVBbnlSZWFjdGlvbjogJ0RlbGV0ZSBBbnkgUmVhY3Rpb24nLFxuICBEZWxldGVPd25BdHRhY2htZW50OiAnRGVsZXRlIE93biBBdHRhY2htZW50JyxcbiAgRGVsZXRlT3duQ2hhbm5lbDogJ0RlbGV0ZSBPd24gQ2hhbm5lbCcsXG4gIERlbGV0ZU93bk1lc3NhZ2U6ICdEZWxldGUgT3duIE1lc3NhZ2UnLFxuICBEZWxldGVPd25SZWFjdGlvbjogJ0RlbGV0ZSBPd24gUmVhY3Rpb24nLFxuICBSZWFkQW55Q2hhbm5lbDogJ1JlYWQgQW55IENoYW5uZWwnLFxuICBSZWFkT3duQ2hhbm5lbDogJ1JlYWQgT3duIENoYW5uZWwnLFxuICBSdW5NZXNzYWdlQWN0aW9uOiAnUnVuIE1lc3NhZ2UgQWN0aW9uJyxcbiAgVXBkYXRlQW55Q2hhbm5lbDogJ1VwZGF0ZSBBbnkgQ2hhbm5lbCcsXG4gIFVwZGF0ZUFueU1lc3NhZ2U6ICdVcGRhdGUgQW55IE1lc3NhZ2UnLFxuICBVcGRhdGVNZW1iZXJzQW55Q2hhbm5lbDogJ1VwZGF0ZSBNZW1iZXJzIEFueSBDaGFubmVsJyxcbiAgVXBkYXRlTWVtYmVyc093bkNoYW5uZWw6ICdVcGRhdGUgTWVtYmVycyBPd24gQ2hhbm5lbCcsXG4gIFVwZGF0ZU93bkNoYW5uZWw6ICdVcGRhdGUgT3duIENoYW5uZWwnLFxuICBVcGRhdGVPd25NZXNzYWdlOiAnVXBkYXRlIE93biBNZXNzYWdlJyxcbiAgVXBsb2FkQXR0YWNobWVudDogJ1VwbG9hZCBBdHRhY2htZW50JyxcbiAgVXNlRnJvemVuQ2hhbm5lbDogJ1NlbmQgbWVzc2FnZXMgYW5kIHJlYWN0aW9ucyB0byBmcm96ZW4gY2hhbm5lbHMnXG59O1xuXG5leHBvcnQgeyBBbGxvdywgQWxsb3dBbGwsIEFueVJlc291cmNlLCBBbnlSb2xlLCBCdWlsdGluUGVybWlzc2lvbnMsIEJ1aWx0aW5Sb2xlcywgQ2hhbm5lbCwgQ2hhbm5lbFN0YXRlLCBDaGVja1NpZ25hdHVyZSwgQ2xpZW50U3RhdGUsIERlbnksIERlbnlBbGwsIERldlRva2VuLCBFVkVOVF9NQVAsIEVycm9yRnJvbVJlc3BvbnNlLCBJbnNpZ2h0TWV0cmljcywgSldUU2VydmVyVG9rZW4sIEpXVFVzZXJUb2tlbiwgTWF4UHJpb3JpdHksIE1pblByaW9yaXR5LCBQZXJtaXNzaW9uLCBTdGFibGVXU0Nvbm5lY3Rpb24sIFN0cmVhbUNoYXQsIFRva2VuTWFuYWdlciwgVXNlckZyb21Ub2tlbiwgYnVpbGRXc0ZhdGFsSW5zaWdodCwgYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0LCBjaGF0Q29kZXMsIGRlY29kZUJhc2U2NCwgZW5jb2RlQmFzZTY0LCBpc093blVzZXIsIGxvZ0NoYXRQcm9taXNlRXhlY3V0aW9uLCBwb3N0SW5zaWdodHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbImZyb21CeXRlQXJyYXkiLCJfZXh0ZW5kcyIsIl90eXBlb2YiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9jbGFzc0NhbGxDaGVjayIsIl9jcmVhdGVDbGFzcyIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJheGlvcyIsImh0dHBzIiwiX3NsaWNlZFRvQXJyYXkiLCJGb3JtRGF0YSIsIldlYlNvY2tldCIsImp3dCIsImNyeXB0byQxIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9pbmhlcml0cyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2dldFByb3RvdHlwZU9mIiwiX3dyYXBOYXRpdmVTdXBlciIsImlzU3RyaW5nJDEiLCJhcnJheU9yU3RyaW5nIiwiaXNNYXBTdHJpbmdDYWxsYmFjayIsImNhbGxiYWNrIiwibWFwIiwicmVzIiwiayIsImxlbiIsImxlbmd0aCIsImNoYXJBdCIsImtWYWx1ZSIsIm1hcHBlZFZhbHVlIiwiX2siLCJfbGVuIiwiX2tWYWx1ZSIsIl9tYXBwZWRWYWx1ZSIsImVuY29kZUJhc2U2NCIsImRhdGEiLCJVaW50OEFycmF5IiwiY2hhciIsImNoYXJDb2RlQXQiLCJkZWNvZGVCYXNlNjQiLCJzIiwiZSIsInciLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJMIiwiaSIsImIiLCJjIiwieCIsImwiLCJhIiwiciIsIkEiLCJvd25LZXlzJDYiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQkNiIsInRhcmdldCIsImFyZ3VtZW50cyIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiQ2hhbm5lbFN0YXRlIiwiY2hhbm5lbCIsIl90aGlzIiwiX2NoYW5uZWwkc3RhdGUiLCJpc1VwVG9EYXRlIiwibXNnQXJyYXkiLCJtc2ciLCJyZXN1bHQiLCJtZXNzYWdlIiwiaWQiLCJyZW1vdmVkIiwidXNlciIsIl91cGRhdGVVc2VyTWVzc2FnZXMiLCJtZXNzYWdlcyIsIl9tJHVzZXIiLCJtIiwibWVzc2FnZVNldHMiLCJzZXQiLCJwYXJlbnRJZCIsInRocmVhZHMiLCJwaW5uZWRNZXNzYWdlcyIsImhhcmREZWxldGUiLCJ1bmRlZmluZWQiLCJfZGVsZXRlVXNlck1lc3NhZ2VzIiwiX20kdXNlcjIiLCJjaWQiLCJjcmVhdGVkX2F0IiwiZGVsZXRlZF9hdCIsImxhdGVzdF9yZWFjdGlvbnMiLCJtZW50aW9uZWRfdXNlcnMiLCJvd25fcmVhY3Rpb25zIiwicGFyZW50X2lkIiwicmVwbHlfY291bnQiLCJzdGF0dXMiLCJ0aHJlYWRfcGFydGljaXBhbnRzIiwidHlwZSIsInVwZGF0ZWRfYXQiLCJfY2hhbm5lbCIsIndhdGNoZXJfY291bnQiLCJ0eXBpbmciLCJyZWFkIiwiaW5pdE1lc3NhZ2VzIiwicGVuZGluZ19tZXNzYWdlcyIsIm11dGVkVXNlcnMiLCJ3YXRjaGVycyIsIm1lbWJlcnMiLCJtZW1iZXJzaGlwIiwidW5yZWFkQ291bnQiLCJsYXN0X21lc3NhZ2VfYXQiLCJzdGF0ZSIsIkRhdGUiLCJnZXQiLCJfdGhpcyRtZXNzYWdlU2V0cyRmaW4iLCJmaW5kIiwiaXNDdXJyZW50IiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJfdGhpcyRtZXNzYWdlU2V0cyRmaW4yIiwiaXNMYXRlc3QiLCJ2YWx1ZSIsImFkZE1lc3NhZ2VTb3J0ZWQiLCJuZXdNZXNzYWdlIiwidGltZXN0YW1wQ2hhbmdlZCIsImFkZElmRG9lc05vdEV4aXN0IiwibWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCIsImFkZE1lc3NhZ2VzU29ydGVkIiwiZm9ybWF0TWVzc2FnZSIsIl9faHRtbCIsImh0bWwiLCJwaW5uZWRfYXQiLCJuZXdNZXNzYWdlcyIsImluaXRpYWxpemluZyIsIl90aGlzJGZpbmRUYXJnZXRNZXNzYSIsImZpbmRUYXJnZXRNZXNzYWdlU2V0IiwibWVzc2FnZXNUb0FkZCIsInRhcmdldE1lc3NhZ2VTZXRJbmRleCIsImlzRnJvbVNoYWRvd0Jhbm5lZFVzZXIiLCJzaGFkb3dlZCIsImlzTWVzc2FnZUZvcm1hdHRlZCIsIl90aGlzJF9jaGFubmVsIiwiZ2V0Q2xpZW50IiwidXBkYXRlVXNlclJlZmVyZW5jZSIsImdldFRpbWUiLCJwYXJlbnRJRCIsInNob3dfaW5fY2hhbm5lbCIsIl9hZGRUb01lc3NhZ2VMaXN0IiwidGhyZWFkIiwidGhyZWFkTWVzc2FnZXMiLCJtZXNzYWdlU2V0IiwiYWRkUGlubmVkTWVzc2FnZXMiLCJhZGRQaW5uZWRNZXNzYWdlIiwicGlubmVkTWVzc2FnZSIsInJlbW92ZVBpbm5lZE1lc3NhZ2UiLCJfdGhpcyRyZW1vdmVNZXNzYWdlRnIiLCJyZW1vdmVNZXNzYWdlRnJvbUFycmF5IiwiYWRkUmVhY3Rpb24iLCJyZWFjdGlvbiIsImVuZm9yY2VfdW5pcXVlIiwiX3RoaXMyIiwibWVzc2FnZVdpdGhSZWFjdGlvbiIsIl91cGRhdGVNZXNzYWdlIiwiX2FkZE93blJlYWN0aW9uVG9NZXNzYWdlIiwib3duUmVhY3Rpb25zIiwiX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2UiLCJ1c2VySUQiLCJ1c2VyX2lkIiwiaXRlbSIsInJlbW92ZVJlYWN0aW9uIiwiX3RoaXMzIiwicmVtb3ZlUXVvdGVkTWVzc2FnZVJlZmVyZW5jZXMiLCJfdGhpczQiLCJwYXJzZU1lc3NhZ2UiLCJfbSRwaW5uZWRfYXQiLCJfbSR1cGRhdGVkX2F0IiwidG9JU09TdHJpbmciLCJ1cGRhdGVkTWVzc2FnZXMiLCJxdW90ZWRfbWVzc2FnZV9pZCIsInF1b3RlZF9tZXNzYWdlIiwiYXR0YWNobWVudHMiLCJ1cGRhdGVGdW5jIiwicGlubmVkIiwibXNnSW5kZXgiLCJtZXNzYWdlU2V0SW5kZXgiLCJmaW5kTWVzc2FnZVNldEluZGV4IiwiX21zZ0luZGV4IiwiX21zZ0luZGV4MiIsInNvcnRCeSIsImFkZE1lc3NhZ2VUb0xpc3QiLCJtZXNzYWdlQXJyIiwibWVzc2FnZUFycmF5TGVuZ3RoIiwiY29uY2F0IiwibWVzc2FnZVRpbWUiLCJtZXNzYWdlSXNOZXdlc3QiLCJsZWZ0IiwibWlkZGxlIiwicmlnaHQiLCJNYXRoIiwiZmxvb3IiLCJzcGxpY2UiLCJyZW1vdmVNZXNzYWdlIiwibWVzc2FnZVRvUmVtb3ZlIiwiaXNSZW1vdmVkIiwiX3RoaXMkcmVtb3ZlTWVzc2FnZUZyMiIsIl9tZXNzYWdlVG9SZW1vdmUkbWVzcyIsIl90aGlzJHJlbW92ZU1lc3NhZ2VGcjMiLCJfcmVtb3ZlZCIsImZpbHRlckVycm9yTWVzc2FnZXMiLCJmaWx0ZXJlZE1lc3NhZ2VzIiwibGF0ZXN0TWVzc2FnZXMiLCJjbGVhbiIsIm5vdyIsIl9pIiwiX09iamVjdCRlbnRyaWVzIiwiZW50cmllcyIsIl9PYmplY3QkZW50cmllcyRfaSIsImxhc3RFdmVudCIsInJlY2VpdmVkQXQiLCJyZWNlaXZlZF9hdCIsImRpc3BhdGNoRXZlbnQiLCJjbGVhck1lc3NhZ2VzIiwiX2xvYWRNZXNzYWdlSW50b1N0YXRlIiwibWFyayIsIl9jYWxsZWUiLCJtZXNzYWdlSWQiLCJwYXJlbnRNZXNzYWdlSWQiLCJfdGhpcyR0aHJlYWRzJHBhcmVudE0iLCJsaW1pdCIsInN3aXRjaGVkVG9NZXNzYWdlU2V0IiwibG9hZGVkTWVzc2FnZVRocmVhZCIsIm1lc3NhZ2VJZFRvRmluZCIsIl9hcmdzIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImFicnVwdCIsInN3aXRjaFRvTWVzc2FnZVNldCIsInF1ZXJ5IiwiaWRfYXJvdW5kIiwiZ2V0UmVwbGllcyIsInN0b3AiLCJsb2FkTWVzc2FnZUludG9TdGF0ZSIsIl94IiwiX3gyIiwiZmluZE1lc3NhZ2UiLCJjdXJyZW50TWVzc2FnZXMiLCJhcmVNZXNzYWdlU2V0c092ZXJsYXAiLCJtZXNzYWdlczEiLCJtZXNzYWdlczIiLCJzb21lIiwibTEiLCJtMiIsIl90aGlzNSIsIm92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXMiLCJfIiwibWVyZ2VUYXJnZXRNZXNzYWdlU2V0SW5kZXgiLCJtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzIiwic291cmNlcyIsImluZGV4T2YiLCJvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRleCIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDMiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDMiLCJGIiwibiIsImRvbmUiLCJfZSIsInRvU3RyaW5nIiwiZiIsIlR5cGVFcnJvciIsIm5vcm1hbENvbXBsZXRpb24iLCJkaWRFcnIiLCJlcnIiLCJjYWxsIiwic3RlcCIsIl9lMiIsInJldHVybiIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5JDMiLCJwcm90b3R5cGUiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiYXJyIiwiYXJyMiIsImxvZ0NoYXRQcm9taXNlRXhlY3V0aW9uIiwicHJvbWlzZSIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJzbGVlcCIsIlByb21pc2UiLCJzZXRUaW1lb3V0IiwiaXNGdW5jdGlvbiIsIkZ1bmN0aW9uIiwiY2hhdENvZGVzIiwiVE9LRU5fRVhQSVJFRCIsIldTX0NMT1NFRF9TVUNDRVNTIiwiaXNSZWFkYWJsZVN0cmVhbSIsIm9iaiIsInJlYWRhYmxlIiwiX3JlYWQiLCJpc0J1ZmZlciIsImlzRmlsZVdlYkFQSSIsInVyaSIsIndpbmRvdyIsIkZpbGUiLCJpc093blVzZXIiLCJ0b3RhbF91bnJlYWRfY291bnQiLCJpc0Jsb2JXZWJBUEkiLCJCbG9iIiwiaXNPd25Vc2VyQmFzZVByb3BlcnR5IiwicHJvcGVydHkiLCJvd25Vc2VyQmFzZVByb3BlcnRpZXMiLCJjaGFubmVsX211dGVzIiwiZGV2aWNlcyIsIm11dGVzIiwidW5yZWFkX2NoYW5uZWxzIiwidW5yZWFkX2NvdW50IiwiaW52aXNpYmxlIiwicm9sZXMiLCJhZGRGaWxlVG9Gb3JtRGF0YSIsImNvbnRlbnRUeXBlIiwiYXBwZW5kIiwic3BsaXQiLCJyZXZlcnNlIiwibm9ybWFsaXplUXVlcnlTb3J0Iiwic29ydCIsInNvcnRGaWVsZHMiLCJzb3J0QXJyIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJfZW50cmllcyIsIl9lbnRyaWVzJF9pIiwiZmllbGQiLCJkaXJlY3Rpb24iLCJyZXRyeUludGVydmFsIiwibnVtYmVyT2ZGYWlsdXJlcyIsIm1heCIsIm1pbiIsInJhbmRvbSIsInJhbmRvbUlkIiwiZ2VuZXJhdGVVVUlEdjQiLCJoZXgiLCJieXRlcyIsInBhZFN0YXJ0IiwiZ2V0UmFuZG9tQnl0ZXMiLCJzdWJhcnJheSIsImdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tIiwicG93IiwiYnl0ZUxlbmd0aCIsImdldFJhbmRvbVZhbHVlcyIsIl9jcnlwdG8iLCJjcnlwdG8iLCJiaW5kIiwibXNDcnlwdG8iLCJjb252ZXJ0RXJyb3JUb0pzb24iLCJqc29uT2JqIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImlzT25saW5lIiwibmF2IiwibmF2aWdhdG9yIiwib25MaW5lIiwiYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwiY2IiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImF4aW9zUGFyYW1zU2VyaWFsaXplciIsInBhcmFtcyIsIm5ld1BhcmFtcyIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJqb2luIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMiIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyIiwiX2FycmF5TGlrZVRvQXJyYXkkMiIsIm93bktleXMkNSIsIl9vYmplY3RTcHJlYWQkNSIsIkNoYW5uZWwiLCJjbGllbnQiLCJfcmVmIiwib3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwid2F0Y2giLCJwcmVzZW5jZSIsInNlbnQiLCJldmVudCIsImxpc3RlbmVycyIsImFsbCIsIl9saXN0ZW5lcnMiLCJsaXN0ZW5lciIsIkVycm9yIiwiYmFzZVVSTCIsInZhbGlkVHlwZVJlIiwidmFsaWRJRFJlIiwiX2NsaWVudCIsIl9kYXRhIiwiaW5pdGlhbGl6ZWQiLCJvZmZsaW5lTW9kZSIsImxhc3RUeXBpbmdFdmVudCIsImlzVHlwaW5nIiwiZGlzY29ubmVjdGVkIiwiZ2V0Q29uZmlnIiwiY29uZmlncyIsIl9zZW5kTWVzc2FnZSIsIl9jYWxsZWUyIiwic2VuZE1lc3NhZ2VSZXNwb25zZSIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInBvc3QiLCJfY2hhbm5lbFVSTCIsInNlbmRNZXNzYWdlIiwiX3gzIiwic2VuZEZpbGUiLCJzZW5kSW1hZ2UiLCJkZWxldGVGaWxlIiwidXJsIiwiZGVsZXRlIiwiZGVsZXRlSW1hZ2UiLCJfc2VuZEV2ZW50IiwiX2NhbGxlZTMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJfY2hlY2tJbml0aWFsaXplZCIsInNlbmRFdmVudCIsIl94NCIsIl9zZWFyY2giLCJfY2FsbGVlNCIsInBheWxvYWQiLCJfYXJnczQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJvZmZzZXQiLCJmaWx0ZXJfY29uZGl0aW9ucyIsIm1lc3NhZ2VfZmlsdGVyX2NvbmRpdGlvbnMiLCJ3c1Byb21pc2UiLCJzZWFyY2giLCJfeDUiLCJfcXVlcnlNZW1iZXJzIiwiX2NhbGxlZTUiLCJmaWx0ZXJDb25kaXRpb25zIiwiX3RoaXMkZGF0YSIsIl9hcmdzNSIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsInF1ZXJ5TWVtYmVycyIsIl94NiIsIl9zZW5kUmVhY3Rpb24iLCJfY2FsbGVlNiIsIm1lc3NhZ2VJRCIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsInNlbmRSZWFjdGlvbiIsIl94NyIsIl94OCIsIl94OSIsImRlbGV0ZVJlYWN0aW9uIiwicmVhY3Rpb25UeXBlIiwiX3VwZGF0ZTIiLCJfY2FsbGVlNyIsImNoYW5uZWxEYXRhIiwidXBkYXRlTWVzc2FnZSIsInJlc2VydmVkIiwiX2FyZ3M3IiwiX2NhbGxlZTckIiwiX2NvbnRleHQ3IiwiX3VwZGF0ZSIsInVwZGF0ZSIsIl91cGRhdGVQYXJ0aWFsIiwiX2NhbGxlZTgiLCJfY2FsbGVlOCQiLCJfY29udGV4dDgiLCJwYXRjaCIsInVwZGF0ZVBhcnRpYWwiLCJfeDEwIiwiX2VuYWJsZVNsb3dNb2RlIiwiX2NhbGxlZTkiLCJjb29sRG93bkludGVydmFsIiwiX2NhbGxlZTkkIiwiX2NvbnRleHQ5IiwiY29vbGRvd24iLCJlbmFibGVTbG93TW9kZSIsIl94MTEiLCJfZGlzYWJsZVNsb3dNb2RlIiwiX2NhbGxlZTEwIiwiX2NhbGxlZTEwJCIsIl9jb250ZXh0MTAiLCJkaXNhYmxlU2xvd01vZGUiLCJfZGVsZXRlMiIsIl9jYWxsZWUxMSIsIl9hcmdzMTEiLCJfY2FsbGVlMTEkIiwiX2NvbnRleHQxMSIsIl9kZWxldGUiLCJfdHJ1bmNhdGUiLCJfY2FsbGVlMTIiLCJfYXJnczEyIiwiX2NhbGxlZTEyJCIsIl9jb250ZXh0MTIiLCJ0cnVuY2F0ZSIsIl9hY2NlcHRJbnZpdGUiLCJfY2FsbGVlMTMiLCJfYXJnczEzIiwiX2NhbGxlZTEzJCIsIl9jb250ZXh0MTMiLCJhY2NlcHRfaW52aXRlIiwiYWNjZXB0SW52aXRlIiwiX3JlamVjdEludml0ZSIsIl9jYWxsZWUxNCIsIl9hcmdzMTQiLCJfY2FsbGVlMTQkIiwiX2NvbnRleHQxNCIsInJlamVjdF9pbnZpdGUiLCJyZWplY3RJbnZpdGUiLCJfYWRkTWVtYmVycyIsIl9jYWxsZWUxNSIsIl9hcmdzMTUiLCJfY2FsbGVlMTUkIiwiX2NvbnRleHQxNSIsImFkZF9tZW1iZXJzIiwiYWRkTWVtYmVycyIsIl94MTIiLCJfeDEzIiwiX2FkZE1vZGVyYXRvcnMiLCJfY2FsbGVlMTYiLCJfYXJnczE2IiwiX2NhbGxlZTE2JCIsIl9jb250ZXh0MTYiLCJhZGRfbW9kZXJhdG9ycyIsImFkZE1vZGVyYXRvcnMiLCJfeDE0IiwiX3gxNSIsIl9hc3NpZ25Sb2xlcyIsIl9jYWxsZWUxNyIsIl9hcmdzMTciLCJfY2FsbGVlMTckIiwiX2NvbnRleHQxNyIsImFzc2lnbl9yb2xlcyIsImFzc2lnblJvbGVzIiwiX3gxNiIsIl94MTciLCJfaW52aXRlTWVtYmVycyIsIl9jYWxsZWUxOCIsIl9hcmdzMTgiLCJfY2FsbGVlMTgkIiwiX2NvbnRleHQxOCIsImludml0ZXMiLCJpbnZpdGVNZW1iZXJzIiwiX3gxOCIsIl94MTkiLCJfcmVtb3ZlTWVtYmVycyIsIl9jYWxsZWUxOSIsIl9hcmdzMTkiLCJfY2FsbGVlMTkkIiwiX2NvbnRleHQxOSIsInJlbW92ZV9tZW1iZXJzIiwicmVtb3ZlTWVtYmVycyIsIl94MjAiLCJfeDIxIiwiX2RlbW90ZU1vZGVyYXRvcnMiLCJfY2FsbGVlMjAiLCJfYXJnczIwIiwiX2NhbGxlZTIwJCIsIl9jb250ZXh0MjAiLCJkZW1vdGVfbW9kZXJhdG9ycyIsImRlbW90ZU1vZGVyYXRvcnMiLCJfeDIyIiwiX3gyMyIsIl91cGRhdGUzIiwiX2NhbGxlZTIxIiwiX2NhbGxlZTIxJCIsIl9jb250ZXh0MjEiLCJfeDI0IiwiX211dGUiLCJfY2FsbGVlMjIiLCJvcHRzIiwiX2FyZ3MyMiIsIl9jYWxsZWUyMiQiLCJfY29udGV4dDIyIiwiY2hhbm5lbF9jaWQiLCJtdXRlIiwiX3VubXV0ZSIsIl9jYWxsZWUyMyIsIl9hcmdzMjMiLCJfY2FsbGVlMjMkIiwiX2NvbnRleHQyMyIsInVubXV0ZSIsIm11dGVTdGF0dXMiLCJfbXV0ZVN0YXR1cyIsInNlbmRBY3Rpb24iLCJmb3JtRGF0YSIsIm1lc3NhZ2VfaWQiLCJmb3JtX2RhdGEiLCJfa2V5c3Ryb2tlIiwiX2NhbGxlZTI0IiwiX3RoaXMkZ2V0Q29uZmlnIiwiZGlmZiIsIl9jYWxsZWUyNCQiLCJfY29udGV4dDI0IiwidHlwaW5nX2V2ZW50cyIsImxhc3RLZXlTdHJva2UiLCJrZXlzdHJva2UiLCJfeDI1IiwiX3N0b3BUeXBpbmciLCJfY2FsbGVlMjUiLCJfdGhpcyRnZXRDb25maWcyIiwiX2NhbGxlZTI1JCIsIl9jb250ZXh0MjUiLCJzdG9wVHlwaW5nIiwiX3gyNiIsImxhc3RNZXNzYWdlIiwibWVzc2FnZVNsaWNlIiwiX21hcmtSZWFkIiwiX2NhbGxlZTI2IiwiX3RoaXMkZ2V0Q29uZmlnMyIsIl9hcmdzMjYiLCJfY2FsbGVlMjYkIiwiX2NvbnRleHQyNiIsInJlYWRfZXZlbnRzIiwicmVzb2x2ZSIsIm1hcmtSZWFkIiwiX21hcmtVbnJlYWQiLCJfY2FsbGVlMjciLCJfdGhpcyRnZXRDb25maWc0IiwiX2NhbGxlZTI3JCIsIl9jb250ZXh0MjciLCJtYXJrVW5yZWFkIiwiX3gyNyIsIl93YXRjaCIsIl9jYWxsZWUyOCIsImNvbWJpbmVkIiwiX2NhbGxlZTI4JCIsIl9jb250ZXh0MjgiLCJfaGFzQ29ubmVjdGlvbklEIiwibG9nZ2VyIiwidGFncyIsIl94MjgiLCJfc3RvcFdhdGNoaW5nIiwiX2NhbGxlZTI5IiwicmVzcG9uc2UiLCJfY2FsbGVlMjkkIiwiX2NvbnRleHQyOSIsInN0b3BXYXRjaGluZyIsIl9nZXRSZXBsaWVzIiwiX2NhbGxlZTMwIiwiX2NhbGxlZTMwJCIsIl9jb250ZXh0MzAiLCJfeDI5IiwiX3gzMCIsIl9nZXRQaW5uZWRNZXNzYWdlcyIsIl9jYWxsZWUzMSIsIl9hcmdzMzEiLCJfY2FsbGVlMzEkIiwiX2NvbnRleHQzMSIsImdldFBpbm5lZE1lc3NhZ2VzIiwiX3gzMSIsImdldFJlYWN0aW9ucyIsImdldE1lc3NhZ2VzQnlJZCIsIm1lc3NhZ2VJZHMiLCJpZHMiLCJsYXN0UmVhZCIsIl90aGlzJGdldENsaWVudCIsImxhc3RfcmVhZCIsIl9jb3VudE1lc3NhZ2VBc1VucmVhZCIsIl9tZXNzYWdlJHVzZXIiLCJfbWVzc2FnZSR1c2VyMiIsIl90aGlzJGRhdGEyIiwiX3RoaXMkZGF0YTMiLCJzaWxlbnQiLCJ1c2VyTXV0ZVN0YXR1cyIsIm93bl9jYXBhYmlsaXRpZXMiLCJpbmNsdWRlcyIsIm11dGVkIiwiY291bnRVbnJlYWQiLCJjb3VudCIsImNvdW50VW5yZWFkTWVudGlvbnMiLCJfbWVzc2FnZSRtZW50aW9uZWRfdXMiLCJfcXVlcnkiLCJfY2FsbGVlMzIiLCJfdGhpcyRkYXRhNCIsIl90aGlzJGRhdGE1IiwicXVlcnlVUkwiLCJtZW1iZXJzU3RyIiwidGVtcENoYW5uZWxDaWQiLCJfdGhpcyRfaW5pdGlhbGl6ZVN0YXQiLCJhcmVDYXBhYmlsaXRpZXNDaGFuZ2VkIiwiX2FyZ3MzMiIsIl9jYWxsZWUzMiQiLCJfY29udGV4dDMyIiwibWVtYmVyIiwiX21lbWJlciR1c2VyIiwiYWN0aXZlQ2hhbm5lbHMiLCJfYWRkQ2hhbm5lbENvbmZpZyIsIl9pbml0aWFsaXplU3RhdGUiLCJxdWVyaWVkQ2hhbm5lbHMiLCJjaGFubmVscyIsImlzTGF0ZXN0TWVzc2FnZVNldCIsIl94MzIiLCJfYmFuVXNlciIsIl9jYWxsZWUzMyIsInRhcmdldFVzZXJJRCIsIl9jYWxsZWUzMyQiLCJfY29udGV4dDMzIiwiYmFuVXNlciIsIl94MzMiLCJfeDM0IiwiX2hpZGUiLCJfY2FsbGVlMzQiLCJ1c2VySWQiLCJjbGVhckhpc3RvcnkiLCJfYXJnczM0IiwiX2NhbGxlZTM0JCIsIl9jb250ZXh0MzQiLCJjbGVhcl9oaXN0b3J5IiwiaGlkZSIsIl9zaG93IiwiX2NhbGxlZTM1IiwiX2FyZ3MzNSIsIl9jYWxsZWUzNSQiLCJfY29udGV4dDM1Iiwic2hvdyIsIl91bmJhblVzZXIiLCJfY2FsbGVlMzYiLCJfY2FsbGVlMzYkIiwiX2NvbnRleHQzNiIsInVuYmFuVXNlciIsIl94MzUiLCJfc2hhZG93QmFuIiwiX2NhbGxlZTM3IiwiX2NhbGxlZTM3JCIsIl9jb250ZXh0MzciLCJzaGFkb3dCYW4iLCJfeDM2IiwiX3gzNyIsIl9yZW1vdmVTaGFkb3dCYW4iLCJfY2FsbGVlMzgiLCJfY2FsbGVlMzgkIiwiX2NvbnRleHQzOCIsInJlbW92ZVNoYWRvd0JhbiIsIl94MzgiLCJfY3JlYXRlQ2FsbCIsIl9jYWxsZWUzOSIsIl9jYWxsZWUzOSQiLCJfY29udGV4dDM5IiwiY3JlYXRlQ2FsbCIsIl94MzkiLCJvbiIsImNhbGxiYWNrT3JTdHJpbmciLCJjYWxsYmFja09yTm90aGluZyIsInVuc3Vic2NyaWJlIiwiZWwiLCJvZmYiLCJfaGFuZGxlQ2hhbm5lbEV2ZW50IiwiX2V2ZW50JHVzZXIiLCJfZXZlbnQkdXNlcjIiLCJfZXZlbnQkdXNlcjMiLCJfZXZlbnQkdXNlcjUiLCJfZXZlbnQkdXNlcjYiLCJfZXZlbnQkY2hhbm5lbCIsIl9ldmVudCRtZW1iZXIiLCJfZXZlbnQkdXNlcjkiLCJfZXZlbnQkdXNlcjEwIiwiX2NoYW5uZWxTdGF0ZSRtZW1iZXJzIiwiX2V2ZW50JHVzZXIxMSIsIl9jaGFubmVsU3RhdGUkbWVtYmVyczIiLCJjaGFubmVsU3RhdGUiLCJfZXZlbnQkdXNlcjQiLCJfdGhpcyRnZXRDbGllbnQkdXNlciIsImxhc3RfcmVhZF9tZXNzYWdlX2lkIiwidW5yZWFkX21lc3NhZ2VzIiwiX2V4dGVuZEV2ZW50V2l0aE93blJlYWN0aW9ucyIsImhhcmRfZGVsZXRlIiwiX2V2ZW50JHVzZXI3IiwiX3RoaXMkZ2V0Q2xpZW50JHVzZXIyIiwiX2V2ZW50JHVzZXI4Iiwib3duTWVzc2FnZSIsImlzVGhyZWFkTWVzc2FnZSIsInRydW5jYXRlZF9hdCIsInRydW5jYXRlZEF0IiwiX3JlZjIiLCJjcmVhdGVkQXQiLCJfcmVmMyIsIl9ldmVudCRjaGFubmVsMiIsIl9jaGFubmVsJGRhdGEiLCJfZXZlbnQkY2hhbm5lbCRoaWRkZW4iLCJfZXZlbnQkY2hhbm5lbDMiLCJfY2hhbm5lbCRkYXRhMiIsIl9ldmVudCRjaGFubmVsJG93bl9jYSIsIl9ldmVudCRjaGFubmVsNCIsIl9jaGFubmVsJGRhdGEzIiwiaXNGcm96ZW5DaGFuZ2VkIiwiZnJvemVuIiwiaGlkZGVuIiwic2hhZG93X2Jhbm5lZCIsInNoYWRvdyIsImJhbm5lZCIsIl9pc1VzaW5nU2VydmVyQXV0aCIsIl90aGlzJGdldENsaWVudDIiLCJjbGllbnRTdGF0ZSIsIl90aGlzJHN0YXRlJGFkZE1lc3NhZyIsInBpbm5lZF9tZXNzYWdlcyIsIl9pdGVyYXRvcjIiLCJfc3RlcDIiLCJ3YXRjaGVyIiwiX2l0ZXJhdG9yMyIsIl9zdGVwMyIsIl9yZWFkJHVucmVhZF9tZXNzYWdlcyIsInJlZHVjZSIsImFjYyIsIl9kaXNjb25uZWN0Iiwic2V0SXNVcFRvRGF0ZSIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMSIsIl9hcnJheUxpa2VUb0FycmF5JDEiLCJDbGllbnRTdGF0ZSIsInVzZXJzIiwidXNlckNoYW5uZWxSZWZlcmVuY2VzIiwidXBkYXRlVXNlcnMiLCJ1cGRhdGVVc2VyIiwiY2hhbm5lbElEIiwiZGVsZXRlQWxsQ2hhbm5lbFJlZmVyZW5jZSIsIm93bktleXMkNCIsIl9vYmplY3RTcHJlYWQkNCIsIkluc2lnaHRNZXRyaWNzIiwiY29ubmVjdGlvblN0YXJ0VGltZXN0YW1wIiwid3NUb3RhbEZhaWx1cmVzIiwid3NDb25zZWN1dGl2ZUZhaWx1cmVzIiwiaW5zdGFuY2VDbGllbnRJZCIsInBvc3RJbnNpZ2h0cyIsImluc2lnaHRUeXBlIiwiaW5zaWdodHMiLCJtYXhBdHRlbXB0cyIsInQwIiwiYnVpbGRXc0ZhdGFsSW5zaWdodCIsImNvbm5lY3Rpb24iLCJidWlsZFdzQmFzZUluc2lnaHQiLCJfY29ubmVjdGlvbiR3cyIsIl9uYXZpZ2F0b3IiLCJfbmF2aWdhdG9yMiIsInJlYWR5X3N0YXRlIiwid3MiLCJyZWFkeVN0YXRlIiwiX2J1aWxkVXJsIiwiYXBpX2tleSIsInN0YXJ0X3RzIiwiaW5zaWdodE1ldHJpY3MiLCJlbmRfdHMiLCJhdXRoX3R5cGUiLCJnZXRBdXRoVHlwZSIsInRva2VuIiwidG9rZW5NYW5hZ2VyIiwidXNlcl9kZXRhaWxzIiwiX3VzZXIiLCJkZXZpY2UiLCJjbGllbnRfaWQiLCJjb25uZWN0aW9uSUQiLCJ3c19kZXRhaWxzIiwid3NfY29uc2VjdXRpdmVfZmFpbHVyZXMiLCJ3c190b3RhbF9mYWlsdXJlcyIsInJlcXVlc3RfaWQiLCJyZXF1ZXN0SUQiLCJvbmxpbmUiLCJ1c2VyX2FnZW50IiwidXNlckFnZW50IiwiaW5zdGFuY2VfY2xpZW50X2lkIiwiYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0Iiwib3duS2V5cyQzIiwiX29iamVjdFNwcmVhZCQzIiwiaXNDbG9zZUV2ZW50IiwiY29kZSIsImlzRXJyb3JFdmVudCIsIlN0YWJsZVdTQ29ubmVjdGlvbiIsInFzIiwiX2J1aWxkV1NQYXlsb2FkIiwiZ2V0VG9rZW4iLCJ3c0Jhc2VVUkwiLCJnZXRVc2VyQWdlbnQiLCJfbG9nIiwiX3NldEhlYWx0aCIsImlzSGVhbHRoeSIsIl9yZWNvbm5lY3QiLCJpbnRlcnZhbCIsIndzSUQiLCJwYXJzZSIsImlzUmVzb2x2ZWQiLCJfdGhpcyRyZXNvbHZlUHJvbWlzZSIsIl90aGlzJHJlamVjdFByb21pc2UiLCJyZWplY3RQcm9taXNlIiwiX2Vycm9yRnJvbVdTRXZlbnQiLCJyZXNvbHZlUHJvbWlzZSIsInNjaGVkdWxlTmV4dFBpbmciLCJoYW5kbGVFdmVudCIsInNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrIiwiX3RoaXMkcmVqZWN0UHJvbWlzZTIiLCJyZWFzb24iLCJ3YXNDbGVhbiIsIl90aGlzJHJlamVjdFByb21pc2UzIiwiY29uc2VjdXRpdmVGYWlsdXJlcyIsInRvdGFsRmFpbHVyZXMiLCJpc0Nvbm5lY3RpbmciLCJfdGhpcyRyZWplY3RQcm9taXNlNCIsImhlYWx0aHkiLCJpc1dTRmFpbHVyZSIsInN0YXR1c0NvZGUiLCJTdGF0dXNDb2RlIiwiY29ubmVjdGlvbk9wZW4iLCJyZWplY3QiLCJoZWFsdGhDaGVja1RpbWVvdXRSZWYiLCJjbGVhclRpbWVvdXQiLCJjbGllbnRJRCIsIl90aGlzJHdzIiwic2VuZCIsInBpbmdJbnRlcnZhbCIsImNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYiLCJjb25uZWN0aW9uQ2hlY2tUaW1lb3V0IiwiaXNEaXNjb25uZWN0ZWQiLCJvbmxpbmVTdGF0dXNDaGFuZ2VkIiwiZXh0cmEiLCJsZXZlbCIsInNldENsaWVudCIsIl9jb25uZWN0MiIsInRpbWVvdXQiLCJoZWFsdGhDaGVjayIsIl9jb25uZWN0IiwiaXNTdGF0aWMiLCJyZWZyZXNoVG9rZW4iLCJfd2FpdEZvckhlYWx0aHkiLCJjb25uZWN0IiwiX3dhaXRGb3JIZWFsdGh5MiIsInJhY2UiLCJkaXNjb25uZWN0IiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZUFsbExpc3RlbmVycyIsImlzQ2xvc2VkUHJvbWlzZSIsImNsb3NlIiwiT1BFTiIsIm9uY2xvc2UiLCJfY29ubmVjdDMiLCJpc1Rva2VuUmVhZHkiLCJ3c1VSTCIsImVuYWJsZVdTRmFsbGJhY2siLCJ0b2tlblJlYWR5IiwibG9hZFRva2VuIiwiX3NldHVwQ29ubmVjdGlvblByb21pc2UiLCJvbm9wZW4iLCJvbmVycm9yIiwib25tZXNzYWdlIiwiY29ubmVjdGlvbl9pZCIsImVuYWJsZUluc2lnaHRzIiwidDEiLCJfcmVjb25uZWN0MiIsIl9hcmdzNiIsIl9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbiIsInJlY292ZXJTdGF0ZSIsIl90aGlzJHdzMiIsIl90aGlzJHdzMyIsIm93bktleXMkMiIsIl9vYmplY3RTcHJlYWQkMiIsIkpXVFVzZXJUb2tlbiIsImFwaVNlY3JldCIsImV4dHJhRGF0YSIsImp3dE9wdGlvbnMiLCJzaWduIiwiYWxnb3JpdGhtIiwibm9UaW1lc3RhbXAiLCJpYXQiLCJKV1RTZXJ2ZXJUb2tlbiIsInNlcnZlciIsIlVzZXJGcm9tVG9rZW4iLCJmcmFnbWVudHMiLCJiNjRQYXlsb2FkIiwiRGV2VG9rZW4iLCJDaGVja1NpZ25hdHVyZSIsImJvZHkiLCJzZWNyZXQiLCJzaWduYXR1cmUiLCJCdWZmZXIiLCJoYXNoIiwiY3JlYXRlSG1hYyIsImRpZ2VzdCIsInRpbWluZ1NhZmVFcXVhbCIsIl91bnVzZWQiLCJUb2tlbk1hbmFnZXIiLCJ0b2tlbk9yUHJvdmlkZXIiLCJ2YWxpZGF0ZVRva2VuIiwidG9rZW5Qcm92aWRlciIsImxvYWRUb2tlblByb21pc2UiLCJhbm9uIiwidG9rZW5Vc2VySWQiLCJBUElFcnJvckNvZGVzIiwicmV0cnlhYmxlIiwiaXNBUElFcnJvciIsImlzRXJyb3JSZXRyeWFibGUiLCJpc0Nvbm5lY3Rpb25JREVycm9yIiwiaXNFcnJvclJlc3BvbnNlIiwib3duS2V5cyQxIiwiX29iamVjdFNwcmVhZCQxIiwiQ29ubmVjdGlvblN0YXRlIiwiV1NDb25uZWN0aW9uRmFsbGJhY2siLCJfdGhpcyRjYW5jZWxUb2tlbiIsIl9zZXRTdGF0ZSIsIkNsb3NlZCIsImNhbmNlbFRva2VuIiwiY2FuY2VsIiwiY29uZmlnIiwicmV0cnkiLCJfdGhpcyRjYW5jZWxUb2tlbjIiLCJDYW5jZWxUb2tlbiIsImRvQXhpb3NSZXF1ZXN0IiwicmVwbGFjZSIsIl9yZXEiLCJfZGF0YSRldmVudHMiLCJDb25uZWN0ZWQiLCJldmVudHMiLCJpc0NhbmNlbCIsIkRpc2Nvbm5lY3RlZCIsInJlY29ubmVjdCIsIl95aWVsZCRfdGhpcyRfcmVxIiwiX2FyZ3MzIiwiQ29ubmVjdGluZyIsImpzb24iLCJfcG9sbCIsIl90aGlzJGNhbmNlbFRva2VuMyIsIl9vbmxpbmVTdGF0dXNDaGFuZ2VkIiwiSW5pdCIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJOZXdUYXJnZXQiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInZhbHVlT2YiLCJFcnJvckZyb21SZXNwb25zZSIsIl9FcnJvciIsIl9zdXBlciIsImFyZ3MiLCJfa2V5IiwiX2V4Y2x1ZGVkIiwiX2V4Y2x1ZGVkMiIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJvd25LZXlzIiwiX29iamVjdFNwcmVhZCIsImlzU3RyaW5nIiwiU3RyZWFtQ2hhdCIsInNlY3JldE9yT3B0aW9ucyIsIl9vcHRpb25zIiwiX3RoaXMkb3B0aW9ucyIsIl90aGlzJHdzQ29ubmVjdGlvbiIsIl90aGlzJHdzRmFsbGJhY2siLCJ3c0Nvbm5lY3Rpb24iLCJ3c0ZhbGxiYWNrIiwiX2dldENvbm5lY3Rpb25JRCIsInVzZXJUb2tlbk9yUHJvdmlkZXIiLCJzZXRUb2tlblByb21pc2UiLCJzZXRVc2VyUHJvbWlzZSIsIm5vZGUiLCJhbGxvd1NlcnZlclNpZGVDb25uZWN0IiwiYW5vbnltb3VzIiwiX3NldFRva2VuIiwiX3NldFVzZXIiLCJvcGVuQ29ubmVjdGlvbiIsInBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSIsImNsb3NlQ29ubmVjdGlvbiIsImRpc2Nvbm5lY3RVc2VyIiwiY29ubmVjdFVzZXIiLCJzZXRUb2tlbk9yUHJvdmlkZXIiLCJfdGhpcyR3c0Nvbm5lY3Rpb24yIiwiX3RoaXMkd3NGYWxsYmFjazIiLCJjbGVhbmluZ0ludGVydmFsUmVmIiwiX3RoaXMkd3NDb25uZWN0aW9uMyIsIl90aGlzJHdzQ29ubmVjdGlvbjQiLCJfdGhpcyR3c0ZhbGxiYWNrMyIsIl9zdGFydENsZWFuaW5nIiwiYmVmb3JlIiwiX3JlZjQiLCJjbG9zZVByb21pc2UiLCJfT2JqZWN0JHZhbHVlcyIsInZhbHVlcyIsInJlc2V0IiwiYW5vbnltb3VzVXNlciIsIl9zZXR1cENvbm5lY3Rpb24iLCJjb25uZWN0QW5vbnltb3VzVXNlciIsIl9yZWY1IiwicmVxdWVzdENvbmZpZyIsIl9yZXF1ZXN0Q29uZmlnJGhlYWRlciIsIl9lbnJpY2hBeGlvc09wdGlvbnMiLCJfbG9nQXBpUmVxdWVzdCIsImF4aW9zSW5zdGFuY2UiLCJwb3N0Rm9ybSIsInB1dCIsIl9sb2dBcGlSZXNwb25zZSIsImhhbmRsZVJlc3BvbnNlIiwiY2xpZW50X3JlcXVlc3RfaWQiLCJoZWFkZXJzIiwiX2xvZ0FwaUVycm9yIiwicG9zdExpc3RlbmVyQ2FsbGJhY2tzIiwiX2hhbmRsZUNsaWVudEV2ZW50IiwiX2NhbGxDbGllbnRMaXN0ZW5lcnMiLCJfY2FsbENoYW5uZWxMaXN0ZW5lcnMiLCJtZXNzYWdlRXZlbnQiLCJqc29uU3RyaW5nIiwicmVmTWFwIiwiX2NoYW5uZWxJRCIsIl9jaGFubmVsMiIsIl91cGRhdGVNZW1iZXJXYXRjaGVyUmVmZXJlbmNlcyIsIl9jaGFubmVsSUQyIiwiX2NoYW5uZWwzIiwidXBkYXRlVXNlck1lc3NhZ2VzIiwiX2NoYW5uZWxJRDMiLCJfY2hhbm5lbDQiLCJkZWxldGVVc2VyTWVzc2FnZXMiLCJfa2V5MiIsIl9rZXkzIiwiX3VwZGF0ZVVzZXJNZXNzYWdlUmVmZXJlbmNlcyIsIm1hcmtfbWVzc2FnZXNfZGVsZXRlZCIsIl9kZWxldGVVc2VyTWVzc2FnZVJlZmVyZW5jZSIsIl9pMiIsImNpZHMiLCJyZWNvdmVyU3RhdGVPblJlY29ubmVjdCIsInF1ZXJ5Q2hhbm5lbHMiLCIkaW4iLCJjaGFubmVsVHlwZSIsImN1c3RvbSIsInRlbXBDaWQiLCJfa2V5NCIsIl9jaGFubmVsNSIsIm1lbWJlcnNTdHJJbkV4aXN0aW5nQ2hhbm5lbCIsIl9jaGFubmVsNiIsInVwc2VydFVzZXJzIiwidXBzZXJ0VXNlciIsInVuYmxvY2tNZXNzYWdlIiwibWFya0NoYW5uZWxzUmVhZCIsIm11dGVkQ2hhbm5lbHMiLCJpbnB1dE9wdGlvbnMiLCJicm93c2VyIiwid2l0aENyZWRlbnRpYWxzIiwid2FybVVwIiwiaHR0cHNBZ2VudCIsIkFnZW50Iiwia2VlcEFsaXZlIiwia2VlcEFsaXZlTXNlY3MiLCJjcmVhdGUiLCJzZXRCYXNlVVJMIiwicHJvY2VzcyIsImVudiIsIlNUUkVBTV9MT0NBTF9URVNUX1JVTiIsIlNUUkVBTV9MT0NBTF9URVNUX0hPU1QiLCJkZWZhdWx0V1NUaW1lb3V0V2l0aEZhbGxiYWNrIiwiZGVmYXVsdFdTVGltZW91dCIsImRlZmF1bHRzIiwicGFyYW1zU2VyaWFsaXplciIsImRldlRva2VuIiwiX3VwZGF0ZUFwcFNldHRpbmdzIiwiYXBuX2NvbmZpZyIsInAxMl9jZXJ0IiwidXBkYXRlQXBwU2V0dGluZ3MiLCJfcmV2b2tlVG9rZW5zIiwicmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlIiwiX25vcm1hbGl6ZURhdGUiLCJyZXZva2VUb2tlbnMiLCJfcmV2b2tlVXNlclRva2VuIiwicmV2b2tlVXNlcnNUb2tlbiIsInJldm9rZVVzZXJUb2tlbiIsIl9yZXZva2VVc2Vyc1Rva2VuIiwidXNlcklEcyIsInBhcnRpYWxVcGRhdGVVc2VycyIsIl9nZXRBcHBTZXR0aW5ncyIsImdldEFwcFNldHRpbmdzIiwiX3Rlc3RQdXNoU2V0dGluZ3MiLCJhcG5UZW1wbGF0ZSIsImFwbl90ZW1wbGF0ZSIsImZpcmViYXNlVGVtcGxhdGUiLCJmaXJlYmFzZV90ZW1wbGF0ZSIsImZpcmViYXNlRGF0YVRlbXBsYXRlIiwiZmlyZWJhc2VfZGF0YV90ZW1wbGF0ZSIsInNraXBEZXZpY2VzIiwic2tpcF9kZXZpY2VzIiwicHVzaFByb3ZpZGVyTmFtZSIsInB1c2hfcHJvdmlkZXJfbmFtZSIsInB1c2hQcm92aWRlclR5cGUiLCJwdXNoX3Byb3ZpZGVyX3R5cGUiLCJ0ZXN0UHVzaFNldHRpbmdzIiwiX3Rlc3RTUVNTZXR0aW5ncyIsInRlc3RTUVNTZXR0aW5ncyIsIl90ZXN0U05TU2V0dGluZ3MiLCJ0ZXN0U05TU2V0dGluZ3MiLCJfc2V0R3Vlc3RVc2VyIiwiX3Jlc3BvbnNlJHVzZXIiLCJndWVzdFVzZXIiLCJsYXN0X2FjdGl2ZSIsImFjY2Vzc190b2tlbiIsInNldEd1ZXN0VXNlciIsImNyZWF0ZVRva2VuIiwiZXhwIiwiZ2V0SGVhZGVycyIsIm1heENvbnRlbnRMZW5ndGgiLCJJbmZpbml0eSIsIm1heEJvZHlMZW5ndGgiLCJlcnJvckZyb21SZXNwb25zZSIsIl9ldmVudCRtZSIsIl9ldmVudCRtZTIiLCJfaGFuZGxlVXNlckV2ZW50IiwibWUiLCJjdXJyZW50TXV0ZWRDaGFubmVsSWRzIiwibmV4dE11dGVkQ2hhbm5lbElkcyIsImFjdGl2ZUNoYW5uZWxLZXlzIiwiYWN0aXZlQ2hhbm5lbEtleSIsIl90aGlzJGFjdGl2ZUNoYW5uZWxzJCIsIl9tdXRlJGNoYW5uZWwiLCJleHBpcmVzIiwiZXhwaXJlc0F0IiwiX3NheUhpIiwibW9kZSIsIl9xdWVyeVVzZXJzIiwicXVlcnlVc2VycyIsIl9xdWVyeUJhbm5lZFVzZXJzIiwicXVlcnlCYW5uZWRVc2VycyIsIl9xdWVyeU1lc3NhZ2VGbGFncyIsInF1ZXJ5TWVzc2FnZUZsYWdzIiwiX3F1ZXJ5Q2hhbm5lbHMiLCJzdGF0ZU9wdGlvbnMiLCJoeWRyYXRlQWN0aXZlQ2hhbm5lbHMiLCJjaGFubmVsc0Zyb21BcGkiLCJza2lwSW5pdGlhbGl6YXRpb24iLCJfc3RhdGVPcHRpb25zJG9mZmxpbmUiLCJfY2hhbm5lbFN0YXRlIiwiX2FyZ3MyMSIsInNldExvY2FsRGV2aWNlIiwiX3RoaXMkd3NDb25uZWN0aW9uNSIsIl90aGlzJHdzQ29ubmVjdGlvbjYiLCJfdGhpcyR3c0ZhbGxiYWNrNCIsIl9hZGREZXZpY2UiLCJwdXNoX3Byb3ZpZGVyIiwiYWRkRGV2aWNlIiwiX2dldERldmljZXMiLCJnZXREZXZpY2VzIiwiX2dldFVucmVhZENvdW50IiwiZ2V0VW5yZWFkQ291bnQiLCJfcmVtb3ZlRGV2aWNlIiwicmVtb3ZlRGV2aWNlIiwiX2dldFJhdGVMaW1pdHMiLCJfcmVmNyIsInNlcnZlclNpZGUiLCJ3ZWIiLCJhbmRyb2lkIiwiaW9zIiwiZW5kcG9pbnRzIiwic2VydmVyX3NpZGUiLCJnZXRSYXRlTGltaXRzIiwiX3JlZjgiLCJjaGFubmVsSURPckN1c3RvbSIsIl9jdXN0b20kbWVtYmVycyIsImdldENoYW5uZWxCeU1lbWJlcnMiLCJnZXRDaGFubmVsQnlJZCIsIl9wYXJ0aWFsVXBkYXRlVXNlciIsInBhcnRpYWxVc2VyT2JqZWN0IiwicGFydGlhbFVwZGF0ZVVzZXIiLCJfdXBzZXJ0VXNlcnMiLCJ1c2VyTWFwIiwiX2l0ZXJhdG9yNCIsIl9zdGVwNCIsInVzZXJPYmplY3QiLCJmaW5pc2giLCJfcGFydGlhbFVwZGF0ZVVzZXJzIiwiX2l0ZXJhdG9yNSIsIl9zdGVwNSIsIl9kZWxldGVVc2VyIiwiZGVsZXRlVXNlciIsIl9yZXN0b3JlVXNlcnMiLCJ1c2VyX2lkcyIsInJlc3RvcmVVc2VycyIsIl9yZWFjdGl2YXRlVXNlciIsInJlYWN0aXZhdGVVc2VyIiwiX3JlYWN0aXZhdGVVc2VycyIsInJlYWN0aXZhdGVVc2VycyIsIl9kZWFjdGl2YXRlVXNlciIsImRlYWN0aXZhdGVVc2VyIiwiX3g0MCIsIl9kZWFjdGl2YXRlVXNlcnMiLCJkZWFjdGl2YXRlVXNlcnMiLCJfeDQxIiwiX3g0MiIsIl9leHBvcnRVc2VyIiwiZXhwb3J0VXNlciIsIl94NDMiLCJfeDQ0IiwidGFyZ2V0X3VzZXJfaWQiLCJfeDQ1IiwiX3g0NiIsIl94NDciLCJfeDQ4IiwiX3g0OSIsIl94NTAiLCJfY2FsbGVlNDAiLCJfY2FsbGVlNDAkIiwiX2NvbnRleHQ0MCIsIl94NTEiLCJfeDUyIiwiX211dGVVc2VyIiwiX2NhbGxlZTQxIiwidGFyZ2V0SUQiLCJfYXJnczQxIiwiX2NhbGxlZTQxJCIsIl9jb250ZXh0NDEiLCJ0YXJnZXRfaWQiLCJtdXRlVXNlciIsIl94NTMiLCJfeDU0IiwiX3VubXV0ZVVzZXIiLCJfY2FsbGVlNDIiLCJjdXJyZW50VXNlcklEIiwiX2NhbGxlZTQyJCIsIl9jb250ZXh0NDIiLCJ1bm11dGVVc2VyIiwiX3g1NSIsIl94NTYiLCJfZmxhZ01lc3NhZ2UiLCJfY2FsbGVlNDMiLCJ0YXJnZXRNZXNzYWdlSUQiLCJfYXJnczQzIiwiX2NhbGxlZTQzJCIsIl9jb250ZXh0NDMiLCJ0YXJnZXRfbWVzc2FnZV9pZCIsImZsYWdNZXNzYWdlIiwiX3g1NyIsIl9mbGFnVXNlciIsIl9jYWxsZWU0NCIsIl9hcmdzNDQiLCJfY2FsbGVlNDQkIiwiX2NvbnRleHQ0NCIsImZsYWdVc2VyIiwiX3g1OCIsIl91bmZsYWdNZXNzYWdlIiwiX2NhbGxlZTQ1IiwiX2FyZ3M0NSIsIl9jYWxsZWU0NSQiLCJfY29udGV4dDQ1IiwidW5mbGFnTWVzc2FnZSIsIl94NTkiLCJfdW5mbGFnVXNlciIsIl9jYWxsZWU0NiIsIl9hcmdzNDYiLCJfY2FsbGVlNDYkIiwiX2NvbnRleHQ0NiIsInVuZmxhZ1VzZXIiLCJfeDYwIiwiX2dldENhbGxUb2tlbiIsIl9jYWxsZWU0NyIsImNhbGxJRCIsIl9hcmdzNDciLCJfY2FsbGVlNDckIiwiX2NvbnRleHQ0NyIsImdldENhbGxUb2tlbiIsIl94NjEiLCJfcXVlcnlGbGFnczIiLCJfY2FsbGVlNDgiLCJfYXJnczQ4IiwiX2NhbGxlZTQ4JCIsIl9jb250ZXh0NDgiLCJfcXVlcnlGbGFncyIsIl9xdWVyeUZsYWdSZXBvcnRzMiIsIl9jYWxsZWU0OSIsIl9hcmdzNDkiLCJfY2FsbGVlNDkkIiwiX2NvbnRleHQ0OSIsIl9xdWVyeUZsYWdSZXBvcnRzIiwiX3Jldmlld0ZsYWdSZXBvcnQyIiwiX2NhbGxlZTUwIiwicmV2aWV3UmVzdWx0IiwiX2FyZ3M1MCIsIl9jYWxsZWU1MCQiLCJfY29udGV4dDUwIiwicmV2aWV3X3Jlc3VsdCIsIl9yZXZpZXdGbGFnUmVwb3J0IiwiX3g2MiIsIl94NjMiLCJfdW5ibG9ja01lc3NhZ2UiLCJfY2FsbGVlNTEiLCJfYXJnczUxIiwiX2NhbGxlZTUxJCIsIl9jb250ZXh0NTEiLCJfeDY0IiwiX21hcmtDaGFubmVsc1JlYWQiLCJfY2FsbGVlNTIiLCJfYXJnczUyIiwiX2NhbGxlZTUyJCIsIl9jb250ZXh0NTIiLCJjcmVhdGVDb21tYW5kIiwiZ2V0Q29tbWFuZCIsInVwZGF0ZUNvbW1hbmQiLCJkZWxldGVDb21tYW5kIiwibGlzdENvbW1hbmRzIiwiY3JlYXRlQ2hhbm5lbFR5cGUiLCJjb21tYW5kcyIsImdldENoYW5uZWxUeXBlIiwidXBkYXRlQ2hhbm5lbFR5cGUiLCJkZWxldGVDaGFubmVsVHlwZSIsImxpc3RDaGFubmVsVHlwZXMiLCJfdHJhbnNsYXRlTWVzc2FnZSIsIl9jYWxsZWU1MyIsImxhbmd1YWdlIiwiX2NhbGxlZTUzJCIsIl9jb250ZXh0NTMiLCJ0cmFuc2xhdGVNZXNzYWdlIiwiX3g2NSIsIl94NjYiLCJfbm9ybWFsaXplRXhwaXJhdGlvbiIsInRpbWVvdXRPckV4cGlyYXRpb25EYXRlIiwicGluRXhwaXJlcyIsInNldFNlY29uZHMiLCJnZXRTZWNvbmRzIiwiX3ZhbGlkYXRlQW5kR2V0TWVzc2FnZUlkIiwibWVzc2FnZU9yTWVzc2FnZUlkIiwiZXJyb3JUZXh0IiwicGluTWVzc2FnZSIsInBpbm5lZEJ5IiwicGlubmVkQXQiLCJwYXJ0aWFsVXBkYXRlTWVzc2FnZSIsInBpbl9leHBpcmVzIiwidW5waW5NZXNzYWdlIiwiX2NhbGxlZTU0IiwiY2xvbmVkTWVzc2FnZSIsInJlc2VydmVkTWVzc2FnZUZpZWxkcyIsIl9jYWxsZWU1NCQiLCJfY29udGV4dDU0IiwibXUiLCJfeDY3IiwiX3g2OCIsIl94NjkiLCJfcGFydGlhbFVwZGF0ZU1lc3NhZ2UiLCJfY2FsbGVlNTUiLCJwYXJ0aWFsTWVzc2FnZU9iamVjdCIsIl9jYWxsZWU1NSQiLCJfY29udGV4dDU1IiwiX3g3MCIsIl94NzEiLCJfeDcyIiwiX3g3MyIsIl9kZWxldGVNZXNzYWdlIiwiX2NhbGxlZTU2IiwiX2NhbGxlZTU2JCIsIl9jb250ZXh0NTYiLCJoYXJkIiwiZGVsZXRlTWVzc2FnZSIsIl94NzQiLCJfeDc1IiwiX2dldE1lc3NhZ2UiLCJfY2FsbGVlNTciLCJfY2FsbGVlNTckIiwiX2NvbnRleHQ1NyIsImdldE1lc3NhZ2UiLCJfeDc2Iiwic2V0VXNlckFnZW50IiwiX29wdGlvbnMkaGVhZGVycyIsIl9nZXRUb2tlbiIsImF1dGhvcml6YXRpb24iLCJBdXRob3JpemF0aW9uIiwic2lnbmFsIiwibmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIiLCJfcmVmOSIsImF4aW9zUmVxdWVzdENvbmZpZyIsImF4aW9zUmVxdWVzdENvbmZpZ1BhcmFtcyIsImF4aW9zUmVxdWVzdENvbmZpZ0hlYWRlcnMiLCJheGlvc1JlcXVlc3RDb25maWdSZXN0IiwidGhhdCIsInNldEludGVydmFsIiwiX2kzIiwiX09iamVjdCR2YWx1ZXMyIiwiX2NoYW5uZWw3IiwidmVyaWZ5V2ViaG9vayIsInJlcXVlc3RCb2R5IiwieFNpZ25hdHVyZSIsImdldFBlcm1pc3Npb24iLCJjcmVhdGVQZXJtaXNzaW9uIiwicGVybWlzc2lvbkRhdGEiLCJ1cGRhdGVQZXJtaXNzaW9uIiwiZGVsZXRlUGVybWlzc2lvbiIsImxpc3RQZXJtaXNzaW9ucyIsImNyZWF0ZVJvbGUiLCJsaXN0Um9sZXMiLCJkZWxldGVSb2xlIiwic3luYyIsImNoYW5uZWxfY2lkcyIsImxhc3Rfc3luY19hdCIsIl9zZW5kVXNlckN1c3RvbUV2ZW50IiwiX2NhbGxlZTU4IiwiX2NhbGxlZTU4JCIsIl9jb250ZXh0NTgiLCJzZW5kVXNlckN1c3RvbUV2ZW50IiwiX3g3NyIsIl94NzgiLCJjcmVhdGVCbG9ja0xpc3QiLCJibG9ja0xpc3QiLCJsaXN0QmxvY2tMaXN0cyIsImdldEJsb2NrTGlzdCIsInVwZGF0ZUJsb2NrTGlzdCIsImRlbGV0ZUJsb2NrTGlzdCIsImV4cG9ydENoYW5uZWxzIiwicmVxdWVzdCIsImV4cG9ydFVzZXJzIiwiZXhwb3J0Q2hhbm5lbCIsImdldEV4cG9ydENoYW5uZWxTdGF0dXMiLCJfY3JlYXRlU2VnbWVudCIsIl9jYWxsZWU1OSIsIl95aWVsZCR0aGlzJHBvc3QiLCJzZWdtZW50IiwiX2NhbGxlZTU5JCIsIl9jb250ZXh0NTkiLCJjcmVhdGVTZWdtZW50IiwiX3g3OSIsIl9xdWVyeVNlZ21lbnRzIiwiX2NhbGxlZTYwIiwiZmlsdGVycyIsIl9hcmdzNjAiLCJfY2FsbGVlNjAkIiwiX2NvbnRleHQ2MCIsInF1ZXJ5U2VnbWVudHMiLCJfeDgwIiwiX3VwZGF0ZVNlZ21lbnQiLCJfY2FsbGVlNjEiLCJfeWllbGQkdGhpcyRwdXQiLCJfY2FsbGVlNjEkIiwiX2NvbnRleHQ2MSIsInVwZGF0ZVNlZ21lbnQiLCJfeDgxIiwiX3g4MiIsIl9kZWxldGVTZWdtZW50IiwiX2NhbGxlZTYyIiwiX2NhbGxlZTYyJCIsIl9jb250ZXh0NjIiLCJkZWxldGVTZWdtZW50IiwiX3g4MyIsIl9jcmVhdGVDYW1wYWlnbiIsIl9jYWxsZWU2MyIsIl95aWVsZCR0aGlzJHBvc3QyIiwiY2FtcGFpZ24iLCJfY2FsbGVlNjMkIiwiX2NvbnRleHQ2MyIsImNyZWF0ZUNhbXBhaWduIiwiX3g4NCIsIl9xdWVyeUNhbXBhaWducyIsIl9jYWxsZWU2NCIsIl9hcmdzNjQiLCJfY2FsbGVlNjQkIiwiX2NvbnRleHQ2NCIsInF1ZXJ5Q2FtcGFpZ25zIiwiX3g4NSIsIl91cGRhdGVDYW1wYWlnbiIsIl9jYWxsZWU2NSIsIl95aWVsZCR0aGlzJHB1dDIiLCJfY2FsbGVlNjUkIiwiX2NvbnRleHQ2NSIsInVwZGF0ZUNhbXBhaWduIiwiX3g4NiIsIl94ODciLCJfZGVsZXRlQ2FtcGFpZ24iLCJfY2FsbGVlNjYiLCJfYXJnczY2IiwiX2NhbGxlZTY2JCIsIl9jb250ZXh0NjYiLCJkZWxldGVDYW1wYWlnbiIsIl94ODgiLCJfc2NoZWR1bGVDYW1wYWlnbiIsIl9jYWxsZWU2NyIsInNjaGVkdWxlZEZvciIsIl95aWVsZCR0aGlzJHBhdGNoIiwiX2NhbGxlZTY3JCIsIl9jb250ZXh0NjciLCJzY2hlZHVsZWRfZm9yIiwic2NoZWR1bGVDYW1wYWlnbiIsIl94ODkiLCJfeDkwIiwiX3N0b3BDYW1wYWlnbiIsIl9jYWxsZWU2OCIsIl95aWVsZCR0aGlzJHBhdGNoMiIsIl9jYWxsZWU2OCQiLCJfY29udGV4dDY4Iiwic3RvcENhbXBhaWduIiwiX3g5MSIsIl9yZXN1bWVDYW1wYWlnbiIsIl9jYWxsZWU2OSIsIl95aWVsZCR0aGlzJHBhdGNoMyIsIl9jYWxsZWU2OSQiLCJfY29udGV4dDY5IiwicmVzdW1lQ2FtcGFpZ24iLCJfeDkyIiwiX3Rlc3RDYW1wYWlnbiIsIl9jYWxsZWU3MCIsIl9jYWxsZWU3MCQiLCJfY29udGV4dDcwIiwidGVzdENhbXBhaWduIiwiX3g5MyIsIl94OTQiLCJfcXVlcnlSZWNpcGllbnRzIiwiX2NhbGxlZTcxIiwiX2FyZ3M3MSIsIl9jYWxsZWU3MSQiLCJfY29udGV4dDcxIiwicXVlcnlSZWNpcGllbnRzIiwiX3g5NSIsIl9lbnJpY2hVUkwiLCJfY2FsbGVlNzIiLCJfY2FsbGVlNzIkIiwiX2NvbnRleHQ3MiIsImVucmljaFVSTCIsIl94OTYiLCJfZ2V0VGFzayIsIl9jYWxsZWU3MyIsIl9jYWxsZWU3MyQiLCJfY29udGV4dDczIiwiZ2V0VGFzayIsIl94OTciLCJfZGVsZXRlQ2hhbm5lbHMiLCJfY2FsbGVlNzQiLCJfYXJnczc0IiwiX2NhbGxlZTc0JCIsIl9jb250ZXh0NzQiLCJkZWxldGVDaGFubmVscyIsIl94OTgiLCJfZGVsZXRlVXNlcnMiLCJfY2FsbGVlNzUiLCJfYXJnczc1IiwiX2NhbGxlZTc1JCIsIl9jb250ZXh0NzUiLCJjb252ZXJzYXRpb25zIiwiZGVsZXRlVXNlcnMiLCJfeDk5IiwiX2NyZWF0ZUltcG9ydFVSTDIiLCJfY2FsbGVlNzYiLCJmaWxlbmFtZSIsIl9jYWxsZWU3NiQiLCJfY29udGV4dDc2IiwiX2NyZWF0ZUltcG9ydFVSTCIsIl94MTAwIiwiX2NyZWF0ZUltcG9ydDIiLCJfY2FsbGVlNzciLCJwYXRoIiwiX2FyZ3M3NyIsIl9jYWxsZWU3NyQiLCJfY29udGV4dDc3IiwiX2NyZWF0ZUltcG9ydCIsIl94MTAxIiwiX2dldEltcG9ydDIiLCJfY2FsbGVlNzgiLCJfY2FsbGVlNzgkIiwiX2NvbnRleHQ3OCIsIl9nZXRJbXBvcnQiLCJfeDEwMiIsIl9saXN0SW1wb3J0czIiLCJfY2FsbGVlNzkiLCJfY2FsbGVlNzkkIiwiX2NvbnRleHQ3OSIsIl9saXN0SW1wb3J0cyIsIl94MTAzIiwiX3Vwc2VydFB1c2hQcm92aWRlciIsIl9jYWxsZWU4MCIsInB1c2hQcm92aWRlciIsIl9jYWxsZWU4MCQiLCJfY29udGV4dDgwIiwidXBzZXJ0UHVzaFByb3ZpZGVyIiwiX3gxMDQiLCJfZGVsZXRlUHVzaFByb3ZpZGVyIiwiX2NhbGxlZTgxIiwiX3JlZjEwIiwiX2NhbGxlZTgxJCIsIl9jb250ZXh0ODEiLCJkZWxldGVQdXNoUHJvdmlkZXIiLCJfeDEwNSIsIl9saXN0UHVzaFByb3ZpZGVycyIsIl9jYWxsZWU4MiIsIl9jYWxsZWU4MiQiLCJfY29udGV4dDgyIiwibGlzdFB1c2hQcm92aWRlcnMiLCJjcmVhdGVBYm9ydENvbnRyb2xsZXJGb3JOZXh0UmVxdWVzdCIsIkFib3J0Q29udHJvbGxlciIsIl9jb21taXRNZXNzYWdlIiwiX2NhbGxlZTgzIiwiX2NhbGxlZTgzJCIsIl9jb250ZXh0ODMiLCJjb21taXRNZXNzYWdlIiwiX3gxMDYiLCJnZXRJbnN0YW5jZSIsIl9pbnN0YW5jZSIsIkVWRU5UX01BUCIsIkFsbG93IiwiRGVueSIsIkFueVJlc291cmNlIiwiQW55Um9sZSIsIk1heFByaW9yaXR5IiwiTWluUHJpb3JpdHkiLCJQZXJtaXNzaW9uIiwicHJpb3JpdHkiLCJyZXNvdXJjZXMiLCJvd25lciIsImFjdGlvbiIsIkFsbG93QWxsIiwiRGVueUFsbCIsIkJ1aWx0aW5Sb2xlcyIsIkFkbWluIiwiQW5vbnltb3VzIiwiQ2hhbm5lbE1lbWJlciIsIkNoYW5uZWxNb2RlcmF0b3IiLCJHdWVzdCIsIlVzZXIiLCJCdWlsdGluUGVybWlzc2lvbnMiLCJBZGRMaW5rcyIsIkJhblVzZXIiLCJDcmVhdGVDaGFubmVsIiwiQ3JlYXRlTWVzc2FnZSIsIkNyZWF0ZVJlYWN0aW9uIiwiRGVsZXRlQW55QXR0YWNobWVudCIsIkRlbGV0ZUFueUNoYW5uZWwiLCJEZWxldGVBbnlNZXNzYWdlIiwiRGVsZXRlQW55UmVhY3Rpb24iLCJEZWxldGVPd25BdHRhY2htZW50IiwiRGVsZXRlT3duQ2hhbm5lbCIsIkRlbGV0ZU93bk1lc3NhZ2UiLCJEZWxldGVPd25SZWFjdGlvbiIsIlJlYWRBbnlDaGFubmVsIiwiUmVhZE93bkNoYW5uZWwiLCJSdW5NZXNzYWdlQWN0aW9uIiwiVXBkYXRlQW55Q2hhbm5lbCIsIlVwZGF0ZUFueU1lc3NhZ2UiLCJVcGRhdGVNZW1iZXJzQW55Q2hhbm5lbCIsIlVwZGF0ZU1lbWJlcnNPd25DaGFubmVsIiwiVXBkYXRlT3duQ2hhbm5lbCIsIlVwZGF0ZU93bk1lc3NhZ2UiLCJVcGxvYWRBdHRhY2htZW50IiwiVXNlRnJvemVuQ2hhbm5lbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/stream-chat/dist/index.es.js\n");

/***/ })

};
;