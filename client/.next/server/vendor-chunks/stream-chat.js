"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/stream-chat";
exports.ids = ["vendor-chunks/stream-chat"];
exports.modules = {

/***/ "(ssr)/./node_modules/stream-chat/dist/index.es.js":
/*!***************************************************!*\
  !*** ./node_modules/stream-chat/dist/index.es.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Allow: () => (/* binding */ Allow),\n/* harmony export */   AllowAll: () => (/* binding */ AllowAll),\n/* harmony export */   AnyResource: () => (/* binding */ AnyResource),\n/* harmony export */   AnyRole: () => (/* binding */ AnyRole),\n/* harmony export */   BuiltinPermissions: () => (/* binding */ BuiltinPermissions),\n/* harmony export */   BuiltinRoles: () => (/* binding */ BuiltinRoles),\n/* harmony export */   Channel: () => (/* binding */ Channel),\n/* harmony export */   ChannelState: () => (/* binding */ ChannelState),\n/* harmony export */   CheckSignature: () => (/* binding */ CheckSignature),\n/* harmony export */   ClientState: () => (/* binding */ ClientState),\n/* harmony export */   Deny: () => (/* binding */ Deny),\n/* harmony export */   DenyAll: () => (/* binding */ DenyAll),\n/* harmony export */   DevToken: () => (/* binding */ DevToken),\n/* harmony export */   EVENT_MAP: () => (/* binding */ EVENT_MAP),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   InsightMetrics: () => (/* binding */ InsightMetrics),\n/* harmony export */   JWTServerToken: () => (/* binding */ JWTServerToken),\n/* harmony export */   JWTUserToken: () => (/* binding */ JWTUserToken),\n/* harmony export */   MaxPriority: () => (/* binding */ MaxPriority),\n/* harmony export */   MinPriority: () => (/* binding */ MinPriority),\n/* harmony export */   Permission: () => (/* binding */ Permission),\n/* harmony export */   StableWSConnection: () => (/* binding */ StableWSConnection),\n/* harmony export */   StreamChat: () => (/* binding */ StreamChat),\n/* harmony export */   TokenManager: () => (/* binding */ TokenManager),\n/* harmony export */   UserFromToken: () => (/* binding */ UserFromToken),\n/* harmony export */   buildWsFatalInsight: () => (/* binding */ buildWsFatalInsight),\n/* harmony export */   buildWsSuccessAfterFailureInsight: () => (/* binding */ buildWsSuccessAfterFailureInsight),\n/* harmony export */   chatCodes: () => (/* binding */ chatCodes),\n/* harmony export */   decodeBase64: () => (/* binding */ decodeBase64),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   isOwnUser: () => (/* binding */ isOwnUser),\n/* harmony export */   logChatPromiseExecution: () => (/* binding */ logChatPromiseExecution),\n/* harmony export */   postInsights: () => (/* binding */ postInsights)\n/* harmony export */ });\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base64-js */ \"(ssr)/./node_modules/base64-js/index.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"(ssr)/./node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"(ssr)/./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"(ssr)/./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"(ssr)/./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"(ssr)/./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! form-data */ \"(ssr)/./node_modules/form-data/lib/form_data.js\");\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(form_data__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! isomorphic-ws */ \"(ssr)/./node_modules/isomorphic-ws/node.js\");\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(isomorphic_ws__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! jsonwebtoken */ \"(ssr)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"(ssr)/./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"(ssr)/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"(ssr)/./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime/helpers/wrapNativeSuper */ \"(ssr)/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction isString$1(arrayOrString) {\n    return typeof arrayOrString === \"string\";\n}\nfunction isMapStringCallback(arrayOrString, callback) {\n    return !!callback && isString$1(arrayOrString);\n} // source - https://github.com/beatgammit/base64-js/blob/master/test/convert.js#L72\nfunction map(arrayOrString, callback) {\n    var res = [];\n    if (isString$1(arrayOrString) && isMapStringCallback(arrayOrString, callback)) {\n        for(var k = 0, len = arrayOrString.length; k < len; k++){\n            if (arrayOrString.charAt(k)) {\n                var kValue = arrayOrString.charAt(k);\n                var mappedValue = callback(kValue, k, arrayOrString);\n                res[k] = mappedValue;\n            }\n        }\n    } else if (!isString$1(arrayOrString) && !isMapStringCallback(arrayOrString, callback)) {\n        for(var _k = 0, _len = arrayOrString.length; _k < _len; _k++){\n            if (_k in arrayOrString) {\n                var _kValue = arrayOrString[_k];\n                var _mappedValue = callback(_kValue, _k, arrayOrString);\n                res[_k] = _mappedValue;\n            }\n        }\n    }\n    return res;\n}\nvar encodeBase64 = function encodeBase64(data) {\n    return (0,base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray)(new Uint8Array(map(data, function(char) {\n        return char.charCodeAt(0);\n    })));\n}; // base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nvar decodeBase64 = function decodeBase64(s) {\n    var e = {}, w = String.fromCharCode, L = s.length;\n    var i, b = 0, c, x, l = 0, a, r = \"\";\n    var A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n        }\n    }\n    return r;\n};\nfunction ownKeys$6(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$6(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$6(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$6(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * ChannelState - A container class for the channel state.\n */ var ChannelState = /*#__PURE__*/ function() {\n    /**\n   * Flag which indicates if channel state contain latest/recent messages or no.\n   * This flag should be managed by UI sdks using a setter - setIsUpToDate.\n   * When false, any new message (received by websocket event - message.new) will not\n   * be pushed on to message list.\n   */ /**\n   * Disjoint lists of messages\n   * Users can jump in the message list (with searching) and this can result in disjoint lists of messages\n   * The state manages these lists and merges them when lists overlap\n   * The messages array contains the currently active set\n   */ function ChannelState(channel) {\n        var _this = this, _channel$state;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ChannelState);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_channel\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"watcher_count\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"typing\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"read\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pinnedMessages\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pending_messages\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"threads\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedUsers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"watchers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"members\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"unreadCount\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"membership\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"last_message_at\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isUpToDate\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"messageSets\", []);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setIsUpToDate\", function(isUpToDate) {\n            _this.isUpToDate = isUpToDate;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"removeMessageFromArray\", function(msgArray, msg) {\n            var result = msgArray.filter(function(message) {\n                return !(!!message.id && !!msg.id && message.id === msg.id);\n            });\n            return {\n                removed: result.length < msgArray.length,\n                result: result\n            };\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUserMessages\", function(user) {\n            var _updateUserMessages = function _updateUserMessages(messages, user) {\n                for(var i = 0; i < messages.length; i++){\n                    var _m$user;\n                    var m = messages[i];\n                    if (((_m$user = m.user) === null || _m$user === void 0 ? void 0 : _m$user.id) === user.id) {\n                        messages[i] = _objectSpread$6(_objectSpread$6({}, m), {}, {\n                            user: user\n                        });\n                    }\n                }\n            };\n            _this.messageSets.forEach(function(set) {\n                return _updateUserMessages(set.messages, user);\n            });\n            for(var parentId in _this.threads){\n                _updateUserMessages(_this.threads[parentId], user);\n            }\n            _updateUserMessages(_this.pinnedMessages, user);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"deleteUserMessages\", function(user) {\n            var hardDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var _deleteUserMessages = function _deleteUserMessages(messages, user) {\n                var hardDelete = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                for(var i = 0; i < messages.length; i++){\n                    var _m$user2;\n                    var m = messages[i];\n                    if (((_m$user2 = m.user) === null || _m$user2 === void 0 ? void 0 : _m$user2.id) !== user.id) {\n                        continue;\n                    }\n                    if (hardDelete) {\n                        /**\n             * In case of hard delete, we need to strip down all text, html,\n             * attachments and all the custom properties on message\n             */ messages[i] = {\n                            cid: m.cid,\n                            created_at: m.created_at,\n                            deleted_at: user.deleted_at,\n                            id: m.id,\n                            latest_reactions: [],\n                            mentioned_users: [],\n                            own_reactions: [],\n                            parent_id: m.parent_id,\n                            reply_count: m.reply_count,\n                            status: m.status,\n                            thread_participants: m.thread_participants,\n                            type: \"deleted\",\n                            updated_at: m.updated_at,\n                            user: m.user\n                        };\n                    } else {\n                        messages[i] = _objectSpread$6(_objectSpread$6({}, m), {}, {\n                            type: \"deleted\",\n                            deleted_at: user.deleted_at\n                        });\n                    }\n                }\n            };\n            _this.messageSets.forEach(function(set) {\n                return _deleteUserMessages(set.messages, user, hardDelete);\n            });\n            for(var parentId in _this.threads){\n                _deleteUserMessages(_this.threads[parentId], user, hardDelete);\n            }\n            _deleteUserMessages(_this.pinnedMessages, user, hardDelete);\n        });\n        this._channel = channel;\n        this.watcher_count = 0;\n        this.typing = {};\n        this.read = {};\n        this.initMessages();\n        this.pinnedMessages = [];\n        this.pending_messages = [];\n        this.threads = {}; // a list of users to hide messages from\n        this.mutedUsers = [];\n        this.watchers = {};\n        this.members = {};\n        this.membership = {};\n        this.unreadCount = 0;\n        /**\n     * Flag which indicates if channel state contain latest/recent messages or no.\n     * This flag should be managed by UI sdks using a setter - setIsUpToDate.\n     * When false, any new message (received by websocket event - message.new) will not\n     * be pushed on to message list.\n     */ this.isUpToDate = true;\n        this.last_message_at = (channel === null || channel === void 0 ? void 0 : (_channel$state = channel.state) === null || _channel$state === void 0 ? void 0 : _channel$state.last_message_at) != null ? new Date(channel.state.last_message_at) : null;\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(ChannelState, [\n        {\n            key: \"messages\",\n            get: function get() {\n                var _this$messageSets$fin;\n                return ((_this$messageSets$fin = this.messageSets.find(function(s) {\n                    return s.isCurrent;\n                })) === null || _this$messageSets$fin === void 0 ? void 0 : _this$messageSets$fin.messages) || [];\n            },\n            set: function set(messages) {\n                var index = this.messageSets.findIndex(function(s) {\n                    return s.isCurrent;\n                });\n                this.messageSets[index].messages = messages;\n            }\n        },\n        {\n            key: \"latestMessages\",\n            get: function get() {\n                var _this$messageSets$fin2;\n                return ((_this$messageSets$fin2 = this.messageSets.find(function(s) {\n                    return s.isLatest;\n                })) === null || _this$messageSets$fin2 === void 0 ? void 0 : _this$messageSets$fin2.messages) || [];\n            },\n            set: function set(messages) {\n                var index = this.messageSets.findIndex(function(s) {\n                    return s.isLatest;\n                });\n                this.messageSets[index].messages = messages;\n            }\n        },\n        {\n            key: \"addMessageSorted\",\n            value: function addMessageSorted(newMessage) {\n                var timestampChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n                var addIfDoesNotExist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"latest\";\n                return this.addMessagesSorted([\n                    newMessage\n                ], timestampChanged, false, addIfDoesNotExist, messageSetToAddToIfDoesNotExist);\n            }\n        },\n        {\n            key: \"formatMessage\",\n            value: function formatMessage(message) {\n                return _objectSpread$6(_objectSpread$6({}, message), {}, {\n                    /**\n         * @deprecated please use `html`\n         */ __html: message.html,\n                    // parse the date..\n                    pinned_at: message.pinned_at ? new Date(message.pinned_at) : null,\n                    created_at: message.created_at ? new Date(message.created_at) : new Date(),\n                    updated_at: message.updated_at ? new Date(message.updated_at) : new Date(),\n                    status: message.status || \"received\"\n                });\n            }\n        },\n        {\n            key: \"addMessagesSorted\",\n            value: function addMessagesSorted(newMessages) {\n                var timestampChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n                var initializing = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                var addIfDoesNotExist = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"current\";\n                var _this$findTargetMessa = this.findTargetMessageSet(newMessages, addIfDoesNotExist, messageSetToAddToIfDoesNotExist), messagesToAdd = _this$findTargetMessa.messagesToAdd, targetMessageSetIndex = _this$findTargetMessa.targetMessageSetIndex;\n                for(var i = 0; i < messagesToAdd.length; i += 1){\n                    var isFromShadowBannedUser = messagesToAdd[i].shadowed;\n                    if (isFromShadowBannedUser) {\n                        continue;\n                    } // If message is already formatted we can skip the tasks below\n                    // This will be true for messages that are already present at the state -> this happens when we perform merging of message sets\n                    // This will be also true for message previews used by some SDKs\n                    var isMessageFormatted = messagesToAdd[i].created_at instanceof Date;\n                    var message = void 0;\n                    if (isMessageFormatted) {\n                        message = messagesToAdd[i];\n                    } else {\n                        var _this$_channel;\n                        message = this.formatMessage(messagesToAdd[i]);\n                        if (message.user && (_this$_channel = this._channel) !== null && _this$_channel !== void 0 && _this$_channel.cid) {\n                            /**\n             * Store the reference to user for this channel, so that when we have to\n             * handle updates to user, we can use the reference map, to determine which\n             * channels need to be updated with updated user object.\n             */ this._channel.getClient().state.updateUserReference(message.user, this._channel.cid);\n                        }\n                        if (initializing && message.id && this.threads[message.id]) {\n                            // If we are initializing the state of channel (e.g., in case of connection recovery),\n                            // then in that case we remove thread related to this message from threads object.\n                            // This way we can ensure that we don't have any stale data in thread object\n                            // and consumer can refetch the replies.\n                            delete this.threads[message.id];\n                        }\n                        if (!this.last_message_at) {\n                            this.last_message_at = new Date(message.created_at.getTime());\n                        }\n                        if (message.created_at.getTime() > this.last_message_at.getTime()) {\n                            this.last_message_at = new Date(message.created_at.getTime());\n                        }\n                    } // update or append the messages...\n                    var parentID = message.parent_id; // add to the given message set\n                    if ((!parentID || message.show_in_channel) && targetMessageSetIndex !== -1) {\n                        this.messageSets[targetMessageSetIndex].messages = this._addToMessageList(this.messageSets[targetMessageSetIndex].messages, message, timestampChanged, \"created_at\", addIfDoesNotExist);\n                    }\n                    /**\n         * Add message to thread if applicable and the message\n         * was added when querying for replies, or the thread already exits.\n         * This is to prevent the thread state from getting out of sync if\n         * a thread message is shown in channel but older than the newest thread\n         * message. This situation can result in a thread state where a random\n         * message is \"oldest\" message, and newer messages are therefore not loaded.\n         * This can also occur if an old thread message is updated.\n         */ if (parentID && !initializing) {\n                        var thread = this.threads[parentID] || [];\n                        var threadMessages = this._addToMessageList(thread, message, timestampChanged, \"created_at\", addIfDoesNotExist);\n                        this.threads[parentID] = threadMessages;\n                    }\n                }\n                return {\n                    messageSet: this.messageSets[targetMessageSetIndex]\n                };\n            }\n        },\n        {\n            key: \"addPinnedMessages\",\n            value: function addPinnedMessages(pinnedMessages) {\n                for(var i = 0; i < pinnedMessages.length; i += 1){\n                    this.addPinnedMessage(pinnedMessages[i]);\n                }\n            }\n        },\n        {\n            key: \"addPinnedMessage\",\n            value: function addPinnedMessage(pinnedMessage) {\n                this.pinnedMessages = this._addToMessageList(this.pinnedMessages, this.formatMessage(pinnedMessage), false, \"pinned_at\");\n            }\n        },\n        {\n            key: \"removePinnedMessage\",\n            value: function removePinnedMessage(message) {\n                var _this$removeMessageFr = this.removeMessageFromArray(this.pinnedMessages, message), result = _this$removeMessageFr.result;\n                this.pinnedMessages = result;\n            }\n        },\n        {\n            key: \"addReaction\",\n            value: function addReaction(reaction, message, enforce_unique) {\n                var _this2 = this;\n                if (!message) return;\n                var messageWithReaction = message;\n                this._updateMessage(message, function(msg) {\n                    messageWithReaction.own_reactions = _this2._addOwnReactionToMessage(msg.own_reactions, reaction, enforce_unique);\n                    return _this2.formatMessage(messageWithReaction);\n                });\n                return messageWithReaction;\n            }\n        },\n        {\n            key: \"_addOwnReactionToMessage\",\n            value: function _addOwnReactionToMessage(ownReactions, reaction, enforce_unique) {\n                if (enforce_unique) {\n                    ownReactions = [];\n                } else {\n                    ownReactions = this._removeOwnReactionFromMessage(ownReactions, reaction);\n                }\n                ownReactions = ownReactions || [];\n                if (this._channel.getClient().userID === reaction.user_id) {\n                    ownReactions.push(reaction);\n                }\n                return ownReactions;\n            }\n        },\n        {\n            key: \"_removeOwnReactionFromMessage\",\n            value: function _removeOwnReactionFromMessage(ownReactions, reaction) {\n                if (ownReactions) {\n                    return ownReactions.filter(function(item) {\n                        return item.user_id !== reaction.user_id || item.type !== reaction.type;\n                    });\n                }\n                return ownReactions;\n            }\n        },\n        {\n            key: \"removeReaction\",\n            value: function removeReaction(reaction, message) {\n                var _this3 = this;\n                if (!message) return;\n                var messageWithReaction = message;\n                this._updateMessage(message, function(msg) {\n                    messageWithReaction.own_reactions = _this3._removeOwnReactionFromMessage(msg.own_reactions, reaction);\n                    return _this3.formatMessage(messageWithReaction);\n                });\n                return messageWithReaction;\n            }\n        },\n        {\n            key: \"removeQuotedMessageReferences\",\n            value: function removeQuotedMessageReferences(message) {\n                var _this4 = this;\n                var parseMessage = function parseMessage(m) {\n                    var _m$pinned_at, _m$updated_at;\n                    return _objectSpread$6(_objectSpread$6({}, m), {}, {\n                        created_at: m.created_at.toISOString(),\n                        pinned_at: (_m$pinned_at = m.pinned_at) === null || _m$pinned_at === void 0 ? void 0 : _m$pinned_at.toISOString(),\n                        updated_at: (_m$updated_at = m.updated_at) === null || _m$updated_at === void 0 ? void 0 : _m$updated_at.toISOString()\n                    });\n                };\n                this.messageSets.forEach(function(set) {\n                    var updatedMessages = set.messages.filter(function(msg) {\n                        return msg.quoted_message_id === message.id;\n                    }).map(parseMessage).map(function(msg) {\n                        return _objectSpread$6(_objectSpread$6({}, msg), {}, {\n                            quoted_message: _objectSpread$6(_objectSpread$6({}, message), {}, {\n                                attachments: []\n                            })\n                        });\n                    });\n                    _this4.addMessagesSorted(updatedMessages, true);\n                });\n            }\n        },\n        {\n            key: \"_updateMessage\",\n            value: function _updateMessage(message, updateFunc) {\n                var parent_id = message.parent_id, show_in_channel = message.show_in_channel, pinned = message.pinned;\n                if (parent_id && this.threads[parent_id]) {\n                    var thread = this.threads[parent_id];\n                    var msgIndex = thread.findIndex(function(msg) {\n                        return msg.id === message.id;\n                    });\n                    if (msgIndex !== -1) {\n                        thread[msgIndex] = updateFunc(thread[msgIndex]);\n                        this.threads[parent_id] = thread;\n                    }\n                }\n                if (!show_in_channel && !parent_id || show_in_channel) {\n                    var messageSetIndex = this.findMessageSetIndex(message);\n                    if (messageSetIndex !== -1) {\n                        var _msgIndex = this.messageSets[messageSetIndex].messages.findIndex(function(msg) {\n                            return msg.id === message.id;\n                        });\n                        if (_msgIndex !== -1) {\n                            this.messageSets[messageSetIndex].messages[_msgIndex] = updateFunc(this.messageSets[messageSetIndex].messages[_msgIndex]);\n                        }\n                    }\n                }\n                if (pinned) {\n                    var _msgIndex2 = this.pinnedMessages.findIndex(function(msg) {\n                        return msg.id === message.id;\n                    });\n                    if (_msgIndex2 !== -1) {\n                        this.pinnedMessages[_msgIndex2] = updateFunc(this.pinnedMessages[_msgIndex2]);\n                    }\n                }\n            }\n        },\n        {\n            key: \"_addToMessageList\",\n            value: /**\n     * _addToMessageList - Adds a message to a list of messages, tries to update first, appends if message isn't found\n     *\n     * @param {Array<ReturnType<ChannelState<StreamChatGenerics>['formatMessage']>>} messages A list of messages\n     * @param message\n     * @param {boolean} timestampChanged Whether updating a message with changed created_at value.\n     * @param {string} sortBy field name to use to sort the messages by\n     * @param {boolean} addIfDoesNotExist Add message if it is not in the list, used to prevent out of order updated messages from being added.\n     */ function _addToMessageList(messages, message) {\n                var timestampChanged = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                var sortBy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"created_at\";\n                var addIfDoesNotExist = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n                var addMessageToList = addIfDoesNotExist || timestampChanged;\n                var messageArr = messages; // if created_at has changed, message should be filtered and re-inserted in correct order\n                // slow op but usually this only happens for a message inserted to state before actual response with correct timestamp\n                if (timestampChanged) {\n                    messageArr = messageArr.filter(function(msg) {\n                        return !(msg.id && message.id === msg.id);\n                    });\n                } // Get array length after filtering\n                var messageArrayLength = messageArr.length; // for empty list just concat and return unless it's an update or deletion\n                if (messageArrayLength === 0 && addMessageToList) {\n                    return messageArr.concat(message);\n                } else if (messageArrayLength === 0) {\n                    return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                }\n                var messageTime = message[sortBy].getTime();\n                var messageIsNewest = messageArr[messageArrayLength - 1][sortBy].getTime() < messageTime; // if message is newer than last item in the list concat and return unless it's an update or deletion\n                if (messageIsNewest && addMessageToList) {\n                    return messageArr.concat(message);\n                } else if (messageIsNewest) {\n                    return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                } // find the closest index to push the new message\n                var left = 0;\n                var middle = 0;\n                var right = messageArrayLength - 1;\n                while(left <= right){\n                    middle = Math.floor((right + left) / 2);\n                    if (messageArr[middle][sortBy].getTime() <= messageTime) left = middle + 1;\n                    else right = middle - 1;\n                } // message already exists and not filtered due to timestampChanged, update and return\n                if (!timestampChanged && message.id) {\n                    if (messageArr[left] && message.id === messageArr[left].id) {\n                        messageArr[left] = message;\n                        return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                    }\n                    if (messageArr[left - 1] && message.id === messageArr[left - 1].id) {\n                        messageArr[left - 1] = message;\n                        return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n                    }\n                } // Do not add updated or deleted messages to the list if they do not already exist\n                // or have a timestamp change.\n                if (addMessageToList) {\n                    messageArr.splice(left, 0, message);\n                }\n                return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n            }\n        },\n        {\n            key: \"removeMessage\",\n            value: function removeMessage(messageToRemove) {\n                var isRemoved = false;\n                if (messageToRemove.parent_id && this.threads[messageToRemove.parent_id]) {\n                    var _this$removeMessageFr2 = this.removeMessageFromArray(this.threads[messageToRemove.parent_id], messageToRemove), removed = _this$removeMessageFr2.removed, threadMessages = _this$removeMessageFr2.result;\n                    this.threads[messageToRemove.parent_id] = threadMessages;\n                    isRemoved = removed;\n                } else {\n                    var _messageToRemove$mess;\n                    var messageSetIndex = (_messageToRemove$mess = messageToRemove.messageSetIndex) !== null && _messageToRemove$mess !== void 0 ? _messageToRemove$mess : this.findMessageSetIndex(messageToRemove);\n                    if (messageSetIndex !== -1) {\n                        var _this$removeMessageFr3 = this.removeMessageFromArray(this.messageSets[messageSetIndex].messages, messageToRemove), _removed = _this$removeMessageFr3.removed, messages = _this$removeMessageFr3.result;\n                        this.messageSets[messageSetIndex].messages = messages;\n                        isRemoved = _removed;\n                    }\n                }\n                return isRemoved;\n            }\n        },\n        {\n            key: \"filterErrorMessages\",\n            value: /**\n     * filterErrorMessages - Removes error messages from the channel state.\n     *\n     */ function filterErrorMessages() {\n                var filteredMessages = this.latestMessages.filter(function(message) {\n                    return message.type !== \"error\";\n                });\n                this.latestMessages = filteredMessages;\n            }\n        },\n        {\n            key: \"clean\",\n            value: function clean() {\n                var now = new Date(); // prevent old users from showing up as typing\n                for(var _i = 0, _Object$entries = Object.entries(this.typing); _i < _Object$entries.length; _i++){\n                    var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default()(_Object$entries[_i], 2), userID = _Object$entries$_i[0], lastEvent = _Object$entries$_i[1];\n                    var receivedAt = typeof lastEvent.received_at === \"string\" ? new Date(lastEvent.received_at) : lastEvent.received_at || new Date();\n                    if (now.getTime() - receivedAt.getTime() > 7000) {\n                        delete this.typing[userID];\n                        this._channel.getClient().dispatchEvent({\n                            cid: this._channel.cid,\n                            type: \"typing.stop\",\n                            user: {\n                                id: userID\n                            }\n                        });\n                    }\n                }\n            }\n        },\n        {\n            key: \"clearMessages\",\n            value: function clearMessages() {\n                this.initMessages();\n                this.pinnedMessages = [];\n            }\n        },\n        {\n            key: \"initMessages\",\n            value: function initMessages() {\n                this.messageSets = [\n                    {\n                        messages: [],\n                        isLatest: true,\n                        isCurrent: true\n                    }\n                ];\n            }\n        },\n        {\n            key: \"loadMessageIntoState\",\n            value: function() {\n                var _loadMessageIntoState = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(messageId, parentMessageId) {\n                    var _this$threads$parentM;\n                    var limit, messageSetIndex, switchedToMessageSet, loadedMessageThread, messageIdToFind, _args = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    limit = _args.length > 2 && _args[2] !== undefined ? _args[2] : 25;\n                                    switchedToMessageSet = false;\n                                    loadedMessageThread = false;\n                                    messageIdToFind = parentMessageId || messageId;\n                                    if (!(messageId === \"latest\")) {\n                                        _context.next = 10;\n                                        break;\n                                    }\n                                    if (!(this.messages === this.latestMessages)) {\n                                        _context.next = 7;\n                                        break;\n                                    }\n                                    return _context.abrupt(\"return\");\n                                case 7:\n                                    messageSetIndex = this.messageSets.findIndex(function(s) {\n                                        return s.isLatest;\n                                    });\n                                    _context.next = 11;\n                                    break;\n                                case 10:\n                                    messageSetIndex = this.findMessageSetIndex({\n                                        id: messageIdToFind\n                                    });\n                                case 11:\n                                    if (messageSetIndex !== -1) {\n                                        this.switchToMessageSet(messageSetIndex);\n                                        switchedToMessageSet = true;\n                                    }\n                                    loadedMessageThread = !parentMessageId || !!((_this$threads$parentM = this.threads[parentMessageId]) !== null && _this$threads$parentM !== void 0 && _this$threads$parentM.find(function(m) {\n                                        return m.id === messageId;\n                                    }));\n                                    if (!(switchedToMessageSet && loadedMessageThread)) {\n                                        _context.next = 15;\n                                        break;\n                                    }\n                                    return _context.abrupt(\"return\");\n                                case 15:\n                                    if (switchedToMessageSet) {\n                                        _context.next = 18;\n                                        break;\n                                    }\n                                    _context.next = 18;\n                                    return this._channel.query({\n                                        messages: {\n                                            id_around: messageIdToFind,\n                                            limit: limit\n                                        }\n                                    }, \"new\");\n                                case 18:\n                                    if (!(!loadedMessageThread && parentMessageId)) {\n                                        _context.next = 21;\n                                        break;\n                                    }\n                                    _context.next = 21;\n                                    return this._channel.getReplies(parentMessageId, {\n                                        id_around: messageId,\n                                        limit: limit\n                                    });\n                                case 21:\n                                    messageSetIndex = this.findMessageSetIndex({\n                                        id: messageIdToFind\n                                    });\n                                    if (messageSetIndex !== -1) {\n                                        this.switchToMessageSet(messageSetIndex);\n                                    }\n                                case 23:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this);\n                }));\n                function loadMessageIntoState(_x, _x2) {\n                    return _loadMessageIntoState.apply(this, arguments);\n                }\n                return loadMessageIntoState;\n            }()\n        },\n        {\n            key: \"findMessage\",\n            value: function findMessage(messageId, parentMessageId) {\n                if (parentMessageId) {\n                    var messages = this.threads[parentMessageId];\n                    if (!messages) {\n                        return undefined;\n                    }\n                    return messages.find(function(m) {\n                        return m.id === messageId;\n                    });\n                }\n                var messageSetIndex = this.findMessageSetIndex({\n                    id: messageId\n                });\n                if (messageSetIndex === -1) {\n                    return undefined;\n                }\n                return this.messageSets[messageSetIndex].messages.find(function(m) {\n                    return m.id === messageId;\n                });\n            }\n        },\n        {\n            key: \"switchToMessageSet\",\n            value: function switchToMessageSet(index) {\n                var currentMessages = this.messageSets.find(function(s) {\n                    return s.isCurrent;\n                });\n                if (!currentMessages) {\n                    return;\n                }\n                currentMessages.isCurrent = false;\n                this.messageSets[index].isCurrent = true;\n            }\n        },\n        {\n            key: \"areMessageSetsOverlap\",\n            value: function areMessageSetsOverlap(messages1, messages2) {\n                return messages1.some(function(m1) {\n                    return messages2.find(function(m2) {\n                        return m1.id === m2.id;\n                    });\n                });\n            }\n        },\n        {\n            key: \"findMessageSetIndex\",\n            value: function findMessageSetIndex(message) {\n                return this.messageSets.findIndex(function(set) {\n                    return !!set.messages.find(function(m) {\n                        return m.id === message.id;\n                    });\n                });\n            }\n        },\n        {\n            key: \"findTargetMessageSet\",\n            value: function findTargetMessageSet(newMessages) {\n                var _this5 = this;\n                var addIfDoesNotExist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"current\";\n                var messagesToAdd = newMessages;\n                var targetMessageSetIndex;\n                if (addIfDoesNotExist) {\n                    var overlappingMessageSetIndices = this.messageSets.map(function(_, i) {\n                        return i;\n                    }).filter(function(i) {\n                        return _this5.areMessageSetsOverlap(_this5.messageSets[i].messages, newMessages);\n                    });\n                    switch(messageSetToAddToIfDoesNotExist){\n                        case \"new\":\n                            if (overlappingMessageSetIndices.length > 0) {\n                                targetMessageSetIndex = overlappingMessageSetIndices[0]; // No new message set is created if newMessages only contains thread replies\n                            } else if (newMessages.some(function(m) {\n                                return !m.parent_id;\n                            })) {\n                                this.messageSets.push({\n                                    messages: [],\n                                    isCurrent: false,\n                                    isLatest: false\n                                });\n                                targetMessageSetIndex = this.messageSets.length - 1;\n                            }\n                            break;\n                        case \"current\":\n                            targetMessageSetIndex = this.messageSets.findIndex(function(s) {\n                                return s.isCurrent;\n                            });\n                            break;\n                        case \"latest\":\n                            targetMessageSetIndex = this.messageSets.findIndex(function(s) {\n                                return s.isLatest;\n                            });\n                            break;\n                        default:\n                            targetMessageSetIndex = -1;\n                    } // when merging the target set will be the first one from the overlapping message sets\n                    var mergeTargetMessageSetIndex = overlappingMessageSetIndices.splice(0, 1)[0];\n                    var mergeSourceMessageSetIndices = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(overlappingMessageSetIndices);\n                    if (mergeTargetMessageSetIndex !== undefined && mergeTargetMessageSetIndex !== targetMessageSetIndex) {\n                        mergeSourceMessageSetIndices.push(targetMessageSetIndex);\n                    } // merge message sets\n                    if (mergeSourceMessageSetIndices.length > 0) {\n                        var target = this.messageSets[mergeTargetMessageSetIndex];\n                        var sources = this.messageSets.filter(function(_, i) {\n                            return mergeSourceMessageSetIndices.indexOf(i) !== -1;\n                        });\n                        sources.forEach(function(messageSet) {\n                            target.isLatest = target.isLatest || messageSet.isLatest;\n                            target.isCurrent = target.isCurrent || messageSet.isCurrent;\n                            messagesToAdd = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messagesToAdd), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageSet.messages));\n                        });\n                        sources.forEach(function(s) {\n                            return _this5.messageSets.splice(_this5.messageSets.indexOf(s), 1);\n                        });\n                        var overlappingMessageSetIndex = this.messageSets.findIndex(function(s) {\n                            return _this5.areMessageSetsOverlap(s.messages, newMessages);\n                        });\n                        targetMessageSetIndex = overlappingMessageSetIndex;\n                    }\n                } else {\n                    // assumes that all new messages belong to the same set\n                    targetMessageSetIndex = this.findMessageSetIndex(newMessages[0]);\n                }\n                return {\n                    targetMessageSetIndex: targetMessageSetIndex,\n                    messagesToAdd: messagesToAdd\n                };\n            }\n        }\n    ]);\n    return ChannelState;\n}();\nfunction _createForOfIteratorHelper$3(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function(_e) {\n                    function e(_x) {\n                        return _e.apply(this, arguments);\n                    }\n                    e.toString = function() {\n                        return _e.toString();\n                    };\n                    return e;\n                }(function(e) {\n                    throw e;\n                }),\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function(_e2) {\n            function e(_x2) {\n                return _e2.apply(this, arguments);\n            }\n            e.toString = function() {\n                return _e2.toString();\n            };\n            return e;\n        }(function(e) {\n            didErr = true;\n            err = e;\n        }),\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$3(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen);\n}\nfunction _arrayLikeToArray$3(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\n/**\n * logChatPromiseExecution - utility function for logging the execution of a promise..\n *  use this when you want to run the promise and handle errors by logging a warning\n *\n * @param {Promise<T>} promise The promise you want to run and log\n * @param {string} name    A descriptive name of what the promise does for log output\n *\n */ function logChatPromiseExecution(promise, name) {\n    promise.then().catch(function(error) {\n        console.warn(\"failed to do \".concat(name, \", ran into error: \"), error);\n    });\n}\nvar sleep = function sleep(m) {\n    return new Promise(function(r) {\n        return setTimeout(r, m);\n    });\n};\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\nvar chatCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000\n};\nfunction isReadableStream(obj) {\n    return obj !== null && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(obj) === \"object\" && (obj.readable || typeof obj._read === \"function\");\n}\nfunction isBuffer(obj) {\n    return obj != null && obj.constructor != null && // @ts-expect-error\n    typeof obj.constructor.isBuffer === \"function\" && // @ts-expect-error\n    obj.constructor.isBuffer(obj);\n}\nfunction isFileWebAPI(uri) {\n    return  false && 0;\n}\nfunction isOwnUser(user) {\n    return (user === null || user === void 0 ? void 0 : user.total_unread_count) !== undefined;\n}\nfunction isBlobWebAPI(uri) {\n    return  false && 0;\n}\nfunction isOwnUserBaseProperty(property) {\n    var ownUserBaseProperties = {\n        channel_mutes: true,\n        devices: true,\n        mutes: true,\n        total_unread_count: true,\n        unread_channels: true,\n        unread_count: true,\n        invisible: true,\n        roles: true\n    };\n    return ownUserBaseProperties[property];\n}\nfunction addFileToFormData(uri, name, contentType) {\n    var data = new (form_data__WEBPACK_IMPORTED_MODULE_12___default())();\n    if (isReadableStream(uri) || isBuffer(uri) || isFileWebAPI(uri) || isBlobWebAPI(uri)) {\n        if (name) data.append(\"file\", uri, name);\n        else data.append(\"file\", uri);\n    } else {\n        data.append(\"file\", {\n            uri: uri,\n            name: name || uri.split(\"/\").reverse()[0],\n            contentType: contentType || undefined,\n            type: contentType || undefined\n        });\n    }\n    return data;\n}\nfunction normalizeQuerySort(sort) {\n    var sortFields = [];\n    var sortArr = Array.isArray(sort) ? sort : [\n        sort\n    ];\n    var _iterator = _createForOfIteratorHelper$3(sortArr), _step;\n    try {\n        for(_iterator.s(); !(_step = _iterator.n()).done;){\n            var item = _step.value;\n            var entries = Object.entries(item);\n            if (entries.length > 1) {\n                console.warn(\"client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed\");\n            }\n            for(var _i = 0, _entries = entries; _i < _entries.length; _i++){\n                var _entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default()(_entries[_i], 2), field = _entries$_i[0], direction = _entries$_i[1];\n                sortFields.push({\n                    field: field,\n                    direction: direction\n                });\n            }\n        }\n    } catch (err) {\n        _iterator.e(err);\n    } finally{\n        _iterator.f();\n    }\n    return sortFields;\n}\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-25 seconds (random to spread out the load from failures)\n    var max = Math.min(500 + numberOfFailures * 2000, 25000);\n    var min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 25000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction randomId() {\n    return generateUUIDv4();\n}\nfunction hex(bytes) {\n    var s = \"\";\n    for(var i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n} // https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    var bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return hex(bytes.subarray(0, 4)) + \"-\" + hex(bytes.subarray(4, 6)) + \"-\" + hex(bytes.subarray(6, 8)) + \"-\" + hex(bytes.subarray(8, 10)) + \"-\" + hex(bytes.subarray(10, 16));\n}\nfunction getRandomValuesWithMathRandom(bytes) {\n    var max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n    for(var i = 0; i < bytes.length; i++){\n        bytes[i] = Math.random() * max;\n    }\n}\nvar getRandomValues = function() {\n    var _crypto;\n    if (typeof crypto !== \"undefined\" && typeof ((_crypto = crypto) === null || _crypto === void 0 ? void 0 : _crypto.getRandomValues) !== \"undefined\") {\n        return crypto.getRandomValues.bind(crypto);\n    } else if (typeof msCrypto !== \"undefined\") {\n        return msCrypto.getRandomValues.bind(msCrypto);\n    } else {\n        return getRandomValuesWithMathRandom;\n    }\n}();\nfunction getRandomBytes(length) {\n    var bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\nfunction convertErrorToJson(err) {\n    var jsonObj = {};\n    if (!err) return jsonObj;\n    try {\n        Object.getOwnPropertyNames(err).forEach(function(key) {\n            jsonObj[key] = Object.getOwnPropertyDescriptor(err, key);\n        });\n    } catch (_) {\n        return {\n            error: \"failed to serialize the error\"\n        };\n    }\n    return jsonObj;\n}\n/**\n * isOnline safely return the navigator.online value for browser env\n * if navigator is not in global object, it always return true\n */ function isOnline() {\n    var nav = typeof navigator !== \"undefined\" ? navigator :  false ? 0 : undefined;\n    if (!nav) {\n        console.warn(\"isOnline failed to access window.navigator and assume browser is online\");\n        return true;\n    } // RN navigator has undefined for onLine\n    if (typeof nav.onLine !== \"boolean\") {\n        return true;\n    }\n    return nav.onLine;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\nvar axiosParamsSerializer = function axiosParamsSerializer(params) {\n    var newParams = [];\n    for(var k in params){\n        // Stream backend doesn't treat \"undefined\" value same as value not being present.\n        // So, we need to skip the undefined values.\n        if (params[k] === undefined) continue;\n        if (Array.isArray(params[k]) || _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(params[k]) === \"object\") {\n            newParams.push(\"\".concat(k, \"=\").concat(encodeURIComponent(JSON.stringify(params[k]))));\n        } else {\n            newParams.push(\"\".concat(k, \"=\").concat(encodeURIComponent(params[k])));\n        }\n    }\n    return newParams.join(\"&\");\n};\nfunction _createForOfIteratorHelper$2(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$2(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\nfunction _arrayLikeToArray$2(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nfunction ownKeys$5(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$5(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$5(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$5(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * Channel - The Channel class manages it's own state.\n */ var Channel = /*#__PURE__*/ function() {\n    /**  */ /**\n   * This boolean is a vague indication of weather the channel exists on chat backend.\n   *\n   * If the value is true, then that means the channel has been initialized by either calling\n   * channel.create() or channel.query() or channel.watch().\n   *\n   * If the value is false, then channel may or may not exist on the backend. The only way to ensure\n   * is by calling channel.create() or channel.query() or channel.watch().\n   */ /**\n   * Indicates weather channel has been initialized by manually populating the state with some messages, members etc.\n   * Static state indicates that channel exists on backend, but is not being watched yet.\n   */ /**\n   * constructor - Create a channel\n   *\n   * @param {StreamChat<StreamChatGenerics>} client the chat client\n   * @param {string} type  the type of channel\n   * @param {string} [id]  the id of the chat\n   * @param {ChannelData<StreamChatGenerics>} data any additional custom params\n   *\n   * @return {Channel<StreamChatGenerics>} Returns a new uninitialized channel\n   */ function Channel(client, type, id, data) {\n        var _this = this;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Channel);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"type\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"id\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"data\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_data\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cid\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"listeners\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"initialized\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"offlineMode\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastKeyStroke\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastTypingEvent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isTyping\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnected\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"create\", /*#__PURE__*/ function() {\n            var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(options) {\n                var defaultOptions;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                defaultOptions = _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                    watch: false,\n                                    state: false,\n                                    presence: false\n                                });\n                                _context.next = 3;\n                                return _this.query(defaultOptions, \"latest\");\n                            case 3:\n                                return _context.abrupt(\"return\", _context.sent);\n                            case 4:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee);\n            }));\n            return function(_x) {\n                return _ref.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_callChannelListeners\", function(event) {\n            var channel = _this; // gather and call the listeners\n            var listeners = [];\n            if (channel.listeners.all) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(channel.listeners.all));\n            }\n            if (channel.listeners[event.type]) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(channel.listeners[event.type]));\n            } // call the event and send it to the listeners\n            for(var _i = 0, _listeners = listeners; _i < _listeners.length; _i++){\n                var listener = _listeners[_i];\n                if (typeof listener !== \"string\") {\n                    listener(event);\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_channelURL\", function() {\n            if (!_this.id) {\n                throw new Error(\"channel id is not defined\");\n            }\n            return \"\".concat(_this.getClient().baseURL, \"/channels/\").concat(_this.type, \"/\").concat(_this.id);\n        });\n        var validTypeRe = /^[\\w_-]+$/;\n        var validIDRe = /^[\\w!_-]+$/;\n        if (!validTypeRe.test(type)) {\n            throw new Error(\"Invalid chat type \".concat(type, ', letters, numbers and \"_-\" are allowed'));\n        }\n        if (typeof id === \"string\" && !validIDRe.test(id)) {\n            throw new Error(\"Invalid chat id \".concat(id, ', letters, numbers and \"!-_\" are allowed'));\n        }\n        this._client = client;\n        this.type = type;\n        this.id = id; // used by the frontend, gets updated:\n        this.data = data; // this._data is used for the requests...\n        this._data = _objectSpread$5({}, data);\n        this.cid = \"\".concat(type, \":\").concat(id);\n        this.listeners = {}; // perhaps the state variable should be private\n        this.state = new ChannelState(this);\n        this.initialized = false;\n        this.offlineMode = false;\n        this.lastTypingEvent = null;\n        this.isTyping = false;\n        this.disconnected = false;\n    }\n    /**\n   * getClient - Get the chat client for this channel. If client.disconnect() was called, this function will error\n   *\n   * @return {StreamChat<StreamChatGenerics>}\n   */ _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(Channel, [\n        {\n            key: \"getClient\",\n            value: function getClient() {\n                if (this.disconnected === true) {\n                    throw Error(\"You can't use a channel after client.disconnect() was called\");\n                }\n                return this._client;\n            }\n        },\n        {\n            key: \"getConfig\",\n            value: function getConfig() {\n                var client = this.getClient();\n                return client.configs[this.cid];\n            }\n        },\n        {\n            key: \"sendMessage\",\n            value: function() {\n                var _sendMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(message, options) {\n                    var sendMessageResponse;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                        while(1){\n                            switch(_context2.prev = _context2.next){\n                                case 0:\n                                    _context2.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/message\", _objectSpread$5({\n                                        message: message\n                                    }, options));\n                                case 2:\n                                    sendMessageResponse = _context2.sent;\n                                    // Reset unreadCount to 0.\n                                    this.state.unreadCount = 0;\n                                    return _context2.abrupt(\"return\", sendMessageResponse);\n                                case 5:\n                                case \"end\":\n                                    return _context2.stop();\n                            }\n                        }\n                    }, _callee2, this);\n                }));\n                function sendMessage(_x2, _x3) {\n                    return _sendMessage.apply(this, arguments);\n                }\n                return sendMessage;\n            }()\n        },\n        {\n            key: \"sendFile\",\n            value: function sendFile(uri, name, contentType, user) {\n                return this.getClient().sendFile(\"\".concat(this._channelURL(), \"/file\"), uri, name, contentType, user);\n            }\n        },\n        {\n            key: \"sendImage\",\n            value: function sendImage(uri, name, contentType, user) {\n                return this.getClient().sendFile(\"\".concat(this._channelURL(), \"/image\"), uri, name, contentType, user);\n            }\n        },\n        {\n            key: \"deleteFile\",\n            value: function deleteFile(url) {\n                return this.getClient().delete(\"\".concat(this._channelURL(), \"/file\"), {\n                    url: url\n                });\n            }\n        },\n        {\n            key: \"deleteImage\",\n            value: function deleteImage(url) {\n                return this.getClient().delete(\"\".concat(this._channelURL(), \"/image\"), {\n                    url: url\n                });\n            }\n        },\n        {\n            key: \"sendEvent\",\n            value: function() {\n                var _sendEvent = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3(event) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                        while(1){\n                            switch(_context3.prev = _context3.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context3.next = 3;\n                                    return this.getClient().post(this._channelURL() + \"/event\", {\n                                        event: event\n                                    });\n                                case 3:\n                                    return _context3.abrupt(\"return\", _context3.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context3.stop();\n                            }\n                        }\n                    }, _callee3, this);\n                }));\n                function sendEvent(_x4) {\n                    return _sendEvent.apply(this, arguments);\n                }\n                return sendEvent;\n            }()\n        },\n        {\n            key: \"search\",\n            value: function() {\n                var _search = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4(query) {\n                    var options, payload, _args4 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    options = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n                                    if (!(options.offset && options.next)) {\n                                        _context4.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"Cannot specify offset with next\");\n                                case 3:\n                                    // Return a list of channels\n                                    payload = _objectSpread$5(_objectSpread$5({\n                                        filter_conditions: {\n                                            cid: this.cid\n                                        }\n                                    }, options), {}, {\n                                        sort: options.sort ? normalizeQuerySort(options.sort) : undefined\n                                    });\n                                    if (!(typeof query === \"string\")) {\n                                        _context4.next = 8;\n                                        break;\n                                    }\n                                    payload.query = query;\n                                    _context4.next = 13;\n                                    break;\n                                case 8:\n                                    if (!(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query) === \"object\")) {\n                                        _context4.next = 12;\n                                        break;\n                                    }\n                                    payload.message_filter_conditions = query;\n                                    _context4.next = 13;\n                                    break;\n                                case 12:\n                                    throw Error(\"Invalid type \".concat(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query), \" for query parameter\"));\n                                case 13:\n                                    _context4.next = 15;\n                                    return this.getClient().wsPromise;\n                                case 15:\n                                    _context4.next = 17;\n                                    return this.getClient().get(this.getClient().baseURL + \"/search\", {\n                                        payload: payload\n                                    });\n                                case 17:\n                                    return _context4.abrupt(\"return\", _context4.sent);\n                                case 18:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4, this);\n                }));\n                function search(_x5) {\n                    return _search.apply(this, arguments);\n                }\n                return search;\n            }()\n        },\n        {\n            key: \"queryMembers\",\n            value: function() {\n                var _queryMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5(filterConditions) {\n                    var _this$data;\n                    var sort, options, id, type, members, _args5 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    sort = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : [];\n                                    options = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : {};\n                                    type = this.type;\n                                    if (this.id) {\n                                        id = this.id;\n                                    } else if ((_this$data = this.data) !== null && _this$data !== void 0 && _this$data.members && Array.isArray(this.data.members)) {\n                                        members = this.data.members;\n                                    } // Return a list of members\n                                    _context5.next = 6;\n                                    return this.getClient().get(this.getClient().baseURL + \"/members\", {\n                                        payload: _objectSpread$5({\n                                            type: type,\n                                            id: id,\n                                            members: members,\n                                            sort: normalizeQuerySort(sort),\n                                            filter_conditions: filterConditions\n                                        }, options)\n                                    });\n                                case 6:\n                                    return _context5.abrupt(\"return\", _context5.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this);\n                }));\n                function queryMembers(_x6) {\n                    return _queryMembers.apply(this, arguments);\n                }\n                return queryMembers;\n            }()\n        },\n        {\n            key: \"sendReaction\",\n            value: function() {\n                var _sendReaction = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6(messageID, reaction, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    if (messageID) {\n                                        _context6.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Message id is missing\");\n                                case 2:\n                                    if (!(!reaction || Object.keys(reaction).length === 0)) {\n                                        _context6.next = 4;\n                                        break;\n                                    }\n                                    throw Error(\"Reaction object is missing\");\n                                case 4:\n                                    _context6.next = 6;\n                                    return this.getClient().post(this.getClient().baseURL + \"/messages/\".concat(messageID, \"/reaction\"), _objectSpread$5({\n                                        reaction: reaction\n                                    }, options));\n                                case 6:\n                                    return _context6.abrupt(\"return\", _context6.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this);\n                }));\n                function sendReaction(_x7, _x8, _x9) {\n                    return _sendReaction.apply(this, arguments);\n                }\n                return sendReaction;\n            }()\n        },\n        {\n            key: \"deleteReaction\",\n            value: function deleteReaction(messageID, reactionType, user_id) {\n                this._checkInitialized();\n                if (!reactionType || !messageID) {\n                    throw Error(\"Deleting a reaction requires specifying both the message and reaction type\");\n                }\n                var url = this.getClient().baseURL + \"/messages/\".concat(messageID, \"/reaction/\").concat(reactionType); //provided when server side request\n                if (user_id) {\n                    return this.getClient().delete(url, {\n                        user_id: user_id\n                    });\n                }\n                return this.getClient().delete(url, {});\n            }\n        },\n        {\n            key: \"update\",\n            value: function() {\n                var _update2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee7() {\n                    var channelData, updateMessage, options, reserved, _args7 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee7$(_context7) {\n                        while(1){\n                            switch(_context7.prev = _context7.next){\n                                case 0:\n                                    channelData = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {};\n                                    updateMessage = _args7.length > 1 ? _args7[1] : undefined;\n                                    options = _args7.length > 2 ? _args7[2] : undefined;\n                                    // Strip out reserved names that will result in API errors.\n                                    reserved = [\n                                        \"config\",\n                                        \"cid\",\n                                        \"created_by\",\n                                        \"id\",\n                                        \"member_count\",\n                                        \"type\",\n                                        \"created_at\",\n                                        \"updated_at\",\n                                        \"last_message_at\",\n                                        \"own_capabilities\"\n                                    ];\n                                    reserved.forEach(function(key) {\n                                        delete channelData[key];\n                                    });\n                                    _context7.next = 7;\n                                    return this._update(_objectSpread$5({\n                                        message: updateMessage,\n                                        data: channelData\n                                    }, options));\n                                case 7:\n                                    return _context7.abrupt(\"return\", _context7.sent);\n                                case 8:\n                                case \"end\":\n                                    return _context7.stop();\n                            }\n                        }\n                    }, _callee7, this);\n                }));\n                function update() {\n                    return _update2.apply(this, arguments);\n                }\n                return update;\n            }()\n        },\n        {\n            key: \"updatePartial\",\n            value: function() {\n                var _updatePartial = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee8(update) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee8$(_context8) {\n                        while(1){\n                            switch(_context8.prev = _context8.next){\n                                case 0:\n                                    _context8.next = 2;\n                                    return this.getClient().patch(this._channelURL(), update);\n                                case 2:\n                                    data = _context8.sent;\n                                    this.data = data.channel;\n                                    return _context8.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context8.stop();\n                            }\n                        }\n                    }, _callee8, this);\n                }));\n                function updatePartial(_x10) {\n                    return _updatePartial.apply(this, arguments);\n                }\n                return updatePartial;\n            }()\n        },\n        {\n            key: \"enableSlowMode\",\n            value: function() {\n                var _enableSlowMode = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee9(coolDownInterval) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee9$(_context9) {\n                        while(1){\n                            switch(_context9.prev = _context9.next){\n                                case 0:\n                                    _context9.next = 2;\n                                    return this.getClient().post(this._channelURL(), {\n                                        cooldown: coolDownInterval\n                                    });\n                                case 2:\n                                    data = _context9.sent;\n                                    this.data = data.channel;\n                                    return _context9.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context9.stop();\n                            }\n                        }\n                    }, _callee9, this);\n                }));\n                function enableSlowMode(_x11) {\n                    return _enableSlowMode.apply(this, arguments);\n                }\n                return enableSlowMode;\n            }()\n        },\n        {\n            key: \"disableSlowMode\",\n            value: function() {\n                var _disableSlowMode = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee10() {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee10$(_context10) {\n                        while(1){\n                            switch(_context10.prev = _context10.next){\n                                case 0:\n                                    _context10.next = 2;\n                                    return this.getClient().post(this._channelURL(), {\n                                        cooldown: 0\n                                    });\n                                case 2:\n                                    data = _context10.sent;\n                                    this.data = data.channel;\n                                    return _context10.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context10.stop();\n                            }\n                        }\n                    }, _callee10, this);\n                }));\n                function disableSlowMode() {\n                    return _disableSlowMode.apply(this, arguments);\n                }\n                return disableSlowMode;\n            }()\n        },\n        {\n            key: \"delete\",\n            value: function() {\n                var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee11() {\n                    var options, _args11 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee11$(_context11) {\n                        while(1){\n                            switch(_context11.prev = _context11.next){\n                                case 0:\n                                    options = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {};\n                                    _context11.next = 3;\n                                    return this.getClient().delete(this._channelURL(), _objectSpread$5({}, options));\n                                case 3:\n                                    return _context11.abrupt(\"return\", _context11.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context11.stop();\n                            }\n                        }\n                    }, _callee11, this);\n                }));\n                function _delete() {\n                    return _delete2.apply(this, arguments);\n                }\n                return _delete;\n            }()\n        },\n        {\n            key: \"truncate\",\n            value: function() {\n                var _truncate = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee12() {\n                    var options, _args12 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee12$(_context12) {\n                        while(1){\n                            switch(_context12.prev = _context12.next){\n                                case 0:\n                                    options = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {};\n                                    _context12.next = 3;\n                                    return this.getClient().post(this._channelURL() + \"/truncate\", options);\n                                case 3:\n                                    return _context12.abrupt(\"return\", _context12.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context12.stop();\n                            }\n                        }\n                    }, _callee12, this);\n                }));\n                function truncate() {\n                    return _truncate.apply(this, arguments);\n                }\n                return truncate;\n            }()\n        },\n        {\n            key: \"acceptInvite\",\n            value: function() {\n                var _acceptInvite = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee13() {\n                    var options, _args13 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee13$(_context13) {\n                        while(1){\n                            switch(_context13.prev = _context13.next){\n                                case 0:\n                                    options = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {};\n                                    _context13.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        accept_invite: true\n                                    }, options));\n                                case 3:\n                                    return _context13.abrupt(\"return\", _context13.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context13.stop();\n                            }\n                        }\n                    }, _callee13, this);\n                }));\n                function acceptInvite() {\n                    return _acceptInvite.apply(this, arguments);\n                }\n                return acceptInvite;\n            }()\n        },\n        {\n            key: \"rejectInvite\",\n            value: function() {\n                var _rejectInvite = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee14() {\n                    var options, _args14 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee14$(_context14) {\n                        while(1){\n                            switch(_context14.prev = _context14.next){\n                                case 0:\n                                    options = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {};\n                                    _context14.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        reject_invite: true\n                                    }, options));\n                                case 3:\n                                    return _context14.abrupt(\"return\", _context14.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context14.stop();\n                            }\n                        }\n                    }, _callee14, this);\n                }));\n                function rejectInvite() {\n                    return _rejectInvite.apply(this, arguments);\n                }\n                return rejectInvite;\n            }()\n        },\n        {\n            key: \"addMembers\",\n            value: function() {\n                var _addMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee15(members, message) {\n                    var options, _args15 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee15$(_context15) {\n                        while(1){\n                            switch(_context15.prev = _context15.next){\n                                case 0:\n                                    options = _args15.length > 2 && _args15[2] !== undefined ? _args15[2] : {};\n                                    _context15.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        add_members: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context15.abrupt(\"return\", _context15.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context15.stop();\n                            }\n                        }\n                    }, _callee15, this);\n                }));\n                function addMembers(_x12, _x13) {\n                    return _addMembers.apply(this, arguments);\n                }\n                return addMembers;\n            }()\n        },\n        {\n            key: \"addModerators\",\n            value: function() {\n                var _addModerators = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee16(members, message) {\n                    var options, _args16 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee16$(_context16) {\n                        while(1){\n                            switch(_context16.prev = _context16.next){\n                                case 0:\n                                    options = _args16.length > 2 && _args16[2] !== undefined ? _args16[2] : {};\n                                    _context16.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        add_moderators: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context16.stop();\n                            }\n                        }\n                    }, _callee16, this);\n                }));\n                function addModerators(_x14, _x15) {\n                    return _addModerators.apply(this, arguments);\n                }\n                return addModerators;\n            }()\n        },\n        {\n            key: \"assignRoles\",\n            value: function() {\n                var _assignRoles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee17(roles, message) {\n                    var options, _args17 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee17$(_context17) {\n                        while(1){\n                            switch(_context17.prev = _context17.next){\n                                case 0:\n                                    options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n                                    _context17.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        assign_roles: roles,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context17.abrupt(\"return\", _context17.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context17.stop();\n                            }\n                        }\n                    }, _callee17, this);\n                }));\n                function assignRoles(_x16, _x17) {\n                    return _assignRoles.apply(this, arguments);\n                }\n                return assignRoles;\n            }()\n        },\n        {\n            key: \"inviteMembers\",\n            value: function() {\n                var _inviteMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee18(members, message) {\n                    var options, _args18 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee18$(_context18) {\n                        while(1){\n                            switch(_context18.prev = _context18.next){\n                                case 0:\n                                    options = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : {};\n                                    _context18.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        invites: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context18.abrupt(\"return\", _context18.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context18.stop();\n                            }\n                        }\n                    }, _callee18, this);\n                }));\n                function inviteMembers(_x18, _x19) {\n                    return _inviteMembers.apply(this, arguments);\n                }\n                return inviteMembers;\n            }()\n        },\n        {\n            key: \"removeMembers\",\n            value: function() {\n                var _removeMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee19(members, message) {\n                    var options, _args19 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee19$(_context19) {\n                        while(1){\n                            switch(_context19.prev = _context19.next){\n                                case 0:\n                                    options = _args19.length > 2 && _args19[2] !== undefined ? _args19[2] : {};\n                                    _context19.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        remove_members: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context19.abrupt(\"return\", _context19.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context19.stop();\n                            }\n                        }\n                    }, _callee19, this);\n                }));\n                function removeMembers(_x20, _x21) {\n                    return _removeMembers.apply(this, arguments);\n                }\n                return removeMembers;\n            }()\n        },\n        {\n            key: \"demoteModerators\",\n            value: function() {\n                var _demoteModerators = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee20(members, message) {\n                    var options, _args20 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee20$(_context20) {\n                        while(1){\n                            switch(_context20.prev = _context20.next){\n                                case 0:\n                                    options = _args20.length > 2 && _args20[2] !== undefined ? _args20[2] : {};\n                                    _context20.next = 3;\n                                    return this._update(_objectSpread$5({\n                                        demote_moderators: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context20.abrupt(\"return\", _context20.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context20.stop();\n                            }\n                        }\n                    }, _callee20, this);\n                }));\n                function demoteModerators(_x22, _x23) {\n                    return _demoteModerators.apply(this, arguments);\n                }\n                return demoteModerators;\n            }()\n        },\n        {\n            key: \"_update\",\n            value: function() {\n                var _update3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee21(payload) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee21$(_context21) {\n                        while(1){\n                            switch(_context21.prev = _context21.next){\n                                case 0:\n                                    _context21.next = 2;\n                                    return this.getClient().post(this._channelURL(), payload);\n                                case 2:\n                                    data = _context21.sent;\n                                    this.data = data.channel;\n                                    return _context21.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context21.stop();\n                            }\n                        }\n                    }, _callee21, this);\n                }));\n                function _update(_x24) {\n                    return _update3.apply(this, arguments);\n                }\n                return _update;\n            }()\n        },\n        {\n            key: \"mute\",\n            value: function() {\n                var _mute = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee22() {\n                    var opts, _args22 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee22$(_context22) {\n                        while(1){\n                            switch(_context22.prev = _context22.next){\n                                case 0:\n                                    opts = _args22.length > 0 && _args22[0] !== undefined ? _args22[0] : {};\n                                    _context22.next = 3;\n                                    return this.getClient().post(this.getClient().baseURL + \"/moderation/mute/channel\", _objectSpread$5({\n                                        channel_cid: this.cid\n                                    }, opts));\n                                case 3:\n                                    return _context22.abrupt(\"return\", _context22.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context22.stop();\n                            }\n                        }\n                    }, _callee22, this);\n                }));\n                function mute() {\n                    return _mute.apply(this, arguments);\n                }\n                return mute;\n            }()\n        },\n        {\n            key: \"unmute\",\n            value: function() {\n                var _unmute = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee23() {\n                    var opts, _args23 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee23$(_context23) {\n                        while(1){\n                            switch(_context23.prev = _context23.next){\n                                case 0:\n                                    opts = _args23.length > 0 && _args23[0] !== undefined ? _args23[0] : {};\n                                    _context23.next = 3;\n                                    return this.getClient().post(this.getClient().baseURL + \"/moderation/unmute/channel\", _objectSpread$5({\n                                        channel_cid: this.cid\n                                    }, opts));\n                                case 3:\n                                    return _context23.abrupt(\"return\", _context23.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context23.stop();\n                            }\n                        }\n                    }, _callee23, this);\n                }));\n                function unmute() {\n                    return _unmute.apply(this, arguments);\n                }\n                return unmute;\n            }()\n        },\n        {\n            key: \"muteStatus\",\n            value: function muteStatus() {\n                this._checkInitialized();\n                return this.getClient()._muteStatus(this.cid);\n            }\n        },\n        {\n            key: \"sendAction\",\n            value: function sendAction(messageID, formData) {\n                this._checkInitialized();\n                if (!messageID) {\n                    throw Error(\"Message id is missing\");\n                }\n                return this.getClient().post(this.getClient().baseURL + \"/messages/\".concat(messageID, \"/action\"), {\n                    message_id: messageID,\n                    form_data: formData,\n                    id: this.id,\n                    type: this.type\n                });\n            }\n        },\n        {\n            key: \"keystroke\",\n            value: function() {\n                var _keystroke = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee24(parent_id) {\n                    var _this$getConfig;\n                    var now, diff;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee24$(_context24) {\n                        while(1){\n                            switch(_context24.prev = _context24.next){\n                                case 0:\n                                    if ((_this$getConfig = this.getConfig()) !== null && _this$getConfig !== void 0 && _this$getConfig.typing_events) {\n                                        _context24.next = 2;\n                                        break;\n                                    }\n                                    return _context24.abrupt(\"return\");\n                                case 2:\n                                    now = new Date();\n                                    diff = this.lastTypingEvent && now.getTime() - this.lastTypingEvent.getTime();\n                                    this.lastKeyStroke = now;\n                                    this.isTyping = true; // send a typing.start every 2 seconds\n                                    if (!(diff === null || diff > 2000)) {\n                                        _context24.next = 10;\n                                        break;\n                                    }\n                                    this.lastTypingEvent = new Date();\n                                    _context24.next = 10;\n                                    return this.sendEvent({\n                                        type: \"typing.start\",\n                                        parent_id: parent_id\n                                    });\n                                case 10:\n                                case \"end\":\n                                    return _context24.stop();\n                            }\n                        }\n                    }, _callee24, this);\n                }));\n                function keystroke(_x25) {\n                    return _keystroke.apply(this, arguments);\n                }\n                return keystroke;\n            }()\n        },\n        {\n            key: \"stopTyping\",\n            value: function() {\n                var _stopTyping = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee25(parent_id) {\n                    var _this$getConfig2;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee25$(_context25) {\n                        while(1){\n                            switch(_context25.prev = _context25.next){\n                                case 0:\n                                    if ((_this$getConfig2 = this.getConfig()) !== null && _this$getConfig2 !== void 0 && _this$getConfig2.typing_events) {\n                                        _context25.next = 2;\n                                        break;\n                                    }\n                                    return _context25.abrupt(\"return\");\n                                case 2:\n                                    this.lastTypingEvent = null;\n                                    this.isTyping = false;\n                                    _context25.next = 6;\n                                    return this.sendEvent({\n                                        type: \"typing.stop\",\n                                        parent_id: parent_id\n                                    });\n                                case 6:\n                                case \"end\":\n                                    return _context25.stop();\n                            }\n                        }\n                    }, _callee25, this);\n                }));\n                function stopTyping(_x26) {\n                    return _stopTyping.apply(this, arguments);\n                }\n                return stopTyping;\n            }()\n        },\n        {\n            key: \"lastMessage\",\n            value: function lastMessage() {\n                // get last 5 messages, sort, return the latest\n                // get a slice of the last 5\n                var min = this.state.latestMessages.length - 5;\n                if (min < 0) {\n                    min = 0;\n                }\n                var max = this.state.latestMessages.length + 1;\n                var messageSlice = this.state.latestMessages.slice(min, max); // sort by pk desc\n                messageSlice.sort(function(a, b) {\n                    return b.created_at.getTime() - a.created_at.getTime();\n                });\n                return messageSlice[0];\n            }\n        },\n        {\n            key: \"markRead\",\n            value: function() {\n                var _markRead = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee26() {\n                    var _this$getConfig3;\n                    var data, _args26 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee26$(_context26) {\n                        while(1){\n                            switch(_context26.prev = _context26.next){\n                                case 0:\n                                    data = _args26.length > 0 && _args26[0] !== undefined ? _args26[0] : {};\n                                    this._checkInitialized();\n                                    if ((_this$getConfig3 = this.getConfig()) !== null && _this$getConfig3 !== void 0 && _this$getConfig3.read_events) {\n                                        _context26.next = 4;\n                                        break;\n                                    }\n                                    return _context26.abrupt(\"return\", Promise.resolve(null));\n                                case 4:\n                                    _context26.next = 6;\n                                    return this.getClient().post(this._channelURL() + \"/read\", _objectSpread$5({}, data));\n                                case 6:\n                                    return _context26.abrupt(\"return\", _context26.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context26.stop();\n                            }\n                        }\n                    }, _callee26, this);\n                }));\n                function markRead() {\n                    return _markRead.apply(this, arguments);\n                }\n                return markRead;\n            }()\n        },\n        {\n            key: \"markUnread\",\n            value: function() {\n                var _markUnread = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee27(data) {\n                    var _this$getConfig4;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee27$(_context27) {\n                        while(1){\n                            switch(_context27.prev = _context27.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    if ((_this$getConfig4 = this.getConfig()) !== null && _this$getConfig4 !== void 0 && _this$getConfig4.read_events) {\n                                        _context27.next = 3;\n                                        break;\n                                    }\n                                    return _context27.abrupt(\"return\", Promise.resolve(null));\n                                case 3:\n                                    _context27.next = 5;\n                                    return this.getClient().post(this._channelURL() + \"/unread\", _objectSpread$5({}, data));\n                                case 5:\n                                    return _context27.abrupt(\"return\", _context27.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context27.stop();\n                            }\n                        }\n                    }, _callee27, this);\n                }));\n                function markUnread(_x27) {\n                    return _markUnread.apply(this, arguments);\n                }\n                return markUnread;\n            }()\n        },\n        {\n            key: \"clean\",\n            value: function clean() {\n                if (this.lastKeyStroke) {\n                    var now = new Date();\n                    var diff = now.getTime() - this.lastKeyStroke.getTime();\n                    if (diff > 1000 && this.isTyping) {\n                        logChatPromiseExecution(this.stopTyping(), \"stop typing event\");\n                    }\n                }\n                this.state.clean();\n            }\n        },\n        {\n            key: \"watch\",\n            value: function() {\n                var _watch = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee28(options) {\n                    var defaultOptions, combined, state;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee28$(_context28) {\n                        while(1){\n                            switch(_context28.prev = _context28.next){\n                                case 0:\n                                    defaultOptions = {\n                                        state: true,\n                                        watch: true,\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context28.next = 3;\n                                    return this.getClient().wsPromise;\n                                case 3:\n                                    if (!this.getClient()._hasConnectionID()) {\n                                        defaultOptions.watch = false;\n                                    }\n                                    combined = _objectSpread$5(_objectSpread$5({}, defaultOptions), options);\n                                    _context28.next = 7;\n                                    return this.query(combined, \"latest\");\n                                case 7:\n                                    state = _context28.sent;\n                                    this.initialized = true;\n                                    this.data = state.channel;\n                                    this._client.logger(\"info\", \"channel:watch() - started watching channel \".concat(this.cid), {\n                                        tags: [\n                                            \"channel\"\n                                        ],\n                                        channel: this\n                                    });\n                                    return _context28.abrupt(\"return\", state);\n                                case 12:\n                                case \"end\":\n                                    return _context28.stop();\n                            }\n                        }\n                    }, _callee28, this);\n                }));\n                function watch(_x28) {\n                    return _watch.apply(this, arguments);\n                }\n                return watch;\n            }()\n        },\n        {\n            key: \"stopWatching\",\n            value: function() {\n                var _stopWatching = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee29() {\n                    var response;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee29$(_context29) {\n                        while(1){\n                            switch(_context29.prev = _context29.next){\n                                case 0:\n                                    _context29.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/stop-watching\", {});\n                                case 2:\n                                    response = _context29.sent;\n                                    this._client.logger(\"info\", \"channel:watch() - stopped watching channel \".concat(this.cid), {\n                                        tags: [\n                                            \"channel\"\n                                        ],\n                                        channel: this\n                                    });\n                                    return _context29.abrupt(\"return\", response);\n                                case 5:\n                                case \"end\":\n                                    return _context29.stop();\n                            }\n                        }\n                    }, _callee29, this);\n                }));\n                function stopWatching() {\n                    return _stopWatching.apply(this, arguments);\n                }\n                return stopWatching;\n            }()\n        },\n        {\n            key: \"getReplies\",\n            value: function() {\n                var _getReplies = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee30(parent_id, options) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee30$(_context30) {\n                        while(1){\n                            switch(_context30.prev = _context30.next){\n                                case 0:\n                                    _context30.next = 2;\n                                    return this.getClient().get(this.getClient().baseURL + \"/messages/\".concat(parent_id, \"/replies\"), _objectSpread$5({}, options));\n                                case 2:\n                                    data = _context30.sent;\n                                    // add any messages to our thread state\n                                    if (data.messages) {\n                                        this.state.addMessagesSorted(data.messages);\n                                    }\n                                    return _context30.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context30.stop();\n                            }\n                        }\n                    }, _callee30, this);\n                }));\n                function getReplies(_x29, _x30) {\n                    return _getReplies.apply(this, arguments);\n                }\n                return getReplies;\n            }()\n        },\n        {\n            key: \"getPinnedMessages\",\n            value: function() {\n                var _getPinnedMessages = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee31(options) {\n                    var sort, _args31 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee31$(_context31) {\n                        while(1){\n                            switch(_context31.prev = _context31.next){\n                                case 0:\n                                    sort = _args31.length > 1 && _args31[1] !== undefined ? _args31[1] : [];\n                                    _context31.next = 3;\n                                    return this.getClient().get(this.getClient().baseURL + \"/channels/\".concat(this.type, \"/\").concat(this.id, \"/pinned_messages\"), {\n                                        payload: _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                            sort: normalizeQuerySort(sort)\n                                        })\n                                    });\n                                case 3:\n                                    return _context31.abrupt(\"return\", _context31.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context31.stop();\n                            }\n                        }\n                    }, _callee31, this);\n                }));\n                function getPinnedMessages(_x31) {\n                    return _getPinnedMessages.apply(this, arguments);\n                }\n                return getPinnedMessages;\n            }()\n        },\n        {\n            key: \"getReactions\",\n            value: function getReactions(message_id, options) {\n                return this.getClient().get(this.getClient().baseURL + \"/messages/\".concat(message_id, \"/reactions\"), _objectSpread$5({}, options));\n            }\n        },\n        {\n            key: \"getMessagesById\",\n            value: function getMessagesById(messageIds) {\n                return this.getClient().get(this._channelURL() + \"/messages\", {\n                    ids: messageIds.join(\",\")\n                });\n            }\n        },\n        {\n            key: \"lastRead\",\n            value: function lastRead() {\n                var _this$getClient = this.getClient(), userID = _this$getClient.userID;\n                if (userID) {\n                    return this.state.read[userID] ? this.state.read[userID].last_read : null;\n                }\n            }\n        },\n        {\n            key: \"_countMessageAsUnread\",\n            value: function _countMessageAsUnread(message) {\n                var _message$user, _message$user2, _this$data2, _this$data3;\n                if (message.shadowed) return false;\n                if (message.silent) return false;\n                if (message.parent_id && !message.show_in_channel) return false;\n                if (((_message$user = message.user) === null || _message$user === void 0 ? void 0 : _message$user.id) === this.getClient().userID) return false;\n                if ((_message$user2 = message.user) !== null && _message$user2 !== void 0 && _message$user2.id && this.getClient().userMuteStatus(message.user.id)) return false;\n                if (message.type === \"system\") return false; // Return false if channel doesn't allow read events.\n                if (Array.isArray((_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : _this$data2.own_capabilities) && !((_this$data3 = this.data) !== null && _this$data3 !== void 0 && _this$data3.own_capabilities.includes(\"read-events\"))) return false;\n                if (this.muteStatus().muted) return false;\n                return true;\n            }\n        },\n        {\n            key: \"countUnread\",\n            value: function countUnread(lastRead) {\n                if (!lastRead) return this.state.unreadCount;\n                var count = 0;\n                for(var i = 0; i < this.state.latestMessages.length; i += 1){\n                    var message = this.state.latestMessages[i];\n                    if (message.created_at > lastRead && this._countMessageAsUnread(message)) {\n                        count++;\n                    }\n                }\n                return count;\n            }\n        },\n        {\n            key: \"countUnreadMentions\",\n            value: function countUnreadMentions() {\n                var lastRead = this.lastRead();\n                var userID = this.getClient().userID;\n                var count = 0;\n                for(var i = 0; i < this.state.latestMessages.length; i += 1){\n                    var _message$mentioned_us;\n                    var message = this.state.latestMessages[i];\n                    if (this._countMessageAsUnread(message) && (!lastRead || message.created_at > lastRead) && (_message$mentioned_us = message.mentioned_users) !== null && _message$mentioned_us !== void 0 && _message$mentioned_us.some(function(user) {\n                        return user.id === userID;\n                    })) {\n                        count++;\n                    }\n                }\n                return count;\n            }\n        },\n        {\n            key: \"query\",\n            value: /**\n     * query - Query the API, get messages, members or other channel fields\n     *\n     * @param {ChannelQueryOptions<StreamChatGenerics>} options The query options\n     * @param {MessageSetType} messageSetToAddToIfDoesNotExist It's possible to load disjunct sets of a channel's messages into state, use `current` to load the initial channel state or if you want to extend the currently displayed messages, use `latest` if you want to load/extend the latest messages, `new` is used for loading a specific message and it's surroundings\n     *\n     * @return {Promise<QueryChannelAPIResponse<StreamChatGenerics>>} Returns a query response\n     */ function() {\n                var _query = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee32(options) {\n                    var _this$data4, _this$data5;\n                    var messageSetToAddToIfDoesNotExist, queryURL, state, membersStr, tempChannelCid, _this$_initializeStat, messageSet, areCapabilitiesChanged, _args32 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee32$(_context32) {\n                        while(1){\n                            switch(_context32.prev = _context32.next){\n                                case 0:\n                                    messageSetToAddToIfDoesNotExist = _args32.length > 1 && _args32[1] !== undefined ? _args32[1] : \"current\";\n                                    _context32.next = 3;\n                                    return this.getClient().wsPromise;\n                                case 3:\n                                    queryURL = \"\".concat(this.getClient().baseURL, \"/channels/\").concat(this.type);\n                                    if (this.id) {\n                                        queryURL += \"/\".concat(this.id);\n                                    }\n                                    _context32.next = 7;\n                                    return this.getClient().post(queryURL + \"/query\", _objectSpread$5({\n                                        data: this._data,\n                                        state: true\n                                    }, options));\n                                case 7:\n                                    state = _context32.sent;\n                                    // update the channel id if it was missing\n                                    if (!this.id) {\n                                        this.id = state.channel.id;\n                                        this.cid = state.channel.cid; // set the channel as active...\n                                        membersStr = state.members.map(function(member) {\n                                            var _member$user;\n                                            return member.user_id || ((_member$user = member.user) === null || _member$user === void 0 ? void 0 : _member$user.id);\n                                        }).sort().join(\",\");\n                                        tempChannelCid = \"\".concat(this.type, \":!members-\").concat(membersStr);\n                                        if (tempChannelCid in this.getClient().activeChannels) {\n                                            // This gets set in `client.channel()` function, when channel is created\n                                            // using members, not id.\n                                            delete this.getClient().activeChannels[tempChannelCid];\n                                        }\n                                        if (!(this.cid in this.getClient().activeChannels)) {\n                                            this.getClient().activeChannels[this.cid] = this;\n                                        }\n                                    }\n                                    this.getClient()._addChannelConfig(state.channel); // add any messages to our channel state\n                                    _this$_initializeStat = this._initializeState(state, messageSetToAddToIfDoesNotExist), messageSet = _this$_initializeStat.messageSet;\n                                    areCapabilitiesChanged = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(state.channel.own_capabilities || []).sort().join() !== _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(Array.isArray((_this$data4 = this.data) === null || _this$data4 === void 0 ? void 0 : _this$data4.own_capabilities) ? (_this$data5 = this.data) === null || _this$data5 === void 0 ? void 0 : _this$data5.own_capabilities : []).sort().join();\n                                    this.data = state.channel;\n                                    this.offlineMode = false;\n                                    if (areCapabilitiesChanged) {\n                                        this.getClient().dispatchEvent({\n                                            type: \"capabilities.changed\",\n                                            cid: this.cid,\n                                            own_capabilities: state.channel.own_capabilities\n                                        });\n                                    }\n                                    this.getClient().dispatchEvent({\n                                        type: \"channels.queried\",\n                                        queriedChannels: {\n                                            channels: [\n                                                state\n                                            ],\n                                            isLatestMessageSet: messageSet.isLatest\n                                        }\n                                    });\n                                    return _context32.abrupt(\"return\", state);\n                                case 17:\n                                case \"end\":\n                                    return _context32.stop();\n                            }\n                        }\n                    }, _callee32, this);\n                }));\n                function query(_x32) {\n                    return _query.apply(this, arguments);\n                }\n                return query;\n            }()\n        },\n        {\n            key: \"banUser\",\n            value: function() {\n                var _banUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee33(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee33$(_context33) {\n                        while(1){\n                            switch(_context33.prev = _context33.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context33.next = 3;\n                                    return this.getClient().banUser(targetUserID, _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                        type: this.type,\n                                        id: this.id\n                                    }));\n                                case 3:\n                                    return _context33.abrupt(\"return\", _context33.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context33.stop();\n                            }\n                        }\n                    }, _callee33, this);\n                }));\n                function banUser(_x33, _x34) {\n                    return _banUser.apply(this, arguments);\n                }\n                return banUser;\n            }()\n        },\n        {\n            key: \"hide\",\n            value: function() {\n                var _hide = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee34() {\n                    var userId, clearHistory, _args34 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee34$(_context34) {\n                        while(1){\n                            switch(_context34.prev = _context34.next){\n                                case 0:\n                                    userId = _args34.length > 0 && _args34[0] !== undefined ? _args34[0] : null;\n                                    clearHistory = _args34.length > 1 && _args34[1] !== undefined ? _args34[1] : false;\n                                    this._checkInitialized();\n                                    _context34.next = 5;\n                                    return this.getClient().post(\"\".concat(this._channelURL(), \"/hide\"), {\n                                        user_id: userId,\n                                        clear_history: clearHistory\n                                    });\n                                case 5:\n                                    return _context34.abrupt(\"return\", _context34.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context34.stop();\n                            }\n                        }\n                    }, _callee34, this);\n                }));\n                function hide() {\n                    return _hide.apply(this, arguments);\n                }\n                return hide;\n            }()\n        },\n        {\n            key: \"show\",\n            value: function() {\n                var _show = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee35() {\n                    var userId, _args35 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee35$(_context35) {\n                        while(1){\n                            switch(_context35.prev = _context35.next){\n                                case 0:\n                                    userId = _args35.length > 0 && _args35[0] !== undefined ? _args35[0] : null;\n                                    this._checkInitialized();\n                                    _context35.next = 4;\n                                    return this.getClient().post(\"\".concat(this._channelURL(), \"/show\"), {\n                                        user_id: userId\n                                    });\n                                case 4:\n                                    return _context35.abrupt(\"return\", _context35.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context35.stop();\n                            }\n                        }\n                    }, _callee35, this);\n                }));\n                function show() {\n                    return _show.apply(this, arguments);\n                }\n                return show;\n            }()\n        },\n        {\n            key: \"unbanUser\",\n            value: function() {\n                var _unbanUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee36(targetUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee36$(_context36) {\n                        while(1){\n                            switch(_context36.prev = _context36.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context36.next = 3;\n                                    return this.getClient().unbanUser(targetUserID, {\n                                        type: this.type,\n                                        id: this.id\n                                    });\n                                case 3:\n                                    return _context36.abrupt(\"return\", _context36.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context36.stop();\n                            }\n                        }\n                    }, _callee36, this);\n                }));\n                function unbanUser(_x35) {\n                    return _unbanUser.apply(this, arguments);\n                }\n                return unbanUser;\n            }()\n        },\n        {\n            key: \"shadowBan\",\n            value: function() {\n                var _shadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee37(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee37$(_context37) {\n                        while(1){\n                            switch(_context37.prev = _context37.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context37.next = 3;\n                                    return this.getClient().shadowBan(targetUserID, _objectSpread$5(_objectSpread$5({}, options), {}, {\n                                        type: this.type,\n                                        id: this.id\n                                    }));\n                                case 3:\n                                    return _context37.abrupt(\"return\", _context37.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context37.stop();\n                            }\n                        }\n                    }, _callee37, this);\n                }));\n                function shadowBan(_x36, _x37) {\n                    return _shadowBan.apply(this, arguments);\n                }\n                return shadowBan;\n            }()\n        },\n        {\n            key: \"removeShadowBan\",\n            value: function() {\n                var _removeShadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee38(targetUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee38$(_context38) {\n                        while(1){\n                            switch(_context38.prev = _context38.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context38.next = 3;\n                                    return this.getClient().removeShadowBan(targetUserID, {\n                                        type: this.type,\n                                        id: this.id\n                                    });\n                                case 3:\n                                    return _context38.abrupt(\"return\", _context38.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context38.stop();\n                            }\n                        }\n                    }, _callee38, this);\n                }));\n                function removeShadowBan(_x38) {\n                    return _removeShadowBan.apply(this, arguments);\n                }\n                return removeShadowBan;\n            }()\n        },\n        {\n            key: \"createCall\",\n            value: function() {\n                var _createCall = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee39(options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee39$(_context39) {\n                        while(1){\n                            switch(_context39.prev = _context39.next){\n                                case 0:\n                                    _context39.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/call\", options);\n                                case 2:\n                                    return _context39.abrupt(\"return\", _context39.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context39.stop();\n                            }\n                        }\n                    }, _callee39, this);\n                }));\n                function createCall(_x39) {\n                    return _createCall.apply(this, arguments);\n                }\n                return createCall;\n            }()\n        },\n        {\n            key: \"on\",\n            value: function on(callbackOrString, callbackOrNothing) {\n                var _this2 = this;\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this._client.logger(\"info\", \"Attaching listener for \".concat(key, \" event on channel \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.listeners[key].push(callback);\n                return {\n                    unsubscribe: function unsubscribe() {\n                        _this2._client.logger(\"info\", \"Removing listener for \".concat(key, \" event from channel \").concat(_this2.cid), {\n                            tags: [\n                                \"event\",\n                                \"channel\"\n                            ],\n                            channel: _this2\n                        });\n                        _this2.listeners[key] = _this2.listeners[key].filter(function(el) {\n                            return el !== callback;\n                        });\n                    }\n                };\n            }\n        },\n        {\n            key: \"off\",\n            value: function off(callbackOrString, callbackOrNothing) {\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this._client.logger(\"info\", \"Removing listener for \".concat(key, \" event from channel \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.listeners[key] = this.listeners[key].filter(function(value) {\n                    return value !== callback;\n                });\n            } // eslint-disable-next-line sonarjs/cognitive-complexity\n        },\n        {\n            key: \"_handleChannelEvent\",\n            value: function _handleChannelEvent(event) {\n                var _event$user, _event$user2, _event$user3, _event$user5, _event$user6, _event$channel, _event$member, _event$user9, _event$user10, _channelState$members, _event$user11, _channelState$members2;\n                var channel = this;\n                this._client.logger(\"info\", \"channel:_handleChannelEvent - Received event of type { \".concat(event.type, \" } on \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                var channelState = channel.state;\n                switch(event.type){\n                    case \"typing.start\":\n                        if ((_event$user = event.user) !== null && _event$user !== void 0 && _event$user.id) {\n                            channelState.typing[event.user.id] = event;\n                        }\n                        break;\n                    case \"typing.stop\":\n                        if ((_event$user2 = event.user) !== null && _event$user2 !== void 0 && _event$user2.id) {\n                            delete channelState.typing[event.user.id];\n                        }\n                        break;\n                    case \"message.read\":\n                        if ((_event$user3 = event.user) !== null && _event$user3 !== void 0 && _event$user3.id && event.created_at) {\n                            var _event$user4, _this$getClient$user;\n                            channelState.read[event.user.id] = {\n                                // because in client.ts the handleEvent call that flows to this sets this `event.received_at = new Date();`\n                                last_read: new Date(event.created_at),\n                                last_read_message_id: event.last_read_message_id,\n                                user: event.user,\n                                unread_messages: 0\n                            };\n                            if (((_event$user4 = event.user) === null || _event$user4 === void 0 ? void 0 : _event$user4.id) === ((_this$getClient$user = this.getClient().user) === null || _this$getClient$user === void 0 ? void 0 : _this$getClient$user.id)) {\n                                channelState.unreadCount = 0;\n                            }\n                        }\n                        break;\n                    case \"user.watching.start\":\n                    case \"user.updated\":\n                        if ((_event$user5 = event.user) !== null && _event$user5 !== void 0 && _event$user5.id) {\n                            channelState.watchers[event.user.id] = event.user;\n                        }\n                        break;\n                    case \"user.watching.stop\":\n                        if ((_event$user6 = event.user) !== null && _event$user6 !== void 0 && _event$user6.id) {\n                            delete channelState.watchers[event.user.id];\n                        }\n                        break;\n                    case \"message.deleted\":\n                        if (event.message) {\n                            this._extendEventWithOwnReactions(event);\n                            if (event.hard_delete) channelState.removeMessage(event.message);\n                            else channelState.addMessageSorted(event.message, false, false);\n                            channelState.removeQuotedMessageReferences(event.message);\n                            if (event.message.pinned) {\n                                channelState.removePinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"message.new\":\n                        if (event.message) {\n                            var _event$user7, _this$getClient$user2, _event$user8;\n                            /* if message belongs to current user, always assume timestamp is changed to filter it out and add again to avoid duplication */ var ownMessage = ((_event$user7 = event.user) === null || _event$user7 === void 0 ? void 0 : _event$user7.id) === ((_this$getClient$user2 = this.getClient().user) === null || _this$getClient$user2 === void 0 ? void 0 : _this$getClient$user2.id);\n                            var isThreadMessage = event.message.parent_id && !event.message.show_in_channel;\n                            if (this.state.isUpToDate || isThreadMessage) {\n                                channelState.addMessageSorted(event.message, ownMessage);\n                            }\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            }\n                            if ((_event$user8 = event.user) !== null && _event$user8 !== void 0 && _event$user8.id) {\n                                for(var userId in channelState.read){\n                                    if (userId === event.user.id) {\n                                        channelState.read[event.user.id] = {\n                                            last_read: new Date(event.created_at),\n                                            user: event.user,\n                                            unread_messages: 0\n                                        };\n                                    } else {\n                                        channelState.read[userId].unread_messages += 1;\n                                    }\n                                }\n                            }\n                            if (ownMessage) {\n                                channelState.unreadCount = 0;\n                            } else if (this._countMessageAsUnread(event.message)) {\n                                channelState.unreadCount = channelState.unreadCount + 1;\n                            }\n                        }\n                        break;\n                    case \"message.updated\":\n                        if (event.message) {\n                            this._extendEventWithOwnReactions(event);\n                            channelState.addMessageSorted(event.message, false, false);\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            } else {\n                                channelState.removePinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"channel.truncated\":\n                        if ((_event$channel = event.channel) !== null && _event$channel !== void 0 && _event$channel.truncated_at) {\n                            var truncatedAt = +new Date(event.channel.truncated_at);\n                            channelState.messageSets.forEach(function(messageSet, messageSetIndex) {\n                                messageSet.messages.forEach(function(_ref2) {\n                                    var createdAt = _ref2.created_at, id = _ref2.id;\n                                    if (truncatedAt > +createdAt) channelState.removeMessage({\n                                        id: id,\n                                        messageSetIndex: messageSetIndex\n                                    });\n                                });\n                            });\n                            channelState.pinnedMessages.forEach(function(_ref3) {\n                                var id = _ref3.id, createdAt = _ref3.created_at;\n                                if (truncatedAt > +createdAt) channelState.removePinnedMessage({\n                                    id: id\n                                });\n                            });\n                        } else {\n                            channelState.clearMessages();\n                        }\n                        channelState.unreadCount = 0; // system messages don't increment unread counts\n                        if (event.message) {\n                            channelState.addMessageSorted(event.message);\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"member.added\":\n                    case \"member.updated\":\n                        if ((_event$member = event.member) !== null && _event$member !== void 0 && _event$member.user_id) {\n                            channelState.members[event.member.user_id] = event.member;\n                        }\n                        break;\n                    case \"member.removed\":\n                        if ((_event$user9 = event.user) !== null && _event$user9 !== void 0 && _event$user9.id) {\n                            delete channelState.members[event.user.id];\n                        }\n                        break;\n                    case \"channel.updated\":\n                        if (event.channel) {\n                            var _event$channel2, _channel$data, _event$channel$hidden, _event$channel3, _channel$data2, _event$channel$own_ca, _event$channel4, _channel$data3;\n                            var isFrozenChanged = ((_event$channel2 = event.channel) === null || _event$channel2 === void 0 ? void 0 : _event$channel2.frozen) !== undefined && event.channel.frozen !== ((_channel$data = channel.data) === null || _channel$data === void 0 ? void 0 : _channel$data.frozen);\n                            if (isFrozenChanged) {\n                                this.query({\n                                    state: false,\n                                    messages: {\n                                        limit: 0\n                                    },\n                                    watchers: {\n                                        limit: 0\n                                    }\n                                });\n                            }\n                            channel.data = _objectSpread$5(_objectSpread$5({}, event.channel), {}, {\n                                hidden: (_event$channel$hidden = (_event$channel3 = event.channel) === null || _event$channel3 === void 0 ? void 0 : _event$channel3.hidden) !== null && _event$channel$hidden !== void 0 ? _event$channel$hidden : (_channel$data2 = channel.data) === null || _channel$data2 === void 0 ? void 0 : _channel$data2.hidden,\n                                own_capabilities: (_event$channel$own_ca = (_event$channel4 = event.channel) === null || _event$channel4 === void 0 ? void 0 : _event$channel4.own_capabilities) !== null && _event$channel$own_ca !== void 0 ? _event$channel$own_ca : (_channel$data3 = channel.data) === null || _channel$data3 === void 0 ? void 0 : _channel$data3.own_capabilities\n                            });\n                        }\n                        break;\n                    case \"reaction.new\":\n                        if (event.message && event.reaction) {\n                            event.message = channelState.addReaction(event.reaction, event.message);\n                        }\n                        break;\n                    case \"reaction.deleted\":\n                        if (event.reaction) {\n                            event.message = channelState.removeReaction(event.reaction, event.message);\n                        }\n                        break;\n                    case \"reaction.updated\":\n                        if (event.reaction) {\n                            // assuming reaction.updated is only called if enforce_unique is true\n                            event.message = channelState.addReaction(event.reaction, event.message, true);\n                        }\n                        break;\n                    case \"channel.hidden\":\n                        channel.data = _objectSpread$5(_objectSpread$5({}, channel.data), {}, {\n                            hidden: true\n                        });\n                        if (event.clear_history) {\n                            channelState.clearMessages();\n                        }\n                        break;\n                    case \"channel.visible\":\n                        channel.data = _objectSpread$5(_objectSpread$5({}, channel.data), {}, {\n                            hidden: false\n                        });\n                        break;\n                    case \"user.banned\":\n                        if (!((_event$user10 = event.user) !== null && _event$user10 !== void 0 && _event$user10.id)) break;\n                        channelState.members[event.user.id] = _objectSpread$5(_objectSpread$5({}, channelState.members[event.user.id] || {}), {}, {\n                            shadow_banned: !!event.shadow,\n                            banned: !event.shadow,\n                            user: _objectSpread$5(_objectSpread$5({}, ((_channelState$members = channelState.members[event.user.id]) === null || _channelState$members === void 0 ? void 0 : _channelState$members.user) || {}), event.user)\n                        });\n                        break;\n                    case \"user.unbanned\":\n                        if (!((_event$user11 = event.user) !== null && _event$user11 !== void 0 && _event$user11.id)) break;\n                        channelState.members[event.user.id] = _objectSpread$5(_objectSpread$5({}, channelState.members[event.user.id] || {}), {}, {\n                            shadow_banned: false,\n                            banned: false,\n                            user: _objectSpread$5(_objectSpread$5({}, ((_channelState$members2 = channelState.members[event.user.id]) === null || _channelState$members2 === void 0 ? void 0 : _channelState$members2.user) || {}), event.user)\n                        });\n                        break;\n                } // any event can send over the online count\n                if (event.watcher_count !== undefined) {\n                    channel.state.watcher_count = event.watcher_count;\n                }\n            }\n        },\n        {\n            key: \"_checkInitialized\",\n            value: function _checkInitialized() {\n                if (!this.initialized && !this.offlineMode && !this.getClient()._isUsingServerAuth()) {\n                    throw Error(\"Channel \".concat(this.cid, \" hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve\"));\n                }\n            } // eslint-disable-next-line sonarjs/cognitive-complexity\n        },\n        {\n            key: \"_initializeState\",\n            value: function _initializeState(state) {\n                var messageSetToAddToIfDoesNotExist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"latest\";\n                var _this$getClient2 = this.getClient(), clientState = _this$getClient2.state, user = _this$getClient2.user, userID = _this$getClient2.userID; // add the Users\n                if (state.members) {\n                    var _iterator = _createForOfIteratorHelper$2(state.members), _step;\n                    try {\n                        for(_iterator.s(); !(_step = _iterator.n()).done;){\n                            var member = _step.value;\n                            if (member.user) {\n                                clientState.updateUserReference(member.user, this.cid);\n                            }\n                        }\n                    } catch (err) {\n                        _iterator.e(err);\n                    } finally{\n                        _iterator.f();\n                    }\n                }\n                this.state.membership = state.membership || {};\n                var messages = state.messages || [];\n                if (!this.state.messages) {\n                    this.state.initMessages();\n                }\n                var _this$state$addMessag = this.state.addMessagesSorted(messages, false, true, true, messageSetToAddToIfDoesNotExist), messageSet = _this$state$addMessag.messageSet;\n                if (!this.state.pinnedMessages) {\n                    this.state.pinnedMessages = [];\n                }\n                this.state.addPinnedMessages(state.pinned_messages || []);\n                if (state.pending_messages) {\n                    this.state.pending_messages = state.pending_messages;\n                }\n                if (state.watcher_count !== undefined) {\n                    this.state.watcher_count = state.watcher_count;\n                } // convert the arrays into objects for easier syncing...\n                if (state.watchers) {\n                    var _iterator2 = _createForOfIteratorHelper$2(state.watchers), _step2;\n                    try {\n                        for(_iterator2.s(); !(_step2 = _iterator2.n()).done;){\n                            var watcher = _step2.value;\n                            if (watcher) {\n                                clientState.updateUserReference(watcher, this.cid);\n                                this.state.watchers[watcher.id] = watcher;\n                            }\n                        }\n                    } catch (err) {\n                        _iterator2.e(err);\n                    } finally{\n                        _iterator2.f();\n                    }\n                } // initialize read state to last message or current time if the channel is empty\n                // if the user is a member, this value will be overwritten later on otherwise this ensures\n                // that everything up to this point is not marked as unread\n                if (userID != null) {\n                    var last_read = this.state.last_message_at || new Date();\n                    if (user) {\n                        this.state.read[user.id] = {\n                            user: user,\n                            last_read: last_read,\n                            unread_messages: 0\n                        };\n                    }\n                } // apply read state if part of the state\n                if (state.read) {\n                    var _iterator3 = _createForOfIteratorHelper$2(state.read), _step3;\n                    try {\n                        for(_iterator3.s(); !(_step3 = _iterator3.n()).done;){\n                            var _read$unread_messages;\n                            var read = _step3.value;\n                            this.state.read[read.user.id] = {\n                                last_read: new Date(read.last_read),\n                                last_read_message_id: read.last_read_message_id,\n                                unread_messages: (_read$unread_messages = read.unread_messages) !== null && _read$unread_messages !== void 0 ? _read$unread_messages : 0,\n                                user: read.user\n                            };\n                            if (read.user.id === (user === null || user === void 0 ? void 0 : user.id)) {\n                                this.state.unreadCount = this.state.read[read.user.id].unread_messages;\n                            }\n                        }\n                    } catch (err) {\n                        _iterator3.e(err);\n                    } finally{\n                        _iterator3.f();\n                    }\n                }\n                if (state.members) {\n                    this.state.members = state.members.reduce(function(acc, member) {\n                        if (member.user) {\n                            acc[member.user.id] = member;\n                        }\n                        return acc;\n                    }, {});\n                }\n                return {\n                    messageSet: messageSet\n                };\n            }\n        },\n        {\n            key: \"_extendEventWithOwnReactions\",\n            value: function _extendEventWithOwnReactions(event) {\n                if (!event.message) {\n                    return;\n                }\n                var message = this.state.findMessage(event.message.id, event.message.parent_id);\n                if (message) {\n                    event.message.own_reactions = message.own_reactions;\n                }\n            }\n        },\n        {\n            key: \"_disconnect\",\n            value: function _disconnect() {\n                this._client.logger(\"info\", \"channel:disconnect() - Disconnecting the channel \".concat(this.cid), {\n                    tags: [\n                        \"connection\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.disconnected = true;\n                this.state.setIsUpToDate(false);\n            }\n        }\n    ]);\n    return Channel;\n}();\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$1(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\nfunction _arrayLikeToArray$1(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\n/**\n * ClientState - A container class for the client state.\n */ var ClientState = /*#__PURE__*/ function() {\n    function ClientState() {\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ClientState);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"users\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userChannelReferences\", void 0);\n        // show the status for a certain user...\n        // ie online, offline etc\n        this.users = {}; // store which channels contain references to the specified user...\n        this.userChannelReferences = {};\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(ClientState, [\n        {\n            key: \"updateUsers\",\n            value: function updateUsers(users) {\n                var _iterator = _createForOfIteratorHelper$1(users), _step;\n                try {\n                    for(_iterator.s(); !(_step = _iterator.n()).done;){\n                        var user = _step.value;\n                        this.updateUser(user);\n                    }\n                } catch (err) {\n                    _iterator.e(err);\n                } finally{\n                    _iterator.f();\n                }\n            }\n        },\n        {\n            key: \"updateUser\",\n            value: function updateUser(user) {\n                if (user != null) {\n                    this.users[user.id] = user;\n                }\n            }\n        },\n        {\n            key: \"updateUserReference\",\n            value: function updateUserReference(user, channelID) {\n                if (user == null) {\n                    return;\n                }\n                this.updateUser(user);\n                if (!this.userChannelReferences[user.id]) {\n                    this.userChannelReferences[user.id] = {};\n                }\n                this.userChannelReferences[user.id][channelID] = true;\n            }\n        },\n        {\n            key: \"deleteAllChannelReference\",\n            value: function deleteAllChannelReference(channelID) {\n                for(var userID in this.userChannelReferences){\n                    delete this.userChannelReferences[userID][channelID];\n                }\n            }\n        }\n    ]);\n    return ClientState;\n}();\nfunction ownKeys$4(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$4(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$4(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$4(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nvar InsightMetrics = function InsightMetrics() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, InsightMetrics);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionStartTimestamp\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsConsecutiveFailures\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsTotalFailures\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"instanceClientId\", void 0);\n    this.connectionStartTimestamp = null;\n    this.wsTotalFailures = 0;\n    this.wsConsecutiveFailures = 0;\n    this.instanceClientId = randomId();\n};\n/**\n * postInsights is not supposed to be used by end users directly within chat application, and thus is kept isolated\n * from all the client/connection code/logic.\n *\n * @param insightType\n * @param insights\n */ var postInsights = /*#__PURE__*/ function() {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(insightType, insights) {\n        var maxAttempts, i;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n            while(1){\n                switch(_context.prev = _context.next){\n                    case 0:\n                        maxAttempts = 3;\n                        i = 0;\n                    case 2:\n                        if (!(i < maxAttempts)) {\n                            _context.next = 17;\n                            break;\n                        }\n                        _context.prev = 3;\n                        _context.next = 6;\n                        return axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].post(\"https://chat-insights.getstream.io/insights/\".concat(insightType), insights);\n                    case 6:\n                        _context.next = 13;\n                        break;\n                    case 8:\n                        _context.prev = 8;\n                        _context.t0 = _context[\"catch\"](3);\n                        _context.next = 12;\n                        return sleep((i + 1) * 3000);\n                    case 12:\n                        return _context.abrupt(\"continue\", 14);\n                    case 13:\n                        return _context.abrupt(\"break\", 17);\n                    case 14:\n                        i++;\n                        _context.next = 2;\n                        break;\n                    case 17:\n                    case \"end\":\n                        return _context.stop();\n                }\n            }\n        }, _callee, null, [\n            [\n                3,\n                8\n            ]\n        ]);\n    }));\n    return function postInsights(_x, _x2) {\n        return _ref.apply(this, arguments);\n    };\n}();\nfunction buildWsFatalInsight(connection, event) {\n    return _objectSpread$4(_objectSpread$4({}, event), buildWsBaseInsight(connection));\n}\nfunction buildWsBaseInsight(connection) {\n    var _connection$ws, _navigator, _navigator2;\n    var client = connection.client;\n    return {\n        ready_state: (_connection$ws = connection.ws) === null || _connection$ws === void 0 ? void 0 : _connection$ws.readyState,\n        url: connection._buildUrl(),\n        api_key: client.key,\n        start_ts: client.insightMetrics.connectionStartTimestamp,\n        end_ts: new Date().getTime(),\n        auth_type: client.getAuthType(),\n        token: client.tokenManager.token,\n        user_id: client.userID,\n        user_details: client._user,\n        device: client.options.device,\n        client_id: connection.connectionID,\n        ws_details: connection.ws,\n        ws_consecutive_failures: client.insightMetrics.wsConsecutiveFailures,\n        ws_total_failures: client.insightMetrics.wsTotalFailures,\n        request_id: connection.requestID,\n        online: typeof navigator !== \"undefined\" ? (_navigator = navigator) === null || _navigator === void 0 ? void 0 : _navigator.onLine : null,\n        user_agent: typeof navigator !== \"undefined\" ? (_navigator2 = navigator) === null || _navigator2 === void 0 ? void 0 : _navigator2.userAgent : null,\n        instance_client_id: client.insightMetrics.instanceClientId\n    };\n}\nfunction buildWsSuccessAfterFailureInsight(connection) {\n    return buildWsBaseInsight(connection);\n}\nfunction ownKeys$3(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$3(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$3(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$3(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n// Type guards to check WebSocket error type\nvar isCloseEvent = function isCloseEvent(res) {\n    return res.code !== undefined;\n};\nvar isErrorEvent = function isErrorEvent(res) {\n    return res.error !== undefined;\n};\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ var StableWSConnection = /*#__PURE__*/ function() {\n    // global from constructor\n    // local vars\n    function StableWSConnection(_ref) {\n        var _this = this;\n        var client = _ref.client;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, StableWSConnection);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionOpen\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pingInterval\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"healthCheckTimeoutRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isConnecting\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isDisconnected\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isHealthy\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isResolved\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastEvent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionCheckTimeout\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionCheckTimeoutRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"rejectPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"requestID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"resolvePromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"totalFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"ws\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_buildUrl\", function() {\n            var qs = encodeURIComponent(_this.client._buildWSPayload(_this.requestID));\n            var token = _this.client.tokenManager.getToken();\n            return \"\".concat(_this.client.wsBaseURL, \"/connect?json=\").concat(qs, \"&api_key=\").concat(_this.client.key, \"&authorization=\").concat(token, \"&stream-auth-type=\").concat(_this.client.getAuthType(), \"&X-Stream-Client=\").concat(_this.client.getUserAgent());\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onlineStatusChanged\", function(event) {\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                _this._log(\"onlineStatusChanged() - Status changing to offline\");\n                _this._setHealth(false);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                _this._log(\"onlineStatusChanged() - Status changing to online. isHealthy: \".concat(_this.isHealthy));\n                if (!_this.isHealthy) {\n                    _this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onopen\", function(wsID) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onopen() - onopen callback\", {\n                wsID: wsID\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onmessage\", function(wsID, event) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onmessage() - onmessage callback\", {\n                event: event,\n                wsID: wsID\n            });\n            var data = typeof event.data === \"string\" ? JSON.parse(event.data) : null; // we wait till the first message before we consider the connection open..\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose..\n            if (!_this.isResolved && data) {\n                var _this$resolvePromise;\n                _this.isResolved = true;\n                if (data.error) {\n                    var _this$rejectPromise;\n                    (_this$rejectPromise = _this.rejectPromise) === null || _this$rejectPromise === void 0 ? void 0 : _this$rejectPromise.call(_this, _this._errorFromWSEvent(data, false));\n                    return;\n                }\n                (_this$resolvePromise = _this.resolvePromise) === null || _this$resolvePromise === void 0 ? void 0 : _this$resolvePromise.call(_this, data);\n                _this._setHealth(true);\n            } // trigger the event..\n            _this.lastEvent = new Date();\n            if (data && data.type === \"health.check\") {\n                _this.scheduleNextPing();\n            }\n            _this.client.handleEvent(event);\n            _this.scheduleConnectionCheck();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onclose\", function(wsID, event) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onclose() - onclose callback - \" + event.code, {\n                event: event,\n                wsID: wsID\n            });\n            if (event.code === chatCodes.WS_CLOSED_SUCCESS) {\n                var _this$rejectPromise2;\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                var error = new Error(\"WS connection reject with error \".concat(event.reason));\n                error.reason = event.reason;\n                error.code = event.code;\n                error.wasClean = event.wasClean;\n                error.target = event.target;\n                (_this$rejectPromise2 = _this.rejectPromise) === null || _this$rejectPromise2 === void 0 ? void 0 : _this$rejectPromise2.call(_this, error);\n                _this._log(\"onclose() - WS connection reject with error \".concat(event.reason), {\n                    event: event\n                });\n            } else {\n                var _this$rejectPromise3;\n                _this.consecutiveFailures += 1;\n                _this.totalFailures += 1;\n                _this._setHealth(false);\n                _this.isConnecting = false;\n                (_this$rejectPromise3 = _this.rejectPromise) === null || _this$rejectPromise3 === void 0 ? void 0 : _this$rejectPromise3.call(_this, _this._errorFromWSEvent(event));\n                _this._log(\"onclose() - WS connection closed. Calling reconnect ...\", {\n                    event: event\n                }); // reconnect if its an abnormal failure\n                _this._reconnect();\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onerror\", function(wsID, event) {\n            var _this$rejectPromise4;\n            if (_this.wsID !== wsID) return;\n            _this.consecutiveFailures += 1;\n            _this.totalFailures += 1;\n            _this._setHealth(false);\n            _this.isConnecting = false;\n            (_this$rejectPromise4 = _this.rejectPromise) === null || _this$rejectPromise4 === void 0 ? void 0 : _this$rejectPromise4.call(_this, _this._errorFromWSEvent(event));\n            _this._log(\"onerror() - WS connection resulted into error\", {\n                event: event\n            });\n            _this._reconnect();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setHealth\", function(healthy) {\n            if (healthy === _this.isHealthy) return;\n            _this.isHealthy = healthy;\n            if (_this.isHealthy) {\n                _this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: _this.isHealthy\n                });\n                return;\n            } // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(function() {\n                if (_this.isHealthy) return;\n                _this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: _this.isHealthy\n                });\n            }, 5000);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_errorFromWSEvent\", function(event) {\n            var isWSFailure = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            var code;\n            var statusCode;\n            var message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                statusCode = \"unknown\";\n                message = event.reason;\n            }\n            if (isErrorEvent(event)) {\n                code = event.error.code;\n                statusCode = event.error.StatusCode;\n                message = event.error.message;\n            } // Keeping this `warn` level log, to avoid cluttering of error logs from ws failures.\n            _this._log(\"_errorFromWSEvent() - WS failed with code \".concat(code), {\n                event: event\n            }, \"warn\");\n            var error = new Error(\"WS failed with code \".concat(code, \" and reason - \").concat(message));\n            error.code = code;\n            /**\n       * StatusCode does not exist on any event types but has been left\n       * as is to preserve JS functionality during the TS implementation\n       */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setupConnectionPromise\", function() {\n            _this.isResolved = false;\n            /** a promise that is resolved once ws.open is called */ _this.connectionOpen = new Promise(function(resolve, reject) {\n                _this.resolvePromise = resolve;\n                _this.rejectPromise = reject;\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"scheduleNextPing\", function() {\n            if (_this.healthCheckTimeoutRef) {\n                clearTimeout(_this.healthCheckTimeoutRef);\n            } // 30 seconds is the recommended interval (messenger uses this)\n            _this.healthCheckTimeoutRef = setTimeout(function() {\n                // send the healthcheck.., server replies with a health check event\n                var data = [\n                    {\n                        type: \"health.check\",\n                        client_id: _this.client.clientID\n                    }\n                ]; // try to send on the connection\n                try {\n                    var _this$ws;\n                    (_this$ws = _this.ws) === null || _this$ws === void 0 ? void 0 : _this$ws.send(JSON.stringify(data));\n                } catch (e) {}\n            }, _this.pingInterval);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"scheduleConnectionCheck\", function() {\n            if (_this.connectionCheckTimeoutRef) {\n                clearTimeout(_this.connectionCheckTimeoutRef);\n            }\n            _this.connectionCheckTimeoutRef = setTimeout(function() {\n                var now = new Date();\n                if (_this.lastEvent && now.getTime() - _this.lastEvent.getTime() > _this.connectionCheckTimeout) {\n                    _this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    _this._setHealth(false);\n                    _this._reconnect();\n                }\n            }, _this.connectionCheckTimeout);\n        });\n        /** StreamChat client */ this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(StableWSConnection, [\n        {\n            key: \"_log\",\n            value: function _log(msg) {\n                var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n                this.client.logger(level, \"connection:\" + msg, _objectSpread$3({\n                    tags: [\n                        \"connection\"\n                    ]\n                }, extra));\n            }\n        },\n        {\n            key: \"setClient\",\n            value: function setClient(client) {\n                this.client = client;\n            }\n        },\n        {\n            key: \"connect\",\n            value: function() {\n                var _connect2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee() {\n                    var timeout, healthCheck, _args = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    timeout = _args.length > 0 && _args[0] !== undefined ? _args[0] : 15000;\n                                    if (!this.isConnecting) {\n                                        _context.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"You've called connect twice, can only attempt 1 connection at the time\");\n                                case 3:\n                                    this.isDisconnected = false;\n                                    _context.prev = 4;\n                                    _context.next = 7;\n                                    return this._connect();\n                                case 7:\n                                    healthCheck = _context.sent;\n                                    this.consecutiveFailures = 0;\n                                    this._log(\"connect() - Established ws connection with healthcheck: \".concat(healthCheck));\n                                    _context.next = 23;\n                                    break;\n                                case 12:\n                                    _context.prev = 12;\n                                    _context.t0 = _context[\"catch\"](4);\n                                    this.isHealthy = false;\n                                    this.consecutiveFailures += 1;\n                                    if (!(_context.t0.code === chatCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic())) {\n                                        _context.next = 21;\n                                        break;\n                                    }\n                                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                                    this._reconnect({\n                                        refreshToken: true\n                                    });\n                                    _context.next = 23;\n                                    break;\n                                case 21:\n                                    if (_context.t0.isWSFailure) {\n                                        _context.next = 23;\n                                        break;\n                                    }\n                                    throw new Error(JSON.stringify({\n                                        code: _context.t0.code,\n                                        StatusCode: _context.t0.StatusCode,\n                                        message: _context.t0.message,\n                                        isWSFailure: _context.t0.isWSFailure\n                                    }));\n                                case 23:\n                                    _context.next = 25;\n                                    return this._waitForHealthy(timeout);\n                                case 25:\n                                    return _context.abrupt(\"return\", _context.sent);\n                                case 26:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this, [\n                        [\n                            4,\n                            12\n                        ]\n                    ]);\n                }));\n                function connect() {\n                    return _connect2.apply(this, arguments);\n                }\n                return connect;\n            }()\n        },\n        {\n            key: \"_waitForHealthy\",\n            value: function() {\n                var _waitForHealthy2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4() {\n                    var _this2 = this;\n                    var timeout, _args4 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    timeout = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 15000;\n                                    return _context4.abrupt(\"return\", Promise.race([\n                                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2() {\n                                            var interval, i;\n                                            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                                                while(1){\n                                                    switch(_context2.prev = _context2.next){\n                                                        case 0:\n                                                            interval = 50; // ms\n                                                            i = 0;\n                                                        case 2:\n                                                            if (!(i <= timeout)) {\n                                                                _context2.next = 18;\n                                                                break;\n                                                            }\n                                                            _context2.prev = 3;\n                                                            _context2.next = 6;\n                                                            return _this2.connectionOpen;\n                                                        case 6:\n                                                            return _context2.abrupt(\"return\", _context2.sent);\n                                                        case 9:\n                                                            _context2.prev = 9;\n                                                            _context2.t0 = _context2[\"catch\"](3);\n                                                            if (!(i === timeout)) {\n                                                                _context2.next = 13;\n                                                                break;\n                                                            }\n                                                            throw new Error(JSON.stringify({\n                                                                code: _context2.t0.code,\n                                                                StatusCode: _context2.t0.StatusCode,\n                                                                message: _context2.t0.message,\n                                                                isWSFailure: _context2.t0.isWSFailure\n                                                            }));\n                                                        case 13:\n                                                            _context2.next = 15;\n                                                            return sleep(interval);\n                                                        case 15:\n                                                            i += interval;\n                                                            _context2.next = 2;\n                                                            break;\n                                                        case 18:\n                                                        case \"end\":\n                                                            return _context2.stop();\n                                                    }\n                                                }\n                                            }, _callee2, null, [\n                                                [\n                                                    3,\n                                                    9\n                                                ]\n                                            ]);\n                                        }))(),\n                                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n                                            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                                                while(1){\n                                                    switch(_context3.prev = _context3.next){\n                                                        case 0:\n                                                            _context3.next = 2;\n                                                            return sleep(timeout);\n                                                        case 2:\n                                                            _this2.isConnecting = false;\n                                                            throw new Error(JSON.stringify({\n                                                                code: \"\",\n                                                                StatusCode: \"\",\n                                                                message: \"initial WS connection could not be established\",\n                                                                isWSFailure: true\n                                                            }));\n                                                        case 4:\n                                                        case \"end\":\n                                                            return _context3.stop();\n                                                    }\n                                                }\n                                            }, _callee3);\n                                        }))()\n                                    ]));\n                                case 2:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4);\n                }));\n                function _waitForHealthy() {\n                    return _waitForHealthy2.apply(this, arguments);\n                }\n                return _waitForHealthy;\n            }()\n        },\n        {\n            key: \"disconnect\",\n            value: /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ function disconnect(timeout) {\n                var _this3 = this;\n                this._log(\"disconnect() - Closing the websocket connection for wsID \".concat(this.wsID));\n                this.wsID += 1;\n                this.isConnecting = false;\n                this.isDisconnected = true; // start by removing all the listeners\n                if (this.healthCheckTimeoutRef) {\n                    clearInterval(this.healthCheckTimeoutRef);\n                }\n                if (this.connectionCheckTimeoutRef) {\n                    clearInterval(this.connectionCheckTimeoutRef);\n                }\n                removeConnectionEventListeners(this.onlineStatusChanged);\n                this.isHealthy = false; // remove ws handlers...\n                if (this.ws && this.ws.removeAllListeners) {\n                    this.ws.removeAllListeners();\n                }\n                var isClosedPromise; // and finally close...\n                // Assigning to local here because we will remove it from this before the\n                // promise resolves.\n                var ws = this.ws;\n                if (ws && ws.close && ws.readyState === ws.OPEN) {\n                    isClosedPromise = new Promise(function(resolve) {\n                        var onclose = function onclose(event) {\n                            _this3._log(\"disconnect() - resolving isClosedPromise \".concat(event ? \"with\" : \"without\", \" close frame\"), {\n                                event: event\n                            });\n                            resolve();\n                        };\n                        ws.onclose = onclose; // In case we don't receive close frame websocket server in time,\n                        // lets not wait for more than 1 seconds.\n                        setTimeout(onclose, timeout != null ? timeout : 1000);\n                    });\n                    this._log(\"disconnect() - Manually closed connection by calling client.disconnect()\");\n                    ws.close(chatCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n                } else {\n                    this._log(\"disconnect() - ws connection doesn't exist or it is already closed.\");\n                    isClosedPromise = Promise.resolve();\n                }\n                delete this.ws;\n                return isClosedPromise;\n            }\n        },\n        {\n            key: \"_connect\",\n            value: function() {\n                var _connect3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5() {\n                    var isTokenReady, wsURL, response, insights;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    if (!(this.isConnecting || this.isDisconnected && this.client.options.enableWSFallback)) {\n                                        _context5.next = 2;\n                                        break;\n                                    }\n                                    return _context5.abrupt(\"return\");\n                                case 2:\n                                    // simply ignore _connect if it's currently trying to connect\n                                    this.isConnecting = true;\n                                    this.requestID = randomId();\n                                    this.client.insightMetrics.connectionStartTimestamp = new Date().getTime();\n                                    isTokenReady = false;\n                                    _context5.prev = 6;\n                                    this._log(\"_connect() - waiting for token\");\n                                    _context5.next = 10;\n                                    return this.client.tokenManager.tokenReady();\n                                case 10:\n                                    isTokenReady = true;\n                                    _context5.next = 15;\n                                    break;\n                                case 13:\n                                    _context5.prev = 13;\n                                    _context5.t0 = _context5[\"catch\"](6);\n                                case 15:\n                                    _context5.prev = 15;\n                                    if (isTokenReady) {\n                                        _context5.next = 20;\n                                        break;\n                                    }\n                                    this._log(\"_connect() - tokenProvider failed before, so going to retry\");\n                                    _context5.next = 20;\n                                    return this.client.tokenManager.loadToken();\n                                case 20:\n                                    this._setupConnectionPromise();\n                                    wsURL = this._buildUrl();\n                                    this._log(\"_connect() - Connecting to \".concat(wsURL), {\n                                        wsURL: wsURL,\n                                        requestID: this.requestID\n                                    });\n                                    this.ws = new (isomorphic_ws__WEBPACK_IMPORTED_MODULE_13___default())(wsURL);\n                                    this.ws.onopen = this.onopen.bind(this, this.wsID);\n                                    this.ws.onclose = this.onclose.bind(this, this.wsID);\n                                    this.ws.onerror = this.onerror.bind(this, this.wsID);\n                                    this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n                                    _context5.next = 30;\n                                    return this.connectionOpen;\n                                case 30:\n                                    response = _context5.sent;\n                                    this.isConnecting = false;\n                                    if (!response) {\n                                        _context5.next = 36;\n                                        break;\n                                    }\n                                    this.connectionID = response.connection_id;\n                                    if (this.client.insightMetrics.wsConsecutiveFailures > 0 && this.client.options.enableInsights) {\n                                        postInsights(\"ws_success_after_failure\", buildWsSuccessAfterFailureInsight(this));\n                                        this.client.insightMetrics.wsConsecutiveFailures = 0;\n                                    }\n                                    return _context5.abrupt(\"return\", response);\n                                case 36:\n                                    _context5.next = 44;\n                                    break;\n                                case 38:\n                                    _context5.prev = 38;\n                                    _context5.t1 = _context5[\"catch\"](15);\n                                    this.isConnecting = false;\n                                    this._log(\"_connect() - Error - \", _context5.t1);\n                                    if (this.client.options.enableInsights) {\n                                        this.client.insightMetrics.wsConsecutiveFailures++;\n                                        this.client.insightMetrics.wsTotalFailures++;\n                                        insights = buildWsFatalInsight(this, convertErrorToJson(_context5.t1));\n                                        postInsights === null || postInsights === void 0 ? void 0 : postInsights(\"ws_fatal\", insights);\n                                    }\n                                    throw _context5.t1;\n                                case 44:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this, [\n                        [\n                            6,\n                            13\n                        ],\n                        [\n                            15,\n                            38\n                        ]\n                    ]);\n                }));\n                function _connect() {\n                    return _connect3.apply(this, arguments);\n                }\n                return _connect;\n            }()\n        },\n        {\n            key: \"_reconnect\",\n            value: function() {\n                var _reconnect2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n                    var options, interval, _args6 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    options = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {};\n                                    this._log(\"_reconnect() - Initiating the reconnect\"); // only allow 1 connection at the time\n                                    if (!(this.isConnecting || this.isHealthy)) {\n                                        _context6.next = 5;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n                                    return _context6.abrupt(\"return\");\n                                case 5:\n                                    // reconnect in case of on error or on close\n                                    // also reconnect if the health check cycle fails\n                                    interval = options.interval;\n                                    if (!interval) {\n                                        interval = retryInterval(this.consecutiveFailures);\n                                    } // reconnect, or try again after a little while...\n                                    _context6.next = 9;\n                                    return sleep(interval);\n                                case 9:\n                                    if (!(this.isConnecting || this.isHealthy)) {\n                                        _context6.next = 12;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n                                    return _context6.abrupt(\"return\");\n                                case 12:\n                                    if (!(this.isDisconnected && this.client.options.enableWSFallback)) {\n                                        _context6.next = 15;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n                                    return _context6.abrupt(\"return\");\n                                case 15:\n                                    this._log(\"_reconnect() - Destroying current WS connection\"); // cleanup the old connection\n                                    this._destroyCurrentWSConnection();\n                                    if (!options.refreshToken) {\n                                        _context6.next = 20;\n                                        break;\n                                    }\n                                    _context6.next = 20;\n                                    return this.client.tokenManager.loadToken();\n                                case 20:\n                                    _context6.prev = 20;\n                                    _context6.next = 23;\n                                    return this._connect();\n                                case 23:\n                                    this._log(\"_reconnect() - Waiting for recoverCallBack\");\n                                    _context6.next = 26;\n                                    return this.client.recoverState();\n                                case 26:\n                                    this._log(\"_reconnect() - Finished recoverCallBack\");\n                                    this.consecutiveFailures = 0;\n                                    _context6.next = 38;\n                                    break;\n                                case 30:\n                                    _context6.prev = 30;\n                                    _context6.t0 = _context6[\"catch\"](20);\n                                    this.isHealthy = false;\n                                    this.consecutiveFailures += 1;\n                                    if (!(_context6.t0.code === chatCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic())) {\n                                        _context6.next = 37;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                                    return _context6.abrupt(\"return\", this._reconnect({\n                                        refreshToken: true\n                                    }));\n                                case 37:\n                                    // reconnect on WS failures, don't reconnect if there is a code bug\n                                    if (_context6.t0.isWSFailure) {\n                                        this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                                        this._reconnect();\n                                    }\n                                case 38:\n                                    this._log(\"_reconnect() - == END ==\");\n                                case 39:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this, [\n                        [\n                            20,\n                            30\n                        ]\n                    ]);\n                }));\n                function _reconnect() {\n                    return _reconnect2.apply(this, arguments);\n                }\n                return _reconnect;\n            }()\n        },\n        {\n            key: \"_destroyCurrentWSConnection\",\n            value: /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ function _destroyCurrentWSConnection() {\n                // increment the ID, meaning we will ignore all messages from the old\n                // ws connection from now on.\n                this.wsID += 1;\n                try {\n                    var _this$ws2, _this$ws3;\n                    this === null || this === void 0 ? void 0 : (_this$ws2 = this.ws) === null || _this$ws2 === void 0 ? void 0 : _this$ws2.removeAllListeners();\n                    this === null || this === void 0 ? void 0 : (_this$ws3 = this.ws) === null || _this$ws3 === void 0 ? void 0 : _this$ws3.close();\n                } catch (e) {}\n            }\n        }\n    ]);\n    return StableWSConnection;\n}();\nfunction ownKeys$2(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$2(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$2(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$2(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * Creates the JWT token that can be used for a UserSession\n * @method JWTUserToken\n * @memberof signing\n * @private\n * @param {Secret} apiSecret - API Secret key\n * @param {string} userId - The user_id key in the JWT payload\n * @param {UR} [extraData] - Extra that should be part of the JWT token\n * @param {SignOptions} [jwtOptions] - Options that can be past to jwt.sign\n * @return {string} JWT Token\n */ function JWTUserToken(apiSecret, userId) {\n    var extraData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var jwtOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (typeof userId !== \"string\") {\n        throw new TypeError(\"userId should be a string\");\n    }\n    var payload = _objectSpread$2({\n        user_id: userId\n    }, extraData); // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if ((jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default()) == null || (jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign) == null) {\n        throw Error(\"Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.\");\n    }\n    var opts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n        algorithm: \"HS256\",\n        noTimestamp: true\n    }, jwtOptions);\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret) {\n    var jwtOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var payload = {\n        server: true\n    };\n    var opts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n        algorithm: \"HS256\",\n        noTimestamp: true\n    }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign(payload, apiSecret, opts);\n}\nfunction UserFromToken(token) {\n    var fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    var b64Payload = fragments[1];\n    var payload = decodeBase64(b64Payload);\n    var data = JSON.parse(payload);\n    return data.user_id;\n}\n/**\n *\n * @param {string} userId the id of the user\n * @return {string}\n */ function DevToken(userId) {\n    return [\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\",\n        encodeBase64(JSON.stringify({\n            user_id: userId\n        })),\n        \"devtoken\" // hardcoded signature\n    ].join(\".\");\n}\n/**\n *\n * @param {string | Buffer} body the signed message\n * @param {string} secret the shared secret used to generate the signature (Stream API secret)\n * @param {string} signature the signature to validate\n * @return {boolean}\n */ function CheckSignature(body, secret, signature) {\n    var key = Buffer.from(secret, \"utf8\");\n    var hash = crypto__WEBPACK_IMPORTED_MODULE_15___default().createHmac(\"sha256\", key).update(body).digest(\"hex\");\n    try {\n        return crypto__WEBPACK_IMPORTED_MODULE_15___default().timingSafeEqual(Buffer.from(hash), Buffer.from(signature));\n    } catch (_unused) {\n        return false;\n    }\n}\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ var TokenManager = /**\n * Constructor\n *\n * @param {Secret} secret\n */ function TokenManager(secret) {\n    var _this = this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, TokenManager);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"loadTokenPromise\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"type\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"secret\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"token\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenProvider\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"user\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setTokenOrProvider\", /*#__PURE__*/ function() {\n        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(tokenOrProvider, user) {\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                while(1){\n                    switch(_context.prev = _context.next){\n                        case 0:\n                            _this.validateToken(tokenOrProvider, user);\n                            _this.user = user;\n                            if (isFunction(tokenOrProvider)) {\n                                _this.tokenProvider = tokenOrProvider;\n                                _this.type = \"provider\";\n                            }\n                            if (typeof tokenOrProvider === \"string\") {\n                                _this.token = tokenOrProvider;\n                                _this.type = \"static\";\n                            }\n                            if (!tokenOrProvider && _this.user && _this.secret) {\n                                _this.token = JWTUserToken(_this.secret, user.id, {}, {});\n                                _this.type = \"static\";\n                            }\n                            _context.next = 7;\n                            return _this.loadToken();\n                        case 7:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, _callee);\n        }));\n        return function(_x, _x2) {\n            return _ref.apply(this, arguments);\n        };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"reset\", function() {\n        _this.token = undefined;\n        _this.user = undefined;\n        _this.loadTokenPromise = null;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"validateToken\", function(tokenOrProvider, user) {\n        // allow empty token for anon user\n        if (user && user.anon && !tokenOrProvider) return; // Don't allow empty token for non-server side client.\n        if (!_this.secret && !tokenOrProvider) {\n            throw new Error(\"User token can not be empty\");\n        }\n        if (tokenOrProvider && typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n            throw new Error(\"user token should either be a string or a function\");\n        }\n        if (typeof tokenOrProvider === \"string\") {\n            // Allow empty token for anonymous users\n            if (user.anon && tokenOrProvider === \"\") return;\n            var tokenUserId = UserFromToken(tokenOrProvider);\n            if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || tokenUserId !== user.id)) {\n                throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n            }\n        }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenReady\", function() {\n        return _this.loadTokenPromise;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"loadToken\", function() {\n        // eslint-disable-next-line no-async-promise-executor\n        _this.loadTokenPromise = new Promise(/*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(resolve, reject) {\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                    while(1){\n                        switch(_context2.prev = _context2.next){\n                            case 0:\n                                if (!(_this.type === \"static\")) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n                                return _context2.abrupt(\"return\", resolve(_this.token));\n                            case 2:\n                                if (!(_this.tokenProvider && typeof _this.tokenProvider !== \"string\")) {\n                                    _context2.next = 13;\n                                    break;\n                                }\n                                _context2.prev = 3;\n                                _context2.next = 6;\n                                return _this.tokenProvider();\n                            case 6:\n                                _this.token = _context2.sent;\n                                _context2.next = 12;\n                                break;\n                            case 9:\n                                _context2.prev = 9;\n                                _context2.t0 = _context2[\"catch\"](3);\n                                return _context2.abrupt(\"return\", reject(new Error(\"Call to tokenProvider failed with message: \".concat(_context2.t0))));\n                            case 12:\n                                resolve(_this.token);\n                            case 13:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, null, [\n                    [\n                        3,\n                        9\n                    ]\n                ]);\n            }));\n            return function(_x3, _x4) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        return _this.loadTokenPromise;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getToken\", function() {\n        if (_this.token) {\n            return _this.token;\n        }\n        if (_this.user && _this.user.anon && !_this.token) {\n            return _this.token;\n        }\n        if (_this.secret) {\n            return JWTServerToken(_this.secret);\n        }\n        throw new Error(\"Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called\");\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isStatic\", function() {\n        return _this.type === \"static\";\n    });\n    this.loadTokenPromise = null;\n    if (secret) {\n        this.secret = secret;\n    }\n    this.type = \"static\";\n    if (this.secret) {\n        this.token = JWTServerToken(this.secret);\n    }\n} /**\n * Set the static string token or token provider.\n * Token provider should return a token string or a promise which resolves to string token.\n *\n * @param {TokenOrProvider} tokenOrProvider\n * @param {UserResponse<StreamChatGenerics>} user\n */ ;\nvar APIErrorCodes = {\n    \"-1\": {\n        name: \"InternalSystemError\",\n        retryable: true\n    },\n    \"2\": {\n        name: \"AccessKeyError\",\n        retryable: false\n    },\n    \"3\": {\n        name: \"AuthenticationFailedError\",\n        retryable: true\n    },\n    \"4\": {\n        name: \"InputError\",\n        retryable: false\n    },\n    \"6\": {\n        name: \"DuplicateUsernameError\",\n        retryable: false\n    },\n    \"9\": {\n        name: \"RateLimitError\",\n        retryable: true\n    },\n    \"16\": {\n        name: \"DoesNotExistError\",\n        retryable: false\n    },\n    \"17\": {\n        name: \"NotAllowedError\",\n        retryable: false\n    },\n    \"18\": {\n        name: \"EventNotSupportedError\",\n        retryable: false\n    },\n    \"19\": {\n        name: \"ChannelFeatureNotSupportedError\",\n        retryable: false\n    },\n    \"20\": {\n        name: \"MessageTooLongError\",\n        retryable: false\n    },\n    \"21\": {\n        name: \"MultipleNestingLevelError\",\n        retryable: false\n    },\n    \"22\": {\n        name: \"PayloadTooBigError\",\n        retryable: false\n    },\n    \"23\": {\n        name: \"RequestTimeoutError\",\n        retryable: true\n    },\n    \"24\": {\n        name: \"MaxHeaderSizeExceededError\",\n        retryable: false\n    },\n    \"40\": {\n        name: \"AuthErrorTokenExpired\",\n        retryable: false\n    },\n    \"41\": {\n        name: \"AuthErrorTokenNotValidYet\",\n        retryable: false\n    },\n    \"42\": {\n        name: \"AuthErrorTokenUsedBeforeIssuedAt\",\n        retryable: false\n    },\n    \"43\": {\n        name: \"AuthErrorTokenSignatureInvalid\",\n        retryable: false\n    },\n    \"44\": {\n        name: \"CustomCommandEndpointMissingError\",\n        retryable: false\n    },\n    \"45\": {\n        name: \"CustomCommandEndpointCallError\",\n        retryable: true\n    },\n    \"46\": {\n        name: \"ConnectionIDNotFoundError\",\n        retryable: false\n    },\n    \"60\": {\n        name: \"CoolDownError\",\n        retryable: true\n    },\n    \"69\": {\n        name: \"ErrWrongRegion\",\n        retryable: false\n    },\n    \"70\": {\n        name: \"ErrQueryChannelPermissions\",\n        retryable: false\n    },\n    \"71\": {\n        name: \"ErrTooManyConnections\",\n        retryable: true\n    },\n    \"99\": {\n        name: \"AppSuspendedError\",\n        retryable: false\n    }\n};\nfunction isAPIError(error) {\n    return error.code !== undefined;\n}\nfunction isErrorRetryable(error) {\n    if (!error.code) return false;\n    var err = APIErrorCodes[\"\".concat(error.code)];\n    if (!err) return false;\n    return err.retryable;\n}\nfunction isConnectionIDError(error) {\n    return error.code === 46; // ConnectionIDNotFoundError\n}\nfunction isWSFailure(err) {\n    if (typeof err.isWSFailure === \"boolean\") {\n        return err.isWSFailure;\n    }\n    try {\n        return JSON.parse(err.message).isWSFailure;\n    } catch (_) {\n        return false;\n    }\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\nfunction ownKeys$1(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$1(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$1(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$1(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nvar ConnectionState;\n(function(ConnectionState) {\n    ConnectionState[\"Closed\"] = \"CLOSED\";\n    ConnectionState[\"Connected\"] = \"CONNECTED\";\n    ConnectionState[\"Connecting\"] = \"CONNECTING\";\n    ConnectionState[\"Disconnected\"] = \"DISCONNECTED\";\n    ConnectionState[\"Init\"] = \"INIT\";\n})(ConnectionState || (ConnectionState = {}));\nvar WSConnectionFallback = /*#__PURE__*/ function() {\n    function WSConnectionFallback(_ref) {\n        var _this = this;\n        var client = _ref.client;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, WSConnectionFallback);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cancelToken\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_onlineStatusChanged\", function(event) {\n            _this._log(\"_onlineStatusChanged() - \".concat(event.type));\n            if (event.type === \"offline\") {\n                var _this$cancelToken;\n                _this._setState(ConnectionState.Closed);\n                (_this$cancelToken = _this.cancelToken) === null || _this$cancelToken === void 0 ? void 0 : _this$cancelToken.cancel(\"disconnect() is called\");\n                _this.cancelToken = undefined;\n                return;\n            }\n            if (event.type === \"online\" && _this.state === ConnectionState.Closed) {\n                _this.connect(true);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_req\", /*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(params, config, retry) {\n                var _this$cancelToken2, res;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                if (!_this.cancelToken && !params.close) {\n                                    _this.cancelToken = axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].CancelToken.source();\n                                }\n                                _context.prev = 1;\n                                _context.next = 4;\n                                return _this.client.doAxiosRequest(\"get\", _this.client.baseURL.replace(\":3030\", \":8900\") + \"/longpoll\", undefined, {\n                                    config: _objectSpread$1(_objectSpread$1({}, config), {}, {\n                                        cancelToken: (_this$cancelToken2 = _this.cancelToken) === null || _this$cancelToken2 === void 0 ? void 0 : _this$cancelToken2.token\n                                    }),\n                                    params: params\n                                });\n                            case 4:\n                                res = _context.sent;\n                                _this.consecutiveFailures = 0; // always reset in case of no error\n                                return _context.abrupt(\"return\", res);\n                            case 9:\n                                _context.prev = 9;\n                                _context.t0 = _context[\"catch\"](1);\n                                _this.consecutiveFailures += 1;\n                                if (!(retry && isErrorRetryable(_context.t0))) {\n                                    _context.next = 17;\n                                    break;\n                                }\n                                _this._log(\"_req() - Retryable error, retrying request\");\n                                _context.next = 16;\n                                return sleep(retryInterval(_this.consecutiveFailures));\n                            case 16:\n                                return _context.abrupt(\"return\", _this._req(params, config, retry));\n                            case 17:\n                                throw _context.t0;\n                            case 18:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, null, [\n                    [\n                        1,\n                        9\n                    ]\n                ]);\n            }));\n            return function(_x, _x2, _x3) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_poll\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2() {\n            var _data$events, data, i;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                while(1){\n                    switch(_context2.prev = _context2.next){\n                        case 0:\n                            if (!(_this.state === ConnectionState.Connected)) {\n                                _context2.next = 25;\n                                break;\n                            }\n                            _context2.prev = 1;\n                            _context2.next = 4;\n                            return _this._req({}, {\n                                timeout: 30000\n                            }, true);\n                        case 4:\n                            data = _context2.sent;\n                            // 30s => API responds in 20s if there is no event\n                            if ((_data$events = data.events) !== null && _data$events !== void 0 && _data$events.length) {\n                                for(i = 0; i < data.events.length; i++){\n                                    _this.client.dispatchEvent(data.events[i]);\n                                }\n                            }\n                            _context2.next = 23;\n                            break;\n                        case 8:\n                            _context2.prev = 8;\n                            _context2.t0 = _context2[\"catch\"](1);\n                            if (!axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].isCancel(_context2.t0)) {\n                                _context2.next = 13;\n                                break;\n                            }\n                            _this._log(\"_poll() - axios canceled request\");\n                            return _context2.abrupt(\"return\");\n                        case 13:\n                            if (!isConnectionIDError(_context2.t0)) {\n                                _context2.next = 18;\n                                break;\n                            }\n                            _this._log(\"_poll() - ConnectionID error, connecting without ID...\");\n                            _this._setState(ConnectionState.Disconnected);\n                            _this.connect(true);\n                            return _context2.abrupt(\"return\");\n                        case 18:\n                            if (!(isAPIError(_context2.t0) && !isErrorRetryable(_context2.t0))) {\n                                _context2.next = 21;\n                                break;\n                            }\n                            _this._setState(ConnectionState.Closed);\n                            return _context2.abrupt(\"return\");\n                        case 21:\n                            _context2.next = 23;\n                            return sleep(retryInterval(_this.consecutiveFailures));\n                        case 23:\n                            _context2.next = 0;\n                            break;\n                        case 25:\n                        case \"end\":\n                            return _context2.stop();\n                    }\n                }\n            }, _callee2, null, [\n                [\n                    1,\n                    8\n                ]\n            ]);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n            var reconnect, _yield$_this$_req, event, _args3 = arguments;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                while(1){\n                    switch(_context3.prev = _context3.next){\n                        case 0:\n                            reconnect = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : false;\n                            if (!(_this.state === ConnectionState.Connecting)) {\n                                _context3.next = 4;\n                                break;\n                            }\n                            _this._log(\"connect() - connecting already in progress\", {\n                                reconnect: reconnect\n                            }, \"warn\");\n                            return _context3.abrupt(\"return\");\n                        case 4:\n                            if (!(_this.state === ConnectionState.Connected)) {\n                                _context3.next = 7;\n                                break;\n                            }\n                            _this._log(\"connect() - already connected and polling\", {\n                                reconnect: reconnect\n                            }, \"warn\");\n                            return _context3.abrupt(\"return\");\n                        case 7:\n                            _this._setState(ConnectionState.Connecting);\n                            _this.connectionID = undefined; // connect should be sent with empty connection_id so API creates one\n                            _context3.prev = 9;\n                            _context3.next = 12;\n                            return _this._req({\n                                json: _this.client._buildWSPayload()\n                            }, {\n                                timeout: 8000\n                            }, reconnect);\n                        case 12:\n                            _yield$_this$_req = _context3.sent;\n                            event = _yield$_this$_req.event;\n                            _this._setState(ConnectionState.Connected);\n                            _this.connectionID = event.connection_id; // @ts-expect-error\n                            _this.client.dispatchEvent(event);\n                            _this._poll();\n                            if (reconnect) {\n                                _this.client.recoverState();\n                            }\n                            return _context3.abrupt(\"return\", event);\n                        case 22:\n                            _context3.prev = 22;\n                            _context3.t0 = _context3[\"catch\"](9);\n                            _this._setState(ConnectionState.Closed);\n                            throw _context3.t0;\n                        case 26:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, _callee3, null, [\n                [\n                    9,\n                    22\n                ]\n            ]);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isHealthy\", function() {\n            return !!_this.connectionID && _this.state === ConnectionState.Connected;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4() {\n            var _this$cancelToken3;\n            var timeout, connection_id, _args4 = arguments;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                while(1){\n                    switch(_context4.prev = _context4.next){\n                        case 0:\n                            timeout = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 2000;\n                            removeConnectionEventListeners(_this._onlineStatusChanged);\n                            _this._setState(ConnectionState.Disconnected);\n                            (_this$cancelToken3 = _this.cancelToken) === null || _this$cancelToken3 === void 0 ? void 0 : _this$cancelToken3.cancel(\"disconnect() is called\");\n                            _this.cancelToken = undefined;\n                            connection_id = _this.connectionID;\n                            _this.connectionID = undefined;\n                            _context4.prev = 7;\n                            _context4.next = 10;\n                            return _this._req({\n                                close: true,\n                                connection_id: connection_id\n                            }, {\n                                timeout: timeout\n                            }, false);\n                        case 10:\n                            _this._log(\"disconnect() - Closed connectionID\");\n                            _context4.next = 16;\n                            break;\n                        case 13:\n                            _context4.prev = 13;\n                            _context4.t0 = _context4[\"catch\"](7);\n                            _this._log(\"disconnect() - Failed\", {\n                                err: _context4.t0\n                            }, \"error\");\n                        case 16:\n                        case \"end\":\n                            return _context4.stop();\n                    }\n                }\n            }, _callee4, null, [\n                [\n                    7,\n                    13\n                ]\n            ]);\n        })));\n        this.client = client;\n        this.state = ConnectionState.Init;\n        this.consecutiveFailures = 0;\n        addConnectionEventListeners(this._onlineStatusChanged);\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(WSConnectionFallback, [\n        {\n            key: \"_log\",\n            value: function _log(msg) {\n                var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n                this.client.logger(level, \"WSConnectionFallback:\" + msg, _objectSpread$1({\n                    tags: [\n                        \"connection_fallback\",\n                        \"connection\"\n                    ]\n                }, extra));\n            }\n        },\n        {\n            key: \"_setState\",\n            value: function _setState(state) {\n                this._log(\"_setState() - \".concat(state)); // transition from connecting => connected\n                if (this.state === ConnectionState.Connecting && state === ConnectionState.Connected) {\n                    this.client.dispatchEvent({\n                        type: \"connection.changed\",\n                        online: true\n                    });\n                }\n                if (state === ConnectionState.Closed || state === ConnectionState.Disconnected) {\n                    this.client.dispatchEvent({\n                        type: \"connection.changed\",\n                        online: false\n                    });\n                }\n                this.state = state;\n            }\n        }\n    ]);\n    return WSConnectionFallback;\n}();\nfunction _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default()(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default()(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18___default()(this, result);\n    };\n}\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n/**\n * Utility Types\n */ /* Unknown Record */ //alias to avoid breaking change\n/**\n * Response Types\n */ // Thumb URL(thumb_url) is added considering video attachments as the backend will return the thumbnail in the response.\n/**\n * Option Types\n */ // TODO: rename to UpdateChannelOptions in the next major update and use it in channel._update and/or channel.update\n/** @deprecated use MarkChannelsReadOptions instead */ // TODO: rename to UpdateChannelTypeOptions in the next major update\n/**\n * Event Types\n */ /**\n * Filter Types\n */ /**\n * Sort Types\n */ /**\n * Base Types\n */ /*\n  DeleteUserOptions specifies a collection of one or more `user_ids` to be deleted.\n\n  `user`:\n    - soft: marks user as deleted and retains all user data \n    - pruning: marks user as deleted and nullifies user information \n    - hard: deletes user completely - this requires hard option for messages and conversation as well\n  `conversations`:\n    - soft: marks all conversation channels as deleted (same effect as Delete Channels with 'hard' option disabled)\n    - hard: deletes channel and all its data completely including messages (same effect as Delete Channels with 'hard' option enabled)\n  `messages`:\n    - soft: marks all user messages as deleted without removing any related message data\n    - pruning: marks all user messages as deleted, nullifies message information and removes some message data such as reactions and flags\n    - hard: deletes messages completely with all related information\n  `new_channel_owner_id`: any channels owned by the hard-deleted user will be transferred to this user ID\n */ // TODO: add better typing\nvar ErrorFromResponse = /*#__PURE__*/ function(_Error) {\n    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17___default()(ErrorFromResponse, _Error);\n    var _super = _createSuper(ErrorFromResponse);\n    function ErrorFromResponse() {\n        var _this;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ErrorFromResponse);\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        _this = _super.call.apply(_super, [\n            this\n        ].concat(args));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"code\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"response\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"status\", void 0);\n        return _this;\n    }\n    return ErrorFromResponse;\n}(/*#__PURE__*/ _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20___default()(Error));\nvar _excluded = [\n    \"created_at\",\n    \"updated_at\",\n    \"last_active\",\n    \"online\"\n], _excluded2 = [\n    \"params\",\n    \"headers\"\n];\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nfunction isString(x) {\n    return typeof x === \"string\" || x instanceof String;\n}\nvar StreamChat = /*#__PURE__*/ function() {\n    function StreamChat(_key, secretOrOptions, _options) {\n        var _this = this, _this$options;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, StreamChat);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_user\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"activeChannels\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"anonymous\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"persistUserOnConnectionFailure\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"axiosInstance\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"baseURL\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"browser\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cleaningIntervalRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"clientID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"configs\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"key\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"listeners\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"logger\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"recoverStateOnReconnect\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedChannels\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedUsers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"node\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"options\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"secret\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setUserPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenManager\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"user\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userAgent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsBaseURL\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsConnection\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsFallback\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"insightMetrics\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"defaultWSTimeoutWithFallback\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"defaultWSTimeout\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"nextRequestAbortController\", null);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_getConnectionID\", function() {\n            var _this$wsConnection, _this$wsFallback;\n            return ((_this$wsConnection = _this.wsConnection) === null || _this$wsConnection === void 0 ? void 0 : _this$wsConnection.connectionID) || ((_this$wsFallback = _this.wsFallback) === null || _this$wsFallback === void 0 ? void 0 : _this$wsFallback.connectionID);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_hasConnectionID\", function() {\n            return Boolean(_this._getConnectionID());\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectUser\", /*#__PURE__*/ function() {\n            var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(user, userTokenOrProvider) {\n                var setTokenPromise, wsPromise;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                if (user.id) {\n                                    _context.next = 2;\n                                    break;\n                                }\n                                throw new Error('The \"id\" field on the user is missing');\n                            case 2:\n                                if (!(_this.userID === user.id && _this.setUserPromise)) {\n                                    _context.next = 5;\n                                    break;\n                                }\n                                console.warn(\"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                                return _context.abrupt(\"return\", _this.setUserPromise);\n                            case 5:\n                                if (!_this.userID) {\n                                    _context.next = 7;\n                                    break;\n                                }\n                                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n                            case 7:\n                                if ((_this._isUsingServerAuth() || _this.node) && !_this.options.allowServerSideConnect) {\n                                    console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n                                } // we generate the client id client side\n                                _this.userID = user.id;\n                                _this.anonymous = false;\n                                setTokenPromise = _this._setToken(user, userTokenOrProvider);\n                                _this._setUser(user);\n                                wsPromise = _this.openConnection();\n                                _this.setUserPromise = Promise.all([\n                                    setTokenPromise,\n                                    wsPromise\n                                ]).then(function(result) {\n                                    return result[1];\n                                } // We only return connection promise;\n                                );\n                                _context.prev = 14;\n                                _context.next = 17;\n                                return _this.setUserPromise;\n                            case 17:\n                                return _context.abrupt(\"return\", _context.sent);\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context[\"catch\"](14);\n                                if (_this.persistUserOnConnectionFailure) {\n                                    // cleanup client to allow the user to retry connectUser again\n                                    _this.closeConnection();\n                                } else {\n                                    _this.disconnectUser();\n                                }\n                                throw _context.t0;\n                            case 24:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, null, [\n                    [\n                        14,\n                        20\n                    ]\n                ]);\n            }));\n            return function(_x, _x2) {\n                return _ref.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setUser\", this.connectUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setToken\", function(user, userTokenOrProvider) {\n            return _this.tokenManager.setTokenOrProvider(userTokenOrProvider, user);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"closeConnection\", /*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(timeout) {\n                var _this$wsConnection2, _this$wsFallback2;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                    while(1){\n                        switch(_context2.prev = _context2.next){\n                            case 0:\n                                if (_this.cleaningIntervalRef != null) {\n                                    clearInterval(_this.cleaningIntervalRef);\n                                    _this.cleaningIntervalRef = undefined;\n                                }\n                                _context2.next = 3;\n                                return Promise.all([\n                                    (_this$wsConnection2 = _this.wsConnection) === null || _this$wsConnection2 === void 0 ? void 0 : _this$wsConnection2.disconnect(timeout),\n                                    (_this$wsFallback2 = _this.wsFallback) === null || _this$wsFallback2 === void 0 ? void 0 : _this$wsFallback2.disconnect(timeout)\n                                ]);\n                            case 3:\n                                return _context2.abrupt(\"return\", Promise.resolve());\n                            case 4:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2);\n            }));\n            return function(_x3) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"openConnection\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n            var _this$wsConnection3, _this$wsConnection4, _this$wsFallback3;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                while(1){\n                    switch(_context3.prev = _context3.next){\n                        case 0:\n                            if (_this.userID) {\n                                _context3.next = 2;\n                                break;\n                            }\n                            throw Error(\"User is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n                        case 2:\n                            if (!((_this$wsConnection3 = _this.wsConnection) !== null && _this$wsConnection3 !== void 0 && _this$wsConnection3.isConnecting && _this.wsPromise)) {\n                                _context3.next = 5;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:openConnection() - connection already in progress\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            return _context3.abrupt(\"return\", _this.wsPromise);\n                        case 5:\n                            if (!(((_this$wsConnection4 = _this.wsConnection) !== null && _this$wsConnection4 !== void 0 && _this$wsConnection4.isHealthy || (_this$wsFallback3 = _this.wsFallback) !== null && _this$wsFallback3 !== void 0 && _this$wsFallback3.isHealthy()) && _this._hasConnectionID())) {\n                                _context3.next = 8;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            return _context3.abrupt(\"return\", Promise.resolve());\n                        case 8:\n                            _this.clientID = \"\".concat(_this.userID, \"--\").concat(randomId());\n                            _this.wsPromise = _this.connect();\n                            _this._startCleaning();\n                            return _context3.abrupt(\"return\", _this.wsPromise);\n                        case 12:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, _callee3);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setupConnection\", this.openConnection);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_normalizeDate\", function(before) {\n            if (before instanceof Date) {\n                before = before.toISOString();\n            }\n            if (before === \"\") {\n                throw new Error(\"Don't pass blank string for since, use null instead if resetting the token revoke\");\n            }\n            return before;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnectUser\", /*#__PURE__*/ function() {\n            var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4(timeout) {\n                var closePromise, _i, _Object$values, _channel;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                    while(1){\n                        switch(_context4.prev = _context4.next){\n                            case 0:\n                                _this.logger(\"info\", \"client:disconnect() - Disconnecting the client\", {\n                                    tags: [\n                                        \"connection\",\n                                        \"client\"\n                                    ]\n                                }); // remove the user specific fields\n                                delete _this.user;\n                                delete _this._user;\n                                delete _this.userID;\n                                _this.anonymous = false;\n                                closePromise = _this.closeConnection(timeout);\n                                for(_i = 0, _Object$values = Object.values(_this.activeChannels); _i < _Object$values.length; _i++){\n                                    _channel = _Object$values[_i];\n                                    _channel._disconnect();\n                                } // ensure we no longer return inactive channels\n                                _this.activeChannels = {}; // reset client state\n                                _this.state = new ClientState(); // reset token manager\n                                setTimeout(_this.tokenManager.reset); // delay reseting to use token for disconnect calls\n                                // close the WS connection\n                                return _context4.abrupt(\"return\", closePromise);\n                            case 11:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4);\n            }));\n            return function(_x4) {\n                return _ref4.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnect\", this.disconnectUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectAnonymousUser\", function() {\n            if ((_this._isUsingServerAuth() || _this.node) && !_this.options.allowServerSideConnect) {\n                console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n            }\n            _this.anonymous = true;\n            _this.userID = randomId();\n            var anonymousUser = {\n                id: _this.userID,\n                anon: true\n            };\n            _this._setToken(anonymousUser, \"\");\n            _this._setUser(anonymousUser);\n            return _this._setupConnection();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setAnonymousUser\", this.connectAnonymousUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"doAxiosRequest\", /*#__PURE__*/ function() {\n            var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5(type, url, data) {\n                var options, requestConfig, response, _requestConfig$header, _args5 = arguments;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                    while(1){\n                        switch(_context5.prev = _context5.next){\n                            case 0:\n                                options = _args5.length > 3 && _args5[3] !== undefined ? _args5[3] : {};\n                                _context5.next = 3;\n                                return _this.tokenManager.tokenReady();\n                            case 3:\n                                requestConfig = _this._enrichAxiosOptions(options);\n                                _context5.prev = 4;\n                                _this._logApiRequest(type, url, data, requestConfig);\n                                _context5.t0 = type;\n                                _context5.next = _context5.t0 === \"get\" ? 9 : _context5.t0 === \"delete\" ? 13 : _context5.t0 === \"post\" ? 17 : _context5.t0 === \"postForm\" ? 21 : _context5.t0 === \"put\" ? 25 : _context5.t0 === \"patch\" ? 29 : _context5.t0 === \"options\" ? 33 : 37;\n                                break;\n                            case 9:\n                                _context5.next = 11;\n                                return _this.axiosInstance.get(url, requestConfig);\n                            case 11:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 13:\n                                _context5.next = 15;\n                                return _this.axiosInstance.delete(url, requestConfig);\n                            case 15:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 17:\n                                _context5.next = 19;\n                                return _this.axiosInstance.post(url, data, requestConfig);\n                            case 19:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 21:\n                                _context5.next = 23;\n                                return _this.axiosInstance.postForm(url, data, requestConfig);\n                            case 23:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 25:\n                                _context5.next = 27;\n                                return _this.axiosInstance.put(url, data, requestConfig);\n                            case 27:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 29:\n                                _context5.next = 31;\n                                return _this.axiosInstance.patch(url, data, requestConfig);\n                            case 31:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 33:\n                                _context5.next = 35;\n                                return _this.axiosInstance.options(url, requestConfig);\n                            case 35:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 37:\n                                throw new Error(\"Invalid request type\");\n                            case 38:\n                                _this._logApiResponse(type, url, response);\n                                _this.consecutiveFailures = 0;\n                                return _context5.abrupt(\"return\", _this.handleResponse(response));\n                            case 43:\n                                _context5.prev = 43;\n                                _context5.t1 = _context5[\"catch\"](4);\n                                _context5.t1.client_request_id = (_requestConfig$header = requestConfig.headers) === null || _requestConfig$header === void 0 ? void 0 : _requestConfig$header[\"x-client-request-id\"];\n                                _this._logApiError(type, url, _context5.t1);\n                                _this.consecutiveFailures += 1;\n                                if (!_context5.t1.response) {\n                                    _context5.next = 60;\n                                    break;\n                                }\n                                if (!(_context5.t1.response.data.code === chatCodes.TOKEN_EXPIRED && !_this.tokenManager.isStatic())) {\n                                    _context5.next = 57;\n                                    break;\n                                }\n                                if (!(_this.consecutiveFailures > 1)) {\n                                    _context5.next = 53;\n                                    break;\n                                }\n                                _context5.next = 53;\n                                return sleep(retryInterval(_this.consecutiveFailures));\n                            case 53:\n                                _this.tokenManager.loadToken();\n                                _context5.next = 56;\n                                return _this.doAxiosRequest(type, url, data, options);\n                            case 56:\n                                return _context5.abrupt(\"return\", _context5.sent);\n                            case 57:\n                                return _context5.abrupt(\"return\", _this.handleResponse(_context5.t1.response));\n                            case 60:\n                                throw _context5.t1;\n                            case 61:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, null, [\n                    [\n                        4,\n                        43\n                    ]\n                ]);\n            }));\n            return function(_x5, _x6, _x7) {\n                return _ref5.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"dispatchEvent\", function(event) {\n            if (!event.received_at) event.received_at = new Date(); // client event handlers\n            var postListenerCallbacks = _this._handleClientEvent(event); // channel event handlers\n            var cid = event.cid;\n            var channel = cid ? _this.activeChannels[cid] : undefined;\n            if (channel) {\n                channel._handleChannelEvent(event);\n            }\n            _this._callClientListeners(event);\n            if (channel) {\n                channel._callChannelListeners(event);\n            }\n            postListenerCallbacks.forEach(function(c) {\n                return c();\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"handleEvent\", function(messageEvent) {\n            // dispatch the event to the channel listeners\n            var jsonString = messageEvent.data;\n            var event = JSON.parse(jsonString);\n            _this.dispatchEvent(event);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateMemberWatcherReferences\", function(user) {\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID in refMap){\n                var _channel2 = _this.activeChannels[_channelID];\n                if (_channel2 !== null && _channel2 !== void 0 && _channel2.state) {\n                    if (_channel2.state.members[user.id]) {\n                        _channel2.state.members[user.id].user = user;\n                    }\n                    if (_channel2.state.watchers[user.id]) {\n                        _channel2.state.watchers[user.id] = user;\n                    }\n                    if (_channel2.state.read[user.id]) {\n                        _channel2.state.read[user.id].user = user;\n                    }\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateUserReferences\", this._updateMemberWatcherReferences);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateUserMessageReferences\", function(user) {\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID2 in refMap){\n                var _channel3 = _this.activeChannels[_channelID2];\n                var state = _channel3.state;\n                /** update the messages from this user. */ state === null || state === void 0 ? void 0 : state.updateUserMessages(user);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_deleteUserMessageReference\", function(user) {\n            var hardDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID3 in refMap){\n                var _channel4 = _this.activeChannels[_channelID3];\n                var state = _channel4.state;\n                /** deleted the messages from this user. */ state === null || state === void 0 ? void 0 : state.deleteUserMessages(user, hardDelete);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_handleUserEvent\", function(event) {\n            if (!event.user) {\n                return;\n            }\n            /** update the client.state with any changes to users */ if (event.type === \"user.presence.changed\" || event.type === \"user.updated\") {\n                if (event.user.id === _this.userID) {\n                    var user = _objectSpread({}, _this.user || {});\n                    var _user = _objectSpread({}, _this._user || {}); // Remove deleted properties from user objects.\n                    for(var _key2 in _this.user){\n                        if (_key2 in event.user || isOwnUserBaseProperty(_key2)) {\n                            continue;\n                        }\n                        delete user[_key2];\n                        delete _user[_key2];\n                    }\n                    /** Updating only available properties in _user object. */ for(var _key3 in event.user){\n                        if (_user && _key3 in _user) {\n                            _user[_key3] = event.user[_key3];\n                        }\n                    } // @ts-expect-error\n                    _this._user = _objectSpread({}, _user);\n                    _this.user = _objectSpread(_objectSpread({}, user), event.user);\n                }\n                _this.state.updateUser(event.user);\n                _this._updateMemberWatcherReferences(event.user);\n            }\n            if (event.type === \"user.updated\") {\n                _this._updateUserMessageReferences(event.user);\n            }\n            if (event.type === \"user.deleted\" && event.user.deleted_at && (event.mark_messages_deleted || event.hard_delete)) {\n                _this._deleteUserMessageReference(event.user, event.hard_delete);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_callClientListeners\", function(event) {\n            var client = _this; // gather and call the listeners\n            var listeners = [];\n            if (client.listeners.all) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(client.listeners.all));\n            }\n            if (client.listeners[event.type]) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(client.listeners[event.type]));\n            } // call the event and send it to the listeners\n            for(var _i2 = 0, _listeners = listeners; _i2 < _listeners.length; _i2++){\n                var listener = _listeners[_i2];\n                listener(event);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"recoverState\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n            var cids;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                while(1){\n                    switch(_context6.prev = _context6.next){\n                        case 0:\n                            _this.logger(\"info\", \"client:recoverState() - Start of recoverState with connectionID \".concat(_this._getConnectionID()), {\n                                tags: [\n                                    \"connection\"\n                                ]\n                            });\n                            cids = Object.keys(_this.activeChannels);\n                            if (!(cids.length && _this.recoverStateOnReconnect)) {\n                                _context6.next = 10;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:recoverState() - Start the querying of \".concat(cids.length, \" channels\"), {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            _context6.next = 6;\n                            return _this.queryChannels({\n                                cid: {\n                                    $in: cids\n                                }\n                            }, {\n                                last_message_at: -1\n                            }, {\n                                limit: 30\n                            });\n                        case 6:\n                            _this.logger(\"info\", \"client:recoverState() - Querying channels finished\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            _this.dispatchEvent({\n                                type: \"connection.recovered\"\n                            });\n                            _context6.next = 11;\n                            break;\n                        case 10:\n                            _this.dispatchEvent({\n                                type: \"connection.recovered\"\n                            });\n                        case 11:\n                            _this.wsPromise = Promise.resolve();\n                            _this.setUserPromise = Promise.resolve();\n                        case 13:\n                        case \"end\":\n                            return _context6.stop();\n                    }\n                }\n            }, _callee6);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getChannelByMembers\", function(channelType, custom) {\n            // Check if the channel already exists.\n            // Only allow 1 channel object per cid\n            var membersStr = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(custom.members || []).sort().join(\",\");\n            var tempCid = \"\".concat(channelType, \":!members-\").concat(membersStr);\n            if (!membersStr) {\n                throw Error(\"Please specify atleast one member when creating unique conversation\");\n            } // channel could exist in `activeChannels` list with either one of the following two keys:\n            // 1. cid - Which gets set on channel only after calling channel.query or channel.watch or channel.create\n            // 2. Sorted membersStr - E.g., \"messaging:amin,vishal\" OR \"messaging:amin,jaap,tom\"\n            //                        This is set when you create a channel, but haven't queried yet. After query,\n            //                        we will replace it with `cid`\n            for(var _key4 in _this.activeChannels){\n                var _channel5 = _this.activeChannels[_key4];\n                if (_channel5.disconnected) {\n                    continue;\n                }\n                if (_key4 === tempCid) {\n                    return _channel5;\n                }\n                if (_key4.indexOf(\"\".concat(channelType, \":!members-\")) === 0) {\n                    var membersStrInExistingChannel = Object.keys(_channel5.state.members).sort().join(\",\");\n                    if (membersStrInExistingChannel === membersStr) {\n                        return _channel5;\n                    }\n                }\n            }\n            var channel = new Channel(_this, channelType, undefined, custom); // For the time being set the key as membersStr, since we don't know the cid yet.\n            // In channel.query, we will replace it with 'cid'.\n            _this.activeChannels[tempCid] = channel;\n            return channel;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getChannelById\", function(channelType, channelID, custom) {\n            if (typeof channelID === \"string\" && ~channelID.indexOf(\":\")) {\n                throw Error(\"Invalid channel id \".concat(channelID, \", can't contain the : character\"));\n            } // only allow 1 channel object per cid\n            var cid = \"\".concat(channelType, \":\").concat(channelID);\n            if (cid in _this.activeChannels && !_this.activeChannels[cid].disconnected) {\n                var _channel6 = _this.activeChannels[cid];\n                if (Object.keys(custom).length > 0) {\n                    _channel6.data = custom;\n                    _channel6._data = custom;\n                }\n                return _channel6;\n            }\n            var channel = new Channel(_this, channelType, channelID, custom);\n            _this.activeChannels[channel.cid] = channel;\n            return channel;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUsers\", this.upsertUsers);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUser\", this.upsertUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_unblockMessage\", this.unblockMessage);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"markAllRead\", this.markChannelsRead);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_isUsingServerAuth\", function() {\n            return !!_this.secret;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_buildWSPayload\", function(client_request_id) {\n            return JSON.stringify({\n                user_id: _this.userID,\n                user_details: _this._user,\n                device: _this.options.device,\n                client_request_id: client_request_id\n            });\n        });\n        // set the key\n        this.key = _key;\n        this.listeners = {};\n        this.state = new ClientState(); // a list of channels to hide ws events from\n        this.mutedChannels = [];\n        this.mutedUsers = []; // set the secret\n        if (secretOrOptions && isString(secretOrOptions)) {\n            this.secret = secretOrOptions;\n        } // set the options... and figure out defaults...\n        var inputOptions = _options ? _options : secretOrOptions && !isString(secretOrOptions) ? secretOrOptions : {};\n        this.browser = typeof inputOptions.browser !== \"undefined\" ? inputOptions.browser : \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        this.options = _objectSpread({\n            timeout: 3000,\n            withCredentials: false,\n            // making sure cookies are not sent\n            warmUp: false,\n            recoverStateOnReconnect: true\n        }, inputOptions);\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_10___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].create(this.options);\n        this.setBaseURL(this.options.baseURL || \"https://chat.stream-io-api.com\");\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_RUN) {\n            this.setBaseURL(\"http://localhost:3030\");\n        }\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_HOST) {\n            this.setBaseURL(\"http://\" + process.env.STREAM_LOCAL_TEST_HOST);\n        } // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromise = null;\n        this.setUserPromise = null; // keeps a reference to all the channels that are in use\n        this.activeChannels = {}; // mapping between channel groups and configs\n        this.configs = {};\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = (_this$options = this.options) === null || _this$options === void 0 ? void 0 : _this$options.persistUserOnConnectionFailure; // If its a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.insightMetrics = new InsightMetrics();\n        this.defaultWSTimeoutWithFallback = 6000;\n        this.defaultWSTimeout = 15000;\n        this.axiosInstance.defaults.paramsSerializer = axiosParamsSerializer;\n        /**\n     * logger function should accept 3 parameters:\n     * @param logLevel string\n     * @param message   string\n     * @param extraData object\n     *\n     * e.g.,\n     * const client = new StreamChat('api_key', {}, {\n     * \t\tlogger = (logLevel, message, extraData) => {\n     * \t\t\tconsole.log(message);\n     * \t\t}\n     * })\n     *\n     * extraData contains tags array attached to log message. Tags can have one/many of following values:\n     * 1. api\n     * 2. api_request\n     * 3. api_response\n     * 4. client\n     * 5. channel\n     * 6. connection\n     * 7. event\n     *\n     * It may also contains some extra data, some examples have been mentioned below:\n     * 1. {\n     * \t\ttags: ['api', 'api_request', 'client'],\n     * \t\turl: string,\n     * \t\tpayload: object,\n     * \t\tconfig: object\n     * }\n     * 2. {\n     * \t\ttags: ['api', 'api_response', 'client'],\n     * \t\turl: string,\n     * \t\tresponse: object\n     * }\n     * 3. {\n     * \t\ttags: ['api', 'api_response', 'client'],\n     * \t\turl: string,\n     * \t\terror: object\n     * }\n     * 4. {\n     * \t\ttags: ['event', 'client'],\n     * \t\tevent: object\n     * }\n     * 5. {\n     * \t\ttags: ['channel'],\n     * \t\tchannel: object\n     * }\n     */ this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : function() {\n            return null;\n        };\n        this.recoverStateOnReconnect = this.options.recoverStateOnReconnect;\n    }\n    /**\n   * Get a client instance\n   *\n   * This function always returns the same Client instance to avoid issues raised by multiple Client and WS connections\n   *\n   * **After the first call, the client configuration will not change if the key or options parameters change**\n   *\n   * @param {string} key - the api key\n   * @param {string} [secret] - the api secret\n   * @param {StreamChatOptions} [options] - additional options, here you can pass custom options to axios instance\n   * @param {boolean} [options.browser] - enforce the client to be in browser mode\n   * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n   * @param {Logger} [options.Logger] - custom logger\n   * @param {number} [options.timeout] - default to 3000\n   * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n   * @example <caption>initialize the client in user mode</caption>\n   * StreamChat.getInstance('api_key')\n   * @example <caption>initialize the client in user mode with options</caption>\n   * StreamChat.getInstance('api_key', { timeout:5000 })\n   * @example <caption>secret is optional and only used in server side mode</caption>\n   * StreamChat.getInstance('api_key', \"secret\", { httpsAgent: customAgent })\n   */ _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(StreamChat, [\n        {\n            key: \"devToken\",\n            value: function devToken(userID) {\n                return DevToken(userID);\n            }\n        },\n        {\n            key: \"getAuthType\",\n            value: function getAuthType() {\n                return this.anonymous ? \"anonymous\" : \"jwt\";\n            }\n        },\n        {\n            key: \"setBaseURL\",\n            value: function setBaseURL(baseURL) {\n                this.baseURL = baseURL;\n                this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n            }\n        },\n        {\n            key: \"_setUser\",\n            value: function _setUser(user) {\n                /**\n       * This one is used by the frontend. This is a copy of the current user object stored on backend.\n       * It contains reserved properties and own user properties which are not present in `this._user`.\n       */ this.user = user;\n                this.userID = user.id; // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n                this._user = _objectSpread({}, user);\n            }\n        },\n        {\n            key: \"updateAppSettings\",\n            value: /**\n     * updateAppSettings - updates application settings\n     *\n     * @param {AppSettings} options App settings.\n     * IE: {\n        'apn_config': {\n          'auth_type': 'token',\n          'auth_key\": fs.readFileSync(\n            './apn-push-auth-key.p8',\n            'utf-8',\n          ),\n          'key_id': 'keyid',\n          'team_id': 'teamid',\n          'notification_template\": 'notification handlebars template',\n          'bundle_id': 'com.apple.your.app',\n          'development': true\n        },\n        'firebase_config': {\n          'server_key': 'server key from fcm',\n          'notification_template': 'notification handlebars template',\n          'data_template': 'data handlebars template',\n          'apn_template': 'apn notification handlebars template under v2'\n        },\n        'webhook_url': 'https://acme.com/my/awesome/webhook/'\n      }\n     */ function() {\n                var _updateAppSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee7(options) {\n                    var apn_config;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee7$(_context7) {\n                        while(1){\n                            switch(_context7.prev = _context7.next){\n                                case 0:\n                                    apn_config = options.apn_config;\n                                    if (apn_config !== null && apn_config !== void 0 && apn_config.p12_cert) {\n                                        options = _objectSpread(_objectSpread({}, options), {}, {\n                                            apn_config: _objectSpread(_objectSpread({}, apn_config), {}, {\n                                                p12_cert: Buffer.from(apn_config.p12_cert).toString(\"base64\")\n                                            })\n                                        });\n                                    }\n                                    _context7.next = 4;\n                                    return this.patch(this.baseURL + \"/app\", options);\n                                case 4:\n                                    return _context7.abrupt(\"return\", _context7.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context7.stop();\n                            }\n                        }\n                    }, _callee7, this);\n                }));\n                function updateAppSettings(_x8) {\n                    return _updateAppSettings.apply(this, arguments);\n                }\n                return updateAppSettings;\n            }()\n        },\n        {\n            key: \"revokeTokens\",\n            value: /**\n     * Revokes all tokens on application level issued before given time\n     */ function() {\n                var _revokeTokens = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee8(before) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee8$(_context8) {\n                        while(1){\n                            switch(_context8.prev = _context8.next){\n                                case 0:\n                                    _context8.next = 2;\n                                    return this.updateAppSettings({\n                                        revoke_tokens_issued_before: this._normalizeDate(before)\n                                    });\n                                case 2:\n                                    return _context8.abrupt(\"return\", _context8.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context8.stop();\n                            }\n                        }\n                    }, _callee8, this);\n                }));\n                function revokeTokens(_x9) {\n                    return _revokeTokens.apply(this, arguments);\n                }\n                return revokeTokens;\n            }()\n        },\n        {\n            key: \"revokeUserToken\",\n            value: function() {\n                var _revokeUserToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee9(userID, before) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee9$(_context9) {\n                        while(1){\n                            switch(_context9.prev = _context9.next){\n                                case 0:\n                                    _context9.next = 2;\n                                    return this.revokeUsersToken([\n                                        userID\n                                    ], before);\n                                case 2:\n                                    return _context9.abrupt(\"return\", _context9.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context9.stop();\n                            }\n                        }\n                    }, _callee9, this);\n                }));\n                function revokeUserToken(_x10, _x11) {\n                    return _revokeUserToken.apply(this, arguments);\n                }\n                return revokeUserToken;\n            }()\n        },\n        {\n            key: \"revokeUsersToken\",\n            value: function() {\n                var _revokeUsersToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee10(userIDs, before) {\n                    var users, _iterator, _step, userID;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee10$(_context10) {\n                        while(1){\n                            switch(_context10.prev = _context10.next){\n                                case 0:\n                                    if (before === undefined) {\n                                        before = new Date().toISOString();\n                                    } else {\n                                        before = this._normalizeDate(before);\n                                    }\n                                    users = [];\n                                    _iterator = _createForOfIteratorHelper(userIDs);\n                                    try {\n                                        for(_iterator.s(); !(_step = _iterator.n()).done;){\n                                            userID = _step.value;\n                                            users.push({\n                                                id: userID,\n                                                set: {\n                                                    revoke_tokens_issued_before: before\n                                                }\n                                            });\n                                        }\n                                    } catch (err) {\n                                        _iterator.e(err);\n                                    } finally{\n                                        _iterator.f();\n                                    }\n                                    _context10.next = 6;\n                                    return this.partialUpdateUsers(users);\n                                case 6:\n                                    return _context10.abrupt(\"return\", _context10.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context10.stop();\n                            }\n                        }\n                    }, _callee10, this);\n                }));\n                function revokeUsersToken(_x12, _x13) {\n                    return _revokeUsersToken.apply(this, arguments);\n                }\n                return revokeUsersToken;\n            }()\n        },\n        {\n            key: \"getAppSettings\",\n            value: function() {\n                var _getAppSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee11() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee11$(_context11) {\n                        while(1){\n                            switch(_context11.prev = _context11.next){\n                                case 0:\n                                    _context11.next = 2;\n                                    return this.get(this.baseURL + \"/app\");\n                                case 2:\n                                    return _context11.abrupt(\"return\", _context11.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context11.stop();\n                            }\n                        }\n                    }, _callee11, this);\n                }));\n                function getAppSettings() {\n                    return _getAppSettings.apply(this, arguments);\n                }\n                return getAppSettings;\n            }()\n        },\n        {\n            key: \"testPushSettings\",\n            value: function() {\n                var _testPushSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee12(userID) {\n                    var data, _args12 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee12$(_context12) {\n                        while(1){\n                            switch(_context12.prev = _context12.next){\n                                case 0:\n                                    data = _args12.length > 1 && _args12[1] !== undefined ? _args12[1] : {};\n                                    _context12.next = 3;\n                                    return this.post(this.baseURL + \"/check_push\", _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n                                        user_id: userID\n                                    }, data.messageID ? {\n                                        message_id: data.messageID\n                                    } : {}), data.apnTemplate ? {\n                                        apn_template: data.apnTemplate\n                                    } : {}), data.firebaseTemplate ? {\n                                        firebase_template: data.firebaseTemplate\n                                    } : {}), data.firebaseDataTemplate ? {\n                                        firebase_data_template: data.firebaseDataTemplate\n                                    } : {}), data.skipDevices ? {\n                                        skip_devices: true\n                                    } : {}), data.pushProviderName ? {\n                                        push_provider_name: data.pushProviderName\n                                    } : {}), data.pushProviderType ? {\n                                        push_provider_type: data.pushProviderType\n                                    } : {}));\n                                case 3:\n                                    return _context12.abrupt(\"return\", _context12.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context12.stop();\n                            }\n                        }\n                    }, _callee12, this);\n                }));\n                function testPushSettings(_x14) {\n                    return _testPushSettings.apply(this, arguments);\n                }\n                return testPushSettings;\n            }()\n        },\n        {\n            key: \"testSQSSettings\",\n            value: function() {\n                var _testSQSSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee13() {\n                    var data, _args13 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee13$(_context13) {\n                        while(1){\n                            switch(_context13.prev = _context13.next){\n                                case 0:\n                                    data = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {};\n                                    _context13.next = 3;\n                                    return this.post(this.baseURL + \"/check_sqs\", data);\n                                case 3:\n                                    return _context13.abrupt(\"return\", _context13.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context13.stop();\n                            }\n                        }\n                    }, _callee13, this);\n                }));\n                function testSQSSettings() {\n                    return _testSQSSettings.apply(this, arguments);\n                }\n                return testSQSSettings;\n            }()\n        },\n        {\n            key: \"testSNSSettings\",\n            value: function() {\n                var _testSNSSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee14() {\n                    var data, _args14 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee14$(_context14) {\n                        while(1){\n                            switch(_context14.prev = _context14.next){\n                                case 0:\n                                    data = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {};\n                                    _context14.next = 3;\n                                    return this.post(this.baseURL + \"/check_sns\", data);\n                                case 3:\n                                    return _context14.abrupt(\"return\", _context14.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context14.stop();\n                            }\n                        }\n                    }, _callee14, this);\n                }));\n                function testSNSSettings() {\n                    return _testSNSSettings.apply(this, arguments);\n                }\n                return testSNSSettings;\n            }()\n        },\n        {\n            key: \"setGuestUser\",\n            value: /**\n     * setGuestUser - Setup a temporary guest user\n     *\n     * @param {UserResponse<StreamChatGenerics>} user Data about this user. IE {name: \"john\"}\n     *\n     * @return {ConnectAPIResponse<StreamChatGenerics>} Returns a promise that resolves when the connection is setup\n     */ function() {\n                var _setGuestUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee15(user) {\n                    var response, _response$user, guestUser;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee15$(_context15) {\n                        while(1){\n                            switch(_context15.prev = _context15.next){\n                                case 0:\n                                    this.anonymous = true;\n                                    _context15.prev = 1;\n                                    _context15.next = 4;\n                                    return this.post(this.baseURL + \"/guest\", {\n                                        user: user\n                                    });\n                                case 4:\n                                    response = _context15.sent;\n                                    _context15.next = 11;\n                                    break;\n                                case 7:\n                                    _context15.prev = 7;\n                                    _context15.t0 = _context15[\"catch\"](1);\n                                    this.anonymous = false;\n                                    throw _context15.t0;\n                                case 11:\n                                    this.anonymous = false; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                    _response$user = response.user, _response$user.created_at, _response$user.updated_at, _response$user.last_active, _response$user.online, guestUser = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_response$user, _excluded);\n                                    _context15.next = 15;\n                                    return this.connectUser(guestUser, response.access_token);\n                                case 15:\n                                    return _context15.abrupt(\"return\", _context15.sent);\n                                case 16:\n                                case \"end\":\n                                    return _context15.stop();\n                            }\n                        }\n                    }, _callee15, this, [\n                        [\n                            1,\n                            7\n                        ]\n                    ]);\n                }));\n                function setGuestUser(_x15) {\n                    return _setGuestUser.apply(this, arguments);\n                }\n                return setGuestUser;\n            }()\n        },\n        {\n            key: \"createToken\",\n            value: function createToken(userID, exp, iat) {\n                if (this.secret == null) {\n                    throw Error(\"tokens can only be created server-side using the API Secret\");\n                }\n                var extra = {};\n                if (exp) {\n                    extra.exp = exp;\n                }\n                if (iat) {\n                    extra.iat = iat;\n                }\n                return JWTUserToken(this.secret, userID, extra, {});\n            }\n        },\n        {\n            key: \"on\",\n            value: function on(callbackOrString, callbackOrNothing) {\n                var _this2 = this;\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this.logger(\"info\", \"Attaching listener for \".concat(key, \" event\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ]\n                });\n                this.listeners[key].push(callback);\n                return {\n                    unsubscribe: function unsubscribe() {\n                        _this2.logger(\"info\", \"Removing listener for \".concat(key, \" event\"), {\n                            tags: [\n                                \"event\",\n                                \"client\"\n                            ]\n                        });\n                        _this2.listeners[key] = _this2.listeners[key].filter(function(el) {\n                            return el !== callback;\n                        });\n                    }\n                };\n            }\n        },\n        {\n            key: \"off\",\n            value: function off(callbackOrString, callbackOrNothing) {\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this.logger(\"info\", \"Removing listener for \".concat(key, \" event\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ]\n                });\n                this.listeners[key] = this.listeners[key].filter(function(value) {\n                    return value !== callback;\n                });\n            }\n        },\n        {\n            key: \"_logApiRequest\",\n            value: function _logApiRequest(type, url, data, config) {\n                this.logger(\"info\", \"client: \".concat(type, \" - Request - \").concat(url), {\n                    tags: [\n                        \"api\",\n                        \"api_request\",\n                        \"client\"\n                    ],\n                    url: url,\n                    payload: data,\n                    config: config\n                });\n            }\n        },\n        {\n            key: \"_logApiResponse\",\n            value: function _logApiResponse(type, url, response) {\n                this.logger(\"info\", \"client:\".concat(type, \" - Response - url: \").concat(url, \" > status \").concat(response.status), {\n                    tags: [\n                        \"api\",\n                        \"api_response\",\n                        \"client\"\n                    ],\n                    url: url,\n                    response: response\n                });\n            }\n        },\n        {\n            key: \"_logApiError\",\n            value: function _logApiError(type, url, error) {\n                this.logger(\"error\", \"client:\".concat(type, \" - Error - url: \").concat(url), {\n                    tags: [\n                        \"api\",\n                        \"api_response\",\n                        \"client\"\n                    ],\n                    url: url,\n                    error: error\n                });\n            }\n        },\n        {\n            key: \"get\",\n            value: function get(url, params) {\n                return this.doAxiosRequest(\"get\", url, null, {\n                    params: params\n                });\n            }\n        },\n        {\n            key: \"put\",\n            value: function put(url, data) {\n                return this.doAxiosRequest(\"put\", url, data);\n            }\n        },\n        {\n            key: \"post\",\n            value: function post(url, data) {\n                return this.doAxiosRequest(\"post\", url, data);\n            }\n        },\n        {\n            key: \"patch\",\n            value: function patch(url, data) {\n                return this.doAxiosRequest(\"patch\", url, data);\n            }\n        },\n        {\n            key: \"delete\",\n            value: function _delete(url, params) {\n                return this.doAxiosRequest(\"delete\", url, null, {\n                    params: params\n                });\n            }\n        },\n        {\n            key: \"sendFile\",\n            value: function sendFile(url, uri, name, contentType, user) {\n                var data = addFileToFormData(uri, name, contentType || \"multipart/form-data\");\n                if (user != null) data.append(\"user\", JSON.stringify(user));\n                return this.doAxiosRequest(\"postForm\", url, data, {\n                    headers: data.getHeaders ? data.getHeaders() : {},\n                    // node vs browser\n                    config: {\n                        timeout: 0,\n                        maxContentLength: Infinity,\n                        maxBodyLength: Infinity\n                    }\n                });\n            }\n        },\n        {\n            key: \"errorFromResponse\",\n            value: function errorFromResponse(response) {\n                var err;\n                err = new ErrorFromResponse(\"StreamChat error HTTP code: \".concat(response.status));\n                if (response.data && response.data.code) {\n                    err = new Error(\"StreamChat error code \".concat(response.data.code, \": \").concat(response.data.message));\n                    err.code = response.data.code;\n                }\n                err.response = response;\n                err.status = response.status;\n                return err;\n            }\n        },\n        {\n            key: \"handleResponse\",\n            value: function handleResponse(response) {\n                var data = response.data;\n                if (isErrorResponse(response)) {\n                    throw this.errorFromResponse(response);\n                }\n                return data;\n            }\n        },\n        {\n            key: \"_handleClientEvent\",\n            value: function _handleClientEvent(event) {\n                var _event$me, _this3 = this, _event$me2;\n                var client = this;\n                var postListenerCallbacks = [];\n                this.logger(\"info\", \"client:_handleClientEvent - Received event of type { \".concat(event.type, \" }\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ],\n                    event: event\n                });\n                if (event.type === \"user.presence.changed\" || event.type === \"user.updated\" || event.type === \"user.deleted\") {\n                    this._handleUserEvent(event);\n                }\n                if (event.type === \"health.check\" && event.me) {\n                    client.user = event.me;\n                    client.state.updateUser(event.me);\n                    client.mutedChannels = event.me.channel_mutes;\n                    client.mutedUsers = event.me.mutes;\n                }\n                if (event.channel && event.type === \"notification.message_new\") {\n                    this._addChannelConfig(event.channel);\n                }\n                if (event.type === \"notification.channel_mutes_updated\" && (_event$me = event.me) !== null && _event$me !== void 0 && _event$me.channel_mutes) {\n                    var currentMutedChannelIds = [];\n                    var nextMutedChannelIds = [];\n                    this.mutedChannels.forEach(function(mute) {\n                        return mute.channel && currentMutedChannelIds.push(mute.channel.cid);\n                    });\n                    event.me.channel_mutes.forEach(function(mute) {\n                        return mute.channel && nextMutedChannelIds.push(mute.channel.cid);\n                    });\n                    /** Set the unread count of un-muted channels to 0, which is the behaviour of backend */ currentMutedChannelIds.forEach(function(cid) {\n                        if (!nextMutedChannelIds.includes(cid) && _this3.activeChannels[cid]) {\n                            _this3.activeChannels[cid].state.unreadCount = 0;\n                        }\n                    });\n                    this.mutedChannels = event.me.channel_mutes;\n                }\n                if (event.type === \"notification.mutes_updated\" && (_event$me2 = event.me) !== null && _event$me2 !== void 0 && _event$me2.mutes) {\n                    this.mutedUsers = event.me.mutes;\n                }\n                if (event.type === \"notification.mark_read\" && event.unread_channels === 0) {\n                    var activeChannelKeys = Object.keys(this.activeChannels);\n                    activeChannelKeys.forEach(function(activeChannelKey) {\n                        return _this3.activeChannels[activeChannelKey].state.unreadCount = 0;\n                    });\n                }\n                if ((event.type === \"channel.deleted\" || event.type === \"notification.channel_deleted\") && event.cid) {\n                    var _this$activeChannels$;\n                    client.state.deleteAllChannelReference(event.cid);\n                    (_this$activeChannels$ = this.activeChannels[event.cid]) === null || _this$activeChannels$ === void 0 ? void 0 : _this$activeChannels$._disconnect();\n                    postListenerCallbacks.push(function() {\n                        if (!event.cid) return;\n                        delete _this3.activeChannels[event.cid];\n                    });\n                }\n                return postListenerCallbacks;\n            }\n        },\n        {\n            key: \"_muteStatus\",\n            value: function _muteStatus(cid) {\n                var muteStatus;\n                for(var i = 0; i < this.mutedChannels.length; i++){\n                    var _mute$channel;\n                    var mute = this.mutedChannels[i];\n                    if (((_mute$channel = mute.channel) === null || _mute$channel === void 0 ? void 0 : _mute$channel.cid) === cid) {\n                        muteStatus = {\n                            muted: mute.expires ? new Date(mute.expires).getTime() > new Date().getTime() : true,\n                            createdAt: mute.created_at ? new Date(mute.created_at) : new Date(),\n                            expiresAt: mute.expires ? new Date(mute.expires) : null\n                        };\n                        break;\n                    }\n                }\n                if (muteStatus) {\n                    return muteStatus;\n                }\n                return {\n                    muted: false,\n                    createdAt: null,\n                    expiresAt: null\n                };\n            }\n        },\n        {\n            key: \"connect\",\n            value: /**\n     * @private\n     */ function() {\n                var _connect = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee16() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee16$(_context16) {\n                        while(1){\n                            switch(_context16.prev = _context16.next){\n                                case 0:\n                                    if (!(!this.userID || !this._user)) {\n                                        _context16.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n                                case 2:\n                                    if (this.wsBaseURL) {\n                                        _context16.next = 4;\n                                        break;\n                                    }\n                                    throw Error(\"Websocket base url not set\");\n                                case 4:\n                                    if (this.clientID) {\n                                        _context16.next = 6;\n                                        break;\n                                    }\n                                    throw Error(\"clientID is not set\");\n                                case 6:\n                                    if (!this.wsConnection && (this.options.warmUp || this.options.enableInsights)) {\n                                        this._sayHi();\n                                    } // The StableWSConnection handles all the reconnection logic.\n                                    if (this.options.wsConnection && this.node) {\n                                        // Intentionally avoiding adding ts generics on wsConnection in options since its only useful for unit test purpose.\n                                        this.options.wsConnection.setClient(this);\n                                        this.wsConnection = this.options.wsConnection;\n                                    } else {\n                                        this.wsConnection = new StableWSConnection({\n                                            client: this\n                                        });\n                                    }\n                                    _context16.prev = 8;\n                                    if (!this.wsFallback) {\n                                        _context16.next = 13;\n                                        break;\n                                    }\n                                    _context16.next = 12;\n                                    return this.wsFallback.connect();\n                                case 12:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 13:\n                                    _context16.next = 15;\n                                    return this.wsConnection.connect(this.options.enableWSFallback ? this.defaultWSTimeoutWithFallback : this.defaultWSTimeout);\n                                case 15:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 18:\n                                    _context16.prev = 18;\n                                    _context16.t0 = _context16[\"catch\"](8);\n                                    if (!(this.options.enableWSFallback && isWSFailure(_context16.t0) && isOnline())) {\n                                        _context16.next = 29;\n                                        break;\n                                    }\n                                    this.logger(\"info\", \"client:connect() - WS failed, fallback to longpoll\", {\n                                        tags: [\n                                            \"connection\",\n                                            \"client\"\n                                        ]\n                                    });\n                                    this.dispatchEvent({\n                                        type: \"transport.changed\",\n                                        mode: \"longpoll\"\n                                    });\n                                    this.wsConnection._destroyCurrentWSConnection();\n                                    this.wsConnection.disconnect().then(); // close WS so no retry\n                                    this.wsFallback = new WSConnectionFallback({\n                                        client: this\n                                    });\n                                    _context16.next = 28;\n                                    return this.wsFallback.connect();\n                                case 28:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 29:\n                                    throw _context16.t0;\n                                case 30:\n                                case \"end\":\n                                    return _context16.stop();\n                            }\n                        }\n                    }, _callee16, this, [\n                        [\n                            8,\n                            18\n                        ]\n                    ]);\n                }));\n                function connect() {\n                    return _connect.apply(this, arguments);\n                }\n                return connect;\n            }()\n        },\n        {\n            key: \"_sayHi\",\n            value: function _sayHi() {\n                var _this4 = this;\n                var client_request_id = randomId();\n                var opts = {\n                    headers: {\n                        \"x-client-request-id\": client_request_id\n                    }\n                };\n                this.doAxiosRequest(\"get\", this.baseURL + \"/hi\", null, opts).catch(function(e) {\n                    if (_this4.options.enableInsights) {\n                        postInsights(\"http_hi_failed\", {\n                            api_key: _this4.key,\n                            err: e,\n                            client_request_id: client_request_id\n                        });\n                    }\n                });\n            }\n        },\n        {\n            key: \"queryUsers\",\n            value: function() {\n                var _queryUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee17(filterConditions) {\n                    var sort, options, defaultOptions, data, _args17 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee17$(_context17) {\n                        while(1){\n                            switch(_context17.prev = _context17.next){\n                                case 0:\n                                    sort = _args17.length > 1 && _args17[1] !== undefined ? _args17[1] : [];\n                                    options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n                                    defaultOptions = {\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context17.next = 5;\n                                    return this.wsPromise;\n                                case 5:\n                                    if (!this._hasConnectionID()) {\n                                        defaultOptions.presence = false;\n                                    } // Return a list of users\n                                    _context17.next = 8;\n                                    return this.get(this.baseURL + \"/users\", {\n                                        payload: _objectSpread(_objectSpread({\n                                            filter_conditions: filterConditions,\n                                            sort: normalizeQuerySort(sort)\n                                        }, defaultOptions), options)\n                                    });\n                                case 8:\n                                    data = _context17.sent;\n                                    this.state.updateUsers(data.users);\n                                    return _context17.abrupt(\"return\", data);\n                                case 11:\n                                case \"end\":\n                                    return _context17.stop();\n                            }\n                        }\n                    }, _callee17, this);\n                }));\n                function queryUsers(_x16) {\n                    return _queryUsers.apply(this, arguments);\n                }\n                return queryUsers;\n            }()\n        },\n        {\n            key: \"queryBannedUsers\",\n            value: function() {\n                var _queryBannedUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee18() {\n                    var filterConditions, sort, options, _args18 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee18$(_context18) {\n                        while(1){\n                            switch(_context18.prev = _context18.next){\n                                case 0:\n                                    filterConditions = _args18.length > 0 && _args18[0] !== undefined ? _args18[0] : {};\n                                    sort = _args18.length > 1 && _args18[1] !== undefined ? _args18[1] : [];\n                                    options = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : {};\n                                    _context18.next = 5;\n                                    return this.get(this.baseURL + \"/query_banned_users\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filterConditions,\n                                            sort: normalizeQuerySort(sort)\n                                        }, options)\n                                    });\n                                case 5:\n                                    return _context18.abrupt(\"return\", _context18.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context18.stop();\n                            }\n                        }\n                    }, _callee18, this);\n                }));\n                function queryBannedUsers() {\n                    return _queryBannedUsers.apply(this, arguments);\n                }\n                return queryBannedUsers;\n            }()\n        },\n        {\n            key: \"queryMessageFlags\",\n            value: function() {\n                var _queryMessageFlags = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee19() {\n                    var filterConditions, options, _args19 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee19$(_context19) {\n                        while(1){\n                            switch(_context19.prev = _context19.next){\n                                case 0:\n                                    filterConditions = _args19.length > 0 && _args19[0] !== undefined ? _args19[0] : {};\n                                    options = _args19.length > 1 && _args19[1] !== undefined ? _args19[1] : {};\n                                    _context19.next = 4;\n                                    return this.get(this.baseURL + \"/moderation/flags/message\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filterConditions\n                                        }, options)\n                                    });\n                                case 4:\n                                    return _context19.abrupt(\"return\", _context19.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context19.stop();\n                            }\n                        }\n                    }, _callee19, this);\n                }));\n                function queryMessageFlags() {\n                    return _queryMessageFlags.apply(this, arguments);\n                }\n                return queryMessageFlags;\n            }()\n        },\n        {\n            key: \"queryChannels\",\n            value: function() {\n                var _queryChannels = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee20(filterConditions) {\n                    var sort, options, stateOptions, defaultOptions, payload, data, _args20 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee20$(_context20) {\n                        while(1){\n                            switch(_context20.prev = _context20.next){\n                                case 0:\n                                    sort = _args20.length > 1 && _args20[1] !== undefined ? _args20[1] : [];\n                                    options = _args20.length > 2 && _args20[2] !== undefined ? _args20[2] : {};\n                                    stateOptions = _args20.length > 3 && _args20[3] !== undefined ? _args20[3] : {};\n                                    defaultOptions = {\n                                        state: true,\n                                        watch: true,\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context20.next = 6;\n                                    return this.wsPromise;\n                                case 6:\n                                    if (!this._hasConnectionID()) {\n                                        defaultOptions.watch = false;\n                                    } // Return a list of channels\n                                    payload = _objectSpread(_objectSpread({\n                                        filter_conditions: filterConditions,\n                                        sort: normalizeQuerySort(sort)\n                                    }, defaultOptions), options);\n                                    _context20.next = 10;\n                                    return this.post(this.baseURL + \"/channels\", payload);\n                                case 10:\n                                    data = _context20.sent;\n                                    this.dispatchEvent({\n                                        type: \"channels.queried\",\n                                        queriedChannels: {\n                                            channels: data.channels,\n                                            isLatestMessageSet: true\n                                        }\n                                    });\n                                    return _context20.abrupt(\"return\", this.hydrateActiveChannels(data.channels, stateOptions));\n                                case 13:\n                                case \"end\":\n                                    return _context20.stop();\n                            }\n                        }\n                    }, _callee20, this);\n                }));\n                function queryChannels(_x17) {\n                    return _queryChannels.apply(this, arguments);\n                }\n                return queryChannels;\n            }()\n        },\n        {\n            key: \"hydrateActiveChannels\",\n            value: function hydrateActiveChannels() {\n                var channelsFromApi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var stateOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var skipInitialization = stateOptions.skipInitialization, _stateOptions$offline = stateOptions.offlineMode, offlineMode = _stateOptions$offline === void 0 ? false : _stateOptions$offline;\n                var _iterator2 = _createForOfIteratorHelper(channelsFromApi), _step2;\n                try {\n                    for(_iterator2.s(); !(_step2 = _iterator2.n()).done;){\n                        var channelState = _step2.value;\n                        this._addChannelConfig(channelState.channel);\n                    }\n                } catch (err) {\n                    _iterator2.e(err);\n                } finally{\n                    _iterator2.f();\n                }\n                var channels = [];\n                var _iterator3 = _createForOfIteratorHelper(channelsFromApi), _step3;\n                try {\n                    for(_iterator3.s(); !(_step3 = _iterator3.n()).done;){\n                        var _channelState = _step3.value;\n                        var c = this.channel(_channelState.channel.type, _channelState.channel.id);\n                        c.data = _channelState.channel;\n                        c.offlineMode = offlineMode;\n                        c.initialized = !offlineMode;\n                        if (skipInitialization === undefined) {\n                            c._initializeState(_channelState, \"latest\");\n                        } else if (!skipInitialization.includes(_channelState.channel.id)) {\n                            c.state.clearMessages();\n                            c._initializeState(_channelState, \"latest\");\n                        }\n                        channels.push(c);\n                    }\n                } catch (err) {\n                    _iterator3.e(err);\n                } finally{\n                    _iterator3.f();\n                }\n                return channels;\n            }\n        },\n        {\n            key: \"search\",\n            value: function() {\n                var _search = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee21(filterConditions, query) {\n                    var options, payload, _args21 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee21$(_context21) {\n                        while(1){\n                            switch(_context21.prev = _context21.next){\n                                case 0:\n                                    options = _args21.length > 2 && _args21[2] !== undefined ? _args21[2] : {};\n                                    if (!(options.offset && options.next)) {\n                                        _context21.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"Cannot specify offset with next\");\n                                case 3:\n                                    payload = _objectSpread(_objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options), {}, {\n                                        sort: options.sort ? normalizeQuerySort(options.sort) : undefined\n                                    });\n                                    if (!(typeof query === \"string\")) {\n                                        _context21.next = 8;\n                                        break;\n                                    }\n                                    payload.query = query;\n                                    _context21.next = 13;\n                                    break;\n                                case 8:\n                                    if (!(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query) === \"object\")) {\n                                        _context21.next = 12;\n                                        break;\n                                    }\n                                    payload.message_filter_conditions = query;\n                                    _context21.next = 13;\n                                    break;\n                                case 12:\n                                    throw Error(\"Invalid type \".concat(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query), \" for query parameter\"));\n                                case 13:\n                                    _context21.next = 15;\n                                    return this.wsPromise;\n                                case 15:\n                                    _context21.next = 17;\n                                    return this.get(this.baseURL + \"/search\", {\n                                        payload: payload\n                                    });\n                                case 17:\n                                    return _context21.abrupt(\"return\", _context21.sent);\n                                case 18:\n                                case \"end\":\n                                    return _context21.stop();\n                            }\n                        }\n                    }, _callee21, this);\n                }));\n                function search(_x18, _x19) {\n                    return _search.apply(this, arguments);\n                }\n                return search;\n            }()\n        },\n        {\n            key: \"setLocalDevice\",\n            value: function setLocalDevice(device) {\n                var _this$wsConnection5, _this$wsConnection6, _this$wsFallback4;\n                if ((_this$wsConnection5 = this.wsConnection) !== null && _this$wsConnection5 !== void 0 && _this$wsConnection5.isConnecting && this.wsPromise || ((_this$wsConnection6 = this.wsConnection) !== null && _this$wsConnection6 !== void 0 && _this$wsConnection6.isHealthy || (_this$wsFallback4 = this.wsFallback) !== null && _this$wsFallback4 !== void 0 && _this$wsFallback4.isHealthy()) && this._hasConnectionID()) {\n                    throw new Error(\"you can only set device before opening a websocket connection\");\n                }\n                this.options.device = device;\n            }\n        },\n        {\n            key: \"addDevice\",\n            value: function() {\n                var _addDevice = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee22(id, push_provider, userID, push_provider_name) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee22$(_context22) {\n                        while(1){\n                            switch(_context22.prev = _context22.next){\n                                case 0:\n                                    _context22.next = 2;\n                                    return this.post(this.baseURL + \"/devices\", _objectSpread(_objectSpread({\n                                        id: id,\n                                        push_provider: push_provider\n                                    }, userID != null ? {\n                                        user_id: userID\n                                    } : {}), push_provider_name != null ? {\n                                        push_provider_name: push_provider_name\n                                    } : {}));\n                                case 2:\n                                    return _context22.abrupt(\"return\", _context22.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context22.stop();\n                            }\n                        }\n                    }, _callee22, this);\n                }));\n                function addDevice(_x20, _x21, _x22, _x23) {\n                    return _addDevice.apply(this, arguments);\n                }\n                return addDevice;\n            }()\n        },\n        {\n            key: \"getDevices\",\n            value: function() {\n                var _getDevices = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee23(userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee23$(_context23) {\n                        while(1){\n                            switch(_context23.prev = _context23.next){\n                                case 0:\n                                    _context23.next = 2;\n                                    return this.get(this.baseURL + \"/devices\", userID ? {\n                                        user_id: userID\n                                    } : {});\n                                case 2:\n                                    return _context23.abrupt(\"return\", _context23.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context23.stop();\n                            }\n                        }\n                    }, _callee23, this);\n                }));\n                function getDevices(_x24) {\n                    return _getDevices.apply(this, arguments);\n                }\n                return getDevices;\n            }()\n        },\n        {\n            key: \"getUnreadCount\",\n            value: function() {\n                var _getUnreadCount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee24(userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee24$(_context24) {\n                        while(1){\n                            switch(_context24.prev = _context24.next){\n                                case 0:\n                                    _context24.next = 2;\n                                    return this.get(this.baseURL + \"/unread\", userID ? {\n                                        user_id: userID\n                                    } : {});\n                                case 2:\n                                    return _context24.abrupt(\"return\", _context24.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context24.stop();\n                            }\n                        }\n                    }, _callee24, this);\n                }));\n                function getUnreadCount(_x25) {\n                    return _getUnreadCount.apply(this, arguments);\n                }\n                return getUnreadCount;\n            }()\n        },\n        {\n            key: \"removeDevice\",\n            value: function() {\n                var _removeDevice = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee25(id, userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee25$(_context25) {\n                        while(1){\n                            switch(_context25.prev = _context25.next){\n                                case 0:\n                                    _context25.next = 2;\n                                    return this.delete(this.baseURL + \"/devices\", _objectSpread({\n                                        id: id\n                                    }, userID ? {\n                                        user_id: userID\n                                    } : {}));\n                                case 2:\n                                    return _context25.abrupt(\"return\", _context25.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context25.stop();\n                            }\n                        }\n                    }, _callee25, this);\n                }));\n                function removeDevice(_x26, _x27) {\n                    return _removeDevice.apply(this, arguments);\n                }\n                return removeDevice;\n            }()\n        },\n        {\n            key: \"getRateLimits\",\n            value: function() {\n                var _getRateLimits = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee26(params) {\n                    var _ref7, serverSide, web, android, ios, endpoints;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee26$(_context26) {\n                        while(1){\n                            switch(_context26.prev = _context26.next){\n                                case 0:\n                                    _ref7 = params || {}, serverSide = _ref7.serverSide, web = _ref7.web, android = _ref7.android, ios = _ref7.ios, endpoints = _ref7.endpoints;\n                                    return _context26.abrupt(\"return\", this.get(this.baseURL + \"/rate_limits\", {\n                                        server_side: serverSide,\n                                        web: web,\n                                        android: android,\n                                        ios: ios,\n                                        endpoints: endpoints ? endpoints.join(\",\") : undefined\n                                    }));\n                                case 2:\n                                case \"end\":\n                                    return _context26.stop();\n                            }\n                        }\n                    }, _callee26, this);\n                }));\n                function getRateLimits(_x28) {\n                    return _getRateLimits.apply(this, arguments);\n                }\n                return getRateLimits;\n            }()\n        },\n        {\n            key: \"_addChannelConfig\",\n            value: function _addChannelConfig(_ref8) {\n                var cid = _ref8.cid, config = _ref8.config;\n                this.configs[cid] = config;\n            }\n        },\n        {\n            key: \"channel\",\n            value: function channel(channelType, channelIDOrCustom) {\n                var _custom$members;\n                var custom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n                if (!this.userID && !this._isUsingServerAuth()) {\n                    throw Error(\"Call connectUser or connectAnonymousUser before creating a channel\");\n                }\n                if (~channelType.indexOf(\":\")) {\n                    throw Error(\"Invalid channel group \".concat(channelType, \", can't contain the : character\"));\n                } // support channel(\"messaging\", {options})\n                if (channelIDOrCustom && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(channelIDOrCustom) === \"object\") {\n                    return this.getChannelByMembers(channelType, channelIDOrCustom);\n                } // // support channel(\"messaging\", undefined, {options})\n                if (!channelIDOrCustom && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(custom) === \"object\" && (_custom$members = custom.members) !== null && _custom$members !== void 0 && _custom$members.length) {\n                    return this.getChannelByMembers(channelType, custom);\n                } // support channel(\"messaging\", null, {options})\n                // support channel(\"messaging\", undefined, {options})\n                // support channel(\"messaging\", \"\", {options})\n                if (!channelIDOrCustom) {\n                    return new Channel(this, channelType, undefined, custom);\n                }\n                return this.getChannelById(channelType, channelIDOrCustom, custom);\n            }\n        },\n        {\n            key: \"partialUpdateUser\",\n            value: /**\n     * partialUpdateUser - Update the given user object\n     *\n     * @param {PartialUserUpdate<StreamChatGenerics>} partialUserObject which should contain id and any of \"set\" or \"unset\" params;\n     * example: {id: \"user1\", set:{field: value}, unset:[\"field2\"]}\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>} list of updated users\n     */ function() {\n                var _partialUpdateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee27(partialUserObject) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee27$(_context27) {\n                        while(1){\n                            switch(_context27.prev = _context27.next){\n                                case 0:\n                                    _context27.next = 2;\n                                    return this.partialUpdateUsers([\n                                        partialUserObject\n                                    ]);\n                                case 2:\n                                    return _context27.abrupt(\"return\", _context27.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context27.stop();\n                            }\n                        }\n                    }, _callee27, this);\n                }));\n                function partialUpdateUser(_x29) {\n                    return _partialUpdateUser.apply(this, arguments);\n                }\n                return partialUpdateUser;\n            }()\n        },\n        {\n            key: \"upsertUsers\",\n            value: function() {\n                var _upsertUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee28(users) {\n                    var userMap, _iterator4, _step4, userObject;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee28$(_context28) {\n                        while(1){\n                            switch(_context28.prev = _context28.next){\n                                case 0:\n                                    userMap = {};\n                                    _iterator4 = _createForOfIteratorHelper(users);\n                                    _context28.prev = 2;\n                                    _iterator4.s();\n                                case 4:\n                                    if ((_step4 = _iterator4.n()).done) {\n                                        _context28.next = 11;\n                                        break;\n                                    }\n                                    userObject = _step4.value;\n                                    if (userObject.id) {\n                                        _context28.next = 8;\n                                        break;\n                                    }\n                                    throw Error(\"User ID is required when updating a user\");\n                                case 8:\n                                    userMap[userObject.id] = userObject;\n                                case 9:\n                                    _context28.next = 4;\n                                    break;\n                                case 11:\n                                    _context28.next = 16;\n                                    break;\n                                case 13:\n                                    _context28.prev = 13;\n                                    _context28.t0 = _context28[\"catch\"](2);\n                                    _iterator4.e(_context28.t0);\n                                case 16:\n                                    _context28.prev = 16;\n                                    _iterator4.f();\n                                    return _context28.finish(16);\n                                case 19:\n                                    _context28.next = 21;\n                                    return this.post(this.baseURL + \"/users\", {\n                                        users: userMap\n                                    });\n                                case 21:\n                                    return _context28.abrupt(\"return\", _context28.sent);\n                                case 22:\n                                case \"end\":\n                                    return _context28.stop();\n                            }\n                        }\n                    }, _callee28, this, [\n                        [\n                            2,\n                            13,\n                            16,\n                            19\n                        ]\n                    ]);\n                }));\n                function upsertUsers(_x30) {\n                    return _upsertUsers.apply(this, arguments);\n                }\n                return upsertUsers;\n            }()\n        },\n        {\n            key: \"upsertUser\",\n            value: /**\n     * upsertUser - Update or Create the given user object\n     *\n     * @param {UserResponse<StreamChatGenerics>} userObject user object, the only required field is the user id. IE {id: \"myuser\"} is valid\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>}\n     */ function upsertUser(userObject) {\n                return this.upsertUsers([\n                    userObject\n                ]);\n            }\n        },\n        {\n            key: \"partialUpdateUsers\",\n            value: /**\n     * partialUpdateUsers - Batch partial update of users\n     *\n     * @param {PartialUserUpdate<StreamChatGenerics>[]} users list of partial update requests\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>}\n     */ function() {\n                var _partialUpdateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee29(users) {\n                    var _iterator5, _step5, userObject;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee29$(_context29) {\n                        while(1){\n                            switch(_context29.prev = _context29.next){\n                                case 0:\n                                    _iterator5 = _createForOfIteratorHelper(users);\n                                    _context29.prev = 1;\n                                    _iterator5.s();\n                                case 3:\n                                    if ((_step5 = _iterator5.n()).done) {\n                                        _context29.next = 9;\n                                        break;\n                                    }\n                                    userObject = _step5.value;\n                                    if (userObject.id) {\n                                        _context29.next = 7;\n                                        break;\n                                    }\n                                    throw Error(\"User ID is required when updating a user\");\n                                case 7:\n                                    _context29.next = 3;\n                                    break;\n                                case 9:\n                                    _context29.next = 14;\n                                    break;\n                                case 11:\n                                    _context29.prev = 11;\n                                    _context29.t0 = _context29[\"catch\"](1);\n                                    _iterator5.e(_context29.t0);\n                                case 14:\n                                    _context29.prev = 14;\n                                    _iterator5.f();\n                                    return _context29.finish(14);\n                                case 17:\n                                    _context29.next = 19;\n                                    return this.patch(this.baseURL + \"/users\", {\n                                        users: users\n                                    });\n                                case 19:\n                                    return _context29.abrupt(\"return\", _context29.sent);\n                                case 20:\n                                case \"end\":\n                                    return _context29.stop();\n                            }\n                        }\n                    }, _callee29, this, [\n                        [\n                            1,\n                            11,\n                            14,\n                            17\n                        ]\n                    ]);\n                }));\n                function partialUpdateUsers(_x31) {\n                    return _partialUpdateUsers.apply(this, arguments);\n                }\n                return partialUpdateUsers;\n            }()\n        },\n        {\n            key: \"deleteUser\",\n            value: function() {\n                var _deleteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee30(userID, params) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee30$(_context30) {\n                        while(1){\n                            switch(_context30.prev = _context30.next){\n                                case 0:\n                                    _context30.next = 2;\n                                    return this.delete(this.baseURL + \"/users/\".concat(userID), params);\n                                case 2:\n                                    return _context30.abrupt(\"return\", _context30.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context30.stop();\n                            }\n                        }\n                    }, _callee30, this);\n                }));\n                function deleteUser(_x32, _x33) {\n                    return _deleteUser.apply(this, arguments);\n                }\n                return deleteUser;\n            }()\n        },\n        {\n            key: \"restoreUsers\",\n            value: function() {\n                var _restoreUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee31(user_ids) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee31$(_context31) {\n                        while(1){\n                            switch(_context31.prev = _context31.next){\n                                case 0:\n                                    _context31.next = 2;\n                                    return this.post(this.baseURL + \"/users/restore\", {\n                                        user_ids: user_ids\n                                    });\n                                case 2:\n                                    return _context31.abrupt(\"return\", _context31.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context31.stop();\n                            }\n                        }\n                    }, _callee31, this);\n                }));\n                function restoreUsers(_x34) {\n                    return _restoreUsers.apply(this, arguments);\n                }\n                return restoreUsers;\n            }()\n        },\n        {\n            key: \"reactivateUser\",\n            value: function() {\n                var _reactivateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee32(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee32$(_context32) {\n                        while(1){\n                            switch(_context32.prev = _context32.next){\n                                case 0:\n                                    _context32.next = 2;\n                                    return this.post(this.baseURL + \"/users/\".concat(userID, \"/reactivate\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context32.abrupt(\"return\", _context32.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context32.stop();\n                            }\n                        }\n                    }, _callee32, this);\n                }));\n                function reactivateUser(_x35, _x36) {\n                    return _reactivateUser.apply(this, arguments);\n                }\n                return reactivateUser;\n            }()\n        },\n        {\n            key: \"reactivateUsers\",\n            value: function() {\n                var _reactivateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee33(user_ids, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee33$(_context33) {\n                        while(1){\n                            switch(_context33.prev = _context33.next){\n                                case 0:\n                                    _context33.next = 2;\n                                    return this.post(this.baseURL + \"/users/reactivate\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 2:\n                                    return _context33.abrupt(\"return\", _context33.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context33.stop();\n                            }\n                        }\n                    }, _callee33, this);\n                }));\n                function reactivateUsers(_x37, _x38) {\n                    return _reactivateUsers.apply(this, arguments);\n                }\n                return reactivateUsers;\n            }()\n        },\n        {\n            key: \"deactivateUser\",\n            value: function() {\n                var _deactivateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee34(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee34$(_context34) {\n                        while(1){\n                            switch(_context34.prev = _context34.next){\n                                case 0:\n                                    _context34.next = 2;\n                                    return this.post(this.baseURL + \"/users/\".concat(userID, \"/deactivate\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context34.abrupt(\"return\", _context34.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context34.stop();\n                            }\n                        }\n                    }, _callee34, this);\n                }));\n                function deactivateUser(_x39, _x40) {\n                    return _deactivateUser.apply(this, arguments);\n                }\n                return deactivateUser;\n            }()\n        },\n        {\n            key: \"deactivateUsers\",\n            value: function() {\n                var _deactivateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee35(user_ids, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee35$(_context35) {\n                        while(1){\n                            switch(_context35.prev = _context35.next){\n                                case 0:\n                                    _context35.next = 2;\n                                    return this.post(this.baseURL + \"/users/deactivate\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 2:\n                                    return _context35.abrupt(\"return\", _context35.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context35.stop();\n                            }\n                        }\n                    }, _callee35, this);\n                }));\n                function deactivateUsers(_x41, _x42) {\n                    return _deactivateUsers.apply(this, arguments);\n                }\n                return deactivateUsers;\n            }()\n        },\n        {\n            key: \"exportUser\",\n            value: function() {\n                var _exportUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee36(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee36$(_context36) {\n                        while(1){\n                            switch(_context36.prev = _context36.next){\n                                case 0:\n                                    _context36.next = 2;\n                                    return this.get(this.baseURL + \"/users/\".concat(userID, \"/export\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context36.abrupt(\"return\", _context36.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context36.stop();\n                            }\n                        }\n                    }, _callee36, this);\n                }));\n                function exportUser(_x43, _x44) {\n                    return _exportUser.apply(this, arguments);\n                }\n                return exportUser;\n            }()\n        },\n        {\n            key: \"banUser\",\n            value: function() {\n                var _banUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee37(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee37$(_context37) {\n                        while(1){\n                            switch(_context37.prev = _context37.next){\n                                case 0:\n                                    _context37.next = 2;\n                                    return this.post(this.baseURL + \"/moderation/ban\", _objectSpread({\n                                        target_user_id: targetUserID\n                                    }, options));\n                                case 2:\n                                    return _context37.abrupt(\"return\", _context37.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context37.stop();\n                            }\n                        }\n                    }, _callee37, this);\n                }));\n                function banUser(_x45, _x46) {\n                    return _banUser.apply(this, arguments);\n                }\n                return banUser;\n            }()\n        },\n        {\n            key: \"unbanUser\",\n            value: function() {\n                var _unbanUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee38(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee38$(_context38) {\n                        while(1){\n                            switch(_context38.prev = _context38.next){\n                                case 0:\n                                    _context38.next = 2;\n                                    return this.delete(this.baseURL + \"/moderation/ban\", _objectSpread({\n                                        target_user_id: targetUserID\n                                    }, options));\n                                case 2:\n                                    return _context38.abrupt(\"return\", _context38.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context38.stop();\n                            }\n                        }\n                    }, _callee38, this);\n                }));\n                function unbanUser(_x47, _x48) {\n                    return _unbanUser.apply(this, arguments);\n                }\n                return unbanUser;\n            }()\n        },\n        {\n            key: \"shadowBan\",\n            value: function() {\n                var _shadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee39(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee39$(_context39) {\n                        while(1){\n                            switch(_context39.prev = _context39.next){\n                                case 0:\n                                    _context39.next = 2;\n                                    return this.banUser(targetUserID, _objectSpread({\n                                        shadow: true\n                                    }, options));\n                                case 2:\n                                    return _context39.abrupt(\"return\", _context39.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context39.stop();\n                            }\n                        }\n                    }, _callee39, this);\n                }));\n                function shadowBan(_x49, _x50) {\n                    return _shadowBan.apply(this, arguments);\n                }\n                return shadowBan;\n            }()\n        },\n        {\n            key: \"removeShadowBan\",\n            value: function() {\n                var _removeShadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee40(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee40$(_context40) {\n                        while(1){\n                            switch(_context40.prev = _context40.next){\n                                case 0:\n                                    _context40.next = 2;\n                                    return this.unbanUser(targetUserID, _objectSpread({\n                                        shadow: true\n                                    }, options));\n                                case 2:\n                                    return _context40.abrupt(\"return\", _context40.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context40.stop();\n                            }\n                        }\n                    }, _callee40, this);\n                }));\n                function removeShadowBan(_x51, _x52) {\n                    return _removeShadowBan.apply(this, arguments);\n                }\n                return removeShadowBan;\n            }()\n        },\n        {\n            key: \"muteUser\",\n            value: function() {\n                var _muteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee41(targetID, userID) {\n                    var options, _args41 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee41$(_context41) {\n                        while(1){\n                            switch(_context41.prev = _context41.next){\n                                case 0:\n                                    options = _args41.length > 2 && _args41[2] !== undefined ? _args41[2] : {};\n                                    _context41.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/mute\", _objectSpread(_objectSpread({\n                                        target_id: targetID\n                                    }, userID ? {\n                                        user_id: userID\n                                    } : {}), options));\n                                case 3:\n                                    return _context41.abrupt(\"return\", _context41.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context41.stop();\n                            }\n                        }\n                    }, _callee41, this);\n                }));\n                function muteUser(_x53, _x54) {\n                    return _muteUser.apply(this, arguments);\n                }\n                return muteUser;\n            }()\n        },\n        {\n            key: \"unmuteUser\",\n            value: function() {\n                var _unmuteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee42(targetID, currentUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee42$(_context42) {\n                        while(1){\n                            switch(_context42.prev = _context42.next){\n                                case 0:\n                                    _context42.next = 2;\n                                    return this.post(this.baseURL + \"/moderation/unmute\", _objectSpread({\n                                        target_id: targetID\n                                    }, currentUserID ? {\n                                        user_id: currentUserID\n                                    } : {}));\n                                case 2:\n                                    return _context42.abrupt(\"return\", _context42.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context42.stop();\n                            }\n                        }\n                    }, _callee42, this);\n                }));\n                function unmuteUser(_x55, _x56) {\n                    return _unmuteUser.apply(this, arguments);\n                }\n                return unmuteUser;\n            }()\n        },\n        {\n            key: \"userMuteStatus\",\n            value: function userMuteStatus(targetID) {\n                if (!this.user || !this.wsPromise) {\n                    throw new Error(\"Make sure to await connectUser() first.\");\n                }\n                for(var i = 0; i < this.mutedUsers.length; i += 1){\n                    if (this.mutedUsers[i].target.id === targetID) return true;\n                }\n                return false;\n            }\n        },\n        {\n            key: \"flagMessage\",\n            value: function() {\n                var _flagMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee43(targetMessageID) {\n                    var options, _args43 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee43$(_context43) {\n                        while(1){\n                            switch(_context43.prev = _context43.next){\n                                case 0:\n                                    options = _args43.length > 1 && _args43[1] !== undefined ? _args43[1] : {};\n                                    _context43.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/flag\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context43.abrupt(\"return\", _context43.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context43.stop();\n                            }\n                        }\n                    }, _callee43, this);\n                }));\n                function flagMessage(_x57) {\n                    return _flagMessage.apply(this, arguments);\n                }\n                return flagMessage;\n            }()\n        },\n        {\n            key: \"flagUser\",\n            value: function() {\n                var _flagUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee44(targetID) {\n                    var options, _args44 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee44$(_context44) {\n                        while(1){\n                            switch(_context44.prev = _context44.next){\n                                case 0:\n                                    options = _args44.length > 1 && _args44[1] !== undefined ? _args44[1] : {};\n                                    _context44.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/flag\", _objectSpread({\n                                        target_user_id: targetID\n                                    }, options));\n                                case 3:\n                                    return _context44.abrupt(\"return\", _context44.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context44.stop();\n                            }\n                        }\n                    }, _callee44, this);\n                }));\n                function flagUser(_x58) {\n                    return _flagUser.apply(this, arguments);\n                }\n                return flagUser;\n            }()\n        },\n        {\n            key: \"unflagMessage\",\n            value: function() {\n                var _unflagMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee45(targetMessageID) {\n                    var options, _args45 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee45$(_context45) {\n                        while(1){\n                            switch(_context45.prev = _context45.next){\n                                case 0:\n                                    options = _args45.length > 1 && _args45[1] !== undefined ? _args45[1] : {};\n                                    _context45.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unflag\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context45.abrupt(\"return\", _context45.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context45.stop();\n                            }\n                        }\n                    }, _callee45, this);\n                }));\n                function unflagMessage(_x59) {\n                    return _unflagMessage.apply(this, arguments);\n                }\n                return unflagMessage;\n            }()\n        },\n        {\n            key: \"unflagUser\",\n            value: function() {\n                var _unflagUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee46(targetID) {\n                    var options, _args46 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee46$(_context46) {\n                        while(1){\n                            switch(_context46.prev = _context46.next){\n                                case 0:\n                                    options = _args46.length > 1 && _args46[1] !== undefined ? _args46[1] : {};\n                                    _context46.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unflag\", _objectSpread({\n                                        target_user_id: targetID\n                                    }, options));\n                                case 3:\n                                    return _context46.abrupt(\"return\", _context46.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context46.stop();\n                            }\n                        }\n                    }, _callee46, this);\n                }));\n                function unflagUser(_x60) {\n                    return _unflagUser.apply(this, arguments);\n                }\n                return unflagUser;\n            }()\n        },\n        {\n            key: \"getCallToken\",\n            value: function() {\n                var _getCallToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee47(callID) {\n                    var options, _args47 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee47$(_context47) {\n                        while(1){\n                            switch(_context47.prev = _context47.next){\n                                case 0:\n                                    options = _args47.length > 1 && _args47[1] !== undefined ? _args47[1] : {};\n                                    _context47.next = 3;\n                                    return this.post(this.baseURL + \"/calls/\".concat(callID), _objectSpread({}, options));\n                                case 3:\n                                    return _context47.abrupt(\"return\", _context47.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context47.stop();\n                            }\n                        }\n                    }, _callee47, this);\n                }));\n                function getCallToken(_x61) {\n                    return _getCallToken.apply(this, arguments);\n                }\n                return getCallToken;\n            }()\n        },\n        {\n            key: \"_queryFlags\",\n            value: function() {\n                var _queryFlags2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee48() {\n                    var filterConditions, options, _args48 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee48$(_context48) {\n                        while(1){\n                            switch(_context48.prev = _context48.next){\n                                case 0:\n                                    filterConditions = _args48.length > 0 && _args48[0] !== undefined ? _args48[0] : {};\n                                    options = _args48.length > 1 && _args48[1] !== undefined ? _args48[1] : {};\n                                    _context48.next = 4;\n                                    return this.post(this.baseURL + \"/moderation/flags\", _objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options));\n                                case 4:\n                                    return _context48.abrupt(\"return\", _context48.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context48.stop();\n                            }\n                        }\n                    }, _callee48, this);\n                }));\n                function _queryFlags() {\n                    return _queryFlags2.apply(this, arguments);\n                }\n                return _queryFlags;\n            }()\n        },\n        {\n            key: \"_queryFlagReports\",\n            value: function() {\n                var _queryFlagReports2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee49() {\n                    var filterConditions, options, _args49 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee49$(_context49) {\n                        while(1){\n                            switch(_context49.prev = _context49.next){\n                                case 0:\n                                    filterConditions = _args49.length > 0 && _args49[0] !== undefined ? _args49[0] : {};\n                                    options = _args49.length > 1 && _args49[1] !== undefined ? _args49[1] : {};\n                                    _context49.next = 4;\n                                    return this.post(this.baseURL + \"/moderation/reports\", _objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options));\n                                case 4:\n                                    return _context49.abrupt(\"return\", _context49.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context49.stop();\n                            }\n                        }\n                    }, _callee49, this);\n                }));\n                function _queryFlagReports() {\n                    return _queryFlagReports2.apply(this, arguments);\n                }\n                return _queryFlagReports;\n            }()\n        },\n        {\n            key: \"_reviewFlagReport\",\n            value: function() {\n                var _reviewFlagReport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee50(id, reviewResult) {\n                    var options, _args50 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee50$(_context50) {\n                        while(1){\n                            switch(_context50.prev = _context50.next){\n                                case 0:\n                                    options = _args50.length > 2 && _args50[2] !== undefined ? _args50[2] : {};\n                                    _context50.next = 3;\n                                    return this.patch(this.baseURL + \"/moderation/reports/\".concat(id), _objectSpread({\n                                        review_result: reviewResult\n                                    }, options));\n                                case 3:\n                                    return _context50.abrupt(\"return\", _context50.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context50.stop();\n                            }\n                        }\n                    }, _callee50, this);\n                }));\n                function _reviewFlagReport(_x62, _x63) {\n                    return _reviewFlagReport2.apply(this, arguments);\n                }\n                return _reviewFlagReport;\n            }()\n        },\n        {\n            key: \"unblockMessage\",\n            value: function() {\n                var _unblockMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee51(targetMessageID) {\n                    var options, _args51 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee51$(_context51) {\n                        while(1){\n                            switch(_context51.prev = _context51.next){\n                                case 0:\n                                    options = _args51.length > 1 && _args51[1] !== undefined ? _args51[1] : {};\n                                    _context51.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unblock_message\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context51.abrupt(\"return\", _context51.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context51.stop();\n                            }\n                        }\n                    }, _callee51, this);\n                }));\n                function unblockMessage(_x64) {\n                    return _unblockMessage.apply(this, arguments);\n                }\n                return unblockMessage;\n            }() // alias for backwards compatibility\n        },\n        {\n            key: \"markChannelsRead\",\n            value: /**\n     * markChannelsRead - marks channels read -\n     * it accepts a map of cid:messageid pairs, if messageid is empty, the whole channel will be marked as read\n     *\n     * @param {MarkChannelsReadOptions <StreamChatGenerics>} [data]\n     *\n     * @return {Promise<APIResponse>}\n     */ function() {\n                var _markChannelsRead = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee52() {\n                    var data, _args52 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee52$(_context52) {\n                        while(1){\n                            switch(_context52.prev = _context52.next){\n                                case 0:\n                                    data = _args52.length > 0 && _args52[0] !== undefined ? _args52[0] : {};\n                                    _context52.next = 3;\n                                    return this.post(this.baseURL + \"/channels/read\", _objectSpread({}, data));\n                                case 3:\n                                case \"end\":\n                                    return _context52.stop();\n                            }\n                        }\n                    }, _callee52, this);\n                }));\n                function markChannelsRead() {\n                    return _markChannelsRead.apply(this, arguments);\n                }\n                return markChannelsRead;\n            }()\n        },\n        {\n            key: \"createCommand\",\n            value: function createCommand(data) {\n                return this.post(this.baseURL + \"/commands\", data);\n            }\n        },\n        {\n            key: \"getCommand\",\n            value: function getCommand(name) {\n                return this.get(this.baseURL + \"/commands/\".concat(name));\n            }\n        },\n        {\n            key: \"updateCommand\",\n            value: function updateCommand(name, data) {\n                return this.put(this.baseURL + \"/commands/\".concat(name), data);\n            }\n        },\n        {\n            key: \"deleteCommand\",\n            value: function deleteCommand(name) {\n                return this.delete(this.baseURL + \"/commands/\".concat(name));\n            }\n        },\n        {\n            key: \"listCommands\",\n            value: function listCommands() {\n                return this.get(this.baseURL + \"/commands\");\n            }\n        },\n        {\n            key: \"createChannelType\",\n            value: function createChannelType(data) {\n                var channelData = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, {\n                    commands: [\n                        \"all\"\n                    ]\n                }, data);\n                return this.post(this.baseURL + \"/channeltypes\", channelData);\n            }\n        },\n        {\n            key: \"getChannelType\",\n            value: function getChannelType(channelType) {\n                return this.get(this.baseURL + \"/channeltypes/\".concat(channelType));\n            }\n        },\n        {\n            key: \"updateChannelType\",\n            value: function updateChannelType(channelType, data) {\n                return this.put(this.baseURL + \"/channeltypes/\".concat(channelType), data);\n            }\n        },\n        {\n            key: \"deleteChannelType\",\n            value: function deleteChannelType(channelType) {\n                return this.delete(this.baseURL + \"/channeltypes/\".concat(channelType));\n            }\n        },\n        {\n            key: \"listChannelTypes\",\n            value: function listChannelTypes() {\n                return this.get(this.baseURL + \"/channeltypes\");\n            }\n        },\n        {\n            key: \"translateMessage\",\n            value: function() {\n                var _translateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee53(messageId, language) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee53$(_context53) {\n                        while(1){\n                            switch(_context53.prev = _context53.next){\n                                case 0:\n                                    _context53.next = 2;\n                                    return this.post(this.baseURL + \"/messages/\".concat(messageId, \"/translate\"), {\n                                        language: language\n                                    });\n                                case 2:\n                                    return _context53.abrupt(\"return\", _context53.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context53.stop();\n                            }\n                        }\n                    }, _callee53, this);\n                }));\n                function translateMessage(_x65, _x66) {\n                    return _translateMessage.apply(this, arguments);\n                }\n                return translateMessage;\n            }()\n        },\n        {\n            key: \"_normalizeExpiration\",\n            value: function _normalizeExpiration(timeoutOrExpirationDate) {\n                var pinExpires = null;\n                if (typeof timeoutOrExpirationDate === \"number\") {\n                    var now = new Date();\n                    now.setSeconds(now.getSeconds() + timeoutOrExpirationDate);\n                    pinExpires = now.toISOString();\n                } else if (isString(timeoutOrExpirationDate)) {\n                    pinExpires = timeoutOrExpirationDate;\n                } else if (timeoutOrExpirationDate instanceof Date) {\n                    pinExpires = timeoutOrExpirationDate.toISOString();\n                }\n                return pinExpires;\n            }\n        },\n        {\n            key: \"_validateAndGetMessageId\",\n            value: function _validateAndGetMessageId(messageOrMessageId, errorText) {\n                var messageId;\n                if (typeof messageOrMessageId === \"string\") {\n                    messageId = messageOrMessageId;\n                } else {\n                    if (!messageOrMessageId.id) {\n                        throw Error(errorText);\n                    }\n                    messageId = messageOrMessageId.id;\n                }\n                return messageId;\n            }\n        },\n        {\n            key: \"pinMessage\",\n            value: function pinMessage(messageOrMessageId, timeoutOrExpirationDate, pinnedBy, pinnedAt) {\n                var messageId = this._validateAndGetMessageId(messageOrMessageId, \"Please specify the message id when calling unpinMessage\");\n                return this.partialUpdateMessage(messageId, {\n                    set: {\n                        pinned: true,\n                        pin_expires: this._normalizeExpiration(timeoutOrExpirationDate),\n                        pinned_at: this._normalizeExpiration(pinnedAt)\n                    }\n                }, pinnedBy);\n            }\n        },\n        {\n            key: \"unpinMessage\",\n            value: function unpinMessage(messageOrMessageId, userId) {\n                var messageId = this._validateAndGetMessageId(messageOrMessageId, \"Please specify the message id when calling unpinMessage\");\n                return this.partialUpdateMessage(messageId, {\n                    set: {\n                        pinned: false\n                    }\n                }, userId);\n            }\n        },\n        {\n            key: \"updateMessage\",\n            value: function() {\n                var _updateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee54(message, userId, options) {\n                    var clonedMessage, reservedMessageFields;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee54$(_context54) {\n                        while(1){\n                            switch(_context54.prev = _context54.next){\n                                case 0:\n                                    if (message.id) {\n                                        _context54.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling updateMessage\");\n                                case 2:\n                                    clonedMessage = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, message);\n                                    delete clonedMessage.id;\n                                    reservedMessageFields = [\n                                        \"command\",\n                                        \"created_at\",\n                                        \"html\",\n                                        \"latest_reactions\",\n                                        \"own_reactions\",\n                                        \"quoted_message\",\n                                        \"reaction_counts\",\n                                        \"reply_count\",\n                                        \"type\",\n                                        \"updated_at\",\n                                        \"user\",\n                                        \"__html\"\n                                    ];\n                                    reservedMessageFields.forEach(function(item) {\n                                        if (clonedMessage[item] != null) {\n                                            delete clonedMessage[item];\n                                        }\n                                    });\n                                    if (userId != null) {\n                                        if (isString(userId)) {\n                                            clonedMessage.user_id = userId;\n                                        } else {\n                                            clonedMessage.user = {\n                                                id: userId.id\n                                            };\n                                        }\n                                    }\n                                    /**\n                 * Server always expects mentioned_users to be array of string. We are adding extra check, just in case\n                 * SDK missed this conversion.\n                 */ if (Array.isArray(clonedMessage.mentioned_users) && !isString(clonedMessage.mentioned_users[0])) {\n                                        clonedMessage.mentioned_users = clonedMessage.mentioned_users.map(function(mu) {\n                                            return mu.id;\n                                        });\n                                    }\n                                    _context54.next = 10;\n                                    return this.post(this.baseURL + \"/messages/\".concat(message.id), _objectSpread({\n                                        message: clonedMessage\n                                    }, options));\n                                case 10:\n                                    return _context54.abrupt(\"return\", _context54.sent);\n                                case 11:\n                                case \"end\":\n                                    return _context54.stop();\n                            }\n                        }\n                    }, _callee54, this);\n                }));\n                function updateMessage(_x67, _x68, _x69) {\n                    return _updateMessage.apply(this, arguments);\n                }\n                return updateMessage;\n            }()\n        },\n        {\n            key: \"partialUpdateMessage\",\n            value: function() {\n                var _partialUpdateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee55(id, partialMessageObject, userId, options) {\n                    var user;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee55$(_context55) {\n                        while(1){\n                            switch(_context55.prev = _context55.next){\n                                case 0:\n                                    if (id) {\n                                        _context55.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling partialUpdateMessage\");\n                                case 2:\n                                    user = userId;\n                                    if (userId != null && isString(userId)) {\n                                        user = {\n                                            id: userId\n                                        };\n                                    }\n                                    _context55.next = 6;\n                                    return this.put(this.baseURL + \"/messages/\".concat(id), _objectSpread(_objectSpread(_objectSpread({}, partialMessageObject), options), {}, {\n                                        user: user\n                                    }));\n                                case 6:\n                                    return _context55.abrupt(\"return\", _context55.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context55.stop();\n                            }\n                        }\n                    }, _callee55, this);\n                }));\n                function partialUpdateMessage(_x70, _x71, _x72, _x73) {\n                    return _partialUpdateMessage.apply(this, arguments);\n                }\n                return partialUpdateMessage;\n            }()\n        },\n        {\n            key: \"deleteMessage\",\n            value: function() {\n                var _deleteMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee56(messageID, hardDelete) {\n                    var params;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee56$(_context56) {\n                        while(1){\n                            switch(_context56.prev = _context56.next){\n                                case 0:\n                                    params = {};\n                                    if (hardDelete) {\n                                        params = {\n                                            hard: true\n                                        };\n                                    }\n                                    _context56.next = 4;\n                                    return this.delete(this.baseURL + \"/messages/\".concat(messageID), params);\n                                case 4:\n                                    return _context56.abrupt(\"return\", _context56.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context56.stop();\n                            }\n                        }\n                    }, _callee56, this);\n                }));\n                function deleteMessage(_x74, _x75) {\n                    return _deleteMessage.apply(this, arguments);\n                }\n                return deleteMessage;\n            }()\n        },\n        {\n            key: \"getMessage\",\n            value: function() {\n                var _getMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee57(messageID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee57$(_context57) {\n                        while(1){\n                            switch(_context57.prev = _context57.next){\n                                case 0:\n                                    _context57.next = 2;\n                                    return this.get(this.baseURL + \"/messages/\".concat(encodeURIComponent(messageID)));\n                                case 2:\n                                    return _context57.abrupt(\"return\", _context57.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context57.stop();\n                            }\n                        }\n                    }, _callee57, this);\n                }));\n                function getMessage(_x76) {\n                    return _getMessage.apply(this, arguments);\n                }\n                return getMessage;\n            }()\n        },\n        {\n            key: \"getUserAgent\",\n            value: function getUserAgent() {\n                return this.userAgent || \"stream-chat-javascript-client-\".concat(this.node ? \"node\" : \"browser\", \"-\", \"8.14.5\");\n            }\n        },\n        {\n            key: \"setUserAgent\",\n            value: function setUserAgent(userAgent) {\n                this.userAgent = userAgent;\n            }\n        },\n        {\n            key: \"_enrichAxiosOptions\",\n            value: function _enrichAxiosOptions() {\n                var _options$headers;\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n                    params: {},\n                    headers: {},\n                    config: {}\n                };\n                var token = this._getToken();\n                var authorization = token ? {\n                    Authorization: token\n                } : undefined;\n                var signal = null;\n                if (this.nextRequestAbortController !== null) {\n                    signal = this.nextRequestAbortController.signal;\n                    this.nextRequestAbortController = null;\n                }\n                if (!((_options$headers = options.headers) !== null && _options$headers !== void 0 && _options$headers[\"x-client-request-id\"])) {\n                    options.headers = _objectSpread(_objectSpread({}, options.headers), {}, {\n                        \"x-client-request-id\": randomId()\n                    });\n                }\n                var _ref9 = this.options.axiosRequestConfig || {}, axiosRequestConfigParams = _ref9.params, axiosRequestConfigHeaders = _ref9.headers, axiosRequestConfigRest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref9, _excluded2);\n                return _objectSpread(_objectSpread(_objectSpread({\n                    params: _objectSpread(_objectSpread({\n                        user_id: this.userID,\n                        connection_id: this._getConnectionID(),\n                        api_key: this.key\n                    }, options.params), axiosRequestConfigParams || {}),\n                    headers: _objectSpread(_objectSpread(_objectSpread({}, authorization), {}, {\n                        \"stream-auth-type\": this.getAuthType(),\n                        \"X-Stream-Client\": this.getUserAgent()\n                    }, options.headers), axiosRequestConfigHeaders || {})\n                }, signal ? {\n                    signal: signal\n                } : {}), options.config), axiosRequestConfigRest || {});\n            }\n        },\n        {\n            key: \"_getToken\",\n            value: function _getToken() {\n                if (!this.tokenManager || this.anonymous) return null;\n                return this.tokenManager.getToken();\n            }\n        },\n        {\n            key: \"_startCleaning\",\n            value: function _startCleaning() {\n                var that = this;\n                if (this.cleaningIntervalRef != null) {\n                    return;\n                }\n                this.cleaningIntervalRef = setInterval(function() {\n                    // call clean on the channel, used for calling the stop.typing event etc.\n                    for(var _i3 = 0, _Object$values2 = Object.values(that.activeChannels); _i3 < _Object$values2.length; _i3++){\n                        var _channel7 = _Object$values2[_i3];\n                        _channel7.clean();\n                    }\n                }, 500);\n            }\n        },\n        {\n            key: \"verifyWebhook\",\n            value: /**\n     * checks signature of a request\n     * @param {string | Buffer} rawBody\n     * @param {string} signature from HTTP header\n     * @returns {boolean}\n     */ function verifyWebhook(requestBody, xSignature) {\n                return !!this.secret && CheckSignature(requestBody, this.secret, xSignature);\n            }\n        },\n        {\n            key: \"getPermission\",\n            value: function getPermission(name) {\n                return this.get(\"\".concat(this.baseURL, \"/permissions/\").concat(name));\n            }\n        },\n        {\n            key: \"createPermission\",\n            value: function createPermission(permissionData) {\n                return this.post(\"\".concat(this.baseURL, \"/permissions\"), _objectSpread({}, permissionData));\n            }\n        },\n        {\n            key: \"updatePermission\",\n            value: function updatePermission(id, permissionData) {\n                return this.put(\"\".concat(this.baseURL, \"/permissions/\").concat(id), _objectSpread({}, permissionData));\n            }\n        },\n        {\n            key: \"deletePermission\",\n            value: function deletePermission(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/permissions/\").concat(name));\n            }\n        },\n        {\n            key: \"listPermissions\",\n            value: function listPermissions() {\n                return this.get(\"\".concat(this.baseURL, \"/permissions\"));\n            }\n        },\n        {\n            key: \"createRole\",\n            value: function createRole(name) {\n                return this.post(\"\".concat(this.baseURL, \"/roles\"), {\n                    name: name\n                });\n            }\n        },\n        {\n            key: \"listRoles\",\n            value: function listRoles() {\n                return this.get(\"\".concat(this.baseURL, \"/roles\"));\n            }\n        },\n        {\n            key: \"deleteRole\",\n            value: function deleteRole(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/roles/\").concat(name));\n            }\n        },\n        {\n            key: \"sync\",\n            value: function sync(channel_cids, last_sync_at) {\n                var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n                return this.post(\"\".concat(this.baseURL, \"/sync\"), _objectSpread({\n                    channel_cids: channel_cids,\n                    last_sync_at: last_sync_at\n                }, options));\n            }\n        },\n        {\n            key: \"sendUserCustomEvent\",\n            value: function() {\n                var _sendUserCustomEvent = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee58(targetUserID, event) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee58$(_context58) {\n                        while(1){\n                            switch(_context58.prev = _context58.next){\n                                case 0:\n                                    _context58.next = 2;\n                                    return this.post(\"\".concat(this.baseURL, \"/users/\").concat(targetUserID, \"/event\"), {\n                                        event: event\n                                    });\n                                case 2:\n                                    return _context58.abrupt(\"return\", _context58.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context58.stop();\n                            }\n                        }\n                    }, _callee58, this);\n                }));\n                function sendUserCustomEvent(_x77, _x78) {\n                    return _sendUserCustomEvent.apply(this, arguments);\n                }\n                return sendUserCustomEvent;\n            }()\n        },\n        {\n            key: \"createBlockList\",\n            value: function createBlockList(blockList) {\n                return this.post(\"\".concat(this.baseURL, \"/blocklists\"), blockList);\n            }\n        },\n        {\n            key: \"listBlockLists\",\n            value: function listBlockLists() {\n                return this.get(\"\".concat(this.baseURL, \"/blocklists\"));\n            }\n        },\n        {\n            key: \"getBlockList\",\n            value: function getBlockList(name) {\n                return this.get(\"\".concat(this.baseURL, \"/blocklists/\").concat(name));\n            }\n        },\n        {\n            key: \"updateBlockList\",\n            value: function updateBlockList(name, data) {\n                return this.put(\"\".concat(this.baseURL, \"/blocklists/\").concat(name), data);\n            }\n        },\n        {\n            key: \"deleteBlockList\",\n            value: function deleteBlockList(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/blocklists/\").concat(name));\n            }\n        },\n        {\n            key: \"exportChannels\",\n            value: function exportChannels(request) {\n                var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var payload = _objectSpread({\n                    channels: request\n                }, options);\n                return this.post(\"\".concat(this.baseURL, \"/export_channels\"), payload);\n            }\n        },\n        {\n            key: \"exportUsers\",\n            value: function exportUsers(request) {\n                return this.post(\"\".concat(this.baseURL, \"/export/users\"), request);\n            }\n        },\n        {\n            key: \"exportChannel\",\n            value: function exportChannel(request, options) {\n                return this.exportChannels([\n                    request\n                ], options);\n            }\n        },\n        {\n            key: \"getExportChannelStatus\",\n            value: function getExportChannelStatus(id) {\n                return this.get(\"\".concat(this.baseURL, \"/export_channels/\").concat(id));\n            }\n        },\n        {\n            key: \"createSegment\",\n            value: function() {\n                var _createSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee59(params) {\n                    var _yield$this$post, segment;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee59$(_context59) {\n                        while(1){\n                            switch(_context59.prev = _context59.next){\n                                case 0:\n                                    _context59.next = 2;\n                                    return this.post(this.baseURL + \"/segments\", {\n                                        segment: params\n                                    });\n                                case 2:\n                                    _yield$this$post = _context59.sent;\n                                    segment = _yield$this$post.segment;\n                                    return _context59.abrupt(\"return\", segment);\n                                case 5:\n                                case \"end\":\n                                    return _context59.stop();\n                            }\n                        }\n                    }, _callee59, this);\n                }));\n                function createSegment(_x79) {\n                    return _createSegment.apply(this, arguments);\n                }\n                return createSegment;\n            }()\n        },\n        {\n            key: \"querySegments\",\n            value: function() {\n                var _querySegments = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee60(filters) {\n                    var options, _args60 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee60$(_context60) {\n                        while(1){\n                            switch(_context60.prev = _context60.next){\n                                case 0:\n                                    options = _args60.length > 1 && _args60[1] !== undefined ? _args60[1] : {};\n                                    _context60.next = 3;\n                                    return this.get(this.baseURL + \"/segments\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filters\n                                        }, options)\n                                    });\n                                case 3:\n                                    return _context60.abrupt(\"return\", _context60.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context60.stop();\n                            }\n                        }\n                    }, _callee60, this);\n                }));\n                function querySegments(_x80) {\n                    return _querySegments.apply(this, arguments);\n                }\n                return querySegments;\n            }()\n        },\n        {\n            key: \"updateSegment\",\n            value: function() {\n                var _updateSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee61(id, params) {\n                    var _yield$this$put, segment;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee61$(_context61) {\n                        while(1){\n                            switch(_context61.prev = _context61.next){\n                                case 0:\n                                    _context61.next = 2;\n                                    return this.put(this.baseURL + \"/segments/\".concat(id), {\n                                        segment: params\n                                    });\n                                case 2:\n                                    _yield$this$put = _context61.sent;\n                                    segment = _yield$this$put.segment;\n                                    return _context61.abrupt(\"return\", segment);\n                                case 5:\n                                case \"end\":\n                                    return _context61.stop();\n                            }\n                        }\n                    }, _callee61, this);\n                }));\n                function updateSegment(_x81, _x82) {\n                    return _updateSegment.apply(this, arguments);\n                }\n                return updateSegment;\n            }()\n        },\n        {\n            key: \"deleteSegment\",\n            value: function() {\n                var _deleteSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee62(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee62$(_context62) {\n                        while(1){\n                            switch(_context62.prev = _context62.next){\n                                case 0:\n                                    return _context62.abrupt(\"return\", this.delete(this.baseURL + \"/segments/\".concat(id)));\n                                case 1:\n                                case \"end\":\n                                    return _context62.stop();\n                            }\n                        }\n                    }, _callee62, this);\n                }));\n                function deleteSegment(_x83) {\n                    return _deleteSegment.apply(this, arguments);\n                }\n                return deleteSegment;\n            }()\n        },\n        {\n            key: \"createCampaign\",\n            value: function() {\n                var _createCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee63(params) {\n                    var _yield$this$post2, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee63$(_context63) {\n                        while(1){\n                            switch(_context63.prev = _context63.next){\n                                case 0:\n                                    _context63.next = 2;\n                                    return this.post(this.baseURL + \"/campaigns\", {\n                                        campaign: params\n                                    });\n                                case 2:\n                                    _yield$this$post2 = _context63.sent;\n                                    campaign = _yield$this$post2.campaign;\n                                    return _context63.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context63.stop();\n                            }\n                        }\n                    }, _callee63, this);\n                }));\n                function createCampaign(_x84) {\n                    return _createCampaign.apply(this, arguments);\n                }\n                return createCampaign;\n            }()\n        },\n        {\n            key: \"queryCampaigns\",\n            value: function() {\n                var _queryCampaigns = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee64(filters) {\n                    var options, _args64 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee64$(_context64) {\n                        while(1){\n                            switch(_context64.prev = _context64.next){\n                                case 0:\n                                    options = _args64.length > 1 && _args64[1] !== undefined ? _args64[1] : {};\n                                    _context64.next = 3;\n                                    return this.get(this.baseURL + \"/campaigns\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filters\n                                        }, options)\n                                    });\n                                case 3:\n                                    return _context64.abrupt(\"return\", _context64.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context64.stop();\n                            }\n                        }\n                    }, _callee64, this);\n                }));\n                function queryCampaigns(_x85) {\n                    return _queryCampaigns.apply(this, arguments);\n                }\n                return queryCampaigns;\n            }()\n        },\n        {\n            key: \"updateCampaign\",\n            value: function() {\n                var _updateCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee65(id, params) {\n                    var _yield$this$put2, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee65$(_context65) {\n                        while(1){\n                            switch(_context65.prev = _context65.next){\n                                case 0:\n                                    _context65.next = 2;\n                                    return this.put(this.baseURL + \"/campaigns/\".concat(id), {\n                                        campaign: params\n                                    });\n                                case 2:\n                                    _yield$this$put2 = _context65.sent;\n                                    campaign = _yield$this$put2.campaign;\n                                    return _context65.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context65.stop();\n                            }\n                        }\n                    }, _callee65, this);\n                }));\n                function updateCampaign(_x86, _x87) {\n                    return _updateCampaign.apply(this, arguments);\n                }\n                return updateCampaign;\n            }()\n        },\n        {\n            key: \"deleteCampaign\",\n            value: function() {\n                var _deleteCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee66(id) {\n                    var params, _args66 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee66$(_context66) {\n                        while(1){\n                            switch(_context66.prev = _context66.next){\n                                case 0:\n                                    params = _args66.length > 1 && _args66[1] !== undefined ? _args66[1] : {};\n                                    return _context66.abrupt(\"return\", this.delete(this.baseURL + \"/campaigns/\".concat(id), params));\n                                case 2:\n                                case \"end\":\n                                    return _context66.stop();\n                            }\n                        }\n                    }, _callee66, this);\n                }));\n                function deleteCampaign(_x88) {\n                    return _deleteCampaign.apply(this, arguments);\n                }\n                return deleteCampaign;\n            }()\n        },\n        {\n            key: \"scheduleCampaign\",\n            value: function() {\n                var _scheduleCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee67(id, params) {\n                    var scheduledFor, _yield$this$patch, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee67$(_context67) {\n                        while(1){\n                            switch(_context67.prev = _context67.next){\n                                case 0:\n                                    scheduledFor = params.scheduledFor;\n                                    _context67.next = 3;\n                                    return this.patch(this.baseURL + \"/campaigns/\".concat(id, \"/schedule\"), {\n                                        scheduled_for: scheduledFor\n                                    });\n                                case 3:\n                                    _yield$this$patch = _context67.sent;\n                                    campaign = _yield$this$patch.campaign;\n                                    return _context67.abrupt(\"return\", campaign);\n                                case 6:\n                                case \"end\":\n                                    return _context67.stop();\n                            }\n                        }\n                    }, _callee67, this);\n                }));\n                function scheduleCampaign(_x89, _x90) {\n                    return _scheduleCampaign.apply(this, arguments);\n                }\n                return scheduleCampaign;\n            }()\n        },\n        {\n            key: \"stopCampaign\",\n            value: function() {\n                var _stopCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee68(id) {\n                    var _yield$this$patch2, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee68$(_context68) {\n                        while(1){\n                            switch(_context68.prev = _context68.next){\n                                case 0:\n                                    _context68.next = 2;\n                                    return this.patch(this.baseURL + \"/campaigns/\".concat(id, \"/stop\"));\n                                case 2:\n                                    _yield$this$patch2 = _context68.sent;\n                                    campaign = _yield$this$patch2.campaign;\n                                    return _context68.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context68.stop();\n                            }\n                        }\n                    }, _callee68, this);\n                }));\n                function stopCampaign(_x91) {\n                    return _stopCampaign.apply(this, arguments);\n                }\n                return stopCampaign;\n            }()\n        },\n        {\n            key: \"resumeCampaign\",\n            value: function() {\n                var _resumeCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee69(id) {\n                    var _yield$this$patch3, campaign;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee69$(_context69) {\n                        while(1){\n                            switch(_context69.prev = _context69.next){\n                                case 0:\n                                    _context69.next = 2;\n                                    return this.patch(this.baseURL + \"/campaigns/\".concat(id, \"/resume\"));\n                                case 2:\n                                    _yield$this$patch3 = _context69.sent;\n                                    campaign = _yield$this$patch3.campaign;\n                                    return _context69.abrupt(\"return\", campaign);\n                                case 5:\n                                case \"end\":\n                                    return _context69.stop();\n                            }\n                        }\n                    }, _callee69, this);\n                }));\n                function resumeCampaign(_x92) {\n                    return _resumeCampaign.apply(this, arguments);\n                }\n                return resumeCampaign;\n            }()\n        },\n        {\n            key: \"testCampaign\",\n            value: function() {\n                var _testCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee70(id, params) {\n                    var users;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee70$(_context70) {\n                        while(1){\n                            switch(_context70.prev = _context70.next){\n                                case 0:\n                                    users = params.users;\n                                    _context70.next = 3;\n                                    return this.post(this.baseURL + \"/campaigns/\".concat(id, \"/test\"), {\n                                        users: users\n                                    });\n                                case 3:\n                                    return _context70.abrupt(\"return\", _context70.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context70.stop();\n                            }\n                        }\n                    }, _callee70, this);\n                }));\n                function testCampaign(_x93, _x94) {\n                    return _testCampaign.apply(this, arguments);\n                }\n                return testCampaign;\n            }()\n        },\n        {\n            key: \"queryRecipients\",\n            value: function() {\n                var _queryRecipients = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee71(filters) {\n                    var options, _args71 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee71$(_context71) {\n                        while(1){\n                            switch(_context71.prev = _context71.next){\n                                case 0:\n                                    options = _args71.length > 1 && _args71[1] !== undefined ? _args71[1] : {};\n                                    _context71.next = 3;\n                                    return this.get(this.baseURL + \"/recipients\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filters\n                                        }, options)\n                                    });\n                                case 3:\n                                    return _context71.abrupt(\"return\", _context71.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context71.stop();\n                            }\n                        }\n                    }, _callee71, this);\n                }));\n                function queryRecipients(_x95) {\n                    return _queryRecipients.apply(this, arguments);\n                }\n                return queryRecipients;\n            }()\n        },\n        {\n            key: \"enrichURL\",\n            value: function() {\n                var _enrichURL = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee72(url) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee72$(_context72) {\n                        while(1){\n                            switch(_context72.prev = _context72.next){\n                                case 0:\n                                    return _context72.abrupt(\"return\", this.get(this.baseURL + \"/og\", {\n                                        url: url\n                                    }));\n                                case 1:\n                                case \"end\":\n                                    return _context72.stop();\n                            }\n                        }\n                    }, _callee72, this);\n                }));\n                function enrichURL(_x96) {\n                    return _enrichURL.apply(this, arguments);\n                }\n                return enrichURL;\n            }()\n        },\n        {\n            key: \"getTask\",\n            value: function() {\n                var _getTask = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee73(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee73$(_context73) {\n                        while(1){\n                            switch(_context73.prev = _context73.next){\n                                case 0:\n                                    return _context73.abrupt(\"return\", this.get(\"\".concat(this.baseURL, \"/tasks/\").concat(id)));\n                                case 1:\n                                case \"end\":\n                                    return _context73.stop();\n                            }\n                        }\n                    }, _callee73, this);\n                }));\n                function getTask(_x97) {\n                    return _getTask.apply(this, arguments);\n                }\n                return getTask;\n            }()\n        },\n        {\n            key: \"deleteChannels\",\n            value: function() {\n                var _deleteChannels = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee74(cids) {\n                    var options, _args74 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee74$(_context74) {\n                        while(1){\n                            switch(_context74.prev = _context74.next){\n                                case 0:\n                                    options = _args74.length > 1 && _args74[1] !== undefined ? _args74[1] : {};\n                                    _context74.next = 3;\n                                    return this.post(this.baseURL + \"/channels/delete\", _objectSpread({\n                                        cids: cids\n                                    }, options));\n                                case 3:\n                                    return _context74.abrupt(\"return\", _context74.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context74.stop();\n                            }\n                        }\n                    }, _callee74, this);\n                }));\n                function deleteChannels(_x98) {\n                    return _deleteChannels.apply(this, arguments);\n                }\n                return deleteChannels;\n            }()\n        },\n        {\n            key: \"deleteUsers\",\n            value: function() {\n                var _deleteUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee75(user_ids) {\n                    var options, _args75 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee75$(_context75) {\n                        while(1){\n                            switch(_context75.prev = _context75.next){\n                                case 0:\n                                    options = _args75.length > 1 && _args75[1] !== undefined ? _args75[1] : {};\n                                    if (!(typeof options.user !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\",\n                                        \"pruning\"\n                                    ].includes(options.user))) {\n                                        _context75.next = 3;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. user must be one of [soft hard pruning]\");\n                                case 3:\n                                    if (!(typeof options.conversations !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\"\n                                    ].includes(options.conversations))) {\n                                        _context75.next = 5;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. conversations must be one of [soft hard]\");\n                                case 5:\n                                    if (!(typeof options.messages !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\",\n                                        \"pruning\"\n                                    ].includes(options.messages))) {\n                                        _context75.next = 7;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. messages must be one of [soft hard pruning]\");\n                                case 7:\n                                    _context75.next = 9;\n                                    return this.post(this.baseURL + \"/users/delete\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 9:\n                                    return _context75.abrupt(\"return\", _context75.sent);\n                                case 10:\n                                case \"end\":\n                                    return _context75.stop();\n                            }\n                        }\n                    }, _callee75, this);\n                }));\n                function deleteUsers(_x99) {\n                    return _deleteUsers.apply(this, arguments);\n                }\n                return deleteUsers;\n            }()\n        },\n        {\n            key: \"_createImportURL\",\n            value: function() {\n                var _createImportURL2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee76(filename) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee76$(_context76) {\n                        while(1){\n                            switch(_context76.prev = _context76.next){\n                                case 0:\n                                    _context76.next = 2;\n                                    return this.post(this.baseURL + \"/import_urls\", {\n                                        filename: filename\n                                    });\n                                case 2:\n                                    return _context76.abrupt(\"return\", _context76.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context76.stop();\n                            }\n                        }\n                    }, _callee76, this);\n                }));\n                function _createImportURL(_x100) {\n                    return _createImportURL2.apply(this, arguments);\n                }\n                return _createImportURL;\n            }()\n        },\n        {\n            key: \"_createImport\",\n            value: function() {\n                var _createImport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee77(path) {\n                    var options, _args77 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee77$(_context77) {\n                        while(1){\n                            switch(_context77.prev = _context77.next){\n                                case 0:\n                                    options = _args77.length > 1 && _args77[1] !== undefined ? _args77[1] : {\n                                        mode: \"upsert\"\n                                    };\n                                    _context77.next = 3;\n                                    return this.post(this.baseURL + \"/imports\", _objectSpread({\n                                        path: path\n                                    }, options));\n                                case 3:\n                                    return _context77.abrupt(\"return\", _context77.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context77.stop();\n                            }\n                        }\n                    }, _callee77, this);\n                }));\n                function _createImport(_x101) {\n                    return _createImport2.apply(this, arguments);\n                }\n                return _createImport;\n            }()\n        },\n        {\n            key: \"_getImport\",\n            value: function() {\n                var _getImport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee78(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee78$(_context78) {\n                        while(1){\n                            switch(_context78.prev = _context78.next){\n                                case 0:\n                                    _context78.next = 2;\n                                    return this.get(this.baseURL + \"/imports/\".concat(id));\n                                case 2:\n                                    return _context78.abrupt(\"return\", _context78.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context78.stop();\n                            }\n                        }\n                    }, _callee78, this);\n                }));\n                function _getImport(_x102) {\n                    return _getImport2.apply(this, arguments);\n                }\n                return _getImport;\n            }()\n        },\n        {\n            key: \"_listImports\",\n            value: function() {\n                var _listImports2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee79(options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee79$(_context79) {\n                        while(1){\n                            switch(_context79.prev = _context79.next){\n                                case 0:\n                                    _context79.next = 2;\n                                    return this.get(this.baseURL + \"/imports\", options);\n                                case 2:\n                                    return _context79.abrupt(\"return\", _context79.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context79.stop();\n                            }\n                        }\n                    }, _callee79, this);\n                }));\n                function _listImports(_x103) {\n                    return _listImports2.apply(this, arguments);\n                }\n                return _listImports;\n            }()\n        },\n        {\n            key: \"upsertPushProvider\",\n            value: function() {\n                var _upsertPushProvider = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee80(pushProvider) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee80$(_context80) {\n                        while(1){\n                            switch(_context80.prev = _context80.next){\n                                case 0:\n                                    _context80.next = 2;\n                                    return this.post(this.baseURL + \"/push_providers\", {\n                                        push_provider: pushProvider\n                                    });\n                                case 2:\n                                    return _context80.abrupt(\"return\", _context80.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context80.stop();\n                            }\n                        }\n                    }, _callee80, this);\n                }));\n                function upsertPushProvider(_x104) {\n                    return _upsertPushProvider.apply(this, arguments);\n                }\n                return upsertPushProvider;\n            }()\n        },\n        {\n            key: \"deletePushProvider\",\n            value: function() {\n                var _deletePushProvider = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee81(_ref10) {\n                    var type, name;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee81$(_context81) {\n                        while(1){\n                            switch(_context81.prev = _context81.next){\n                                case 0:\n                                    type = _ref10.type, name = _ref10.name;\n                                    _context81.next = 3;\n                                    return this.delete(this.baseURL + \"/push_providers/\".concat(type, \"/\").concat(name));\n                                case 3:\n                                    return _context81.abrupt(\"return\", _context81.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context81.stop();\n                            }\n                        }\n                    }, _callee81, this);\n                }));\n                function deletePushProvider(_x105) {\n                    return _deletePushProvider.apply(this, arguments);\n                }\n                return deletePushProvider;\n            }()\n        },\n        {\n            key: \"listPushProviders\",\n            value: function() {\n                var _listPushProviders = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee82() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee82$(_context82) {\n                        while(1){\n                            switch(_context82.prev = _context82.next){\n                                case 0:\n                                    _context82.next = 2;\n                                    return this.get(this.baseURL + \"/push_providers\");\n                                case 2:\n                                    return _context82.abrupt(\"return\", _context82.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context82.stop();\n                            }\n                        }\n                    }, _callee82, this);\n                }));\n                function listPushProviders() {\n                    return _listPushProviders.apply(this, arguments);\n                }\n                return listPushProviders;\n            }()\n        },\n        {\n            key: \"createAbortControllerForNextRequest\",\n            value: function createAbortControllerForNextRequest() {\n                return this.nextRequestAbortController = new AbortController();\n            }\n        },\n        {\n            key: \"commitMessage\",\n            value: function() {\n                var _commitMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee83(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee83$(_context83) {\n                        while(1){\n                            switch(_context83.prev = _context83.next){\n                                case 0:\n                                    _context83.next = 2;\n                                    return this.post(this.baseURL + \"/messages/\".concat(id, \"/commit\"));\n                                case 2:\n                                    return _context83.abrupt(\"return\", _context83.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context83.stop();\n                            }\n                        }\n                    }, _callee83, this);\n                }));\n                function commitMessage(_x106) {\n                    return _commitMessage.apply(this, arguments);\n                }\n                return commitMessage;\n            }()\n        }\n    ], [\n        {\n            key: \"getInstance\",\n            value: function getInstance(key, secretOrOptions, options) {\n                if (!StreamChat._instance) {\n                    if (typeof secretOrOptions === \"string\") {\n                        StreamChat._instance = new StreamChat(key, secretOrOptions, options);\n                    } else {\n                        StreamChat._instance = new StreamChat(key, secretOrOptions);\n                    }\n                }\n                return StreamChat._instance;\n            }\n        }\n    ]);\n    return StreamChat;\n}();\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(StreamChat, \"_instance\", void 0);\nvar EVENT_MAP = {\n    \"channel.created\": true,\n    \"channel.deleted\": true,\n    \"channel.hidden\": true,\n    \"channel.kicked\": true,\n    \"channel.muted\": true,\n    \"channel.truncated\": true,\n    \"channel.unmuted\": true,\n    \"channel.updated\": true,\n    \"channel.visible\": true,\n    \"health.check\": true,\n    \"member.added\": true,\n    \"member.removed\": true,\n    \"member.updated\": true,\n    \"message.deleted\": true,\n    \"message.new\": true,\n    \"message.read\": true,\n    \"message.updated\": true,\n    \"notification.added_to_channel\": true,\n    \"notification.channel_deleted\": true,\n    \"notification.channel_mutes_updated\": true,\n    \"notification.channel_truncated\": true,\n    \"notification.invite_accepted\": true,\n    \"notification.invite_rejected\": true,\n    \"notification.invited\": true,\n    \"notification.mark_read\": true,\n    \"notification.message_new\": true,\n    \"notification.mutes_updated\": true,\n    \"notification.removed_from_channel\": true,\n    \"reaction.deleted\": true,\n    \"reaction.new\": true,\n    \"reaction.updated\": true,\n    \"typing.start\": true,\n    \"typing.stop\": true,\n    \"user.banned\": true,\n    \"user.deleted\": true,\n    \"user.presence.changed\": true,\n    \"user.unbanned\": true,\n    \"user.unread_message_reminder\": true,\n    \"user.updated\": true,\n    \"user.watching.start\": true,\n    \"user.watching.stop\": true,\n    // local events\n    \"channels.queried\": true,\n    \"connection.changed\": true,\n    \"connection.recovered\": true,\n    \"transport.changed\": true,\n    \"capabilities.changed\": true\n};\nvar Allow = \"Allow\";\nvar Deny = \"Deny\";\nvar AnyResource = [\n    \"*\"\n];\nvar AnyRole = [\n    \"*\"\n];\nvar MaxPriority = 999;\nvar MinPriority = 1; // deprecated permission object class, you should use the new permission system v2 and use permissions\n// defined in BuiltinPermissions to configure your channel types\nvar Permission = function Permission(name, priority) {\n    var resources = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : AnyResource;\n    var roles = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : AnyRole;\n    var owner = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    var action = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : Allow;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Permission);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"name\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"action\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"owner\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"priority\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"resources\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"roles\", void 0);\n    this.name = name;\n    this.action = action;\n    this.owner = owner;\n    this.priority = priority;\n    this.resources = resources;\n    this.roles = roles;\n}; // deprecated\nvar AllowAll = new Permission(\"Allow all\", MaxPriority, AnyResource, AnyRole, false, Allow); // deprecated\nvar DenyAll = new Permission(\"Deny all\", MinPriority, AnyResource, AnyRole, false, Deny);\nvar BuiltinRoles = {\n    Admin: \"admin\",\n    Anonymous: \"anonymous\",\n    ChannelMember: \"channel_member\",\n    ChannelModerator: \"channel_moderator\",\n    Guest: \"guest\",\n    User: \"user\"\n};\nvar BuiltinPermissions = {\n    AddLinks: \"Add Links\",\n    BanUser: \"Ban User\",\n    CreateChannel: \"Create Channel\",\n    CreateMessage: \"Create Message\",\n    CreateReaction: \"Create Reaction\",\n    DeleteAnyAttachment: \"Delete Any Attachment\",\n    DeleteAnyChannel: \"Delete Any Channel\",\n    DeleteAnyMessage: \"Delete Any Message\",\n    DeleteAnyReaction: \"Delete Any Reaction\",\n    DeleteOwnAttachment: \"Delete Own Attachment\",\n    DeleteOwnChannel: \"Delete Own Channel\",\n    DeleteOwnMessage: \"Delete Own Message\",\n    DeleteOwnReaction: \"Delete Own Reaction\",\n    ReadAnyChannel: \"Read Any Channel\",\n    ReadOwnChannel: \"Read Own Channel\",\n    RunMessageAction: \"Run Message Action\",\n    UpdateAnyChannel: \"Update Any Channel\",\n    UpdateAnyMessage: \"Update Any Message\",\n    UpdateMembersAnyChannel: \"Update Members Any Channel\",\n    UpdateMembersOwnChannel: \"Update Members Own Channel\",\n    UpdateOwnChannel: \"Update Own Channel\",\n    UpdateOwnMessage: \"Update Own Message\",\n    UploadAttachment: \"Upload Attachment\",\n    UseFrozenChannel: \"Send messages and reactions to frozen channels\"\n};\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDWTtBQUNGO0FBQ2tDO0FBQ1o7QUFDRjtBQUNKO0FBQ047QUFDTTtBQUNQO0FBQ25DO0FBQ0E7QUFDd0M7QUFDakM7QUFDSztBQUNQO0FBQ0Q7QUFDb0Q7QUFDMUI7QUFDa0M7QUFDdEI7QUFDRTtBQUV0RSxTQUFTc0IsV0FBV0MsYUFBYTtJQUMvQixPQUFPLE9BQU9BLGtCQUFrQjtBQUNsQztBQUVBLFNBQVNDLG9CQUFvQkQsYUFBYSxFQUFFRSxRQUFRO0lBQ2xELE9BQU8sQ0FBQyxDQUFDQSxZQUFZSCxXQUFXQztBQUNsQyxFQUFFLG1GQUFtRjtBQUdyRixTQUFTRyxJQUFJSCxhQUFhLEVBQUVFLFFBQVE7SUFDbEMsSUFBSUUsTUFBTSxFQUFFO0lBRVosSUFBSUwsV0FBV0Msa0JBQWtCQyxvQkFBb0JELGVBQWVFLFdBQVc7UUFDN0UsSUFBSyxJQUFJRyxJQUFJLEdBQUdDLE1BQU1OLGNBQWNPLE1BQU0sRUFBRUYsSUFBSUMsS0FBS0QsSUFBSztZQUN4RCxJQUFJTCxjQUFjUSxNQUFNLENBQUNILElBQUk7Z0JBQzNCLElBQUlJLFNBQVNULGNBQWNRLE1BQU0sQ0FBQ0g7Z0JBQ2xDLElBQUlLLGNBQWNSLFNBQVNPLFFBQVFKLEdBQUdMO2dCQUN0Q0ksR0FBRyxDQUFDQyxFQUFFLEdBQUdLO1lBQ1g7UUFDRjtJQUNGLE9BQU8sSUFBSSxDQUFDWCxXQUFXQyxrQkFBa0IsQ0FBQ0Msb0JBQW9CRCxlQUFlRSxXQUFXO1FBQ3RGLElBQUssSUFBSVMsS0FBSyxHQUFHQyxPQUFPWixjQUFjTyxNQUFNLEVBQUVJLEtBQUtDLE1BQU1ELEtBQU07WUFDN0QsSUFBSUEsTUFBTVgsZUFBZTtnQkFDdkIsSUFBSWEsVUFBVWIsYUFBYSxDQUFDVyxHQUFHO2dCQUUvQixJQUFJRyxlQUFlWixTQUFTVyxTQUFTRixJQUFJWDtnQkFFekNJLEdBQUcsQ0FBQ08sR0FBRyxHQUFHRztZQUNaO1FBQ0Y7SUFDRjtJQUVBLE9BQU9WO0FBQ1Q7QUFFQSxJQUFJVyxlQUFlLFNBQVNBLGFBQWFDLElBQUk7SUFDM0MsT0FBT3ZDLHdEQUFhQSxDQUFDLElBQUl3QyxXQUFXZCxJQUFJYSxNQUFNLFNBQVVFLElBQUk7UUFDMUQsT0FBT0EsS0FBS0MsVUFBVSxDQUFDO0lBQ3pCO0FBQ0YsR0FBRyxnR0FBZ0c7QUFDbkcsa0dBQWtHO0FBQ2xHLG1FQUFtRTtBQUVuRSxJQUFJQyxlQUFlLFNBQVNBLGFBQWFDLENBQUM7SUFDeEMsSUFBSUMsSUFBSSxDQUFDLEdBQ0xDLElBQUlDLE9BQU9DLFlBQVksRUFDdkJDLElBQUlMLEVBQUVkLE1BQU07SUFDaEIsSUFBSW9CLEdBQ0FDLElBQUksR0FDSkMsR0FDQUMsR0FDQUMsSUFBSSxHQUNKQyxHQUNBQyxJQUFJO0lBQ1IsSUFBSUMsSUFBSTtJQUVSLElBQUtQLElBQUksR0FBR0EsSUFBSSxJQUFJQSxJQUFLO1FBQ3ZCTCxDQUFDLENBQUNZLEVBQUUxQixNQUFNLENBQUNtQixHQUFHLEdBQUdBO0lBQ25CO0lBRUEsSUFBS0csSUFBSSxHQUFHQSxJQUFJSixHQUFHSSxJQUFLO1FBQ3RCRCxJQUFJUCxDQUFDLENBQUNELEVBQUViLE1BQU0sQ0FBQ3NCLEdBQUc7UUFDbEJGLElBQUksQ0FBQ0EsS0FBSyxLQUFLQztRQUNmRSxLQUFLO1FBRUwsTUFBT0EsS0FBSyxFQUFHO1lBQ1osRUFBQ0MsSUFBSUosTUFBT0csQ0FBQUEsS0FBSyxLQUFLLElBQUcsS0FBTUQsSUFBSUosSUFBSSxNQUFPTyxDQUFBQSxLQUFLVixFQUFFUyxFQUFDO1FBQ3pEO0lBQ0Y7SUFFQSxPQUFPQztBQUNUO0FBRUEsU0FBU0UsVUFBVUMsTUFBTSxFQUFFQyxjQUFjO0lBQUksSUFBSUMsT0FBT0MsT0FBT0QsSUFBSSxDQUFDRjtJQUFTLElBQUlHLE9BQU9DLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsVUFBVUYsT0FBT0MscUJBQXFCLENBQUNKO1FBQVMsSUFBSUMsZ0JBQWdCO1lBQUVJLFVBQVVBLFFBQVFDLE1BQU0sQ0FBQyxTQUFVQyxHQUFHO2dCQUFJLE9BQU9KLE9BQU9LLHdCQUF3QixDQUFDUixRQUFRTyxLQUFLRSxVQUFVO1lBQUU7UUFBSTtRQUFFUCxLQUFLUSxJQUFJLENBQUNDLEtBQUssQ0FBQ1QsTUFBTUc7SUFBVTtJQUFFLE9BQU9IO0FBQU07QUFFMVYsU0FBU1UsZ0JBQWdCQyxNQUFNO0lBQUksSUFBSyxJQUFJdEIsSUFBSSxHQUFHQSxJQUFJdUIsVUFBVTNDLE1BQU0sRUFBRW9CLElBQUs7UUFBRSxJQUFJd0IsU0FBU0QsU0FBUyxDQUFDdkIsRUFBRSxJQUFJLE9BQU91QixTQUFTLENBQUN2QixFQUFFLEdBQUcsQ0FBQztRQUFHLElBQUlBLElBQUksR0FBRztZQUFFUSxVQUFVSSxPQUFPWSxTQUFTLE1BQU1DLE9BQU8sQ0FBQyxTQUFVQyxHQUFHO2dCQUFJcEUsNEVBQWVBLENBQUNnRSxRQUFRSSxLQUFLRixNQUFNLENBQUNFLElBQUk7WUFBRztRQUFJLE9BQU8sSUFBSWQsT0FBT2UseUJBQXlCLEVBQUU7WUFBRWYsT0FBT2dCLGdCQUFnQixDQUFDTixRQUFRVixPQUFPZSx5QkFBeUIsQ0FBQ0g7UUFBVSxPQUFPO1lBQUVoQixVQUFVSSxPQUFPWSxTQUFTQyxPQUFPLENBQUMsU0FBVUMsR0FBRztnQkFBSWQsT0FBT2lCLGNBQWMsQ0FBQ1AsUUFBUUksS0FBS2QsT0FBT0ssd0JBQXdCLENBQUNPLFFBQVFFO1lBQU87UUFBSTtJQUFFO0lBQUUsT0FBT0o7QUFBUTtBQUUzaEI7O0NBRUMsR0FDRCxJQUFJUSxlQUFlLFdBQVcsR0FBRTtJQUM5Qjs7Ozs7R0FLQyxHQUVEOzs7OztHQUtDLEdBQ0QsU0FBU0EsYUFBYUMsT0FBTztRQUMzQixJQUFJQyxRQUFRLElBQUksRUFDWkM7UUFFSjdFLDRFQUFlQSxDQUFDLElBQUksRUFBRTBFO1FBRXRCeEUsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFlBQVksS0FBSztRQUV2Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGlCQUFpQixLQUFLO1FBRTVDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxLQUFLO1FBRXJDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO1FBRW5DQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLEtBQUs7UUFFN0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxvQkFBb0IsS0FBSztRQUUvQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFdBQVcsS0FBSztRQUV0Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGNBQWMsS0FBSztRQUV6Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFlBQVksS0FBSztRQUV2Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFdBQVcsS0FBSztRQUV0Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGVBQWUsS0FBSztRQUUxQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGNBQWMsS0FBSztRQUV6Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLG1CQUFtQixLQUFLO1FBRTlDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxLQUFLO1FBRXpDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFO1FBRXZDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLFNBQVU0RSxVQUFVO1lBQ3pERixNQUFNRSxVQUFVLEdBQUdBO1FBQ3JCO1FBRUE1RSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsMEJBQTBCLFNBQVU2RSxRQUFRLEVBQUVDLEdBQUc7WUFDckUsSUFBSUMsU0FBU0YsU0FBU3BCLE1BQU0sQ0FBQyxTQUFVdUIsT0FBTztnQkFDNUMsT0FBTyxDQUFFLEVBQUMsQ0FBQ0EsUUFBUUMsRUFBRSxJQUFJLENBQUMsQ0FBQ0gsSUFBSUcsRUFBRSxJQUFJRCxRQUFRQyxFQUFFLEtBQUtILElBQUlHLEVBQUU7WUFDNUQ7WUFDQSxPQUFPO2dCQUNMQyxTQUFTSCxPQUFPekQsTUFBTSxHQUFHdUQsU0FBU3ZELE1BQU07Z0JBQ3hDeUQsUUFBUUE7WUFDVjtRQUNGO1FBRUEvRSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsc0JBQXNCLFNBQVVtRixJQUFJO1lBQ3hELElBQUlDLHNCQUFzQixTQUFTQSxvQkFBb0JDLFFBQVEsRUFBRUYsSUFBSTtnQkFDbkUsSUFBSyxJQUFJekMsSUFBSSxHQUFHQSxJQUFJMkMsU0FBUy9ELE1BQU0sRUFBRW9CLElBQUs7b0JBQ3hDLElBQUk0QztvQkFFSixJQUFJQyxJQUFJRixRQUFRLENBQUMzQyxFQUFFO29CQUVuQixJQUFJLENBQUMsQ0FBQzRDLFVBQVVDLEVBQUVKLElBQUksTUFBTSxRQUFRRyxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFMLEVBQUUsTUFBTUUsS0FBS0YsRUFBRSxFQUFFO3dCQUN6RkksUUFBUSxDQUFDM0MsRUFBRSxHQUFHcUIsZ0JBQWdCQSxnQkFBZ0IsQ0FBQyxHQUFHd0IsSUFBSSxDQUFDLEdBQUc7NEJBQ3hESixNQUFNQTt3QkFDUjtvQkFDRjtnQkFDRjtZQUNGO1lBRUFULE1BQU1jLFdBQVcsQ0FBQ3JCLE9BQU8sQ0FBQyxTQUFVc0IsR0FBRztnQkFDckMsT0FBT0wsb0JBQW9CSyxJQUFJSixRQUFRLEVBQUVGO1lBQzNDO1lBRUEsSUFBSyxJQUFJTyxZQUFZaEIsTUFBTWlCLE9BQU8sQ0FBRTtnQkFDbENQLG9CQUFvQlYsTUFBTWlCLE9BQU8sQ0FBQ0QsU0FBUyxFQUFFUDtZQUMvQztZQUVBQyxvQkFBb0JWLE1BQU1rQixjQUFjLEVBQUVUO1FBQzVDO1FBRUFuRiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsc0JBQXNCLFNBQVVtRixJQUFJO1lBQ3hELElBQUlVLGFBQWE1QixVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUc7WUFFckYsSUFBSThCLHNCQUFzQixTQUFTQSxvQkFBb0JWLFFBQVEsRUFBRUYsSUFBSTtnQkFDbkUsSUFBSVUsYUFBYTVCLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRztnQkFFckYsSUFBSyxJQUFJdkIsSUFBSSxHQUFHQSxJQUFJMkMsU0FBUy9ELE1BQU0sRUFBRW9CLElBQUs7b0JBQ3hDLElBQUlzRDtvQkFFSixJQUFJVCxJQUFJRixRQUFRLENBQUMzQyxFQUFFO29CQUVuQixJQUFJLENBQUMsQ0FBQ3NELFdBQVdULEVBQUVKLElBQUksTUFBTSxRQUFRYSxhQUFhLEtBQUssSUFBSSxLQUFLLElBQUlBLFNBQVNmLEVBQUUsTUFBTUUsS0FBS0YsRUFBRSxFQUFFO3dCQUM1RjtvQkFDRjtvQkFFQSxJQUFJWSxZQUFZO3dCQUNkOzs7YUFHQyxHQUNEUixRQUFRLENBQUMzQyxFQUFFLEdBQUc7NEJBQ1p1RCxLQUFLVixFQUFFVSxHQUFHOzRCQUNWQyxZQUFZWCxFQUFFVyxVQUFVOzRCQUN4QkMsWUFBWWhCLEtBQUtnQixVQUFVOzRCQUMzQmxCLElBQUlNLEVBQUVOLEVBQUU7NEJBQ1JtQixrQkFBa0IsRUFBRTs0QkFDcEJDLGlCQUFpQixFQUFFOzRCQUNuQkMsZUFBZSxFQUFFOzRCQUNqQkMsV0FBV2hCLEVBQUVnQixTQUFTOzRCQUN0QkMsYUFBYWpCLEVBQUVpQixXQUFXOzRCQUMxQkMsUUFBUWxCLEVBQUVrQixNQUFNOzRCQUNoQkMscUJBQXFCbkIsRUFBRW1CLG1CQUFtQjs0QkFDMUNDLE1BQU07NEJBQ05DLFlBQVlyQixFQUFFcUIsVUFBVTs0QkFDeEJ6QixNQUFNSSxFQUFFSixJQUFJO3dCQUNkO29CQUNGLE9BQU87d0JBQ0xFLFFBQVEsQ0FBQzNDLEVBQUUsR0FBR3FCLGdCQUFnQkEsZ0JBQWdCLENBQUMsR0FBR3dCLElBQUksQ0FBQyxHQUFHOzRCQUN4RG9CLE1BQU07NEJBQ05SLFlBQVloQixLQUFLZ0IsVUFBVTt3QkFDN0I7b0JBQ0Y7Z0JBQ0Y7WUFDRjtZQUVBekIsTUFBTWMsV0FBVyxDQUFDckIsT0FBTyxDQUFDLFNBQVVzQixHQUFHO2dCQUNyQyxPQUFPTSxvQkFBb0JOLElBQUlKLFFBQVEsRUFBRUYsTUFBTVU7WUFDakQ7WUFFQSxJQUFLLElBQUlILFlBQVloQixNQUFNaUIsT0FBTyxDQUFFO2dCQUNsQ0ksb0JBQW9CckIsTUFBTWlCLE9BQU8sQ0FBQ0QsU0FBUyxFQUFFUCxNQUFNVTtZQUNyRDtZQUVBRSxvQkFBb0JyQixNQUFNa0IsY0FBYyxFQUFFVCxNQUFNVTtRQUNsRDtRQUVBLElBQUksQ0FBQ2dCLFFBQVEsR0FBR3BDO1FBQ2hCLElBQUksQ0FBQ3FDLGFBQWEsR0FBRztRQUNyQixJQUFJLENBQUNDLE1BQU0sR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDQyxJQUFJLEdBQUcsQ0FBQztRQUNiLElBQUksQ0FBQ0MsWUFBWTtRQUNqQixJQUFJLENBQUNyQixjQUFjLEdBQUcsRUFBRTtRQUN4QixJQUFJLENBQUNzQixnQkFBZ0IsR0FBRyxFQUFFO1FBQzFCLElBQUksQ0FBQ3ZCLE9BQU8sR0FBRyxDQUFDLEdBQUcsd0NBQXdDO1FBRTNELElBQUksQ0FBQ3dCLFVBQVUsR0FBRyxFQUFFO1FBQ3BCLElBQUksQ0FBQ0MsUUFBUSxHQUFHLENBQUM7UUFDakIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUNDLFVBQVUsR0FBRyxDQUFDO1FBQ25CLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25COzs7OztLQUtDLEdBRUQsSUFBSSxDQUFDM0MsVUFBVSxHQUFHO1FBQ2xCLElBQUksQ0FBQzRDLGVBQWUsR0FBRyxDQUFDL0MsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUksQ0FBQ0UsaUJBQWlCRixRQUFRZ0QsS0FBSyxNQUFNLFFBQVE5QyxtQkFBbUIsS0FBSyxJQUFJLEtBQUssSUFBSUEsZUFBZTZDLGVBQWUsS0FBSyxPQUFPLElBQUlFLEtBQUtqRCxRQUFRZ0QsS0FBSyxDQUFDRCxlQUFlLElBQUk7SUFDbFA7SUFFQXpILHlFQUFZQSxDQUFDeUUsY0FBYztRQUFDO1lBQzFCSixLQUFLO1lBQ0x1RCxLQUFLLFNBQVNBO2dCQUNaLElBQUlDO2dCQUVKLE9BQU8sQ0FBQyxDQUFDQSx3QkFBd0IsSUFBSSxDQUFDcEMsV0FBVyxDQUFDcUMsSUFBSSxDQUFDLFNBQVV6RixDQUFDO29CQUNoRSxPQUFPQSxFQUFFMEYsU0FBUztnQkFDcEIsRUFBQyxNQUFPLFFBQVFGLDBCQUEwQixLQUFLLElBQUksS0FBSyxJQUFJQSxzQkFBc0J2QyxRQUFRLEtBQUssRUFBRTtZQUNuRztZQUNBSSxLQUFLLFNBQVNBLElBQUlKLFFBQVE7Z0JBQ3hCLElBQUkwQyxRQUFRLElBQUksQ0FBQ3ZDLFdBQVcsQ0FBQ3dDLFNBQVMsQ0FBQyxTQUFVNUYsQ0FBQztvQkFDaEQsT0FBT0EsRUFBRTBGLFNBQVM7Z0JBQ3BCO2dCQUNBLElBQUksQ0FBQ3RDLFdBQVcsQ0FBQ3VDLE1BQU0sQ0FBQzFDLFFBQVEsR0FBR0E7WUFDckM7UUFNRjtRQUFHO1lBQ0RqQixLQUFLO1lBQ0x1RCxLQUFLLFNBQVNBO2dCQUNaLElBQUlNO2dCQUVKLE9BQU8sQ0FBQyxDQUFDQSx5QkFBeUIsSUFBSSxDQUFDekMsV0FBVyxDQUFDcUMsSUFBSSxDQUFDLFNBQVV6RixDQUFDO29CQUNqRSxPQUFPQSxFQUFFOEYsUUFBUTtnQkFDbkIsRUFBQyxNQUFPLFFBQVFELDJCQUEyQixLQUFLLElBQUksS0FBSyxJQUFJQSx1QkFBdUI1QyxRQUFRLEtBQUssRUFBRTtZQUNyRztZQUNBSSxLQUFLLFNBQVNBLElBQUlKLFFBQVE7Z0JBQ3hCLElBQUkwQyxRQUFRLElBQUksQ0FBQ3ZDLFdBQVcsQ0FBQ3dDLFNBQVMsQ0FBQyxTQUFVNUYsQ0FBQztvQkFDaEQsT0FBT0EsRUFBRThGLFFBQVE7Z0JBQ25CO2dCQUNBLElBQUksQ0FBQzFDLFdBQVcsQ0FBQ3VDLE1BQU0sQ0FBQzFDLFFBQVEsR0FBR0E7WUFDckM7UUFVRjtRQUFHO1lBQ0RqQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNDLGlCQUFpQkMsVUFBVTtnQkFDekMsSUFBSUMsbUJBQW1CckUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUMzRixJQUFJc0Usb0JBQW9CdEUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUM1RixJQUFJdUUsa0NBQWtDdkUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUMxRyxPQUFPLElBQUksQ0FBQ3dFLGlCQUFpQixDQUFDO29CQUFDSjtpQkFBVyxFQUFFQyxrQkFBa0IsT0FBT0MsbUJBQW1CQztZQUMxRjtRQVNGO1FBQUc7WUFDRHBFLEtBQUs7WUFDTCtELE9BQU8sU0FBU08sY0FBYzFELE9BQU87Z0JBQ25DLE9BQU9qQixnQkFBZ0JBLGdCQUFnQixDQUFDLEdBQUdpQixVQUFVLENBQUMsR0FBRztvQkFDdkQ7O1NBRUMsR0FDRDJELFFBQVEzRCxRQUFRNEQsSUFBSTtvQkFDcEIsbUJBQW1CO29CQUNuQkMsV0FBVzdELFFBQVE2RCxTQUFTLEdBQUcsSUFBSW5CLEtBQUsxQyxRQUFRNkQsU0FBUyxJQUFJO29CQUM3RDNDLFlBQVlsQixRQUFRa0IsVUFBVSxHQUFHLElBQUl3QixLQUFLMUMsUUFBUWtCLFVBQVUsSUFBSSxJQUFJd0I7b0JBQ3BFZCxZQUFZNUIsUUFBUTRCLFVBQVUsR0FBRyxJQUFJYyxLQUFLMUMsUUFBUTRCLFVBQVUsSUFBSSxJQUFJYztvQkFDcEVqQixRQUFRekIsUUFBUXlCLE1BQU0sSUFBSTtnQkFDNUI7WUFDRjtRQVlGO1FBQUc7WUFDRHJDLEtBQUs7WUFDTCtELE9BQU8sU0FBU00sa0JBQWtCSyxXQUFXO2dCQUMzQyxJQUFJUixtQkFBbUJyRSxVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUc7Z0JBQzNGLElBQUk4RSxlQUFlOUUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUN2RixJQUFJc0Usb0JBQW9CdEUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUM1RixJQUFJdUUsa0NBQWtDdkUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUUxRyxJQUFJK0Usd0JBQXdCLElBQUksQ0FBQ0Msb0JBQW9CLENBQUNILGFBQWFQLG1CQUFtQkMsa0NBQ2xGVSxnQkFBZ0JGLHNCQUFzQkUsYUFBYSxFQUNuREMsd0JBQXdCSCxzQkFBc0JHLHFCQUFxQjtnQkFFdkUsSUFBSyxJQUFJekcsSUFBSSxHQUFHQSxJQUFJd0csY0FBYzVILE1BQU0sRUFBRW9CLEtBQUssRUFBRztvQkFDaEQsSUFBSTBHLHlCQUF5QkYsYUFBYSxDQUFDeEcsRUFBRSxDQUFDMkcsUUFBUTtvQkFFdEQsSUFBSUQsd0JBQXdCO3dCQUMxQjtvQkFDRixFQUFFLDhEQUE4RDtvQkFDaEUsK0hBQStIO29CQUMvSCxnRUFBZ0U7b0JBR2hFLElBQUlFLHFCQUFxQkosYUFBYSxDQUFDeEcsRUFBRSxDQUFDd0QsVUFBVSxZQUFZd0I7b0JBQ2hFLElBQUkxQyxVQUFVLEtBQUs7b0JBRW5CLElBQUlzRSxvQkFBb0I7d0JBQ3RCdEUsVUFBVWtFLGFBQWEsQ0FBQ3hHLEVBQUU7b0JBQzVCLE9BQU87d0JBQ0wsSUFBSTZHO3dCQUVKdkUsVUFBVSxJQUFJLENBQUMwRCxhQUFhLENBQUNRLGFBQWEsQ0FBQ3hHLEVBQUU7d0JBRTdDLElBQUlzQyxRQUFRRyxJQUFJLElBQUksQ0FBQ29FLGlCQUFpQixJQUFJLENBQUMxQyxRQUFRLE1BQU0sUUFBUTBDLG1CQUFtQixLQUFLLEtBQUtBLGVBQWV0RCxHQUFHLEVBQUU7NEJBQ2hIOzs7O2FBSUMsR0FDRCxJQUFJLENBQUNZLFFBQVEsQ0FBQzJDLFNBQVMsR0FBRy9CLEtBQUssQ0FBQ2dDLG1CQUFtQixDQUFDekUsUUFBUUcsSUFBSSxFQUFFLElBQUksQ0FBQzBCLFFBQVEsQ0FBQ1osR0FBRzt3QkFDckY7d0JBRUEsSUFBSThDLGdCQUFnQi9ELFFBQVFDLEVBQUUsSUFBSSxJQUFJLENBQUNVLE9BQU8sQ0FBQ1gsUUFBUUMsRUFBRSxDQUFDLEVBQUU7NEJBQzFELHNGQUFzRjs0QkFDdEYsa0ZBQWtGOzRCQUNsRiw0RUFBNEU7NEJBQzVFLHdDQUF3Qzs0QkFDeEMsT0FBTyxJQUFJLENBQUNVLE9BQU8sQ0FBQ1gsUUFBUUMsRUFBRSxDQUFDO3dCQUNqQzt3QkFFQSxJQUFJLENBQUMsSUFBSSxDQUFDdUMsZUFBZSxFQUFFOzRCQUN6QixJQUFJLENBQUNBLGVBQWUsR0FBRyxJQUFJRSxLQUFLMUMsUUFBUWtCLFVBQVUsQ0FBQ3dELE9BQU87d0JBQzVEO3dCQUVBLElBQUkxRSxRQUFRa0IsVUFBVSxDQUFDd0QsT0FBTyxLQUFLLElBQUksQ0FBQ2xDLGVBQWUsQ0FBQ2tDLE9BQU8sSUFBSTs0QkFDakUsSUFBSSxDQUFDbEMsZUFBZSxHQUFHLElBQUlFLEtBQUsxQyxRQUFRa0IsVUFBVSxDQUFDd0QsT0FBTzt3QkFDNUQ7b0JBQ0YsRUFBRSxtQ0FBbUM7b0JBR3JDLElBQUlDLFdBQVczRSxRQUFRdUIsU0FBUyxFQUFFLCtCQUErQjtvQkFFakUsSUFBSSxDQUFDLENBQUNvRCxZQUFZM0UsUUFBUTRFLGVBQWUsS0FBS1QsMEJBQTBCLENBQUMsR0FBRzt3QkFDMUUsSUFBSSxDQUFDM0QsV0FBVyxDQUFDMkQsc0JBQXNCLENBQUM5RCxRQUFRLEdBQUcsSUFBSSxDQUFDd0UsaUJBQWlCLENBQUMsSUFBSSxDQUFDckUsV0FBVyxDQUFDMkQsc0JBQXNCLENBQUM5RCxRQUFRLEVBQUVMLFNBQVNzRCxrQkFBa0IsY0FBY0M7b0JBQ3ZLO29CQUNBOzs7Ozs7OztTQVFDLEdBR0QsSUFBSW9CLFlBQVksQ0FBQ1osY0FBYzt3QkFDN0IsSUFBSWUsU0FBUyxJQUFJLENBQUNuRSxPQUFPLENBQUNnRSxTQUFTLElBQUksRUFBRTt3QkFFekMsSUFBSUksaUJBQWlCLElBQUksQ0FBQ0YsaUJBQWlCLENBQUNDLFFBQVE5RSxTQUFTc0Qsa0JBQWtCLGNBQWNDO3dCQUU3RixJQUFJLENBQUM1QyxPQUFPLENBQUNnRSxTQUFTLEdBQUdJO29CQUMzQjtnQkFDRjtnQkFFQSxPQUFPO29CQUNMQyxZQUFZLElBQUksQ0FBQ3hFLFdBQVcsQ0FBQzJELHNCQUFzQjtnQkFDckQ7WUFDRjtRQVFGO1FBQUc7WUFDRC9FLEtBQUs7WUFDTCtELE9BQU8sU0FBUzhCLGtCQUFrQnJFLGNBQWM7Z0JBQzlDLElBQUssSUFBSWxELElBQUksR0FBR0EsSUFBSWtELGVBQWV0RSxNQUFNLEVBQUVvQixLQUFLLEVBQUc7b0JBQ2pELElBQUksQ0FBQ3dILGdCQUFnQixDQUFDdEUsY0FBYyxDQUFDbEQsRUFBRTtnQkFDekM7WUFDRjtRQVFGO1FBQUc7WUFDRDBCLEtBQUs7WUFDTCtELE9BQU8sU0FBUytCLGlCQUFpQkMsYUFBYTtnQkFDNUMsSUFBSSxDQUFDdkUsY0FBYyxHQUFHLElBQUksQ0FBQ2lFLGlCQUFpQixDQUFDLElBQUksQ0FBQ2pFLGNBQWMsRUFBRSxJQUFJLENBQUM4QyxhQUFhLENBQUN5QixnQkFBZ0IsT0FBTztZQUM5RztRQVFGO1FBQUc7WUFDRC9GLEtBQUs7WUFDTCtELE9BQU8sU0FBU2lDLG9CQUFvQnBGLE9BQU87Z0JBQ3pDLElBQUlxRix3QkFBd0IsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMxRSxjQUFjLEVBQUVaLFVBQ3pFRCxTQUFTc0Ysc0JBQXNCdEYsTUFBTTtnQkFFekMsSUFBSSxDQUFDYSxjQUFjLEdBQUdiO1lBQ3hCO1FBQ0Y7UUFBRztZQUNEWCxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNvQyxZQUFZQyxRQUFRLEVBQUV4RixPQUFPLEVBQUV5RixjQUFjO2dCQUMzRCxJQUFJQyxTQUFTLElBQUk7Z0JBRWpCLElBQUksQ0FBQzFGLFNBQVM7Z0JBQ2QsSUFBSTJGLHNCQUFzQjNGO2dCQUUxQixJQUFJLENBQUM0RixjQUFjLENBQUM1RixTQUFTLFNBQVVGLEdBQUc7b0JBQ3hDNkYsb0JBQW9CckUsYUFBYSxHQUFHb0UsT0FBT0csd0JBQXdCLENBQUMvRixJQUFJd0IsYUFBYSxFQUFFa0UsVUFBVUM7b0JBQ2pHLE9BQU9DLE9BQU9oQyxhQUFhLENBQUNpQztnQkFDOUI7Z0JBRUEsT0FBT0E7WUFDVDtRQUNGO1FBQUc7WUFDRHZHLEtBQUs7WUFDTCtELE9BQU8sU0FBUzBDLHlCQUF5QkMsWUFBWSxFQUFFTixRQUFRLEVBQUVDLGNBQWM7Z0JBQzdFLElBQUlBLGdCQUFnQjtvQkFDbEJLLGVBQWUsRUFBRTtnQkFDbkIsT0FBTztvQkFDTEEsZUFBZSxJQUFJLENBQUNDLDZCQUE2QixDQUFDRCxjQUFjTjtnQkFDbEU7Z0JBRUFNLGVBQWVBLGdCQUFnQixFQUFFO2dCQUVqQyxJQUFJLElBQUksQ0FBQ2pFLFFBQVEsQ0FBQzJDLFNBQVMsR0FBR3dCLE1BQU0sS0FBS1IsU0FBU1MsT0FBTyxFQUFFO29CQUN6REgsYUFBYWpILElBQUksQ0FBQzJHO2dCQUNwQjtnQkFFQSxPQUFPTTtZQUNUO1FBQ0Y7UUFBRztZQUNEMUcsS0FBSztZQUNMK0QsT0FBTyxTQUFTNEMsOEJBQThCRCxZQUFZLEVBQUVOLFFBQVE7Z0JBQ2xFLElBQUlNLGNBQWM7b0JBQ2hCLE9BQU9BLGFBQWFySCxNQUFNLENBQUMsU0FBVXlILElBQUk7d0JBQ3ZDLE9BQU9BLEtBQUtELE9BQU8sS0FBS1QsU0FBU1MsT0FBTyxJQUFJQyxLQUFLdkUsSUFBSSxLQUFLNkQsU0FBUzdELElBQUk7b0JBQ3pFO2dCQUNGO2dCQUVBLE9BQU9tRTtZQUNUO1FBQ0Y7UUFBRztZQUNEMUcsS0FBSztZQUNMK0QsT0FBTyxTQUFTZ0QsZUFBZVgsUUFBUSxFQUFFeEYsT0FBTztnQkFDOUMsSUFBSW9HLFNBQVMsSUFBSTtnQkFFakIsSUFBSSxDQUFDcEcsU0FBUztnQkFDZCxJQUFJMkYsc0JBQXNCM0Y7Z0JBRTFCLElBQUksQ0FBQzRGLGNBQWMsQ0FBQzVGLFNBQVMsU0FBVUYsR0FBRztvQkFDeEM2RixvQkFBb0JyRSxhQUFhLEdBQUc4RSxPQUFPTCw2QkFBNkIsQ0FBQ2pHLElBQUl3QixhQUFhLEVBQUVrRTtvQkFDNUYsT0FBT1ksT0FBTzFDLGFBQWEsQ0FBQ2lDO2dCQUM5QjtnQkFFQSxPQUFPQTtZQUNUO1FBQ0Y7UUFBRztZQUNEdkcsS0FBSztZQUNMK0QsT0FBTyxTQUFTa0QsOEJBQThCckcsT0FBTztnQkFDbkQsSUFBSXNHLFNBQVMsSUFBSTtnQkFFakIsSUFBSUMsZUFBZSxTQUFTQSxhQUFhaEcsQ0FBQztvQkFDeEMsSUFBSWlHLGNBQWNDO29CQUVsQixPQUFPMUgsZ0JBQWdCQSxnQkFBZ0IsQ0FBQyxHQUFHd0IsSUFBSSxDQUFDLEdBQUc7d0JBQ2pEVyxZQUFZWCxFQUFFVyxVQUFVLENBQUN3RixXQUFXO3dCQUNwQzdDLFdBQVcsQ0FBQzJDLGVBQWVqRyxFQUFFc0QsU0FBUyxNQUFNLFFBQVEyQyxpQkFBaUIsS0FBSyxJQUFJLEtBQUssSUFBSUEsYUFBYUUsV0FBVzt3QkFDL0c5RSxZQUFZLENBQUM2RSxnQkFBZ0JsRyxFQUFFcUIsVUFBVSxNQUFNLFFBQVE2RSxrQkFBa0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsY0FBY0MsV0FBVztvQkFDdEg7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDbEcsV0FBVyxDQUFDckIsT0FBTyxDQUFDLFNBQVVzQixHQUFHO29CQUNwQyxJQUFJa0csa0JBQWtCbEcsSUFBSUosUUFBUSxDQUFDNUIsTUFBTSxDQUFDLFNBQVVxQixHQUFHO3dCQUNyRCxPQUFPQSxJQUFJOEcsaUJBQWlCLEtBQUs1RyxRQUFRQyxFQUFFO29CQUM3QyxHQUFHL0QsR0FBRyxDQUFDcUssY0FBY3JLLEdBQUcsQ0FBQyxTQUFVNEQsR0FBRzt3QkFDcEMsT0FBT2YsZ0JBQWdCQSxnQkFBZ0IsQ0FBQyxHQUFHZSxNQUFNLENBQUMsR0FBRzs0QkFDbkQrRyxnQkFBZ0I5SCxnQkFBZ0JBLGdCQUFnQixDQUFDLEdBQUdpQixVQUFVLENBQUMsR0FBRztnQ0FDaEU4RyxhQUFhLEVBQUU7NEJBQ2pCO3dCQUNGO29CQUNGO29CQUVBUixPQUFPN0MsaUJBQWlCLENBQUNrRCxpQkFBaUI7Z0JBQzVDO1lBQ0Y7UUFPRjtRQUFHO1lBQ0R2SCxLQUFLO1lBQ0wrRCxPQUFPLFNBQVN5QyxlQUFlNUYsT0FBTyxFQUFFK0csVUFBVTtnQkFDaEQsSUFBSXhGLFlBQVl2QixRQUFRdUIsU0FBUyxFQUM3QnFELGtCQUFrQjVFLFFBQVE0RSxlQUFlLEVBQ3pDb0MsU0FBU2hILFFBQVFnSCxNQUFNO2dCQUUzQixJQUFJekYsYUFBYSxJQUFJLENBQUNaLE9BQU8sQ0FBQ1ksVUFBVSxFQUFFO29CQUN4QyxJQUFJdUQsU0FBUyxJQUFJLENBQUNuRSxPQUFPLENBQUNZLFVBQVU7b0JBQ3BDLElBQUkwRixXQUFXbkMsT0FBTzlCLFNBQVMsQ0FBQyxTQUFVbEQsR0FBRzt3QkFDM0MsT0FBT0EsSUFBSUcsRUFBRSxLQUFLRCxRQUFRQyxFQUFFO29CQUM5QjtvQkFFQSxJQUFJZ0gsYUFBYSxDQUFDLEdBQUc7d0JBQ25CbkMsTUFBTSxDQUFDbUMsU0FBUyxHQUFHRixXQUFXakMsTUFBTSxDQUFDbUMsU0FBUzt3QkFDOUMsSUFBSSxDQUFDdEcsT0FBTyxDQUFDWSxVQUFVLEdBQUd1RDtvQkFDNUI7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDRixtQkFBbUIsQ0FBQ3JELGFBQWFxRCxpQkFBaUI7b0JBQ3JELElBQUlzQyxrQkFBa0IsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQ25IO29CQUUvQyxJQUFJa0gsb0JBQW9CLENBQUMsR0FBRzt3QkFDMUIsSUFBSUUsWUFBWSxJQUFJLENBQUM1RyxXQUFXLENBQUMwRyxnQkFBZ0IsQ0FBQzdHLFFBQVEsQ0FBQzJDLFNBQVMsQ0FBQyxTQUFVbEQsR0FBRzs0QkFDaEYsT0FBT0EsSUFBSUcsRUFBRSxLQUFLRCxRQUFRQyxFQUFFO3dCQUM5Qjt3QkFFQSxJQUFJbUgsY0FBYyxDQUFDLEdBQUc7NEJBQ3BCLElBQUksQ0FBQzVHLFdBQVcsQ0FBQzBHLGdCQUFnQixDQUFDN0csUUFBUSxDQUFDK0csVUFBVSxHQUFHTCxXQUFXLElBQUksQ0FBQ3ZHLFdBQVcsQ0FBQzBHLGdCQUFnQixDQUFDN0csUUFBUSxDQUFDK0csVUFBVTt3QkFDMUg7b0JBQ0Y7Z0JBQ0Y7Z0JBRUEsSUFBSUosUUFBUTtvQkFDVixJQUFJSyxhQUFhLElBQUksQ0FBQ3pHLGNBQWMsQ0FBQ29DLFNBQVMsQ0FBQyxTQUFVbEQsR0FBRzt3QkFDMUQsT0FBT0EsSUFBSUcsRUFBRSxLQUFLRCxRQUFRQyxFQUFFO29CQUM5QjtvQkFFQSxJQUFJb0gsZUFBZSxDQUFDLEdBQUc7d0JBQ3JCLElBQUksQ0FBQ3pHLGNBQWMsQ0FBQ3lHLFdBQVcsR0FBR04sV0FBVyxJQUFJLENBQUNuRyxjQUFjLENBQUN5RyxXQUFXO29CQUM5RTtnQkFDRjtZQUNGO1FBVUY7UUFBRztZQUNEakksS0FBSztZQUNMK0QsT0FDQTs7Ozs7Ozs7S0FRQyxHQUNELFNBQVMwQixrQkFBa0J4RSxRQUFRLEVBQUVMLE9BQU87Z0JBQzFDLElBQUlzRCxtQkFBbUJyRSxVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUc7Z0JBQzNGLElBQUlxSSxTQUFTckksVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUNqRixJQUFJc0Usb0JBQW9CdEUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUM1RixJQUFJc0ksbUJBQW1CaEUscUJBQXFCRDtnQkFDNUMsSUFBSWtFLGFBQWFuSCxVQUFVLHlGQUF5RjtnQkFDcEgsc0hBQXNIO2dCQUV0SCxJQUFJaUQsa0JBQWtCO29CQUNwQmtFLGFBQWFBLFdBQVcvSSxNQUFNLENBQUMsU0FBVXFCLEdBQUc7d0JBQzFDLE9BQU8sQ0FBRUEsQ0FBQUEsSUFBSUcsRUFBRSxJQUFJRCxRQUFRQyxFQUFFLEtBQUtILElBQUlHLEVBQUU7b0JBQzFDO2dCQUNGLEVBQUUsbUNBQW1DO2dCQUdyQyxJQUFJd0gscUJBQXFCRCxXQUFXbEwsTUFBTSxFQUFFLDBFQUEwRTtnQkFFdEgsSUFBSW1MLHVCQUF1QixLQUFLRixrQkFBa0I7b0JBQ2hELE9BQU9DLFdBQVdFLE1BQU0sQ0FBQzFIO2dCQUMzQixPQUFPLElBQUl5SCx1QkFBdUIsR0FBRztvQkFDbkMsT0FBTzdNLCtFQUFrQkEsQ0FBQzRNO2dCQUM1QjtnQkFFQSxJQUFJRyxjQUFjM0gsT0FBTyxDQUFDc0gsT0FBTyxDQUFDNUMsT0FBTztnQkFDekMsSUFBSWtELGtCQUFrQkosVUFBVSxDQUFDQyxxQkFBcUIsRUFBRSxDQUFDSCxPQUFPLENBQUM1QyxPQUFPLEtBQUtpRCxhQUFhLHFHQUFxRztnQkFFL0wsSUFBSUMsbUJBQW1CTCxrQkFBa0I7b0JBQ3ZDLE9BQU9DLFdBQVdFLE1BQU0sQ0FBQzFIO2dCQUMzQixPQUFPLElBQUk0SCxpQkFBaUI7b0JBQzFCLE9BQU9oTiwrRUFBa0JBLENBQUM0TTtnQkFDNUIsRUFBRSxpREFBaUQ7Z0JBR25ELElBQUlLLE9BQU87Z0JBQ1gsSUFBSUMsU0FBUztnQkFDYixJQUFJQyxRQUFRTixxQkFBcUI7Z0JBRWpDLE1BQU9JLFFBQVFFLE1BQU87b0JBQ3BCRCxTQUFTRSxLQUFLQyxLQUFLLENBQUMsQ0FBQ0YsUUFBUUYsSUFBRyxJQUFLO29CQUNyQyxJQUFJTCxVQUFVLENBQUNNLE9BQU8sQ0FBQ1IsT0FBTyxDQUFDNUMsT0FBTyxNQUFNaUQsYUFBYUUsT0FBT0MsU0FBUzt5QkFBT0MsUUFBUUQsU0FBUztnQkFDbkcsRUFBRSxxRkFBcUY7Z0JBR3ZGLElBQUksQ0FBQ3hFLG9CQUFvQnRELFFBQVFDLEVBQUUsRUFBRTtvQkFDbkMsSUFBSXVILFVBQVUsQ0FBQ0ssS0FBSyxJQUFJN0gsUUFBUUMsRUFBRSxLQUFLdUgsVUFBVSxDQUFDSyxLQUFLLENBQUM1SCxFQUFFLEVBQUU7d0JBQzFEdUgsVUFBVSxDQUFDSyxLQUFLLEdBQUc3SDt3QkFDbkIsT0FBT3BGLCtFQUFrQkEsQ0FBQzRNO29CQUM1QjtvQkFFQSxJQUFJQSxVQUFVLENBQUNLLE9BQU8sRUFBRSxJQUFJN0gsUUFBUUMsRUFBRSxLQUFLdUgsVUFBVSxDQUFDSyxPQUFPLEVBQUUsQ0FBQzVILEVBQUUsRUFBRTt3QkFDbEV1SCxVQUFVLENBQUNLLE9BQU8sRUFBRSxHQUFHN0g7d0JBQ3ZCLE9BQU9wRiwrRUFBa0JBLENBQUM0TTtvQkFDNUI7Z0JBQ0YsRUFBRSxrRkFBa0Y7Z0JBQ3BGLDhCQUE4QjtnQkFHOUIsSUFBSUQsa0JBQWtCO29CQUNwQkMsV0FBV1UsTUFBTSxDQUFDTCxNQUFNLEdBQUc3SDtnQkFDN0I7Z0JBRUEsT0FBT3BGLCtFQUFrQkEsQ0FBQzRNO1lBQzVCO1FBU0Y7UUFBRztZQUNEcEksS0FBSztZQUNMK0QsT0FBTyxTQUFTZ0YsY0FBY0MsZUFBZTtnQkFDM0MsSUFBSUMsWUFBWTtnQkFFaEIsSUFBSUQsZ0JBQWdCN0csU0FBUyxJQUFJLElBQUksQ0FBQ1osT0FBTyxDQUFDeUgsZ0JBQWdCN0csU0FBUyxDQUFDLEVBQUU7b0JBQ3hFLElBQUkrRyx5QkFBeUIsSUFBSSxDQUFDaEQsc0JBQXNCLENBQUMsSUFBSSxDQUFDM0UsT0FBTyxDQUFDeUgsZ0JBQWdCN0csU0FBUyxDQUFDLEVBQUU2RyxrQkFDOUZsSSxVQUFVb0ksdUJBQXVCcEksT0FBTyxFQUN4QzZFLGlCQUFpQnVELHVCQUF1QnZJLE1BQU07b0JBRWxELElBQUksQ0FBQ1ksT0FBTyxDQUFDeUgsZ0JBQWdCN0csU0FBUyxDQUFDLEdBQUd3RDtvQkFDMUNzRCxZQUFZbkk7Z0JBQ2QsT0FBTztvQkFDTCxJQUFJcUk7b0JBRUosSUFBSXJCLGtCQUFrQixDQUFDcUIsd0JBQXdCSCxnQkFBZ0JsQixlQUFlLE1BQU0sUUFBUXFCLDBCQUEwQixLQUFLLElBQUlBLHdCQUF3QixJQUFJLENBQUNwQixtQkFBbUIsQ0FBQ2lCO29CQUVoTCxJQUFJbEIsb0JBQW9CLENBQUMsR0FBRzt3QkFDMUIsSUFBSXNCLHlCQUF5QixJQUFJLENBQUNsRCxzQkFBc0IsQ0FBQyxJQUFJLENBQUM5RSxXQUFXLENBQUMwRyxnQkFBZ0IsQ0FBQzdHLFFBQVEsRUFBRStILGtCQUNqR0ssV0FBV0QsdUJBQXVCdEksT0FBTyxFQUN6Q0csV0FBV21JLHVCQUF1QnpJLE1BQU07d0JBRTVDLElBQUksQ0FBQ1MsV0FBVyxDQUFDMEcsZ0JBQWdCLENBQUM3RyxRQUFRLEdBQUdBO3dCQUM3Q2dJLFlBQVlJO29CQUNkO2dCQUNGO2dCQUVBLE9BQU9KO1lBQ1Q7UUFDRjtRQUFHO1lBQ0RqSixLQUFLO1lBQ0wrRCxPQUNBOzs7S0FHQyxHQUNELFNBQVN1RjtnQkFDUCxJQUFJQyxtQkFBbUIsSUFBSSxDQUFDQyxjQUFjLENBQUNuSyxNQUFNLENBQUMsU0FBVXVCLE9BQU87b0JBQ2pFLE9BQU9BLFFBQVEyQixJQUFJLEtBQUs7Z0JBQzFCO2dCQUNBLElBQUksQ0FBQ2lILGNBQWMsR0FBR0Q7WUFDeEI7UUFLRjtRQUFHO1lBQ0R2SixLQUFLO1lBQ0wrRCxPQUFPLFNBQVMwRjtnQkFDZCxJQUFJQyxNQUFNLElBQUlwRyxRQUFRLDhDQUE4QztnQkFFcEUsSUFBSyxJQUFJcUcsS0FBSyxHQUFHQyxrQkFBa0IxSyxPQUFPMkssT0FBTyxDQUFDLElBQUksQ0FBQ2xILE1BQU0sR0FBR2dILEtBQUtDLGdCQUFnQjFNLE1BQU0sRUFBRXlNLEtBQU07b0JBQ2pHLElBQUlHLHFCQUFxQjlOLDRFQUFjQSxDQUFDNE4sZUFBZSxDQUFDRCxHQUFHLEVBQUUsSUFDekQvQyxTQUFTa0Qsa0JBQWtCLENBQUMsRUFBRSxFQUM5QkMsWUFBWUQsa0JBQWtCLENBQUMsRUFBRTtvQkFFckMsSUFBSUUsYUFBYSxPQUFPRCxVQUFVRSxXQUFXLEtBQUssV0FBVyxJQUFJM0csS0FBS3lHLFVBQVVFLFdBQVcsSUFBSUYsVUFBVUUsV0FBVyxJQUFJLElBQUkzRztvQkFFNUgsSUFBSW9HLElBQUlwRSxPQUFPLEtBQUswRSxXQUFXMUUsT0FBTyxLQUFLLE1BQU07d0JBQy9DLE9BQU8sSUFBSSxDQUFDM0MsTUFBTSxDQUFDaUUsT0FBTzt3QkFFMUIsSUFBSSxDQUFDbkUsUUFBUSxDQUFDMkMsU0FBUyxHQUFHOEUsYUFBYSxDQUFDOzRCQUN0Q3JJLEtBQUssSUFBSSxDQUFDWSxRQUFRLENBQUNaLEdBQUc7NEJBQ3RCVSxNQUFNOzRCQUNOeEIsTUFBTTtnQ0FDSkYsSUFBSStGOzRCQUNOO3dCQUNGO29CQUNGO2dCQUNGO1lBQ0Y7UUFDRjtRQUFHO1lBQ0Q1RyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNvRztnQkFDZCxJQUFJLENBQUN0SCxZQUFZO2dCQUNqQixJQUFJLENBQUNyQixjQUFjLEdBQUcsRUFBRTtZQUMxQjtRQUNGO1FBQUc7WUFDRHhCLEtBQUs7WUFDTCtELE9BQU8sU0FBU2xCO2dCQUNkLElBQUksQ0FBQ3pCLFdBQVcsR0FBRztvQkFBQzt3QkFDbEJILFVBQVUsRUFBRTt3QkFDWjZDLFVBQVU7d0JBQ1ZKLFdBQVc7b0JBQ2I7aUJBQUU7WUFDSjtRQVFGO1FBQUc7WUFDRDFELEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXFHLHdCQUF3QjNPLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN5TyxRQUFRQyxTQUFTLEVBQUVDLGVBQWU7b0JBQzlILElBQUlDO29CQUVKLElBQUlDLE9BQ0E1QyxpQkFDQTZDLHNCQUNBQyxxQkFDQUMsaUJBQ0FDLFFBQVFqTDtvQkFDWixPQUFPaEUsc0VBQXdCLENBQUMsU0FBU21QLFNBQVNDLFFBQVE7d0JBQ3hELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxTQUFTQyxJQUFJLEdBQUdELFNBQVNFLElBQUk7Z0NBQ25DLEtBQUs7b0NBQ0hULFFBQVFJLE1BQU01TixNQUFNLEdBQUcsS0FBSzROLEtBQUssQ0FBQyxFQUFFLEtBQUtwSixZQUFZb0osS0FBSyxDQUFDLEVBQUUsR0FBRztvQ0FDaEVILHVCQUF1QjtvQ0FDdkJDLHNCQUFzQjtvQ0FDdEJDLGtCQUFrQkwsbUJBQW1CRDtvQ0FFckMsSUFBSSxDQUFFQSxDQUFBQSxjQUFjLFFBQU8sR0FBSTt3Q0FDN0JVLFNBQVNFLElBQUksR0FBRzt3Q0FDaEI7b0NBQ0Y7b0NBRUEsSUFBSSxDQUFFLEtBQUksQ0FBQ2xLLFFBQVEsS0FBSyxJQUFJLENBQUN1SSxjQUFjLEdBQUc7d0NBQzVDeUIsU0FBU0UsSUFBSSxHQUFHO3dDQUNoQjtvQ0FDRjtvQ0FFQSxPQUFPRixTQUFTRyxNQUFNLENBQUM7Z0NBRXpCLEtBQUs7b0NBQ0h0RCxrQkFBa0IsSUFBSSxDQUFDMUcsV0FBVyxDQUFDd0MsU0FBUyxDQUFDLFNBQVU1RixDQUFDO3dDQUN0RCxPQUFPQSxFQUFFOEYsUUFBUTtvQ0FDbkI7b0NBQ0FtSCxTQUFTRSxJQUFJLEdBQUc7b0NBQ2hCO2dDQUVGLEtBQUs7b0NBQ0hyRCxrQkFBa0IsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQzt3Q0FDekNsSCxJQUFJZ0s7b0NBQ047Z0NBRUYsS0FBSztvQ0FDSCxJQUFJL0Msb0JBQW9CLENBQUMsR0FBRzt3Q0FDMUIsSUFBSSxDQUFDdUQsa0JBQWtCLENBQUN2RDt3Q0FDeEI2Qyx1QkFBdUI7b0NBQ3pCO29DQUVBQyxzQkFBc0IsQ0FBQ0osbUJBQW1CLENBQUMsQ0FBRSxFQUFDQyx3QkFBd0IsSUFBSSxDQUFDbEosT0FBTyxDQUFDaUosZ0JBQWdCLE1BQU0sUUFBUUMsMEJBQTBCLEtBQUssS0FBS0Esc0JBQXNCaEgsSUFBSSxDQUFDLFNBQVV0QyxDQUFDO3dDQUN6TCxPQUFPQSxFQUFFTixFQUFFLEtBQUswSjtvQ0FDbEIsRUFBQztvQ0FFRCxJQUFJLENBQUVJLENBQUFBLHdCQUF3QkMsbUJBQWtCLEdBQUk7d0NBQ2xESyxTQUFTRSxJQUFJLEdBQUc7d0NBQ2hCO29DQUNGO29DQUVBLE9BQU9GLFNBQVNHLE1BQU0sQ0FBQztnQ0FFekIsS0FBSztvQ0FDSCxJQUFJVCxzQkFBc0I7d0NBQ3hCTSxTQUFTRSxJQUFJLEdBQUc7d0NBQ2hCO29DQUNGO29DQUVBRixTQUFTRSxJQUFJLEdBQUc7b0NBQ2hCLE9BQU8sSUFBSSxDQUFDMUksUUFBUSxDQUFDNkksS0FBSyxDQUFDO3dDQUN6QnJLLFVBQVU7NENBQ1JzSyxXQUFXVjs0Q0FDWEgsT0FBT0E7d0NBQ1Q7b0NBQ0YsR0FBRztnQ0FFTCxLQUFLO29DQUNILElBQUksQ0FBRSxFQUFDRSx1QkFBdUJKLGVBQWMsR0FBSTt3Q0FDOUNTLFNBQVNFLElBQUksR0FBRzt3Q0FDaEI7b0NBQ0Y7b0NBRUFGLFNBQVNFLElBQUksR0FBRztvQ0FDaEIsT0FBTyxJQUFJLENBQUMxSSxRQUFRLENBQUMrSSxVQUFVLENBQUNoQixpQkFBaUI7d0NBQy9DZSxXQUFXaEI7d0NBQ1hHLE9BQU9BO29DQUNUO2dDQUVGLEtBQUs7b0NBQ0g1QyxrQkFBa0IsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQzt3Q0FDekNsSCxJQUFJZ0s7b0NBQ047b0NBRUEsSUFBSS9DLG9CQUFvQixDQUFDLEdBQUc7d0NBQzFCLElBQUksQ0FBQ3VELGtCQUFrQixDQUFDdkQ7b0NBQzFCO2dDQUVGLEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPbUQsU0FBU1EsSUFBSTs0QkFDeEI7d0JBQ0Y7b0JBQ0YsR0FBR25CLFNBQVMsSUFBSTtnQkFDbEI7Z0JBRUEsU0FBU29CLHFCQUFxQkMsRUFBRSxFQUFFQyxHQUFHO29CQUNuQyxPQUFPeEIsc0JBQXNCMUssS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQzNDO2dCQUVBLE9BQU82TDtZQUNUO1FBVUY7UUFBRztZQUNEMUwsS0FBSztZQUNMK0QsT0FBTyxTQUFTOEgsWUFBWXRCLFNBQVMsRUFBRUMsZUFBZTtnQkFDcEQsSUFBSUEsaUJBQWlCO29CQUNuQixJQUFJdkosV0FBVyxJQUFJLENBQUNNLE9BQU8sQ0FBQ2lKLGdCQUFnQjtvQkFFNUMsSUFBSSxDQUFDdkosVUFBVTt3QkFDYixPQUFPUztvQkFDVDtvQkFFQSxPQUFPVCxTQUFTd0MsSUFBSSxDQUFDLFNBQVV0QyxDQUFDO3dCQUM5QixPQUFPQSxFQUFFTixFQUFFLEtBQUswSjtvQkFDbEI7Z0JBQ0Y7Z0JBRUEsSUFBSXpDLGtCQUFrQixJQUFJLENBQUNDLG1CQUFtQixDQUFDO29CQUM3Q2xILElBQUkwSjtnQkFDTjtnQkFFQSxJQUFJekMsb0JBQW9CLENBQUMsR0FBRztvQkFDMUIsT0FBT3BHO2dCQUNUO2dCQUVBLE9BQU8sSUFBSSxDQUFDTixXQUFXLENBQUMwRyxnQkFBZ0IsQ0FBQzdHLFFBQVEsQ0FBQ3dDLElBQUksQ0FBQyxTQUFVdEMsQ0FBQztvQkFDaEUsT0FBT0EsRUFBRU4sRUFBRSxLQUFLMEo7Z0JBQ2xCO1lBQ0Y7UUFDRjtRQUFHO1lBQ0R2SyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNzSCxtQkFBbUIxSCxLQUFLO2dCQUN0QyxJQUFJbUksa0JBQWtCLElBQUksQ0FBQzFLLFdBQVcsQ0FBQ3FDLElBQUksQ0FBQyxTQUFVekYsQ0FBQztvQkFDckQsT0FBT0EsRUFBRTBGLFNBQVM7Z0JBQ3BCO2dCQUVBLElBQUksQ0FBQ29JLGlCQUFpQjtvQkFDcEI7Z0JBQ0Y7Z0JBRUFBLGdCQUFnQnBJLFNBQVMsR0FBRztnQkFDNUIsSUFBSSxDQUFDdEMsV0FBVyxDQUFDdUMsTUFBTSxDQUFDRCxTQUFTLEdBQUc7WUFDdEM7UUFDRjtRQUFHO1lBQ0QxRCxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNnSSxzQkFBc0JDLFNBQVMsRUFBRUMsU0FBUztnQkFDeEQsT0FBT0QsVUFBVUUsSUFBSSxDQUFDLFNBQVVDLEVBQUU7b0JBQ2hDLE9BQU9GLFVBQVV4SSxJQUFJLENBQUMsU0FBVTJJLEVBQUU7d0JBQ2hDLE9BQU9ELEdBQUd0TCxFQUFFLEtBQUt1TCxHQUFHdkwsRUFBRTtvQkFDeEI7Z0JBQ0Y7WUFDRjtRQUNGO1FBQUc7WUFDRGIsS0FBSztZQUNMK0QsT0FBTyxTQUFTZ0Usb0JBQW9CbkgsT0FBTztnQkFDekMsT0FBTyxJQUFJLENBQUNRLFdBQVcsQ0FBQ3dDLFNBQVMsQ0FBQyxTQUFVdkMsR0FBRztvQkFDN0MsT0FBTyxDQUFDLENBQUNBLElBQUlKLFFBQVEsQ0FBQ3dDLElBQUksQ0FBQyxTQUFVdEMsQ0FBQzt3QkFDcEMsT0FBT0EsRUFBRU4sRUFBRSxLQUFLRCxRQUFRQyxFQUFFO29CQUM1QjtnQkFDRjtZQUNGO1FBQ0Y7UUFBRztZQUNEYixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNjLHFCQUFxQkgsV0FBVztnQkFDOUMsSUFBSTJILFNBQVMsSUFBSTtnQkFFakIsSUFBSWxJLG9CQUFvQnRFLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRztnQkFDNUYsSUFBSXVFLGtDQUFrQ3ZFLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRztnQkFDMUcsSUFBSWlGLGdCQUFnQko7Z0JBQ3BCLElBQUlLO2dCQUVKLElBQUlaLG1CQUFtQjtvQkFDckIsSUFBSW1JLCtCQUErQixJQUFJLENBQUNsTCxXQUFXLENBQUN0RSxHQUFHLENBQUMsU0FBVXlQLENBQUMsRUFBRWpPLENBQUM7d0JBQ3BFLE9BQU9BO29CQUNULEdBQUdlLE1BQU0sQ0FBQyxTQUFVZixDQUFDO3dCQUNuQixPQUFPK04sT0FBT04scUJBQXFCLENBQUNNLE9BQU9qTCxXQUFXLENBQUM5QyxFQUFFLENBQUMyQyxRQUFRLEVBQUV5RDtvQkFDdEU7b0JBRUEsT0FBUU47d0JBQ04sS0FBSzs0QkFDSCxJQUFJa0ksNkJBQTZCcFAsTUFBTSxHQUFHLEdBQUc7Z0NBQzNDNkgsd0JBQXdCdUgsNEJBQTRCLENBQUMsRUFBRSxFQUFFLDRFQUE0RTs0QkFDdkksT0FBTyxJQUFJNUgsWUFBWXdILElBQUksQ0FBQyxTQUFVL0ssQ0FBQztnQ0FDckMsT0FBTyxDQUFDQSxFQUFFZ0IsU0FBUzs0QkFDckIsSUFBSTtnQ0FDRixJQUFJLENBQUNmLFdBQVcsQ0FBQzNCLElBQUksQ0FBQztvQ0FDcEJ3QixVQUFVLEVBQUU7b0NBQ1p5QyxXQUFXO29DQUNYSSxVQUFVO2dDQUNaO2dDQUNBaUIsd0JBQXdCLElBQUksQ0FBQzNELFdBQVcsQ0FBQ2xFLE1BQU0sR0FBRzs0QkFDcEQ7NEJBRUE7d0JBRUYsS0FBSzs0QkFDSDZILHdCQUF3QixJQUFJLENBQUMzRCxXQUFXLENBQUN3QyxTQUFTLENBQUMsU0FBVTVGLENBQUM7Z0NBQzVELE9BQU9BLEVBQUUwRixTQUFTOzRCQUNwQjs0QkFDQTt3QkFFRixLQUFLOzRCQUNIcUIsd0JBQXdCLElBQUksQ0FBQzNELFdBQVcsQ0FBQ3dDLFNBQVMsQ0FBQyxTQUFVNUYsQ0FBQztnQ0FDNUQsT0FBT0EsRUFBRThGLFFBQVE7NEJBQ25COzRCQUNBO3dCQUVGOzRCQUNFaUIsd0JBQXdCLENBQUM7b0JBQzdCLEVBQUUsc0ZBQXNGO29CQUd4RixJQUFJeUgsNkJBQTZCRiw2QkFBNkJ4RCxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRTtvQkFFN0UsSUFBSTJELCtCQUErQmpSLCtFQUFrQkEsQ0FBQzhRO29CQUV0RCxJQUFJRSwrQkFBK0I5SyxhQUFhOEssK0JBQStCekgsdUJBQXVCO3dCQUNwRzBILDZCQUE2QmhOLElBQUksQ0FBQ3NGO29CQUNwQyxFQUFFLHFCQUFxQjtvQkFHdkIsSUFBSTBILDZCQUE2QnZQLE1BQU0sR0FBRyxHQUFHO3dCQUMzQyxJQUFJMEMsU0FBUyxJQUFJLENBQUN3QixXQUFXLENBQUNvTCwyQkFBMkI7d0JBQ3pELElBQUlFLFVBQVUsSUFBSSxDQUFDdEwsV0FBVyxDQUFDL0IsTUFBTSxDQUFDLFNBQVVrTixDQUFDLEVBQUVqTyxDQUFDOzRCQUNsRCxPQUFPbU8sNkJBQTZCRSxPQUFPLENBQUNyTyxPQUFPLENBQUM7d0JBQ3REO3dCQUNBb08sUUFBUTNNLE9BQU8sQ0FBQyxTQUFVNkYsVUFBVTs0QkFDbENoRyxPQUFPa0UsUUFBUSxHQUFHbEUsT0FBT2tFLFFBQVEsSUFBSThCLFdBQVc5QixRQUFROzRCQUN4RGxFLE9BQU84RCxTQUFTLEdBQUc5RCxPQUFPOEQsU0FBUyxJQUFJa0MsV0FBV2xDLFNBQVM7NEJBQzNEb0IsZ0JBQWdCLEVBQUUsQ0FBQ3dELE1BQU0sQ0FBQzlNLCtFQUFrQkEsQ0FBQ3NKLGdCQUFnQnRKLCtFQUFrQkEsQ0FBQ29LLFdBQVczRSxRQUFRO3dCQUNyRzt3QkFDQXlMLFFBQVEzTSxPQUFPLENBQUMsU0FBVS9CLENBQUM7NEJBQ3pCLE9BQU9xTyxPQUFPakwsV0FBVyxDQUFDMEgsTUFBTSxDQUFDdUQsT0FBT2pMLFdBQVcsQ0FBQ3VMLE9BQU8sQ0FBQzNPLElBQUk7d0JBQ2xFO3dCQUNBLElBQUk0Tyw2QkFBNkIsSUFBSSxDQUFDeEwsV0FBVyxDQUFDd0MsU0FBUyxDQUFDLFNBQVU1RixDQUFDOzRCQUNyRSxPQUFPcU8sT0FBT04scUJBQXFCLENBQUMvTixFQUFFaUQsUUFBUSxFQUFFeUQ7d0JBQ2xEO3dCQUNBSyx3QkFBd0I2SDtvQkFDMUI7Z0JBQ0YsT0FBTztvQkFDTCx1REFBdUQ7b0JBQ3ZEN0gsd0JBQXdCLElBQUksQ0FBQ2dELG1CQUFtQixDQUFDckQsV0FBVyxDQUFDLEVBQUU7Z0JBQ2pFO2dCQUVBLE9BQU87b0JBQ0xLLHVCQUF1QkE7b0JBQ3ZCRCxlQUFlQTtnQkFDakI7WUFDRjtRQUNGO0tBQUU7SUFFRixPQUFPMUU7QUFDVDtBQUVBLFNBQVN5TSw2QkFBNkJDLENBQUMsRUFBRUMsY0FBYztJQUFJLElBQUlDLEtBQUssT0FBT0MsV0FBVyxlQUFlSCxDQUFDLENBQUNHLE9BQU9DLFFBQVEsQ0FBQyxJQUFJSixDQUFDLENBQUMsYUFBYTtJQUFFLElBQUksQ0FBQ0UsSUFBSTtRQUFFLElBQUlHLE1BQU1DLE9BQU8sQ0FBQ04sTUFBT0UsQ0FBQUEsS0FBS0ssOEJBQThCUCxFQUFDLEtBQU1DLGtCQUFrQkQsS0FBSyxPQUFPQSxFQUFFNVAsTUFBTSxLQUFLLFVBQVU7WUFBRSxJQUFJOFAsSUFBSUYsSUFBSUU7WUFBSSxJQUFJMU8sSUFBSTtZQUFHLElBQUlnUCxJQUFJLFNBQVNBLEtBQUs7WUFBRyxPQUFPO2dCQUFFdFAsR0FBR3NQO2dCQUFHQyxHQUFHLFNBQVNBO29CQUFNLElBQUlqUCxLQUFLd08sRUFBRTVQLE1BQU0sRUFBRSxPQUFPO3dCQUFFc1EsTUFBTTtvQkFBSztvQkFBRyxPQUFPO3dCQUFFQSxNQUFNO3dCQUFPekosT0FBTytJLENBQUMsQ0FBQ3hPLElBQUk7b0JBQUM7Z0JBQUc7Z0JBQUdMLEdBQUcsU0FBVXdQLEVBQUU7b0JBQUksU0FBU3hQLEVBQUUwTixFQUFFO3dCQUFJLE9BQU84QixHQUFHL04sS0FBSyxDQUFDLElBQUksRUFBRUc7b0JBQVk7b0JBQUU1QixFQUFFeVAsUUFBUSxHQUFHO3dCQUFjLE9BQU9ELEdBQUdDLFFBQVE7b0JBQUk7b0JBQUcsT0FBT3pQO2dCQUFHLEVBQUUsU0FBVUEsQ0FBQztvQkFBSSxNQUFNQTtnQkFBRztnQkFBSTBQLEdBQUdMO1lBQUU7UUFBRztRQUFFLE1BQU0sSUFBSU0sVUFBVTtJQUEwSTtJQUFFLElBQUlDLG1CQUFtQixNQUFNQyxTQUFTLE9BQU9DO0lBQUssT0FBTztRQUFFL1AsR0FBRyxTQUFTQTtZQUFNZ1AsS0FBS0EsR0FBR2dCLElBQUksQ0FBQ2xCO1FBQUk7UUFBR1MsR0FBRyxTQUFTQTtZQUFNLElBQUlVLE9BQU9qQixHQUFHN0IsSUFBSTtZQUFJMEMsbUJBQW1CSSxLQUFLVCxJQUFJO1lBQUUsT0FBT1M7UUFBTTtRQUFHaFEsR0FBRyxTQUFVaVEsR0FBRztZQUFJLFNBQVNqUSxFQUFFMk4sR0FBRztnQkFBSSxPQUFPc0MsSUFBSXhPLEtBQUssQ0FBQyxJQUFJLEVBQUVHO1lBQVk7WUFBRTVCLEVBQUV5UCxRQUFRLEdBQUc7Z0JBQWMsT0FBT1EsSUFBSVIsUUFBUTtZQUFJO1lBQUcsT0FBT3pQO1FBQUcsRUFBRSxTQUFVQSxDQUFDO1lBQUk2UCxTQUFTO1lBQU1DLE1BQU05UDtRQUFHO1FBQUkwUCxHQUFHLFNBQVNBO1lBQU0sSUFBSTtnQkFBRSxJQUFJLENBQUNFLG9CQUFvQmIsR0FBR21CLE1BQU0sSUFBSSxNQUFNbkIsR0FBR21CLE1BQU07WUFBSSxTQUFVO2dCQUFFLElBQUlMLFFBQVEsTUFBTUM7WUFBSztRQUFFO0lBQUU7QUFBRztBQUVqdkMsU0FBU1YsOEJBQThCUCxDQUFDLEVBQUVzQixNQUFNO0lBQUksSUFBSSxDQUFDdEIsR0FBRztJQUFRLElBQUksT0FBT0EsTUFBTSxVQUFVLE9BQU91QixvQkFBb0J2QixHQUFHc0I7SUFBUyxJQUFJYixJQUFJck8sT0FBT29QLFNBQVMsQ0FBQ1osUUFBUSxDQUFDTSxJQUFJLENBQUNsQixHQUFHeUIsS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUFJLElBQUloQixNQUFNLFlBQVlULEVBQUUwQixXQUFXLEVBQUVqQixJQUFJVCxFQUFFMEIsV0FBVyxDQUFDQyxJQUFJO0lBQUUsSUFBSWxCLE1BQU0sU0FBU0EsTUFBTSxPQUFPLE9BQU9KLE1BQU11QixJQUFJLENBQUM1QjtJQUFJLElBQUlTLE1BQU0sZUFBZSwyQ0FBMkNvQixJQUFJLENBQUNwQixJQUFJLE9BQU9jLG9CQUFvQnZCLEdBQUdzQjtBQUFTO0FBRXJhLFNBQVNDLG9CQUFvQk8sR0FBRyxFQUFFM1IsR0FBRztJQUFJLElBQUlBLE9BQU8sUUFBUUEsTUFBTTJSLElBQUkxUixNQUFNLEVBQUVELE1BQU0yUixJQUFJMVIsTUFBTTtJQUFFLElBQUssSUFBSW9CLElBQUksR0FBR3VRLE9BQU8sSUFBSTFCLE1BQU1sUSxNQUFNcUIsSUFBSXJCLEtBQUtxQixJQUFLO1FBQUV1USxJQUFJLENBQUN2USxFQUFFLEdBQUdzUSxHQUFHLENBQUN0USxFQUFFO0lBQUU7SUFBRSxPQUFPdVE7QUFBTTtBQUV4TDs7Ozs7OztDQU9DLEdBQ0QsU0FBU0Msd0JBQXdCQyxPQUFPLEVBQUVOLElBQUk7SUFDNUNNLFFBQVFDLElBQUksR0FBR0MsS0FBSyxDQUFDLFNBQVVDLEtBQUs7UUFDbENDLFFBQVFDLElBQUksQ0FBQyxnQkFBZ0I5RyxNQUFNLENBQUNtRyxNQUFNLHVCQUF1QlM7SUFDbkU7QUFDRjtBQUNBLElBQUlHLFFBQVEsU0FBU0EsTUFBTWxPLENBQUM7SUFDMUIsT0FBTyxJQUFJbU8sUUFBUSxTQUFVMVEsQ0FBQztRQUM1QixPQUFPMlEsV0FBVzNRLEdBQUd1QztJQUN2QjtBQUNGO0FBQ0EsU0FBU3FPLFdBQVd6TCxLQUFLO0lBQ3ZCLE9BQU9BLFNBQVU3RSxDQUFBQSxPQUFPb1AsU0FBUyxDQUFDWixRQUFRLENBQUNNLElBQUksQ0FBQ2pLLFdBQVcsdUJBQXVCLGVBQWUsT0FBT0EsU0FBU0EsaUJBQWlCMEwsUUFBTztBQUMzSTtBQUNBLElBQUlDLFlBQVk7SUFDZEMsZUFBZTtJQUNmQyxtQkFBbUI7QUFDckI7QUFFQSxTQUFTQyxpQkFBaUJDLEdBQUc7SUFDM0IsT0FBT0EsUUFBUSxRQUFReFUsb0VBQU9BLENBQUN3VSxTQUFTLFlBQWFBLENBQUFBLElBQUlDLFFBQVEsSUFBSSxPQUFPRCxJQUFJRSxLQUFLLEtBQUssVUFBUztBQUNyRztBQUVBLFNBQVNDLFNBQVNILEdBQUc7SUFDbkIsT0FBT0EsT0FBTyxRQUFRQSxJQUFJdEIsV0FBVyxJQUFJLFFBQVEsbUJBQW1CO0lBQ3BFLE9BQU9zQixJQUFJdEIsV0FBVyxDQUFDeUIsUUFBUSxLQUFLLGNBQWMsbUJBQW1CO0lBQ3JFSCxJQUFJdEIsV0FBVyxDQUFDeUIsUUFBUSxDQUFDSDtBQUMzQjtBQUVBLFNBQVNJLGFBQWFDLEdBQUc7SUFDdkIsT0FBTyxNQUFpREMsSUFBSUQsQ0FBbUJFO0FBQ2pGO0FBRUEsU0FBU0MsVUFBVXZQLElBQUk7SUFDckIsT0FBTyxDQUFDQSxTQUFTLFFBQVFBLFNBQVMsS0FBSyxJQUFJLEtBQUssSUFBSUEsS0FBS3dQLGtCQUFrQixNQUFNN087QUFDbkY7QUFFQSxTQUFTOE8sYUFBYUwsR0FBRztJQUN2QixPQUFPLE1BQWlEQyxJQUFJRCxDQUFtQk07QUFDakY7QUFFQSxTQUFTQyxzQkFBc0JDLFFBQVE7SUFDckMsSUFBSUMsd0JBQXdCO1FBQzFCQyxlQUFlO1FBQ2ZDLFNBQVM7UUFDVEMsT0FBTztRQUNQUixvQkFBb0I7UUFDcEJTLGlCQUFpQjtRQUNqQkMsY0FBYztRQUNkQyxXQUFXO1FBQ1hDLE9BQU87SUFDVDtJQUNBLE9BQU9QLHFCQUFxQixDQUFDRCxTQUFTO0FBQ3hDO0FBQ0EsU0FBU1Msa0JBQWtCakIsR0FBRyxFQUFFMUIsSUFBSSxFQUFFNEMsV0FBVztJQUMvQyxJQUFJMVQsT0FBTyxJQUFJMUIsbURBQVFBO0lBRXZCLElBQUk0VCxpQkFBaUJNLFFBQVFGLFNBQVNFLFFBQVFELGFBQWFDLFFBQVFLLGFBQWFMLE1BQU07UUFDcEYsSUFBSTFCLE1BQU05USxLQUFLMlQsTUFBTSxDQUFDLFFBQVFuQixLQUFLMUI7YUFBVzlRLEtBQUsyVCxNQUFNLENBQUMsUUFBUW5CO0lBQ3BFLE9BQU87UUFDTHhTLEtBQUsyVCxNQUFNLENBQUMsUUFBUTtZQUNsQm5CLEtBQUtBO1lBQ0wxQixNQUFNQSxRQUFRMEIsSUFBSW9CLEtBQUssQ0FBQyxLQUFLQyxPQUFPLEVBQUUsQ0FBQyxFQUFFO1lBQ3pDSCxhQUFhQSxlQUFlM1A7WUFDNUJhLE1BQU04TyxlQUFlM1A7UUFDdkI7SUFDRjtJQUVBLE9BQU8vRDtBQUNUO0FBQ0EsU0FBUzhULG1CQUFtQkMsSUFBSTtJQUM5QixJQUFJQyxhQUFhLEVBQUU7SUFDbkIsSUFBSUMsVUFBVXpFLE1BQU1DLE9BQU8sQ0FBQ3NFLFFBQVFBLE9BQU87UUFBQ0E7S0FBSztJQUVqRCxJQUFJRyxZQUFZaEYsNkJBQTZCK0UsVUFDekNFO0lBRUosSUFBSTtRQUNGLElBQUtELFVBQVU3VCxDQUFDLElBQUksQ0FBQyxDQUFDOFQsUUFBUUQsVUFBVXRFLENBQUMsRUFBQyxFQUFHQyxJQUFJLEVBQUc7WUFDbEQsSUFBSTFHLE9BQU9nTCxNQUFNL04sS0FBSztZQUN0QixJQUFJOEYsVUFBVTNLLE9BQU8ySyxPQUFPLENBQUMvQztZQUU3QixJQUFJK0MsUUFBUTNNLE1BQU0sR0FBRyxHQUFHO2dCQUN0QmlTLFFBQVFDLElBQUksQ0FBQztZQUNmO1lBRUEsSUFBSyxJQUFJekYsS0FBSyxHQUFHb0ksV0FBV2xJLFNBQVNGLEtBQUtvSSxTQUFTN1UsTUFBTSxFQUFFeU0sS0FBTTtnQkFDL0QsSUFBSXFJLGNBQWNoVyw0RUFBY0EsQ0FBQytWLFFBQVEsQ0FBQ3BJLEdBQUcsRUFBRSxJQUMzQ3NJLFFBQVFELFdBQVcsQ0FBQyxFQUFFLEVBQ3RCRSxZQUFZRixXQUFXLENBQUMsRUFBRTtnQkFFOUJMLFdBQVdsUyxJQUFJLENBQUM7b0JBQ2R3UyxPQUFPQTtvQkFDUEMsV0FBV0E7Z0JBQ2I7WUFDRjtRQUNGO0lBQ0YsRUFBRSxPQUFPbkUsS0FBSztRQUNaOEQsVUFBVTVULENBQUMsQ0FBQzhQO0lBQ2QsU0FBVTtRQUNSOEQsVUFBVWxFLENBQUM7SUFDYjtJQUVBLE9BQU9nRTtBQUNUO0FBQ0E7Ozs7Q0FJQyxHQUVELFNBQVNRLGNBQWNDLGdCQUFnQjtJQUNyQyxvRkFBb0Y7SUFDcEYsSUFBSUMsTUFBTXpKLEtBQUswSixHQUFHLENBQUMsTUFBTUYsbUJBQW1CLE1BQU07SUFDbEQsSUFBSUUsTUFBTTFKLEtBQUswSixHQUFHLENBQUMxSixLQUFLeUosR0FBRyxDQUFDLEtBQUssQ0FBQ0QsbUJBQW1CLEtBQUssT0FBTztJQUNqRSxPQUFPeEosS0FBS0MsS0FBSyxDQUFDRCxLQUFLMkosTUFBTSxLQUFNRixDQUFBQSxNQUFNQyxHQUFFLElBQUtBO0FBQ2xEO0FBQ0EsU0FBU0U7SUFDUCxPQUFPQztBQUNUO0FBRUEsU0FBU0MsSUFBSUMsS0FBSztJQUNoQixJQUFJM1UsSUFBSTtJQUVSLElBQUssSUFBSU0sSUFBSSxHQUFHQSxJQUFJcVUsTUFBTXpWLE1BQU0sRUFBRW9CLElBQUs7UUFDckNOLEtBQUsyVSxLQUFLLENBQUNyVSxFQUFFLENBQUNvUCxRQUFRLENBQUMsSUFBSWtGLFFBQVEsQ0FBQyxHQUFHO0lBQ3pDO0lBRUEsT0FBTzVVO0FBQ1QsRUFBRSxzQ0FBc0M7QUFHeEMsU0FBU3lVO0lBQ1AsSUFBSUUsUUFBUUUsZUFBZTtJQUMzQkYsS0FBSyxDQUFDLEVBQUUsR0FBR0EsS0FBSyxDQUFDLEVBQUUsR0FBRyxPQUFPLE1BQU0sVUFBVTtJQUU3Q0EsS0FBSyxDQUFDLEVBQUUsR0FBR0EsS0FBSyxDQUFDLEVBQUUsR0FBRyxPQUFPLE1BQU0sVUFBVTtJQUU3QyxPQUFPRCxJQUFJQyxNQUFNRyxRQUFRLENBQUMsR0FBRyxNQUFNLE1BQU1KLElBQUlDLE1BQU1HLFFBQVEsQ0FBQyxHQUFHLE1BQU0sTUFBTUosSUFBSUMsTUFBTUcsUUFBUSxDQUFDLEdBQUcsTUFBTSxNQUFNSixJQUFJQyxNQUFNRyxRQUFRLENBQUMsR0FBRyxPQUFPLE1BQU1KLElBQUlDLE1BQU1HLFFBQVEsQ0FBQyxJQUFJO0FBQ3pLO0FBRUEsU0FBU0MsOEJBQThCSixLQUFLO0lBQzFDLElBQUlOLE1BQU16SixLQUFLb0ssR0FBRyxDQUFDLEdBQUcsSUFBSUwsTUFBTU0sVUFBVSxHQUFHTixNQUFNelYsTUFBTTtJQUV6RCxJQUFLLElBQUlvQixJQUFJLEdBQUdBLElBQUlxVSxNQUFNelYsTUFBTSxFQUFFb0IsSUFBSztRQUNyQ3FVLEtBQUssQ0FBQ3JVLEVBQUUsR0FBR3NLLEtBQUsySixNQUFNLEtBQUtGO0lBQzdCO0FBQ0Y7QUFFQSxJQUFJYSxrQkFBa0I7SUFDcEIsSUFBSUM7SUFFSixJQUFJLE9BQU9DLFdBQVcsZUFBZSxPQUFRLEVBQUNELFVBQVVDLE1BQUssTUFBTyxRQUFRRCxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFELGVBQWUsTUFBTSxhQUFhO1FBQ2xKLE9BQU9FLE9BQU9GLGVBQWUsQ0FBQ0csSUFBSSxDQUFDRDtJQUNyQyxPQUFPLElBQUksT0FBT0UsYUFBYSxhQUFhO1FBQzFDLE9BQU9BLFNBQVNKLGVBQWUsQ0FBQ0csSUFBSSxDQUFDQztJQUN2QyxPQUFPO1FBQ0wsT0FBT1A7SUFDVDtBQUNGO0FBRUEsU0FBU0YsZUFBZTNWLE1BQU07SUFDNUIsSUFBSXlWLFFBQVEsSUFBSS9VLFdBQVdWO0lBQzNCZ1csZ0JBQWdCUDtJQUNoQixPQUFPQTtBQUNUO0FBRUEsU0FBU1ksbUJBQW1CeEYsR0FBRztJQUM3QixJQUFJeUYsVUFBVSxDQUFDO0lBQ2YsSUFBSSxDQUFDekYsS0FBSyxPQUFPeUY7SUFFakIsSUFBSTtRQUNGdFUsT0FBT3VVLG1CQUFtQixDQUFDMUYsS0FBS2hPLE9BQU8sQ0FBQyxTQUFVQyxHQUFHO1lBQ25Ed1QsT0FBTyxDQUFDeFQsSUFBSSxHQUFHZCxPQUFPSyx3QkFBd0IsQ0FBQ3dPLEtBQUsvTjtRQUN0RDtJQUNGLEVBQUUsT0FBT3VNLEdBQUc7UUFDVixPQUFPO1lBQ0wyQyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE9BQU9zRTtBQUNUO0FBQ0E7OztDQUdDLEdBRUQsU0FBU0U7SUFDUCxJQUFJQyxNQUFNLE9BQU9DLGNBQWMsY0FBY0EsWUFBWSxNQUFpRCxHQUFHeEQsQ0FBZ0IsR0FBRzFPO0lBRWhJLElBQUksQ0FBQ2lTLEtBQUs7UUFDUnhFLFFBQVFDLElBQUksQ0FBQztRQUNiLE9BQU87SUFDVCxFQUFFLHdDQUF3QztJQUcxQyxJQUFJLE9BQU91RSxJQUFJRSxNQUFNLEtBQUssV0FBVztRQUNuQyxPQUFPO0lBQ1Q7SUFFQSxPQUFPRixJQUFJRSxNQUFNO0FBQ25CO0FBQ0E7O0NBRUMsR0FFRCxTQUFTQyw0QkFBNEJDLEVBQUU7SUFDckMsSUFBSSxLQUF3RCxFQUFFLEVBRzdEO0FBQ0g7QUFDQSxTQUFTRSwrQkFBK0JGLEVBQUU7SUFDeEMsSUFBSSxLQUEyRCxFQUFFLEVBR2hFO0FBQ0g7QUFDQSxJQUFJSSx3QkFBd0IsU0FBU0Esc0JBQXNCQyxNQUFNO0lBQy9ELElBQUlDLFlBQVksRUFBRTtJQUVsQixJQUFLLElBQUlyWCxLQUFLb1gsT0FBUTtRQUNwQixrRkFBa0Y7UUFDbEYsNENBQTRDO1FBQzVDLElBQUlBLE1BQU0sQ0FBQ3BYLEVBQUUsS0FBSzBFLFdBQVc7UUFFN0IsSUFBSXlMLE1BQU1DLE9BQU8sQ0FBQ2dILE1BQU0sQ0FBQ3BYLEVBQUUsS0FBSzFCLG9FQUFPQSxDQUFDOFksTUFBTSxDQUFDcFgsRUFBRSxNQUFNLFVBQVU7WUFDL0RxWCxVQUFVNVUsSUFBSSxDQUFDLEdBQUc2SSxNQUFNLENBQUN0TCxHQUFHLEtBQUtzTCxNQUFNLENBQUNnTSxtQkFBbUJDLEtBQUtDLFNBQVMsQ0FBQ0osTUFBTSxDQUFDcFgsRUFBRTtRQUNyRixPQUFPO1lBQ0xxWCxVQUFVNVUsSUFBSSxDQUFDLEdBQUc2SSxNQUFNLENBQUN0TCxHQUFHLEtBQUtzTCxNQUFNLENBQUNnTSxtQkFBbUJGLE1BQU0sQ0FBQ3BYLEVBQUU7UUFDdEU7SUFDRjtJQUVBLE9BQU9xWCxVQUFVSSxJQUFJLENBQUM7QUFDeEI7QUFFQSxTQUFTQyw2QkFBNkI1SCxDQUFDLEVBQUVDLGNBQWM7SUFBSSxJQUFJQyxLQUFLLE9BQU9DLFdBQVcsZUFBZUgsQ0FBQyxDQUFDRyxPQUFPQyxRQUFRLENBQUMsSUFBSUosQ0FBQyxDQUFDLGFBQWE7SUFBRSxJQUFJLENBQUNFLElBQUk7UUFBRSxJQUFJRyxNQUFNQyxPQUFPLENBQUNOLE1BQU9FLENBQUFBLEtBQUsySCw4QkFBOEI3SCxFQUFDLEtBQU1DLGtCQUFrQkQsS0FBSyxPQUFPQSxFQUFFNVAsTUFBTSxLQUFLLFVBQVU7WUFBRSxJQUFJOFAsSUFBSUYsSUFBSUU7WUFBSSxJQUFJMU8sSUFBSTtZQUFHLElBQUlnUCxJQUFJLFNBQVNBLEtBQUs7WUFBRyxPQUFPO2dCQUFFdFAsR0FBR3NQO2dCQUFHQyxHQUFHLFNBQVNBO29CQUFNLElBQUlqUCxLQUFLd08sRUFBRTVQLE1BQU0sRUFBRSxPQUFPO3dCQUFFc1EsTUFBTTtvQkFBSztvQkFBRyxPQUFPO3dCQUFFQSxNQUFNO3dCQUFPekosT0FBTytJLENBQUMsQ0FBQ3hPLElBQUk7b0JBQUM7Z0JBQUc7Z0JBQUdMLEdBQUcsU0FBU0EsRUFBRXdQLEVBQUU7b0JBQUksTUFBTUE7Z0JBQUk7Z0JBQUdFLEdBQUdMO1lBQUU7UUFBRztRQUFFLE1BQU0sSUFBSU0sVUFBVTtJQUEwSTtJQUFFLElBQUlDLG1CQUFtQixNQUFNQyxTQUFTLE9BQU9DO0lBQUssT0FBTztRQUFFL1AsR0FBRyxTQUFTQTtZQUFNZ1AsS0FBS0EsR0FBR2dCLElBQUksQ0FBQ2xCO1FBQUk7UUFBR1MsR0FBRyxTQUFTQTtZQUFNLElBQUlVLE9BQU9qQixHQUFHN0IsSUFBSTtZQUFJMEMsbUJBQW1CSSxLQUFLVCxJQUFJO1lBQUUsT0FBT1M7UUFBTTtRQUFHaFEsR0FBRyxTQUFTQSxFQUFFaVEsR0FBRztZQUFJSixTQUFTO1lBQU1DLE1BQU1HO1FBQUs7UUFBR1AsR0FBRyxTQUFTQTtZQUFNLElBQUk7Z0JBQUUsSUFBSSxDQUFDRSxvQkFBb0JiLEdBQUdtQixNQUFNLElBQUksTUFBTW5CLEdBQUdtQixNQUFNO1lBQUksU0FBVTtnQkFBRSxJQUFJTCxRQUFRLE1BQU1DO1lBQUs7UUFBRTtJQUFFO0FBQUc7QUFFeitCLFNBQVM0Ryw4QkFBOEI3SCxDQUFDLEVBQUVzQixNQUFNO0lBQUksSUFBSSxDQUFDdEIsR0FBRztJQUFRLElBQUksT0FBT0EsTUFBTSxVQUFVLE9BQU84SCxvQkFBb0I5SCxHQUFHc0I7SUFBUyxJQUFJYixJQUFJck8sT0FBT29QLFNBQVMsQ0FBQ1osUUFBUSxDQUFDTSxJQUFJLENBQUNsQixHQUFHeUIsS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUFJLElBQUloQixNQUFNLFlBQVlULEVBQUUwQixXQUFXLEVBQUVqQixJQUFJVCxFQUFFMEIsV0FBVyxDQUFDQyxJQUFJO0lBQUUsSUFBSWxCLE1BQU0sU0FBU0EsTUFBTSxPQUFPLE9BQU9KLE1BQU11QixJQUFJLENBQUM1QjtJQUFJLElBQUlTLE1BQU0sZUFBZSwyQ0FBMkNvQixJQUFJLENBQUNwQixJQUFJLE9BQU9xSCxvQkFBb0I5SCxHQUFHc0I7QUFBUztBQUVyYSxTQUFTd0csb0JBQW9CaEcsR0FBRyxFQUFFM1IsR0FBRztJQUFJLElBQUlBLE9BQU8sUUFBUUEsTUFBTTJSLElBQUkxUixNQUFNLEVBQUVELE1BQU0yUixJQUFJMVIsTUFBTTtJQUFFLElBQUssSUFBSW9CLElBQUksR0FBR3VRLE9BQU8sSUFBSTFCLE1BQU1sUSxNQUFNcUIsSUFBSXJCLEtBQUtxQixJQUFLO1FBQUV1USxJQUFJLENBQUN2USxFQUFFLEdBQUdzUSxHQUFHLENBQUN0USxFQUFFO0lBQUU7SUFBRSxPQUFPdVE7QUFBTTtBQUV4TCxTQUFTZ0csVUFBVTlWLE1BQU0sRUFBRUMsY0FBYztJQUFJLElBQUlDLE9BQU9DLE9BQU9ELElBQUksQ0FBQ0Y7SUFBUyxJQUFJRyxPQUFPQyxxQkFBcUIsRUFBRTtRQUFFLElBQUlDLFVBQVVGLE9BQU9DLHFCQUFxQixDQUFDSjtRQUFTLElBQUlDLGdCQUFnQjtZQUFFSSxVQUFVQSxRQUFRQyxNQUFNLENBQUMsU0FBVUMsR0FBRztnQkFBSSxPQUFPSixPQUFPSyx3QkFBd0IsQ0FBQ1IsUUFBUU8sS0FBS0UsVUFBVTtZQUFFO1FBQUk7UUFBRVAsS0FBS1EsSUFBSSxDQUFDQyxLQUFLLENBQUNULE1BQU1HO0lBQVU7SUFBRSxPQUFPSDtBQUFNO0FBRTFWLFNBQVM2VixnQkFBZ0JsVixNQUFNO0lBQUksSUFBSyxJQUFJdEIsSUFBSSxHQUFHQSxJQUFJdUIsVUFBVTNDLE1BQU0sRUFBRW9CLElBQUs7UUFBRSxJQUFJd0IsU0FBU0QsU0FBUyxDQUFDdkIsRUFBRSxJQUFJLE9BQU91QixTQUFTLENBQUN2QixFQUFFLEdBQUcsQ0FBQztRQUFHLElBQUlBLElBQUksR0FBRztZQUFFdVcsVUFBVTNWLE9BQU9ZLFNBQVMsTUFBTUMsT0FBTyxDQUFDLFNBQVVDLEdBQUc7Z0JBQUlwRSw0RUFBZUEsQ0FBQ2dFLFFBQVFJLEtBQUtGLE1BQU0sQ0FBQ0UsSUFBSTtZQUFHO1FBQUksT0FBTyxJQUFJZCxPQUFPZSx5QkFBeUIsRUFBRTtZQUFFZixPQUFPZ0IsZ0JBQWdCLENBQUNOLFFBQVFWLE9BQU9lLHlCQUF5QixDQUFDSDtRQUFVLE9BQU87WUFBRStVLFVBQVUzVixPQUFPWSxTQUFTQyxPQUFPLENBQUMsU0FBVUMsR0FBRztnQkFBSWQsT0FBT2lCLGNBQWMsQ0FBQ1AsUUFBUUksS0FBS2QsT0FBT0ssd0JBQXdCLENBQUNPLFFBQVFFO1lBQU87UUFBSTtJQUFFO0lBQUUsT0FBT0o7QUFBUTtBQUUzaEI7O0NBRUMsR0FDRCxJQUFJbVYsVUFBVSxXQUFXLEdBQUU7SUFDekIsS0FBSyxHQUVMOzs7Ozs7OztHQVFDLEdBRUQ7OztHQUdDLEdBRUQ7Ozs7Ozs7OztHQVNDLEdBQ0QsU0FBU0EsUUFBUUMsTUFBTSxFQUFFelMsSUFBSSxFQUFFMUIsRUFBRSxFQUFFbEQsSUFBSTtRQUNyQyxJQUFJMkMsUUFBUSxJQUFJO1FBRWhCNUUsNEVBQWVBLENBQUMsSUFBSSxFQUFFcVo7UUFFdEJuWiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsV0FBVyxLQUFLO1FBRXRDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO1FBRW5DQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxLQUFLO1FBRWpDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO1FBRW5DQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxLQUFLO1FBRXBDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsT0FBTyxLQUFLO1FBRWxDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsYUFBYSxLQUFLO1FBRXhDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxLQUFLO1FBRXBDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZUFBZSxLQUFLO1FBRTFDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZUFBZSxLQUFLO1FBRTFDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLEtBQUs7UUFFNUNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxtQkFBbUIsS0FBSztRQUU5Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFlBQVksS0FBSztRQUV2Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdCQUFnQixLQUFLO1FBRTNDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxXQUFXLEdBQUU7WUFDM0MsSUFBSXFaLE9BQU94Wiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTeU8sUUFBUTRLLE9BQU87Z0JBQzFGLElBQUlDO2dCQUNKLE9BQU90WixzRUFBd0IsQ0FBQyxTQUFTbVAsU0FBU0MsUUFBUTtvQkFDeEQsTUFBTyxFQUFHO3dCQUNSLE9BQVFBLFNBQVNDLElBQUksR0FBR0QsU0FBU0UsSUFBSTs0QkFDbkMsS0FBSztnQ0FDSGdLLGlCQUFpQkwsZ0JBQWdCQSxnQkFBZ0IsQ0FBQyxHQUFHSSxVQUFVLENBQUMsR0FBRztvQ0FDakVFLE9BQU87b0NBQ1AvUixPQUFPO29DQUNQZ1MsVUFBVTtnQ0FDWjtnQ0FDQXBLLFNBQVNFLElBQUksR0FBRztnQ0FDaEIsT0FBTzdLLE1BQU1nTCxLQUFLLENBQUM2SixnQkFBZ0I7NEJBRXJDLEtBQUs7Z0NBQ0gsT0FBT2xLLFNBQVNHLE1BQU0sQ0FBQyxVQUFVSCxTQUFTcUssSUFBSTs0QkFFaEQsS0FBSzs0QkFDTCxLQUFLO2dDQUNILE9BQU9ySyxTQUFTUSxJQUFJO3dCQUN4QjtvQkFDRjtnQkFDRixHQUFHbkI7WUFDTDtZQUVBLE9BQU8sU0FBVXFCLEVBQUU7Z0JBQ2pCLE9BQU9zSixLQUFLdlYsS0FBSyxDQUFDLElBQUksRUFBRUc7WUFDMUI7UUFDRjtRQUVBakUsNEVBQWVBLENBQUMsSUFBSSxFQUFFLHlCQUF5QixTQUFVMlosS0FBSztZQUM1RCxJQUFJbFYsVUFBVUMsT0FBTyxnQ0FBZ0M7WUFFckQsSUFBSWtWLFlBQVksRUFBRTtZQUVsQixJQUFJblYsUUFBUW1WLFNBQVMsQ0FBQ0MsR0FBRyxFQUFFO2dCQUN6QkQsVUFBVS9WLElBQUksQ0FBQ0MsS0FBSyxDQUFDOFYsV0FBV2hhLCtFQUFrQkEsQ0FBQzZFLFFBQVFtVixTQUFTLENBQUNDLEdBQUc7WUFDMUU7WUFFQSxJQUFJcFYsUUFBUW1WLFNBQVMsQ0FBQ0QsTUFBTWhULElBQUksQ0FBQyxFQUFFO2dCQUNqQ2lULFVBQVUvVixJQUFJLENBQUNDLEtBQUssQ0FBQzhWLFdBQVdoYSwrRUFBa0JBLENBQUM2RSxRQUFRbVYsU0FBUyxDQUFDRCxNQUFNaFQsSUFBSSxDQUFDO1lBQ2xGLEVBQUUsOENBQThDO1lBR2hELElBQUssSUFBSW9ILEtBQUssR0FBRytMLGFBQWFGLFdBQVc3TCxLQUFLK0wsV0FBV3hZLE1BQU0sRUFBRXlNLEtBQU07Z0JBQ3JFLElBQUlnTSxXQUFXRCxVQUFVLENBQUMvTCxHQUFHO2dCQUU3QixJQUFJLE9BQU9nTSxhQUFhLFVBQVU7b0JBQ2hDQSxTQUFTSjtnQkFDWDtZQUNGO1FBQ0Y7UUFFQTNaLDRFQUFlQSxDQUFDLElBQUksRUFBRSxlQUFlO1lBQ25DLElBQUksQ0FBQzBFLE1BQU1PLEVBQUUsRUFBRTtnQkFDYixNQUFNLElBQUkrVSxNQUFNO1lBQ2xCO1lBRUEsT0FBTyxHQUFHdE4sTUFBTSxDQUFDaEksTUFBTThFLFNBQVMsR0FBR3lRLE9BQU8sRUFBRSxjQUFjdk4sTUFBTSxDQUFDaEksTUFBTWlDLElBQUksRUFBRSxLQUFLK0YsTUFBTSxDQUFDaEksTUFBTU8sRUFBRTtRQUNuRztRQUVBLElBQUlpVixjQUFjO1FBQ2xCLElBQUlDLFlBQVk7UUFFaEIsSUFBSSxDQUFDRCxZQUFZbkgsSUFBSSxDQUFDcE0sT0FBTztZQUMzQixNQUFNLElBQUlxVCxNQUFNLHFCQUFxQnROLE1BQU0sQ0FBQy9GLE1BQU07UUFDcEQ7UUFFQSxJQUFJLE9BQU8xQixPQUFPLFlBQVksQ0FBQ2tWLFVBQVVwSCxJQUFJLENBQUM5TixLQUFLO1lBQ2pELE1BQU0sSUFBSStVLE1BQU0sbUJBQW1CdE4sTUFBTSxDQUFDekgsSUFBSTtRQUNoRDtRQUVBLElBQUksQ0FBQ21WLE9BQU8sR0FBR2hCO1FBQ2YsSUFBSSxDQUFDelMsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQzFCLEVBQUUsR0FBR0EsSUFBSSxzQ0FBc0M7UUFFcEQsSUFBSSxDQUFDbEQsSUFBSSxHQUFHQSxNQUFNLHlDQUF5QztRQUUzRCxJQUFJLENBQUNzWSxLQUFLLEdBQUduQixnQkFBZ0IsQ0FBQyxHQUFHblg7UUFDakMsSUFBSSxDQUFDa0UsR0FBRyxHQUFHLEdBQUd5RyxNQUFNLENBQUMvRixNQUFNLEtBQUsrRixNQUFNLENBQUN6SDtRQUN2QyxJQUFJLENBQUMyVSxTQUFTLEdBQUcsQ0FBQyxHQUFHLCtDQUErQztRQUVwRSxJQUFJLENBQUNuUyxLQUFLLEdBQUcsSUFBSWpELGFBQWEsSUFBSTtRQUNsQyxJQUFJLENBQUM4VixXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDQyxXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDQyxZQUFZLEdBQUc7SUFDdEI7SUFDQTs7OztHQUlDLEdBR0QzYSx5RUFBWUEsQ0FBQ29aLFNBQVM7UUFBQztZQUNyQi9VLEtBQUs7WUFDTCtELE9BQU8sU0FBU3FCO2dCQUNkLElBQUksSUFBSSxDQUFDa1IsWUFBWSxLQUFLLE1BQU07b0JBQzlCLE1BQU1WLE1BQU07Z0JBQ2Q7Z0JBRUEsT0FBTyxJQUFJLENBQUNJLE9BQU87WUFDckI7UUFPRjtRQUFHO1lBQ0RoVyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVN3UztnQkFDZCxJQUFJdkIsU0FBUyxJQUFJLENBQUM1UCxTQUFTO2dCQUMzQixPQUFPNFAsT0FBT3dCLE9BQU8sQ0FBQyxJQUFJLENBQUMzVSxHQUFHLENBQUM7WUFDakM7UUFlRjtRQUFHO1lBQ0Q3QixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUkwUyxlQUFlaGIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzZhLFNBQVM5VixPQUFPLEVBQUVzVSxPQUFPO29CQUM1RyxJQUFJeUI7b0JBQ0osT0FBTzlhLHNFQUF3QixDQUFDLFNBQVMrYSxVQUFVQyxTQUFTO3dCQUMxRCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsVUFBVTNMLElBQUksR0FBRzJMLFVBQVUxTCxJQUFJO2dDQUNyQyxLQUFLO29DQUNIMEwsVUFBVTFMLElBQUksR0FBRztvQ0FDakIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDQyxXQUFXLEtBQUssWUFBWWpDLGdCQUFnQjt3Q0FDNUVsVSxTQUFTQTtvQ0FDWCxHQUFHc1U7Z0NBRUwsS0FBSztvQ0FDSHlCLHNCQUFzQkUsVUFBVXZCLElBQUk7b0NBQ3BDLDBCQUEwQjtvQ0FDMUIsSUFBSSxDQUFDalMsS0FBSyxDQUFDRixXQUFXLEdBQUc7b0NBQ3pCLE9BQU8wVCxVQUFVekwsTUFBTSxDQUFDLFVBQVV1TDtnQ0FFcEMsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9FLFVBQVVwTCxJQUFJOzRCQUN6Qjt3QkFDRjtvQkFDRixHQUFHaUwsVUFBVSxJQUFJO2dCQUNuQjtnQkFFQSxTQUFTTSxZQUFZcEwsR0FBRyxFQUFFcUwsR0FBRztvQkFDM0IsT0FBT1IsYUFBYS9XLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNsQztnQkFFQSxPQUFPbVg7WUFDVDtRQUNGO1FBQUc7WUFDRGhYLEtBQUs7WUFDTCtELE9BQU8sU0FBU21ULFNBQVMvRyxHQUFHLEVBQUUxQixJQUFJLEVBQUU0QyxXQUFXLEVBQUV0USxJQUFJO2dCQUNuRCxPQUFPLElBQUksQ0FBQ3FFLFNBQVMsR0FBRzhSLFFBQVEsQ0FBQyxHQUFHNU8sTUFBTSxDQUFDLElBQUksQ0FBQ3lPLFdBQVcsSUFBSSxVQUFVNUcsS0FBSzFCLE1BQU00QyxhQUFhdFE7WUFDbkc7UUFDRjtRQUFHO1lBQ0RmLEtBQUs7WUFDTCtELE9BQU8sU0FBU29ULFVBQVVoSCxHQUFHLEVBQUUxQixJQUFJLEVBQUU0QyxXQUFXLEVBQUV0USxJQUFJO2dCQUNwRCxPQUFPLElBQUksQ0FBQ3FFLFNBQVMsR0FBRzhSLFFBQVEsQ0FBQyxHQUFHNU8sTUFBTSxDQUFDLElBQUksQ0FBQ3lPLFdBQVcsSUFBSSxXQUFXNUcsS0FBSzFCLE1BQU00QyxhQUFhdFE7WUFDcEc7UUFDRjtRQUFHO1lBQ0RmLEtBQUs7WUFDTCtELE9BQU8sU0FBU3FULFdBQVdDLEdBQUc7Z0JBQzVCLE9BQU8sSUFBSSxDQUFDalMsU0FBUyxHQUFHa1MsTUFBTSxDQUFDLEdBQUdoUCxNQUFNLENBQUMsSUFBSSxDQUFDeU8sV0FBVyxJQUFJLFVBQVU7b0JBQ3JFTSxLQUFLQTtnQkFDUDtZQUNGO1FBQ0Y7UUFBRztZQUNEclgsS0FBSztZQUNMK0QsT0FBTyxTQUFTd1QsWUFBWUYsR0FBRztnQkFDN0IsT0FBTyxJQUFJLENBQUNqUyxTQUFTLEdBQUdrUyxNQUFNLENBQUMsR0FBR2hQLE1BQU0sQ0FBQyxJQUFJLENBQUN5TyxXQUFXLElBQUksV0FBVztvQkFDdEVNLEtBQUtBO2dCQUNQO1lBQ0Y7UUFTRjtRQUFHO1lBQ0RyWCxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUl5VCxhQUFhL2IsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzRiLFNBQVNsQyxLQUFLO29CQUMvRixPQUFPMVosc0VBQXdCLENBQUMsU0FBUzZiLFVBQVVDLFNBQVM7d0JBQzFELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxVQUFVek0sSUFBSSxHQUFHeU0sVUFBVXhNLElBQUk7Z0NBQ3JDLEtBQUs7b0NBQ0gsSUFBSSxDQUFDeU0saUJBQWlCO29DQUV0QkQsVUFBVXhNLElBQUksR0FBRztvQ0FDakIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDQyxXQUFXLEtBQUssVUFBVTt3Q0FDMUR4QixPQUFPQTtvQ0FDVDtnQ0FFRixLQUFLO29DQUNILE9BQU9vQyxVQUFVdk0sTUFBTSxDQUFDLFVBQVV1TSxVQUFVckMsSUFBSTtnQ0FFbEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9xQyxVQUFVbE0sSUFBSTs0QkFDekI7d0JBQ0Y7b0JBQ0YsR0FBR2dNLFVBQVUsSUFBSTtnQkFDbkI7Z0JBRUEsU0FBU0ksVUFBVUMsR0FBRztvQkFDcEIsT0FBT04sV0FBVzlYLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNoQztnQkFFQSxPQUFPZ1k7WUFDVDtRQVVGO1FBQUc7WUFDRDdYLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWdVLFVBQVV0Yyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTbWMsU0FBUzFNLEtBQUs7b0JBQzVGLElBQUk0SixTQUNBK0MsU0FDQUMsU0FBU3JZO29CQUNiLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTc2MsVUFBVUMsU0FBUzt3QkFDMUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFVBQVVsTixJQUFJLEdBQUdrTixVQUFVak4sSUFBSTtnQ0FDckMsS0FBSztvQ0FDSCtKLFVBQVVnRCxPQUFPaGIsTUFBTSxHQUFHLEtBQUtnYixNQUFNLENBQUMsRUFBRSxLQUFLeFcsWUFBWXdXLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FFdEUsSUFBSSxDQUFFaEQsQ0FBQUEsUUFBUW1ELE1BQU0sSUFBSW5ELFFBQVEvSixJQUFJLEdBQUc7d0NBQ3JDaU4sVUFBVWpOLElBQUksR0FBRzt3Q0FDakI7b0NBQ0Y7b0NBRUEsTUFBTXlLLE1BQU07Z0NBRWQsS0FBSztvQ0FDSCw0QkFBNEI7b0NBQzVCcUMsVUFBVW5ELGdCQUFnQkEsZ0JBQWdCO3dDQUN4Q3dELG1CQUFtQjs0Q0FDakJ6VyxLQUFLLElBQUksQ0FBQ0EsR0FBRzt3Q0FDZjtvQ0FDRixHQUFHcVQsVUFBVSxDQUFDLEdBQUc7d0NBQ2Z4RCxNQUFNd0QsUUFBUXhELElBQUksR0FBR0QsbUJBQW1CeUQsUUFBUXhELElBQUksSUFBSWhRO29DQUMxRDtvQ0FFQSxJQUFJLENBQUUsUUFBTzRKLFVBQVUsUUFBTyxHQUFJO3dDQUNoQzhNLFVBQVVqTixJQUFJLEdBQUc7d0NBQ2pCO29DQUNGO29DQUVBOE0sUUFBUTNNLEtBQUssR0FBR0E7b0NBQ2hCOE0sVUFBVWpOLElBQUksR0FBRztvQ0FDakI7Z0NBRUYsS0FBSztvQ0FDSCxJQUFJLENBQUU3UCxDQUFBQSxvRUFBT0EsQ0FBQ2dRLFdBQVcsUUFBTyxHQUFJO3dDQUNsQzhNLFVBQVVqTixJQUFJLEdBQUc7d0NBQ2pCO29DQUNGO29DQUVBOE0sUUFBUU0seUJBQXlCLEdBQUdqTjtvQ0FDcEM4TSxVQUFVak4sSUFBSSxHQUFHO29DQUNqQjtnQ0FFRixLQUFLO29DQUNILE1BQU15SyxNQUFNLGdCQUFnQnROLE1BQU0sQ0FBQ2hOLG9FQUFPQSxDQUFDZ1EsUUFBUTtnQ0FFckQsS0FBSztvQ0FDSDhNLFVBQVVqTixJQUFJLEdBQUc7b0NBQ2pCLE9BQU8sSUFBSSxDQUFDL0YsU0FBUyxHQUFHb1QsU0FBUztnQ0FFbkMsS0FBSztvQ0FDSEosVUFBVWpOLElBQUksR0FBRztvQ0FDakIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUc3QixHQUFHLENBQUMsSUFBSSxDQUFDNkIsU0FBUyxHQUFHeVEsT0FBTyxHQUFHLFdBQVc7d0NBQ2hFb0MsU0FBU0E7b0NBQ1g7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPRyxVQUFVaE4sTUFBTSxDQUFDLFVBQVVnTixVQUFVOUMsSUFBSTtnQ0FFbEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU84QyxVQUFVM00sSUFBSTs0QkFDekI7d0JBQ0Y7b0JBQ0YsR0FBR3VNLFVBQVUsSUFBSTtnQkFDbkI7Z0JBRUEsU0FBU1MsT0FBT0MsR0FBRztvQkFDakIsT0FBT1gsUUFBUXJZLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUM3QjtnQkFFQSxPQUFPNFk7WUFDVDtRQVlGO1FBQUc7WUFDRHpZLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTRVLGdCQUFnQmxkLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVMrYyxTQUFTQyxnQkFBZ0I7b0JBQzdHLElBQUlDO29CQUVKLElBQUlwSCxNQUNBd0QsU0FDQXJVLElBQ0EwQixNQUNBVSxTQUNBOFYsU0FBU2xaO29CQUNiLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTbWQsVUFBVUMsU0FBUzt3QkFDMUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFVBQVUvTixJQUFJLEdBQUcrTixVQUFVOU4sSUFBSTtnQ0FDckMsS0FBSztvQ0FDSHVHLE9BQU9xSCxPQUFPN2IsTUFBTSxHQUFHLEtBQUs2YixNQUFNLENBQUMsRUFBRSxLQUFLclgsWUFBWXFYLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRTtvQ0FDcEU3RCxVQUFVNkQsT0FBTzdiLE1BQU0sR0FBRyxLQUFLNmIsTUFBTSxDQUFDLEVBQUUsS0FBS3JYLFlBQVlxWCxNQUFNLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3RFeFcsT0FBTyxJQUFJLENBQUNBLElBQUk7b0NBRWhCLElBQUksSUFBSSxDQUFDMUIsRUFBRSxFQUFFO3dDQUNYQSxLQUFLLElBQUksQ0FBQ0EsRUFBRTtvQ0FDZCxPQUFPLElBQUksQ0FBQ2lZLGFBQWEsSUFBSSxDQUFDbmIsSUFBSSxNQUFNLFFBQVFtYixlQUFlLEtBQUssS0FBS0EsV0FBVzdWLE9BQU8sSUFBSWtLLE1BQU1DLE9BQU8sQ0FBQyxJQUFJLENBQUN6UCxJQUFJLENBQUNzRixPQUFPLEdBQUc7d0NBQy9IQSxVQUFVLElBQUksQ0FBQ3RGLElBQUksQ0FBQ3NGLE9BQU87b0NBQzdCLEVBQUUsMkJBQTJCO29DQUc3QmdXLFVBQVU5TixJQUFJLEdBQUc7b0NBQ2pCLE9BQU8sSUFBSSxDQUFDL0YsU0FBUyxHQUFHN0IsR0FBRyxDQUFDLElBQUksQ0FBQzZCLFNBQVMsR0FBR3lRLE9BQU8sR0FBRyxZQUFZO3dDQUNqRW9DLFNBQVNuRCxnQkFBZ0I7NENBQ3ZCdlMsTUFBTUE7NENBQ04xQixJQUFJQTs0Q0FDSm9DLFNBQVNBOzRDQUNUeU8sTUFBTUQsbUJBQW1CQzs0Q0FDekI0RyxtQkFBbUJPO3dDQUNyQixHQUFHM0Q7b0NBQ0w7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPK0QsVUFBVTdOLE1BQU0sQ0FBQyxVQUFVNk4sVUFBVTNELElBQUk7Z0NBRWxELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPMkQsVUFBVXhOLElBQUk7NEJBQ3pCO3dCQUNGO29CQUNGLEdBQUdtTixVQUFVLElBQUk7Z0JBQ25CO2dCQUVBLFNBQVNNLGFBQWFDLEdBQUc7b0JBQ3ZCLE9BQU9SLGNBQWNqWixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDbkM7Z0JBRUEsT0FBT3FaO1lBQ1Q7UUFXRjtRQUFHO1lBQ0RsWixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlxVixnQkFBZ0IzZCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTd2QsU0FBU0MsU0FBUyxFQUFFbFQsUUFBUSxFQUFFOE8sT0FBTztvQkFDekgsT0FBT3JaLHNFQUF3QixDQUFDLFNBQVMwZCxVQUFVQyxTQUFTO3dCQUMxRCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsVUFBVXRPLElBQUksR0FBR3NPLFVBQVVyTyxJQUFJO2dDQUNyQyxLQUFLO29DQUNILElBQUltTyxXQUFXO3dDQUNiRSxVQUFVck8sSUFBSSxHQUFHO3dDQUNqQjtvQ0FDRjtvQ0FFQSxNQUFNeUssTUFBTTtnQ0FFZCxLQUFLO29DQUNILElBQUksQ0FBRSxFQUFDeFAsWUFBWWxILE9BQU9ELElBQUksQ0FBQ21ILFVBQVVsSixNQUFNLEtBQUssSUFBSTt3Q0FDdERzYyxVQUFVck8sSUFBSSxHQUFHO3dDQUNqQjtvQ0FDRjtvQ0FFQSxNQUFNeUssTUFBTTtnQ0FFZCxLQUFLO29DQUNINEQsVUFBVXJPLElBQUksR0FBRztvQ0FDakIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDMVIsU0FBUyxHQUFHeVEsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUNnUixXQUFXLGNBQWN4RSxnQkFBZ0I7d0NBQ25IMU8sVUFBVUE7b0NBQ1osR0FBRzhPO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT3NFLFVBQVVwTyxNQUFNLENBQUMsVUFBVW9PLFVBQVVsRSxJQUFJO2dDQUVsRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2tFLFVBQVUvTixJQUFJOzRCQUN6Qjt3QkFDRjtvQkFDRixHQUFHNE4sVUFBVSxJQUFJO2dCQUNuQjtnQkFFQSxTQUFTSSxhQUFhQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsR0FBRztvQkFDakMsT0FBT1IsY0FBYzFaLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNuQztnQkFFQSxPQUFPNFo7WUFDVDtRQVdGO1FBQUc7WUFDRHpaLEtBQUs7WUFDTCtELE9BQU8sU0FBUzhWLGVBQWVQLFNBQVMsRUFBRVEsWUFBWSxFQUFFalQsT0FBTztnQkFDN0QsSUFBSSxDQUFDK1EsaUJBQWlCO2dCQUV0QixJQUFJLENBQUNrQyxnQkFBZ0IsQ0FBQ1IsV0FBVztvQkFDL0IsTUFBTTFELE1BQU07Z0JBQ2Q7Z0JBRUEsSUFBSXlCLE1BQU0sSUFBSSxDQUFDalMsU0FBUyxHQUFHeVEsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUNnUixXQUFXLGNBQWNoUixNQUFNLENBQUN3UixlQUFlLG1DQUFtQztnQkFFM0ksSUFBSWpULFNBQVM7b0JBQ1gsT0FBTyxJQUFJLENBQUN6QixTQUFTLEdBQUdrUyxNQUFNLENBQUNELEtBQUs7d0JBQ2xDeFEsU0FBU0E7b0JBQ1g7Z0JBQ0Y7Z0JBRUEsT0FBTyxJQUFJLENBQUN6QixTQUFTLEdBQUdrUyxNQUFNLENBQUNELEtBQUssQ0FBQztZQUN2QztRQVVGO1FBQUc7WUFDRHJYLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWdXLFdBQVd0ZSw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTbWU7b0JBQy9FLElBQUlDLGFBQ0FDLGVBQ0FoRixTQUNBaUYsVUFDQUMsU0FBU3ZhO29CQUNiLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTd2UsVUFBVUMsU0FBUzt3QkFDMUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFVBQVVwUCxJQUFJLEdBQUdvUCxVQUFVblAsSUFBSTtnQ0FDckMsS0FBSztvQ0FDSDhPLGNBQWNHLE9BQU9sZCxNQUFNLEdBQUcsS0FBS2tkLE1BQU0sQ0FBQyxFQUFFLEtBQUsxWSxZQUFZMFksTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUMxRUYsZ0JBQWdCRSxPQUFPbGQsTUFBTSxHQUFHLElBQUlrZCxNQUFNLENBQUMsRUFBRSxHQUFHMVk7b0NBQ2hEd1QsVUFBVWtGLE9BQU9sZCxNQUFNLEdBQUcsSUFBSWtkLE1BQU0sQ0FBQyxFQUFFLEdBQUcxWTtvQ0FDMUMsMkRBQTJEO29DQUMzRHlZLFdBQVc7d0NBQUM7d0NBQVU7d0NBQU87d0NBQWM7d0NBQU07d0NBQWdCO3dDQUFRO3dDQUFjO3dDQUFjO3dDQUFtQjtxQ0FBbUI7b0NBQzNJQSxTQUFTcGEsT0FBTyxDQUFDLFNBQVVDLEdBQUc7d0NBQzVCLE9BQU9pYSxXQUFXLENBQUNqYSxJQUFJO29DQUN6QjtvQ0FDQXNhLFVBQVVuUCxJQUFJLEdBQUc7b0NBQ2pCLE9BQU8sSUFBSSxDQUFDb1AsT0FBTyxDQUFDekYsZ0JBQWdCO3dDQUNsQ2xVLFNBQVNzWjt3Q0FDVHZjLE1BQU1zYztvQ0FDUixHQUFHL0U7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPb0YsVUFBVWxQLE1BQU0sQ0FBQyxVQUFVa1AsVUFBVWhGLElBQUk7Z0NBRWxELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPZ0YsVUFBVTdPLElBQUk7NEJBQ3pCO3dCQUNGO29CQUNGLEdBQUd1TyxVQUFVLElBQUk7Z0JBQ25CO2dCQUVBLFNBQVNRO29CQUNQLE9BQU9ULFNBQVNyYSxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDOUI7Z0JBRUEsT0FBTzJhO1lBQ1Q7UUFTRjtRQUFHO1lBQ0R4YSxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUkwVyxpQkFBaUJoZiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNmUsU0FBU0YsTUFBTTtvQkFDcEcsSUFBSTdjO29CQUNKLE9BQU85QixzRUFBd0IsQ0FBQyxTQUFTOGUsVUFBVUMsU0FBUzt3QkFDMUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFVBQVUxUCxJQUFJLEdBQUcwUCxVQUFVelAsSUFBSTtnQ0FDckMsS0FBSztvQ0FDSHlQLFVBQVV6UCxJQUFJLEdBQUc7b0NBQ2pCLE9BQU8sSUFBSSxDQUFDL0YsU0FBUyxHQUFHeVYsS0FBSyxDQUFDLElBQUksQ0FBQzlELFdBQVcsSUFBSXlEO2dDQUVwRCxLQUFLO29DQUNIN2MsT0FBT2lkLFVBQVV0RixJQUFJO29DQUNyQixJQUFJLENBQUMzWCxJQUFJLEdBQUdBLEtBQUswQyxPQUFPO29DQUN4QixPQUFPdWEsVUFBVXhQLE1BQU0sQ0FBQyxVQUFVek47Z0NBRXBDLEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPaWQsVUFBVW5QLElBQUk7NEJBQ3pCO3dCQUNGO29CQUNGLEdBQUdpUCxVQUFVLElBQUk7Z0JBQ25CO2dCQUVBLFNBQVNJLGNBQWNDLElBQUk7b0JBQ3pCLE9BQU9OLGVBQWUvYSxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDcEM7Z0JBRUEsT0FBT2liO1lBQ1Q7UUFRRjtRQUFHO1lBQ0Q5YSxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlpWCxrQkFBa0J2Ziw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTb2YsU0FBU0MsZ0JBQWdCO29CQUMvRyxJQUFJdmQ7b0JBQ0osT0FBTzlCLHNFQUF3QixDQUFDLFNBQVNzZixVQUFVQyxTQUFTO3dCQUMxRCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsVUFBVWxRLElBQUksR0FBR2tRLFVBQVVqUSxJQUFJO2dDQUNyQyxLQUFLO29DQUNIaVEsVUFBVWpRLElBQUksR0FBRztvQ0FDakIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDQyxXQUFXLElBQUk7d0NBQy9Dc0UsVUFBVUg7b0NBQ1o7Z0NBRUYsS0FBSztvQ0FDSHZkLE9BQU95ZCxVQUFVOUYsSUFBSTtvQ0FDckIsSUFBSSxDQUFDM1gsSUFBSSxHQUFHQSxLQUFLMEMsT0FBTztvQ0FDeEIsT0FBTythLFVBQVVoUSxNQUFNLENBQUMsVUFBVXpOO2dDQUVwQyxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3lkLFVBQVUzUCxJQUFJOzRCQUN6Qjt3QkFDRjtvQkFDRixHQUFHd1AsVUFBVSxJQUFJO2dCQUNuQjtnQkFFQSxTQUFTSyxlQUFlQyxJQUFJO29CQUMxQixPQUFPUCxnQkFBZ0J0YixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDckM7Z0JBRUEsT0FBT3liO1lBQ1Q7UUFPRjtRQUFHO1lBQ0R0YixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUl5WCxtQkFBbUIvZiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNGY7b0JBQ3ZGLElBQUk5ZDtvQkFDSixPQUFPOUIsc0VBQXdCLENBQUMsU0FBUzZmLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXelEsSUFBSSxHQUFHeVEsV0FBV3hRLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h3USxXQUFXeFEsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBRzBSLElBQUksQ0FBQyxJQUFJLENBQUNDLFdBQVcsSUFBSTt3Q0FDL0NzRSxVQUFVO29DQUNaO2dDQUVGLEtBQUs7b0NBQ0gxZCxPQUFPZ2UsV0FBV3JHLElBQUk7b0NBQ3RCLElBQUksQ0FBQzNYLElBQUksR0FBR0EsS0FBSzBDLE9BQU87b0NBQ3hCLE9BQU9zYixXQUFXdlEsTUFBTSxDQUFDLFVBQVV6TjtnQ0FFckMsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9nZSxXQUFXbFEsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2dRLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0c7b0JBQ1AsT0FBT0osaUJBQWlCOWIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3RDO2dCQUVBLE9BQU8rYjtZQUNUO1FBU0Y7UUFBRztZQUNENWIsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJOFgsV0FBV3BnQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTaWdCO29CQUMvRSxJQUFJNUcsU0FDQTZHLFVBQVVsYztvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU21nQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVy9RLElBQUksR0FBRytRLFdBQVc5USxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVTZHLFFBQVE3ZSxNQUFNLEdBQUcsS0FBSzZlLE9BQU8sQ0FBQyxFQUFFLEtBQUtyYSxZQUFZcWEsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBVzlRLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUdrUyxNQUFNLENBQUMsSUFBSSxDQUFDUCxXQUFXLElBQUlqQyxnQkFBZ0IsQ0FBQyxHQUFHSTtnQ0FFekUsS0FBSztvQ0FDSCxPQUFPK0csV0FBVzdRLE1BQU0sQ0FBQyxVQUFVNlEsV0FBVzNHLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPMkcsV0FBV3hRLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdxUSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJO29CQUNQLE9BQU9MLFNBQVNuYyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDOUI7Z0JBRUEsT0FBT3FjO1lBQ1Q7UUFPRjtRQUFHO1lBQ0RsYyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlvWSxZQUFZMWdCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN1Z0I7b0JBQ2hGLElBQUlsSCxTQUNBbUgsVUFBVXhjO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTeWdCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXclIsSUFBSSxHQUFHcVIsV0FBV3BSLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0grSixVQUFVbUgsUUFBUW5mLE1BQU0sR0FBRyxLQUFLbWYsT0FBTyxDQUFDLEVBQUUsS0FBSzNhLFlBQVkyYSxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXcFIsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBRzBSLElBQUksQ0FBQyxJQUFJLENBQUNDLFdBQVcsS0FBSyxhQUFhN0I7Z0NBRWpFLEtBQUs7b0NBQ0gsT0FBT3FILFdBQVduUixNQUFNLENBQUMsVUFBVW1SLFdBQVdqSCxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2lILFdBQVc5USxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMlEsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSTtvQkFDUCxPQUFPTCxVQUFVemMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQy9CO2dCQUVBLE9BQU8yYztZQUNUO1FBU0Y7UUFBRztZQUNEeGMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJMFksZ0JBQWdCaGhCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2Z0I7b0JBQ3BGLElBQUl4SCxTQUNBeUgsVUFBVTljO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTK2dCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXM1IsSUFBSSxHQUFHMlIsV0FBVzFSLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0grSixVQUFVeUgsUUFBUXpmLE1BQU0sR0FBRyxLQUFLeWYsT0FBTyxDQUFDLEVBQUUsS0FBS2piLFlBQVlpYixPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXMVIsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ29QLE9BQU8sQ0FBQ3pGLGdCQUFnQjt3Q0FDbENnSSxlQUFlO29DQUNqQixHQUFHNUg7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPMkgsV0FBV3pSLE1BQU0sQ0FBQyxVQUFVeVIsV0FBV3ZILElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPdUgsV0FBV3BSLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdpUixXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNLO29CQUNQLE9BQU9OLGNBQWMvYyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDbkM7Z0JBRUEsT0FBT2tkO1lBQ1Q7UUFTRjtRQUFHO1lBQ0QvYyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlpWixnQkFBZ0J2aEIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU29oQjtvQkFDcEYsSUFBSS9ILFNBQ0FnSSxVQUFVcmQ7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNzaEIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsUyxJQUFJLEdBQUdrUyxXQUFXalMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVnSSxRQUFRaGdCLE1BQU0sR0FBRyxLQUFLZ2dCLE9BQU8sQ0FBQyxFQUFFLEtBQUt4YixZQUFZd2IsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBV2pTLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUNvUCxPQUFPLENBQUN6RixnQkFBZ0I7d0NBQ2xDdUksZUFBZTtvQ0FDakIsR0FBR25JO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT2tJLFdBQVdoUyxNQUFNLENBQUMsVUFBVWdTLFdBQVc5SCxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzhILFdBQVczUixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHd1IsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSztvQkFDUCxPQUFPTixjQUFjdGQsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ25DO2dCQUVBLE9BQU95ZDtZQUNUO1FBVUY7UUFBRztZQUNEdGQsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJd1osY0FBYzloQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTMmhCLFVBQVV2YSxPQUFPLEVBQUVyQyxPQUFPO29CQUM1RyxJQUFJc1UsU0FDQXVJLFVBQVU1ZDtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUzZoQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3pTLElBQUksR0FBR3lTLFdBQVd4UyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVXVJLFFBQVF2Z0IsTUFBTSxHQUFHLEtBQUt1Z0IsT0FBTyxDQUFDLEVBQUUsS0FBSy9iLFlBQVkrYixPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXeFMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ29QLE9BQU8sQ0FBQ3pGLGdCQUFnQjt3Q0FDbEM4SSxhQUFhM2E7d0NBQ2JyQyxTQUFTQTtvQ0FDWCxHQUFHc1U7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPeUksV0FBV3ZTLE1BQU0sQ0FBQyxVQUFVdVMsV0FBV3JJLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPcUksV0FBV2xTLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcrUixXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNLLFdBQVdDLElBQUksRUFBRUMsSUFBSTtvQkFDNUIsT0FBT1IsWUFBWTdkLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNqQztnQkFFQSxPQUFPZ2U7WUFDVDtRQVVGO1FBQUc7WUFDRDdkLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWlhLGlCQUFpQnZpQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTb2lCLFVBQVVoYixPQUFPLEVBQUVyQyxPQUFPO29CQUMvRyxJQUFJc1UsU0FDQWdKLFVBQVVyZTtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU3NpQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV2xULElBQUksR0FBR2tULFdBQVdqVCxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVWdKLFFBQVFoaEIsTUFBTSxHQUFHLEtBQUtnaEIsT0FBTyxDQUFDLEVBQUUsS0FBS3hjLFlBQVl3YyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXalQsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ29QLE9BQU8sQ0FBQ3pGLGdCQUFnQjt3Q0FDbEN1SixnQkFBZ0JwYjt3Q0FDaEJyQyxTQUFTQTtvQ0FDWCxHQUFHc1U7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPa0osV0FBV2hULE1BQU0sQ0FBQyxVQUFVZ1QsV0FBVzlJLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPOEksV0FBVzNTLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUd3UyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNLLGNBQWNDLElBQUksRUFBRUMsSUFBSTtvQkFDL0IsT0FBT1IsZUFBZXRlLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNwQztnQkFFQSxPQUFPeWU7WUFDVDtRQVVGO1FBQUc7WUFDRHRlLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTBhLGVBQWVoakIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzZpQixVQUFVdk4sS0FBSyxFQUFFdlEsT0FBTztvQkFDM0csSUFBSXNVLFNBQ0F5SixVQUFVOWU7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVMraUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVczVCxJQUFJLEdBQUcyVCxXQUFXMVQsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVV5SixRQUFRemhCLE1BQU0sR0FBRyxLQUFLeWhCLE9BQU8sQ0FBQyxFQUFFLEtBQUtqZCxZQUFZaWQsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBVzFULElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUNvUCxPQUFPLENBQUN6RixnQkFBZ0I7d0NBQ2xDZ0ssY0FBYzNOO3dDQUNkdlEsU0FBU0E7b0NBQ1gsR0FBR3NVO2dDQUVMLEtBQUs7b0NBQ0gsT0FBTzJKLFdBQVd6VCxNQUFNLENBQUMsVUFBVXlULFdBQVd2SixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3VKLFdBQVdwVCxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHaVQsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSyxZQUFZQyxJQUFJLEVBQUVDLElBQUk7b0JBQzdCLE9BQU9SLGFBQWEvZSxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDbEM7Z0JBRUEsT0FBT2tmO1lBQ1Q7UUFVRjtRQUFHO1lBQ0QvZSxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUltYixpQkFBaUJ6akIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3NqQixVQUFVbGMsT0FBTyxFQUFFckMsT0FBTztvQkFDL0csSUFBSXNVLFNBQ0FrSyxVQUFVdmY7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVN3akIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdwVSxJQUFJLEdBQUdvVSxXQUFXblUsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVrSyxRQUFRbGlCLE1BQU0sR0FBRyxLQUFLa2lCLE9BQU8sQ0FBQyxFQUFFLEtBQUsxZCxZQUFZMGQsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBV25VLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUNvUCxPQUFPLENBQUN6RixnQkFBZ0I7d0NBQ2xDeUssU0FBU3RjO3dDQUNUckMsU0FBU0E7b0NBQ1gsR0FBR3NVO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT29LLFdBQVdsVSxNQUFNLENBQUMsVUFBVWtVLFdBQVdoSyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dLLFdBQVc3VCxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMFQsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSyxjQUFjQyxJQUFJLEVBQUVDLElBQUk7b0JBQy9CLE9BQU9SLGVBQWV4ZixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDcEM7Z0JBRUEsT0FBTzJmO1lBQ1Q7UUFVRjtRQUFHO1lBQ0R4ZixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUk0YixpQkFBaUJsa0IsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUytqQixVQUFVM2MsT0FBTyxFQUFFckMsT0FBTztvQkFDL0csSUFBSXNVLFNBQ0EySyxVQUFVaGdCO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTaWtCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXN1UsSUFBSSxHQUFHNlUsV0FBVzVVLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0grSixVQUFVMkssUUFBUTNpQixNQUFNLEdBQUcsS0FBSzJpQixPQUFPLENBQUMsRUFBRSxLQUFLbmUsWUFBWW1lLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDekVFLFdBQVc1VSxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDb1AsT0FBTyxDQUFDekYsZ0JBQWdCO3dDQUNsQ2tMLGdCQUFnQi9jO3dDQUNoQnJDLFNBQVNBO29DQUNYLEdBQUdzVTtnQ0FFTCxLQUFLO29DQUNILE9BQU82SyxXQUFXM1UsTUFBTSxDQUFDLFVBQVUyVSxXQUFXekssSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU95SyxXQUFXdFUsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR21VLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ssY0FBY0MsSUFBSSxFQUFFQyxJQUFJO29CQUMvQixPQUFPUixlQUFlamdCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNwQztnQkFFQSxPQUFPb2dCO1lBQ1Q7UUFVRjtRQUFHO1lBQ0RqZ0IsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJcWMsb0JBQW9CM2tCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN3a0IsVUFBVXBkLE9BQU8sRUFBRXJDLE9BQU87b0JBQ2xILElBQUlzVSxTQUNBb0wsVUFBVXpnQjtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUzBrQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3RWLElBQUksR0FBR3NWLFdBQVdyVixJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVW9MLFFBQVFwakIsTUFBTSxHQUFHLEtBQUtvakIsT0FBTyxDQUFDLEVBQUUsS0FBSzVlLFlBQVk0ZSxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXclYsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ29QLE9BQU8sQ0FBQ3pGLGdCQUFnQjt3Q0FDbEMyTCxtQkFBbUJ4ZDt3Q0FDbkJyQyxTQUFTQTtvQ0FDWCxHQUFHc1U7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPc0wsV0FBV3BWLE1BQU0sQ0FBQyxVQUFVb1YsV0FBV2xMLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPa0wsV0FBVy9VLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUc0VSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNLLGlCQUFpQkMsSUFBSSxFQUFFQyxJQUFJO29CQUNsQyxPQUFPUixrQkFBa0IxZ0IsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3ZDO2dCQUVBLE9BQU82Z0I7WUFDVDtRQVFGO1FBQUc7WUFDRDFnQixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUk4YyxXQUFXcGxCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNpbEIsVUFBVTdJLE9BQU87b0JBQ2hHLElBQUl0YTtvQkFDSixPQUFPOUIsc0VBQXdCLENBQUMsU0FBU2tsQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzlWLElBQUksR0FBRzhWLFdBQVc3VixJQUFJO2dDQUN2QyxLQUFLO29DQUNINlYsV0FBVzdWLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDQyxXQUFXLElBQUlrQjtnQ0FFbkQsS0FBSztvQ0FDSHRhLE9BQU9xakIsV0FBVzFMLElBQUk7b0NBQ3RCLElBQUksQ0FBQzNYLElBQUksR0FBR0EsS0FBSzBDLE9BQU87b0NBQ3hCLE9BQU8yZ0IsV0FBVzVWLE1BQU0sQ0FBQyxVQUFVek47Z0NBRXJDLEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPcWpCLFdBQVd2VixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHcVYsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTdkcsUUFBUTBHLElBQUk7b0JBQ25CLE9BQU9KLFNBQVNuaEIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQzlCO2dCQUVBLE9BQU8wYTtZQUNUO1FBY0Y7UUFBRztZQUNEdmEsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJbWQsUUFBUXpsQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTc2xCO29CQUM1RSxJQUFJQyxNQUNBQyxVQUFVeGhCO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTeWxCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXclcsSUFBSSxHQUFHcVcsV0FBV3BXLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0hpVyxPQUFPQyxRQUFRbmtCLE1BQU0sR0FBRyxLQUFLbWtCLE9BQU8sQ0FBQyxFQUFFLEtBQUszZixZQUFZMmYsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN0RUUsV0FBV3BXLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDMVIsU0FBUyxHQUFHeVEsT0FBTyxHQUFHLDRCQUE0QmYsZ0JBQWdCO3dDQUNsRzBNLGFBQWEsSUFBSSxDQUFDM2YsR0FBRztvQ0FDdkIsR0FBR3VmO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT0csV0FBV25XLE1BQU0sQ0FBQyxVQUFVbVcsV0FBV2pNLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPaU0sV0FBVzlWLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcwVixXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNNO29CQUNQLE9BQU9QLE1BQU14aEIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQzNCO2dCQUVBLE9BQU80aEI7WUFDVDtRQVVGO1FBQUc7WUFDRHpoQixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUkyZCxVQUFVam1CLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM4bEI7b0JBQzlFLElBQUlQLE1BQ0FRLFVBQVUvaEI7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNnbUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVc1VyxJQUFJLEdBQUc0VyxXQUFXM1csSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSGlXLE9BQU9RLFFBQVExa0IsTUFBTSxHQUFHLEtBQUswa0IsT0FBTyxDQUFDLEVBQUUsS0FBS2xnQixZQUFZa2dCLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDdEVFLFdBQVczVyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDL0YsU0FBUyxHQUFHMFIsSUFBSSxDQUFDLElBQUksQ0FBQzFSLFNBQVMsR0FBR3lRLE9BQU8sR0FBRyw4QkFBOEJmLGdCQUFnQjt3Q0FDcEcwTSxhQUFhLElBQUksQ0FBQzNmLEdBQUc7b0NBQ3ZCLEdBQUd1ZjtnQ0FFTCxLQUFLO29DQUNILE9BQU9VLFdBQVcxVyxNQUFNLENBQUMsVUFBVTBXLFdBQVd4TSxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3dNLFdBQVdyVyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHa1csV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSTtvQkFDUCxPQUFPTCxRQUFRaGlCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUM3QjtnQkFFQSxPQUFPa2lCO1lBQ1Q7UUFNRjtRQUFHO1lBQ0QvaEIsS0FBSztZQUNMK0QsT0FBTyxTQUFTaWU7Z0JBQ2QsSUFBSSxDQUFDcEssaUJBQWlCO2dCQUV0QixPQUFPLElBQUksQ0FBQ3hTLFNBQVMsR0FBRzZjLFdBQVcsQ0FBQyxJQUFJLENBQUNwZ0IsR0FBRztZQUM5QztRQUNGO1FBQUc7WUFDRDdCLEtBQUs7WUFDTCtELE9BQU8sU0FBU21lLFdBQVc1SSxTQUFTLEVBQUU2SSxRQUFRO2dCQUM1QyxJQUFJLENBQUN2SyxpQkFBaUI7Z0JBRXRCLElBQUksQ0FBQzBCLFdBQVc7b0JBQ2QsTUFBTTFELE1BQU07Z0JBQ2Q7Z0JBRUEsT0FBTyxJQUFJLENBQUN4USxTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDMVIsU0FBUyxHQUFHeVEsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUNnUixXQUFXLFlBQVk7b0JBQ2pHOEksWUFBWTlJO29CQUNaK0ksV0FBV0Y7b0JBQ1h0aEIsSUFBSSxJQUFJLENBQUNBLEVBQUU7b0JBQ1gwQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtnQkFDakI7WUFDRjtRQVFGO1FBQUc7WUFDRHZDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXVlLGFBQWE3bUIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzBtQixVQUFVcGdCLFNBQVM7b0JBQ3BHLElBQUlxZ0I7b0JBRUosSUFBSTlZLEtBQUsrWTtvQkFDVCxPQUFPNW1CLHNFQUF3QixDQUFDLFNBQVM2bUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVd6WCxJQUFJLEdBQUd5WCxXQUFXeFgsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCxJQUFJLENBQUNxWCxrQkFBa0IsSUFBSSxDQUFDak0sU0FBUyxFQUFDLE1BQU8sUUFBUWlNLG9CQUFvQixLQUFLLEtBQUtBLGdCQUFnQkksYUFBYSxFQUFFO3dDQUNoSEQsV0FBV3hYLElBQUksR0FBRzt3Q0FDbEI7b0NBQ0Y7b0NBRUEsT0FBT3dYLFdBQVd2WCxNQUFNLENBQUM7Z0NBRTNCLEtBQUs7b0NBQ0gxQixNQUFNLElBQUlwRztvQ0FDVm1mLE9BQU8sSUFBSSxDQUFDck0sZUFBZSxJQUFJMU0sSUFBSXBFLE9BQU8sS0FBSyxJQUFJLENBQUM4USxlQUFlLENBQUM5USxPQUFPO29DQUMzRSxJQUFJLENBQUN1ZCxhQUFhLEdBQUduWjtvQ0FDckIsSUFBSSxDQUFDMk0sUUFBUSxHQUFHLE1BQU0sc0NBQXNDO29DQUU1RCxJQUFJLENBQUVvTSxDQUFBQSxTQUFTLFFBQVFBLE9BQU8sSUFBRyxHQUFJO3dDQUNuQ0UsV0FBV3hYLElBQUksR0FBRzt3Q0FDbEI7b0NBQ0Y7b0NBRUEsSUFBSSxDQUFDaUwsZUFBZSxHQUFHLElBQUk5UztvQ0FDM0JxZixXQUFXeFgsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzBNLFNBQVMsQ0FBQzt3Q0FDcEJ0VixNQUFNO3dDQUNOSixXQUFXQTtvQ0FDYjtnQ0FFRixLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3dnQixXQUFXbFgsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzhXLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU08sVUFBVUMsSUFBSTtvQkFDckIsT0FBT1QsV0FBVzVpQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDaEM7Z0JBRUEsT0FBT2lqQjtZQUNUO1FBT0Y7UUFBRztZQUNEOWlCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWlmLGNBQWN2bkIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU29uQixVQUFVOWdCLFNBQVM7b0JBQ3JHLElBQUkrZ0I7b0JBRUosT0FBT3JuQixzRUFBd0IsQ0FBQyxTQUFTc25CLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXbFksSUFBSSxHQUFHa1ksV0FBV2pZLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gsSUFBSSxDQUFDK1gsbUJBQW1CLElBQUksQ0FBQzNNLFNBQVMsRUFBQyxNQUFPLFFBQVEyTSxxQkFBcUIsS0FBSyxLQUFLQSxpQkFBaUJOLGFBQWEsRUFBRTt3Q0FDbkhRLFdBQVdqWSxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLE9BQU9pWSxXQUFXaFksTUFBTSxDQUFDO2dDQUUzQixLQUFLO29DQUNILElBQUksQ0FBQ2dMLGVBQWUsR0FBRztvQ0FDdkIsSUFBSSxDQUFDQyxRQUFRLEdBQUc7b0NBQ2hCK00sV0FBV2pZLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMwTSxTQUFTLENBQUM7d0NBQ3BCdFYsTUFBTTt3Q0FDTkosV0FBV0E7b0NBQ2I7Z0NBRUYsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9paEIsV0FBVzNYLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUd3WCxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJLFdBQVdDLElBQUk7b0JBQ3RCLE9BQU9OLFlBQVl0akIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ2pDO2dCQUVBLE9BQU93akI7WUFDVDtRQU9GO1FBQUc7WUFDRHJqQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVN3ZjtnQkFDZCwrQ0FBK0M7Z0JBQy9DLDRCQUE0QjtnQkFDNUIsSUFBSWpSLE1BQU0sSUFBSSxDQUFDalAsS0FBSyxDQUFDbUcsY0FBYyxDQUFDdE0sTUFBTSxHQUFHO2dCQUU3QyxJQUFJb1YsTUFBTSxHQUFHO29CQUNYQSxNQUFNO2dCQUNSO2dCQUVBLElBQUlELE1BQU0sSUFBSSxDQUFDaFAsS0FBSyxDQUFDbUcsY0FBYyxDQUFDdE0sTUFBTSxHQUFHO2dCQUM3QyxJQUFJc21CLGVBQWUsSUFBSSxDQUFDbmdCLEtBQUssQ0FBQ21HLGNBQWMsQ0FBQytFLEtBQUssQ0FBQytELEtBQUtELE1BQU0sa0JBQWtCO2dCQUVoRm1SLGFBQWE5UixJQUFJLENBQUMsU0FBVS9TLENBQUMsRUFBRUosQ0FBQztvQkFDOUIsT0FBT0EsRUFBRXVELFVBQVUsQ0FBQ3dELE9BQU8sS0FBSzNHLEVBQUVtRCxVQUFVLENBQUN3RCxPQUFPO2dCQUN0RDtnQkFDQSxPQUFPa2UsWUFBWSxDQUFDLEVBQUU7WUFDeEI7UUFRRjtRQUFHO1lBQ0R4akIsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJMGYsWUFBWWhvQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNm5CO29CQUNoRixJQUFJQztvQkFFSixJQUFJaG1CLE1BQ0FpbUIsVUFBVS9qQjtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU2dvQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzVZLElBQUksR0FBRzRZLFdBQVczWSxJQUFJO2dDQUN2QyxLQUFLO29DQUNIeE4sT0FBT2ltQixRQUFRMW1CLE1BQU0sR0FBRyxLQUFLMG1CLE9BQU8sQ0FBQyxFQUFFLEtBQUtsaUIsWUFBWWtpQixPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBRXRFLElBQUksQ0FBQ2hNLGlCQUFpQjtvQ0FFdEIsSUFBSSxDQUFDK0wsbUJBQW1CLElBQUksQ0FBQ3BOLFNBQVMsRUFBQyxNQUFPLFFBQVFvTixxQkFBcUIsS0FBSyxLQUFLQSxpQkFBaUJJLFdBQVcsRUFBRTt3Q0FDakhELFdBQVczWSxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLE9BQU8yWSxXQUFXMVksTUFBTSxDQUFDLFVBQVVrRSxRQUFRMFUsT0FBTyxDQUFDO2dDQUVyRCxLQUFLO29DQUNIRixXQUFXM1ksSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBRzBSLElBQUksQ0FBQyxJQUFJLENBQUNDLFdBQVcsS0FBSyxTQUFTakMsZ0JBQWdCLENBQUMsR0FBR25YO2dDQUVqRixLQUFLO29DQUNILE9BQU9tbUIsV0FBVzFZLE1BQU0sQ0FBQyxVQUFVMFksV0FBV3hPLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPd08sV0FBV3JZLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdpWSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNPO29CQUNQLE9BQU9SLFVBQVUvakIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQy9CO2dCQUVBLE9BQU9va0I7WUFDVDtRQVFGO1FBQUc7WUFDRGprQixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUltZ0IsY0FBY3pvQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTc29CLFVBQVV4bUIsSUFBSTtvQkFDaEcsSUFBSXltQjtvQkFFSixPQUFPdm9CLHNFQUF3QixDQUFDLFNBQVN3b0IsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdwWixJQUFJLEdBQUdvWixXQUFXblosSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCxJQUFJLENBQUN5TSxpQkFBaUI7b0NBRXRCLElBQUksQ0FBQ3dNLG1CQUFtQixJQUFJLENBQUM3TixTQUFTLEVBQUMsTUFBTyxRQUFRNk4scUJBQXFCLEtBQUssS0FBS0EsaUJBQWlCTCxXQUFXLEVBQUU7d0NBQ2pITyxXQUFXblosSUFBSSxHQUFHO3dDQUNsQjtvQ0FDRjtvQ0FFQSxPQUFPbVosV0FBV2xaLE1BQU0sQ0FBQyxVQUFVa0UsUUFBUTBVLE9BQU8sQ0FBQztnQ0FFckQsS0FBSztvQ0FDSE0sV0FBV25aLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsSUFBSSxDQUFDQyxXQUFXLEtBQUssV0FBV2pDLGdCQUFnQixDQUFDLEdBQUduWDtnQ0FFbkYsS0FBSztvQ0FDSCxPQUFPMm1CLFdBQVdsWixNQUFNLENBQUMsVUFBVWtaLFdBQVdoUCxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dQLFdBQVc3WSxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMFksV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSSxXQUFXQyxJQUFJO29CQUN0QixPQUFPTixZQUFZeGtCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNqQztnQkFFQSxPQUFPMGtCO1lBQ1Q7UUFLRjtRQUFHO1lBQ0R2a0IsS0FBSztZQUNMK0QsT0FBTyxTQUFTMEY7Z0JBQ2QsSUFBSSxJQUFJLENBQUNvWixhQUFhLEVBQUU7b0JBQ3RCLElBQUluWixNQUFNLElBQUlwRztvQkFDZCxJQUFJbWYsT0FBTy9ZLElBQUlwRSxPQUFPLEtBQUssSUFBSSxDQUFDdWQsYUFBYSxDQUFDdmQsT0FBTztvQkFFckQsSUFBSW1kLE9BQU8sUUFBUSxJQUFJLENBQUNwTSxRQUFRLEVBQUU7d0JBQ2hDdkgsd0JBQXdCLElBQUksQ0FBQ3VVLFVBQVUsSUFBSTtvQkFDN0M7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDaGdCLEtBQUssQ0FBQ29HLEtBQUs7WUFDbEI7UUFTRjtRQUFHO1lBQ0R6SixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUkwZ0IsU0FBU2hwQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNm9CLFVBQVV4UCxPQUFPO29CQUM5RixJQUFJQyxnQkFBZ0J3UCxVQUFVdGhCO29CQUM5QixPQUFPeEgsc0VBQXdCLENBQUMsU0FBUytvQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzNaLElBQUksR0FBRzJaLFdBQVcxWixJQUFJO2dDQUN2QyxLQUFLO29DQUNIZ0ssaUJBQWlCO3dDQUNmOVIsT0FBTzt3Q0FDUCtSLE9BQU87d0NBQ1BDLFVBQVU7b0NBQ1osR0FBRyxzRUFBc0U7b0NBRXpFd1AsV0FBVzFaLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUdvVCxTQUFTO2dDQUVuQyxLQUFLO29DQUNILElBQUksQ0FBQyxJQUFJLENBQUNwVCxTQUFTLEdBQUcwZixnQkFBZ0IsSUFBSTt3Q0FDeEMzUCxlQUFlQyxLQUFLLEdBQUc7b0NBQ3pCO29DQUVBdVAsV0FBVzdQLGdCQUFnQkEsZ0JBQWdCLENBQUMsR0FBR0ssaUJBQWlCRDtvQ0FDaEUyUCxXQUFXMVosSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ0csS0FBSyxDQUFDcVosVUFBVTtnQ0FFOUIsS0FBSztvQ0FDSHRoQixRQUFRd2hCLFdBQVd2UCxJQUFJO29DQUN2QixJQUFJLENBQUNZLFdBQVcsR0FBRztvQ0FDbkIsSUFBSSxDQUFDdlksSUFBSSxHQUFHMEYsTUFBTWhELE9BQU87b0NBRXpCLElBQUksQ0FBQzJWLE9BQU8sQ0FBQytPLE1BQU0sQ0FBQyxRQUFRLDhDQUE4Q3pjLE1BQU0sQ0FBQyxJQUFJLENBQUN6RyxHQUFHLEdBQUc7d0NBQzFGbWpCLE1BQU07NENBQUM7eUNBQVU7d0NBQ2pCM2tCLFNBQVMsSUFBSTtvQ0FDZjtvQ0FFQSxPQUFPd2tCLFdBQVd6WixNQUFNLENBQUMsVUFBVS9IO2dDQUVyQyxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3doQixXQUFXcFosSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2laLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU3RQLE1BQU02UCxJQUFJO29CQUNqQixPQUFPUixPQUFPL2tCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUM1QjtnQkFFQSxPQUFPdVY7WUFDVDtRQU9GO1FBQUc7WUFDRHBWLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSW1oQixnQkFBZ0J6cEIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3NwQjtvQkFDcEYsSUFBSUM7b0JBQ0osT0FBT3ZwQixzRUFBd0IsQ0FBQyxTQUFTd3BCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXcGEsSUFBSSxHQUFHb2EsV0FBV25hLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0htYSxXQUFXbmEsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBRzBSLElBQUksQ0FBQyxJQUFJLENBQUNDLFdBQVcsS0FBSyxrQkFBa0IsQ0FBQztnQ0FFdkUsS0FBSztvQ0FDSHFPLFdBQVdFLFdBQVdoUSxJQUFJO29DQUUxQixJQUFJLENBQUNVLE9BQU8sQ0FBQytPLE1BQU0sQ0FBQyxRQUFRLDhDQUE4Q3pjLE1BQU0sQ0FBQyxJQUFJLENBQUN6RyxHQUFHLEdBQUc7d0NBQzFGbWpCLE1BQU07NENBQUM7eUNBQVU7d0NBQ2pCM2tCLFNBQVMsSUFBSTtvQ0FDZjtvQ0FFQSxPQUFPaWxCLFdBQVdsYSxNQUFNLENBQUMsVUFBVWdhO2dDQUVyQyxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT0UsV0FBVzdaLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcwWixXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJO29CQUNQLE9BQU9MLGNBQWN4bEIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ25DO2dCQUVBLE9BQU8wbEI7WUFDVDtRQVVGO1FBQUc7WUFDRHZsQixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUl5aEIsY0FBYy9wQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNHBCLFVBQVV0akIsU0FBUyxFQUFFK1MsT0FBTztvQkFDOUcsSUFBSXZYO29CQUNKLE9BQU85QixzRUFBd0IsQ0FBQyxTQUFTNnBCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXemEsSUFBSSxHQUFHeWEsV0FBV3hhLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h3YSxXQUFXeGEsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBRzdCLEdBQUcsQ0FBQyxJQUFJLENBQUM2QixTQUFTLEdBQUd5USxPQUFPLEdBQUcsYUFBYXZOLE1BQU0sQ0FBQ25HLFdBQVcsYUFBYTJTLGdCQUFnQixDQUFDLEdBQUdJO2dDQUV6SCxLQUFLO29DQUNIdlgsT0FBT2dvQixXQUFXclEsSUFBSTtvQ0FFdEIsdUNBQXVDO29DQUN2QyxJQUFJM1gsS0FBS3NELFFBQVEsRUFBRTt3Q0FDakIsSUFBSSxDQUFDb0MsS0FBSyxDQUFDZ0IsaUJBQWlCLENBQUMxRyxLQUFLc0QsUUFBUTtvQ0FDNUM7b0NBRUEsT0FBTzBrQixXQUFXdmEsTUFBTSxDQUFDLFVBQVV6TjtnQ0FFckMsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9nb0IsV0FBV2xhLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdnYSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNqYSxXQUFXb2EsSUFBSSxFQUFFQyxJQUFJO29CQUM1QixPQUFPTCxZQUFZOWxCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNqQztnQkFFQSxPQUFPMkw7WUFDVDtRQVVGO1FBQUc7WUFDRHhMLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSStoQixxQkFBcUJycUIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU2txQixVQUFVN1EsT0FBTztvQkFDMUcsSUFBSXhELE1BQ0FzVSxVQUFVbm1CO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTb3FCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXaGIsSUFBSSxHQUFHZ2IsV0FBVy9hLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h1RyxPQUFPc1UsUUFBUTlvQixNQUFNLEdBQUcsS0FBSzhvQixPQUFPLENBQUMsRUFBRSxLQUFLdGtCLFlBQVlza0IsT0FBTyxDQUFDLEVBQUUsR0FBRyxFQUFFO29DQUN2RUUsV0FBVy9hLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUc3QixHQUFHLENBQUMsSUFBSSxDQUFDNkIsU0FBUyxHQUFHeVEsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUMsSUFBSSxDQUFDL0YsSUFBSSxFQUFFLEtBQUsrRixNQUFNLENBQUMsSUFBSSxDQUFDekgsRUFBRSxFQUFFLHFCQUFxQjt3Q0FDOUhvWCxTQUFTbkQsZ0JBQWdCQSxnQkFBZ0IsQ0FBQyxHQUFHSSxVQUFVLENBQUMsR0FBRzs0Q0FDekR4RCxNQUFNRCxtQkFBbUJDO3dDQUMzQjtvQ0FDRjtnQ0FFRixLQUFLO29DQUNILE9BQU93VSxXQUFXOWEsTUFBTSxDQUFDLFVBQVU4YSxXQUFXNVEsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU80USxXQUFXemEsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR3NhLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksa0JBQWtCQyxJQUFJO29CQUM3QixPQUFPTixtQkFBbUJwbUIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3hDO2dCQUVBLE9BQU9zbUI7WUFDVDtRQVVGO1FBQUc7WUFDRG5tQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNzaUIsYUFBYWpFLFVBQVUsRUFBRWxOLE9BQU87Z0JBQzlDLE9BQU8sSUFBSSxDQUFDOVAsU0FBUyxHQUFHN0IsR0FBRyxDQUFDLElBQUksQ0FBQzZCLFNBQVMsR0FBR3lRLE9BQU8sR0FBRyxhQUFhdk4sTUFBTSxDQUFDOFosWUFBWSxlQUFldE4sZ0JBQWdCLENBQUMsR0FBR0k7WUFDNUg7UUFTRjtRQUFHO1lBQ0RsVixLQUFLO1lBQ0wrRCxPQUFPLFNBQVN1aUIsZ0JBQWdCQyxVQUFVO2dCQUN4QyxPQUFPLElBQUksQ0FBQ25oQixTQUFTLEdBQUc3QixHQUFHLENBQUMsSUFBSSxDQUFDd1QsV0FBVyxLQUFLLGFBQWE7b0JBQzVEeVAsS0FBS0QsV0FBVzlSLElBQUksQ0FBQztnQkFDdkI7WUFDRjtRQU1GO1FBQUc7WUFDRHpVLEtBQUs7WUFDTCtELE9BQU8sU0FBUzBpQjtnQkFDZCxJQUFJQyxrQkFBa0IsSUFBSSxDQUFDdGhCLFNBQVMsSUFDaEN3QixTQUFTOGYsZ0JBQWdCOWYsTUFBTTtnQkFFbkMsSUFBSUEsUUFBUTtvQkFDVixPQUFPLElBQUksQ0FBQ3ZELEtBQUssQ0FBQ1QsSUFBSSxDQUFDZ0UsT0FBTyxHQUFHLElBQUksQ0FBQ3ZELEtBQUssQ0FBQ1QsSUFBSSxDQUFDZ0UsT0FBTyxDQUFDK2YsU0FBUyxHQUFHO2dCQUN2RTtZQUNGO1FBQ0Y7UUFBRztZQUNEM21CLEtBQUs7WUFDTCtELE9BQU8sU0FBUzZpQixzQkFBc0JobUIsT0FBTztnQkFDM0MsSUFBSWltQixlQUFlQyxnQkFBZ0JDLGFBQWFDO2dCQUVoRCxJQUFJcG1CLFFBQVFxRSxRQUFRLEVBQUUsT0FBTztnQkFDN0IsSUFBSXJFLFFBQVFxbUIsTUFBTSxFQUFFLE9BQU87Z0JBQzNCLElBQUlybUIsUUFBUXVCLFNBQVMsSUFBSSxDQUFDdkIsUUFBUTRFLGVBQWUsRUFBRSxPQUFPO2dCQUMxRCxJQUFJLENBQUMsQ0FBQ3FoQixnQkFBZ0JqbUIsUUFBUUcsSUFBSSxNQUFNLFFBQVE4bEIsa0JBQWtCLEtBQUssSUFBSSxLQUFLLElBQUlBLGNBQWNobUIsRUFBRSxNQUFNLElBQUksQ0FBQ3VFLFNBQVMsR0FBR3dCLE1BQU0sRUFBRSxPQUFPO2dCQUMxSSxJQUFJLENBQUNrZ0IsaUJBQWlCbG1CLFFBQVFHLElBQUksTUFBTSxRQUFRK2xCLG1CQUFtQixLQUFLLEtBQUtBLGVBQWVqbUIsRUFBRSxJQUFJLElBQUksQ0FBQ3VFLFNBQVMsR0FBRzhoQixjQUFjLENBQUN0bUIsUUFBUUcsSUFBSSxDQUFDRixFQUFFLEdBQUcsT0FBTztnQkFDM0osSUFBSUQsUUFBUTJCLElBQUksS0FBSyxVQUFVLE9BQU8sT0FBTyxxREFBcUQ7Z0JBRWxHLElBQUk0SyxNQUFNQyxPQUFPLENBQUMsQ0FBQzJaLGNBQWMsSUFBSSxDQUFDcHBCLElBQUksTUFBTSxRQUFRb3BCLGdCQUFnQixLQUFLLElBQUksS0FBSyxJQUFJQSxZQUFZSSxnQkFBZ0IsS0FBSyxDQUFFLEVBQUNILGNBQWMsSUFBSSxDQUFDcnBCLElBQUksTUFBTSxRQUFRcXBCLGdCQUFnQixLQUFLLEtBQUtBLFlBQVlHLGdCQUFnQixDQUFDQyxRQUFRLENBQUMsY0FBYSxHQUFJLE9BQU87Z0JBQzNQLElBQUksSUFBSSxDQUFDcEYsVUFBVSxHQUFHcUYsS0FBSyxFQUFFLE9BQU87Z0JBQ3BDLE9BQU87WUFDVDtRQVNGO1FBQUc7WUFDRHJuQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVN1akIsWUFBWWIsUUFBUTtnQkFDbEMsSUFBSSxDQUFDQSxVQUFVLE9BQU8sSUFBSSxDQUFDcGpCLEtBQUssQ0FBQ0YsV0FBVztnQkFDNUMsSUFBSW9rQixRQUFRO2dCQUVaLElBQUssSUFBSWpwQixJQUFJLEdBQUdBLElBQUksSUFBSSxDQUFDK0UsS0FBSyxDQUFDbUcsY0FBYyxDQUFDdE0sTUFBTSxFQUFFb0IsS0FBSyxFQUFHO29CQUM1RCxJQUFJc0MsVUFBVSxJQUFJLENBQUN5QyxLQUFLLENBQUNtRyxjQUFjLENBQUNsTCxFQUFFO29CQUUxQyxJQUFJc0MsUUFBUWtCLFVBQVUsR0FBRzJrQixZQUFZLElBQUksQ0FBQ0cscUJBQXFCLENBQUNobUIsVUFBVTt3QkFDeEUybUI7b0JBQ0Y7Z0JBQ0Y7Z0JBRUEsT0FBT0E7WUFDVDtRQU9GO1FBQUc7WUFDRHZuQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVN5akI7Z0JBQ2QsSUFBSWYsV0FBVyxJQUFJLENBQUNBLFFBQVE7Z0JBQzVCLElBQUk3ZixTQUFTLElBQUksQ0FBQ3hCLFNBQVMsR0FBR3dCLE1BQU07Z0JBQ3BDLElBQUkyZ0IsUUFBUTtnQkFFWixJQUFLLElBQUlqcEIsSUFBSSxHQUFHQSxJQUFJLElBQUksQ0FBQytFLEtBQUssQ0FBQ21HLGNBQWMsQ0FBQ3RNLE1BQU0sRUFBRW9CLEtBQUssRUFBRztvQkFDNUQsSUFBSW1wQjtvQkFFSixJQUFJN21CLFVBQVUsSUFBSSxDQUFDeUMsS0FBSyxDQUFDbUcsY0FBYyxDQUFDbEwsRUFBRTtvQkFFMUMsSUFBSSxJQUFJLENBQUNzb0IscUJBQXFCLENBQUNobUIsWUFBYSxFQUFDNmxCLFlBQVk3bEIsUUFBUWtCLFVBQVUsR0FBRzJrQixRQUFPLEtBQU0sQ0FBQ2dCLHdCQUF3QjdtQixRQUFRcUIsZUFBZSxNQUFNLFFBQVF3bEIsMEJBQTBCLEtBQUssS0FBS0Esc0JBQXNCdmIsSUFBSSxDQUFDLFNBQVVuTCxJQUFJO3dCQUNwTyxPQUFPQSxLQUFLRixFQUFFLEtBQUsrRjtvQkFDckIsSUFBSTt3QkFDRjJnQjtvQkFDRjtnQkFDRjtnQkFFQSxPQUFPQTtZQUNUO1FBUUY7UUFBRztZQUNEdm5CLEtBQUs7WUFDTCtELE9BQ0E7Ozs7Ozs7S0FPQyxHQUNEO2dCQUNFLElBQUkyakIsU0FBU2pzQiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTOHJCLFVBQVV6UyxPQUFPO29CQUM5RixJQUFJMFMsYUFBYUM7b0JBRWpCLElBQUl6akIsaUNBQ0EwakIsVUFDQXprQixPQUNBMGtCLFlBQ0FDLGdCQUNBQyx1QkFDQXJpQixZQUNBc2lCLHdCQUNBQyxVQUFVdG9CO29CQUVkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTdXNCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXbmQsSUFBSSxHQUFHbWQsV0FBV2xkLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gvRyxrQ0FBa0MrakIsUUFBUWpyQixNQUFNLEdBQUcsS0FBS2lyQixPQUFPLENBQUMsRUFBRSxLQUFLem1CLFlBQVl5bUIsT0FBTyxDQUFDLEVBQUUsR0FBRztvQ0FDaEdFLFdBQVdsZCxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDL0YsU0FBUyxHQUFHb1QsU0FBUztnQ0FFbkMsS0FBSztvQ0FDSHNQLFdBQVcsR0FBR3hmLE1BQU0sQ0FBQyxJQUFJLENBQUNsRCxTQUFTLEdBQUd5USxPQUFPLEVBQUUsY0FBY3ZOLE1BQU0sQ0FBQyxJQUFJLENBQUMvRixJQUFJO29DQUU3RSxJQUFJLElBQUksQ0FBQzFCLEVBQUUsRUFBRTt3Q0FDWGluQixZQUFZLElBQUl4ZixNQUFNLENBQUMsSUFBSSxDQUFDekgsRUFBRTtvQ0FDaEM7b0NBRUF3bkIsV0FBV2xkLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUNnUixXQUFXLFVBQVVoVCxnQkFBZ0I7d0NBQ2hFblgsTUFBTSxJQUFJLENBQUNzWSxLQUFLO3dDQUNoQjVTLE9BQU87b0NBQ1QsR0FBRzZSO2dDQUVMLEtBQUs7b0NBQ0g3UixRQUFRZ2xCLFdBQVcvUyxJQUFJO29DQUV2QiwwQ0FBMEM7b0NBQzFDLElBQUksQ0FBQyxJQUFJLENBQUN6VSxFQUFFLEVBQUU7d0NBQ1osSUFBSSxDQUFDQSxFQUFFLEdBQUd3QyxNQUFNaEQsT0FBTyxDQUFDUSxFQUFFO3dDQUMxQixJQUFJLENBQUNnQixHQUFHLEdBQUd3QixNQUFNaEQsT0FBTyxDQUFDd0IsR0FBRyxFQUFFLCtCQUErQjt3Q0FFN0RrbUIsYUFBYTFrQixNQUFNSixPQUFPLENBQUNuRyxHQUFHLENBQUMsU0FBVXdyQixNQUFNOzRDQUM3QyxJQUFJQzs0Q0FFSixPQUFPRCxPQUFPemhCLE9BQU8sSUFBSyxFQUFDMGhCLGVBQWVELE9BQU92bkIsSUFBSSxNQUFNLFFBQVF3bkIsaUJBQWlCLEtBQUssSUFBSSxLQUFLLElBQUlBLGFBQWExbkIsRUFBRTt3Q0FDdkgsR0FBRzZRLElBQUksR0FBRytDLElBQUksQ0FBQzt3Q0FDZnVULGlCQUFpQixHQUFHMWYsTUFBTSxDQUFDLElBQUksQ0FBQy9GLElBQUksRUFBRSxjQUFjK0YsTUFBTSxDQUFDeWY7d0NBRTNELElBQUlDLGtCQUFrQixJQUFJLENBQUM1aUIsU0FBUyxHQUFHb2pCLGNBQWMsRUFBRTs0Q0FDckQsd0VBQXdFOzRDQUN4RSx5QkFBeUI7NENBQ3pCLE9BQU8sSUFBSSxDQUFDcGpCLFNBQVMsR0FBR29qQixjQUFjLENBQUNSLGVBQWU7d0NBQ3hEO3dDQUVBLElBQUksQ0FBRSxLQUFJLENBQUNubUIsR0FBRyxJQUFJLElBQUksQ0FBQ3VELFNBQVMsR0FBR29qQixjQUFjLEdBQUc7NENBQ2xELElBQUksQ0FBQ3BqQixTQUFTLEdBQUdvakIsY0FBYyxDQUFDLElBQUksQ0FBQzNtQixHQUFHLENBQUMsR0FBRyxJQUFJO3dDQUNsRDtvQ0FDRjtvQ0FFQSxJQUFJLENBQUN1RCxTQUFTLEdBQUdxakIsaUJBQWlCLENBQUNwbEIsTUFBTWhELE9BQU8sR0FBRyx3Q0FBd0M7b0NBRzNGNG5CLHdCQUF3QixJQUFJLENBQUNTLGdCQUFnQixDQUFDcmxCLE9BQU9lLGtDQUFrQ3dCLGFBQWFxaUIsc0JBQXNCcmlCLFVBQVU7b0NBQ3BJc2lCLHlCQUF5QjFzQiwrRUFBa0JBLENBQUM2SCxNQUFNaEQsT0FBTyxDQUFDOG1CLGdCQUFnQixJQUFJLEVBQUUsRUFBRXpWLElBQUksR0FBRytDLElBQUksT0FBT2paLCtFQUFrQkEsQ0FBQzJSLE1BQU1DLE9BQU8sQ0FBQyxDQUFDd2EsY0FBYyxJQUFJLENBQUNqcUIsSUFBSSxNQUFNLFFBQVFpcUIsZ0JBQWdCLEtBQUssSUFBSSxLQUFLLElBQUlBLFlBQVlULGdCQUFnQixJQUFJLENBQUNVLGNBQWMsSUFBSSxDQUFDbHFCLElBQUksTUFBTSxRQUFRa3FCLGdCQUFnQixLQUFLLElBQUksS0FBSyxJQUFJQSxZQUFZVixnQkFBZ0IsR0FBRyxFQUFFLEVBQUV6VixJQUFJLEdBQUcrQyxJQUFJO29DQUNuVyxJQUFJLENBQUM5VyxJQUFJLEdBQUcwRixNQUFNaEQsT0FBTztvQ0FDekIsSUFBSSxDQUFDOFYsV0FBVyxHQUFHO29DQUVuQixJQUFJK1Isd0JBQXdCO3dDQUMxQixJQUFJLENBQUM5aUIsU0FBUyxHQUFHOEUsYUFBYSxDQUFDOzRDQUM3QjNILE1BQU07NENBQ05WLEtBQUssSUFBSSxDQUFDQSxHQUFHOzRDQUNic2xCLGtCQUFrQjlqQixNQUFNaEQsT0FBTyxDQUFDOG1CLGdCQUFnQjt3Q0FDbEQ7b0NBQ0Y7b0NBRUEsSUFBSSxDQUFDL2hCLFNBQVMsR0FBRzhFLGFBQWEsQ0FBQzt3Q0FDN0IzSCxNQUFNO3dDQUNOb21CLGlCQUFpQjs0Q0FDZkMsVUFBVTtnREFBQ3ZsQjs2Q0FBTTs0Q0FDakJ3bEIsb0JBQW9CampCLFdBQVc5QixRQUFRO3dDQUN6QztvQ0FDRjtvQ0FDQSxPQUFPdWtCLFdBQVdqZCxNQUFNLENBQUMsVUFBVS9IO2dDQUVyQyxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dsQixXQUFXNWMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2tjLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU3JjLE1BQU13ZCxJQUFJO29CQUNqQixPQUFPcEIsT0FBT2hvQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDNUI7Z0JBRUEsT0FBT3lMO1lBQ1Q7UUFTRjtRQUFHO1lBQ0R0TCxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlnbEIsV0FBV3R0Qiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTbXRCLFVBQVVDLFlBQVksRUFBRS9ULE9BQU87b0JBQzlHLE9BQU9yWixzRUFBd0IsQ0FBQyxTQUFTcXRCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXamUsSUFBSSxHQUFHaWUsV0FBV2hlLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gsSUFBSSxDQUFDeU0saUJBQWlCO29DQUV0QnVSLFdBQVdoZSxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDL0YsU0FBUyxHQUFHZ2tCLE9BQU8sQ0FBQ0gsY0FBY25VLGdCQUFnQkEsZ0JBQWdCLENBQUMsR0FBR0ksVUFBVSxDQUFDLEdBQUc7d0NBQzlGM1MsTUFBTSxJQUFJLENBQUNBLElBQUk7d0NBQ2YxQixJQUFJLElBQUksQ0FBQ0EsRUFBRTtvQ0FDYjtnQ0FFRixLQUFLO29DQUNILE9BQU9zb0IsV0FBVy9kLE1BQU0sQ0FBQyxVQUFVK2QsV0FBVzdULElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPNlQsV0FBVzFkLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUd1ZCxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJLFFBQVFDLElBQUksRUFBRUMsSUFBSTtvQkFDekIsT0FBT1AsU0FBU3JwQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDOUI7Z0JBRUEsT0FBT3VwQjtZQUNUO1FBVUY7UUFBRztZQUNEcHBCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXdsQixRQUFROXRCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVMydEI7b0JBQzVFLElBQUlDLFFBQ0FDLGNBQ0FDLFVBQVU5cEI7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVMrdEIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVczZSxJQUFJLEdBQUcyZSxXQUFXMWUsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHNlLFNBQVNFLFFBQVF6c0IsTUFBTSxHQUFHLEtBQUt5c0IsT0FBTyxDQUFDLEVBQUUsS0FBS2pvQixZQUFZaW9CLE9BQU8sQ0FBQyxFQUFFLEdBQUc7b0NBQ3ZFRCxlQUFlQyxRQUFRenNCLE1BQU0sR0FBRyxLQUFLeXNCLE9BQU8sQ0FBQyxFQUFFLEtBQUtqb0IsWUFBWWlvQixPQUFPLENBQUMsRUFBRSxHQUFHO29DQUU3RSxJQUFJLENBQUMvUixpQkFBaUI7b0NBRXRCaVMsV0FBVzFlLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUcwUixJQUFJLENBQUMsR0FBR3hPLE1BQU0sQ0FBQyxJQUFJLENBQUN5TyxXQUFXLElBQUksVUFBVTt3Q0FDbkVsUSxTQUFTNGlCO3dDQUNUSyxlQUFlSjtvQ0FDakI7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPRyxXQUFXemUsTUFBTSxDQUFDLFVBQVV5ZSxXQUFXdlUsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU91VSxXQUFXcGUsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRytkLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU087b0JBQ1AsT0FBT1IsTUFBTTdwQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDM0I7Z0JBRUEsT0FBT2txQjtZQUNUO1FBUUY7UUFBRztZQUNEL3BCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWltQixRQUFRdnVCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNvdUI7b0JBQzVFLElBQUlSLFFBQ0FTLFVBQVVycUI7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNzdUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsZixJQUFJLEdBQUdrZixXQUFXamYsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHNlLFNBQVNTLFFBQVFodEIsTUFBTSxHQUFHLEtBQUtndEIsT0FBTyxDQUFDLEVBQUUsS0FBS3hvQixZQUFZd29CLE9BQU8sQ0FBQyxFQUFFLEdBQUc7b0NBRXZFLElBQUksQ0FBQ3RTLGlCQUFpQjtvQ0FFdEJ3UyxXQUFXamYsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBRzBSLElBQUksQ0FBQyxHQUFHeE8sTUFBTSxDQUFDLElBQUksQ0FBQ3lPLFdBQVcsSUFBSSxVQUFVO3dDQUNuRWxRLFNBQVM0aUI7b0NBQ1g7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPVyxXQUFXaGYsTUFBTSxDQUFDLFVBQVVnZixXQUFXOVUsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU84VSxXQUFXM2UsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR3dlLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0k7b0JBQ1AsT0FBT0wsTUFBTXRxQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDM0I7Z0JBRUEsT0FBT3dxQjtZQUNUO1FBUUY7UUFBRztZQUNEcnFCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXVtQixhQUFhN3VCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVMwdUIsVUFBVXRCLFlBQVk7b0JBQ3ZHLE9BQU9wdEIsc0VBQXdCLENBQUMsU0FBUzJ1QixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3ZmLElBQUksR0FBR3VmLFdBQVd0ZixJQUFJO2dDQUN2QyxLQUFLO29DQUNILElBQUksQ0FBQ3lNLGlCQUFpQjtvQ0FFdEI2UyxXQUFXdGYsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBR3NsQixTQUFTLENBQUN6QixjQUFjO3dDQUM5QzFtQixNQUFNLElBQUksQ0FBQ0EsSUFBSTt3Q0FDZjFCLElBQUksSUFBSSxDQUFDQSxFQUFFO29DQUNiO2dDQUVGLEtBQUs7b0NBQ0gsT0FBTzRwQixXQUFXcmYsTUFBTSxDQUFDLFVBQVVxZixXQUFXblYsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9tVixXQUFXaGYsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzhlLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0csVUFBVUMsSUFBSTtvQkFDckIsT0FBT0wsV0FBVzVxQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDaEM7Z0JBRUEsT0FBTzZxQjtZQUNUO1FBU0Y7UUFBRztZQUNEMXFCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTZtQixhQUFhbnZCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNndkIsVUFBVTVCLFlBQVksRUFBRS9ULE9BQU87b0JBQ2hILE9BQU9yWixzRUFBd0IsQ0FBQyxTQUFTaXZCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXN2YsSUFBSSxHQUFHNmYsV0FBVzVmLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gsSUFBSSxDQUFDeU0saUJBQWlCO29DQUV0Qm1ULFdBQVc1ZixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDL0YsU0FBUyxHQUFHNGxCLFNBQVMsQ0FBQy9CLGNBQWNuVSxnQkFBZ0JBLGdCQUFnQixDQUFDLEdBQUdJLFVBQVUsQ0FBQyxHQUFHO3dDQUNoRzNTLE1BQU0sSUFBSSxDQUFDQSxJQUFJO3dDQUNmMUIsSUFBSSxJQUFJLENBQUNBLEVBQUU7b0NBQ2I7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPa3FCLFdBQVczZixNQUFNLENBQUMsVUFBVTJmLFdBQVd6VixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3lWLFdBQVd0ZixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHb2YsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTRyxVQUFVQyxJQUFJLEVBQUVDLElBQUk7b0JBQzNCLE9BQU9OLFdBQVdsckIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ2hDO2dCQUVBLE9BQU9tckI7WUFDVDtRQVFGO1FBQUc7WUFDRGhyQixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlvbkIsbUJBQW1CMXZCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN1dkIsVUFBVW5DLFlBQVk7b0JBQzdHLE9BQU9wdEIsc0VBQXdCLENBQUMsU0FBU3d2QixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3BnQixJQUFJLEdBQUdvZ0IsV0FBV25nQixJQUFJO2dDQUN2QyxLQUFLO29DQUNILElBQUksQ0FBQ3lNLGlCQUFpQjtvQ0FFdEIwVCxXQUFXbmdCLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMvRixTQUFTLEdBQUdtbUIsZUFBZSxDQUFDdEMsY0FBYzt3Q0FDcEQxbUIsTUFBTSxJQUFJLENBQUNBLElBQUk7d0NBQ2YxQixJQUFJLElBQUksQ0FBQ0EsRUFBRTtvQ0FDYjtnQ0FFRixLQUFLO29DQUNILE9BQU95cUIsV0FBV2xnQixNQUFNLENBQUMsVUFBVWtnQixXQUFXaFcsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9nVyxXQUFXN2YsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzJmLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0csZ0JBQWdCQyxJQUFJO29CQUMzQixPQUFPTCxpQkFBaUJ6ckIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3RDO2dCQUVBLE9BQU8wckI7WUFDVDtRQVFGO1FBQUc7WUFDRHZyQixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUkwbkIsY0FBY2h3Qiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNnZCLFVBQVV4VyxPQUFPO29CQUNuRyxPQUFPclosc0VBQXdCLENBQUMsU0FBUzh2QixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzFnQixJQUFJLEdBQUcwZ0IsV0FBV3pnQixJQUFJO2dDQUN2QyxLQUFLO29DQUNIeWdCLFdBQVd6Z0IsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQy9GLFNBQVMsR0FBRzBSLElBQUksQ0FBQyxJQUFJLENBQUNDLFdBQVcsS0FBSyxTQUFTN0I7Z0NBRTdELEtBQUs7b0NBQ0gsT0FBTzBXLFdBQVd4Z0IsTUFBTSxDQUFDLFVBQVV3Z0IsV0FBV3RXLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPc1csV0FBV25nQixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHaWdCLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0csV0FBV0MsSUFBSTtvQkFDdEIsT0FBT0wsWUFBWS9yQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDakM7Z0JBRUEsT0FBT2dzQjtZQUNUO1FBWUY7UUFBRztZQUNEN3JCLEtBQUs7WUFDTCtELE9BQU8sU0FBU2dvQixHQUFHQyxnQkFBZ0IsRUFBRUMsaUJBQWlCO2dCQUNwRCxJQUFJM2xCLFNBQVMsSUFBSTtnQkFFakIsSUFBSXRHLE1BQU1pc0Isb0JBQW9CRCxtQkFBbUI7Z0JBQ2pELElBQUludkIsV0FBV292QixvQkFBb0JBLG9CQUFvQkQ7Z0JBRXZELElBQUksQ0FBRWhzQixDQUFBQSxPQUFPLElBQUksQ0FBQ3dWLFNBQVMsR0FBRztvQkFDNUIsSUFBSSxDQUFDQSxTQUFTLENBQUN4VixJQUFJLEdBQUcsRUFBRTtnQkFDMUI7Z0JBRUEsSUFBSSxDQUFDZ1csT0FBTyxDQUFDK08sTUFBTSxDQUFDLFFBQVEsMEJBQTBCemMsTUFBTSxDQUFDdEksS0FBSyxzQkFBc0JzSSxNQUFNLENBQUMsSUFBSSxDQUFDekcsR0FBRyxHQUFHO29CQUN4R21qQixNQUFNO3dCQUFDO3dCQUFTO3FCQUFVO29CQUMxQjNrQixTQUFTLElBQUk7Z0JBQ2Y7Z0JBRUEsSUFBSSxDQUFDbVYsU0FBUyxDQUFDeFYsSUFBSSxDQUFDUCxJQUFJLENBQUM1QztnQkFDekIsT0FBTztvQkFDTHF2QixhQUFhLFNBQVNBO3dCQUNwQjVsQixPQUFPMFAsT0FBTyxDQUFDK08sTUFBTSxDQUFDLFFBQVEseUJBQXlCemMsTUFBTSxDQUFDdEksS0FBSyx3QkFBd0JzSSxNQUFNLENBQUNoQyxPQUFPekUsR0FBRyxHQUFHOzRCQUM3R21qQixNQUFNO2dDQUFDO2dDQUFTOzZCQUFVOzRCQUMxQjNrQixTQUFTaUc7d0JBQ1g7d0JBRUFBLE9BQU9rUCxTQUFTLENBQUN4VixJQUFJLEdBQUdzRyxPQUFPa1AsU0FBUyxDQUFDeFYsSUFBSSxDQUFDWCxNQUFNLENBQUMsU0FBVThzQixFQUFFOzRCQUMvRCxPQUFPQSxPQUFPdHZCO3dCQUNoQjtvQkFDRjtnQkFDRjtZQUNGO1FBTUY7UUFBRztZQUNEbUQsS0FBSztZQUNMK0QsT0FBTyxTQUFTcW9CLElBQUlKLGdCQUFnQixFQUFFQyxpQkFBaUI7Z0JBQ3JELElBQUlqc0IsTUFBTWlzQixvQkFBb0JELG1CQUFtQjtnQkFDakQsSUFBSW52QixXQUFXb3ZCLG9CQUFvQkEsb0JBQW9CRDtnQkFFdkQsSUFBSSxDQUFFaHNCLENBQUFBLE9BQU8sSUFBSSxDQUFDd1YsU0FBUyxHQUFHO29CQUM1QixJQUFJLENBQUNBLFNBQVMsQ0FBQ3hWLElBQUksR0FBRyxFQUFFO2dCQUMxQjtnQkFFQSxJQUFJLENBQUNnVyxPQUFPLENBQUMrTyxNQUFNLENBQUMsUUFBUSx5QkFBeUJ6YyxNQUFNLENBQUN0SSxLQUFLLHdCQUF3QnNJLE1BQU0sQ0FBQyxJQUFJLENBQUN6RyxHQUFHLEdBQUc7b0JBQ3pHbWpCLE1BQU07d0JBQUM7d0JBQVM7cUJBQVU7b0JBQzFCM2tCLFNBQVMsSUFBSTtnQkFDZjtnQkFFQSxJQUFJLENBQUNtVixTQUFTLENBQUN4VixJQUFJLEdBQUcsSUFBSSxDQUFDd1YsU0FBUyxDQUFDeFYsSUFBSSxDQUFDWCxNQUFNLENBQUMsU0FBVTBFLEtBQUs7b0JBQzlELE9BQU9BLFVBQVVsSDtnQkFDbkI7WUFDRixFQUFFLHdEQUF3RDtRQUU1RDtRQUFHO1lBQ0RtRCxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNzb0Isb0JBQW9COVcsS0FBSztnQkFDdkMsSUFBSStXLGFBQWFDLGNBQWNDLGNBQWNDLGNBQWNDLGNBQWNDLGdCQUFnQkMsZUFBZUMsY0FBY0MsZUFBZUMsdUJBQXVCQyxlQUFlQztnQkFFM0ssSUFBSTVzQixVQUFVLElBQUk7Z0JBRWxCLElBQUksQ0FBQzJWLE9BQU8sQ0FBQytPLE1BQU0sQ0FBQyxRQUFRLDBEQUEwRHpjLE1BQU0sQ0FBQ2lOLE1BQU1oVCxJQUFJLEVBQUUsVUFBVStGLE1BQU0sQ0FBQyxJQUFJLENBQUN6RyxHQUFHLEdBQUc7b0JBQ25JbWpCLE1BQU07d0JBQUM7d0JBQVM7cUJBQVU7b0JBQzFCM2tCLFNBQVMsSUFBSTtnQkFDZjtnQkFFQSxJQUFJNnNCLGVBQWU3c0IsUUFBUWdELEtBQUs7Z0JBRWhDLE9BQVFrUyxNQUFNaFQsSUFBSTtvQkFDaEIsS0FBSzt3QkFDSCxJQUFJLENBQUMrcEIsY0FBYy9XLE1BQU14VSxJQUFJLE1BQU0sUUFBUXVyQixnQkFBZ0IsS0FBSyxLQUFLQSxZQUFZenJCLEVBQUUsRUFBRTs0QkFDbkZxc0IsYUFBYXZxQixNQUFNLENBQUM0UyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUMsR0FBRzBVO3dCQUN2Qzt3QkFFQTtvQkFFRixLQUFLO3dCQUNILElBQUksQ0FBQ2dYLGVBQWVoWCxNQUFNeFUsSUFBSSxNQUFNLFFBQVF3ckIsaUJBQWlCLEtBQUssS0FBS0EsYUFBYTFyQixFQUFFLEVBQUU7NEJBQ3RGLE9BQU9xc0IsYUFBYXZxQixNQUFNLENBQUM0UyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUM7d0JBQzNDO3dCQUVBO29CQUVGLEtBQUs7d0JBQ0gsSUFBSSxDQUFDMnJCLGVBQWVqWCxNQUFNeFUsSUFBSSxNQUFNLFFBQVF5ckIsaUJBQWlCLEtBQUssS0FBS0EsYUFBYTNyQixFQUFFLElBQUkwVSxNQUFNelQsVUFBVSxFQUFFOzRCQUMxRyxJQUFJcXJCLGNBQWNDOzRCQUVsQkYsYUFBYXRxQixJQUFJLENBQUMyUyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUMsR0FBRztnQ0FDakMsMkdBQTJHO2dDQUMzRzhsQixXQUFXLElBQUlyakIsS0FBS2lTLE1BQU16VCxVQUFVO2dDQUNwQ3VyQixzQkFBc0I5WCxNQUFNOFgsb0JBQW9CO2dDQUNoRHRzQixNQUFNd1UsTUFBTXhVLElBQUk7Z0NBQ2hCdXNCLGlCQUFpQjs0QkFDbkI7NEJBRUEsSUFBSSxDQUFDLENBQUNILGVBQWU1WCxNQUFNeFUsSUFBSSxNQUFNLFFBQVFvc0IsaUJBQWlCLEtBQUssSUFBSSxLQUFLLElBQUlBLGFBQWF0c0IsRUFBRSxNQUFPLEVBQUN1c0IsdUJBQXVCLElBQUksQ0FBQ2hvQixTQUFTLEdBQUdyRSxJQUFJLE1BQU0sUUFBUXFzQix5QkFBeUIsS0FBSyxJQUFJLEtBQUssSUFBSUEscUJBQXFCdnNCLEVBQUUsR0FBRztnQ0FDcE9xc0IsYUFBYS9wQixXQUFXLEdBQUc7NEJBQzdCO3dCQUNGO3dCQUVBO29CQUVGLEtBQUs7b0JBQ0wsS0FBSzt3QkFDSCxJQUFJLENBQUNzcEIsZUFBZWxYLE1BQU14VSxJQUFJLE1BQU0sUUFBUTByQixpQkFBaUIsS0FBSyxLQUFLQSxhQUFhNXJCLEVBQUUsRUFBRTs0QkFDdEZxc0IsYUFBYWxxQixRQUFRLENBQUN1UyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUMsR0FBRzBVLE1BQU14VSxJQUFJO3dCQUNuRDt3QkFFQTtvQkFFRixLQUFLO3dCQUNILElBQUksQ0FBQzJyQixlQUFlblgsTUFBTXhVLElBQUksTUFBTSxRQUFRMnJCLGlCQUFpQixLQUFLLEtBQUtBLGFBQWE3ckIsRUFBRSxFQUFFOzRCQUN0RixPQUFPcXNCLGFBQWFscUIsUUFBUSxDQUFDdVMsTUFBTXhVLElBQUksQ0FBQ0YsRUFBRSxDQUFDO3dCQUM3Qzt3QkFFQTtvQkFFRixLQUFLO3dCQUNILElBQUkwVSxNQUFNM1UsT0FBTyxFQUFFOzRCQUNqQixJQUFJLENBQUMyc0IsNEJBQTRCLENBQUNoWTs0QkFFbEMsSUFBSUEsTUFBTWlZLFdBQVcsRUFBRU4sYUFBYW5rQixhQUFhLENBQUN3TSxNQUFNM1UsT0FBTztpQ0FBT3NzQixhQUFhbHBCLGdCQUFnQixDQUFDdVIsTUFBTTNVLE9BQU8sRUFBRSxPQUFPOzRCQUMxSHNzQixhQUFham1CLDZCQUE2QixDQUFDc08sTUFBTTNVLE9BQU87NEJBRXhELElBQUkyVSxNQUFNM1UsT0FBTyxDQUFDZ0gsTUFBTSxFQUFFO2dDQUN4QnNsQixhQUFhbG5CLG1CQUFtQixDQUFDdVAsTUFBTTNVLE9BQU87NEJBQ2hEO3dCQUNGO3dCQUVBO29CQUVGLEtBQUs7d0JBQ0gsSUFBSTJVLE1BQU0zVSxPQUFPLEVBQUU7NEJBQ2pCLElBQUk2c0IsY0FBY0MsdUJBQXVCQzs0QkFFekMsOEhBQThILEdBQzlILElBQUlDLGFBQWEsQ0FBQyxDQUFDSCxlQUFlbFksTUFBTXhVLElBQUksTUFBTSxRQUFRMHNCLGlCQUFpQixLQUFLLElBQUksS0FBSyxJQUFJQSxhQUFhNXNCLEVBQUUsTUFBTyxFQUFDNnNCLHdCQUF3QixJQUFJLENBQUN0b0IsU0FBUyxHQUFHckUsSUFBSSxNQUFNLFFBQVEyc0IsMEJBQTBCLEtBQUssSUFBSSxLQUFLLElBQUlBLHNCQUFzQjdzQixFQUFFOzRCQUNuUCxJQUFJZ3RCLGtCQUFrQnRZLE1BQU0zVSxPQUFPLENBQUN1QixTQUFTLElBQUksQ0FBQ29ULE1BQU0zVSxPQUFPLENBQUM0RSxlQUFlOzRCQUUvRSxJQUFJLElBQUksQ0FBQ25DLEtBQUssQ0FBQzdDLFVBQVUsSUFBSXF0QixpQkFBaUI7Z0NBQzVDWCxhQUFhbHBCLGdCQUFnQixDQUFDdVIsTUFBTTNVLE9BQU8sRUFBRWd0Qjs0QkFDL0M7NEJBRUEsSUFBSXJZLE1BQU0zVSxPQUFPLENBQUNnSCxNQUFNLEVBQUU7Z0NBQ3hCc2xCLGFBQWFwbkIsZ0JBQWdCLENBQUN5UCxNQUFNM1UsT0FBTzs0QkFDN0M7NEJBRUEsSUFBSSxDQUFDK3NCLGVBQWVwWSxNQUFNeFUsSUFBSSxNQUFNLFFBQVE0c0IsaUJBQWlCLEtBQUssS0FBS0EsYUFBYTlzQixFQUFFLEVBQUU7Z0NBQ3RGLElBQUssSUFBSTRvQixVQUFVeUQsYUFBYXRxQixJQUFJLENBQUU7b0NBQ3BDLElBQUk2bUIsV0FBV2xVLE1BQU14VSxJQUFJLENBQUNGLEVBQUUsRUFBRTt3Q0FDNUJxc0IsYUFBYXRxQixJQUFJLENBQUMyUyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUMsR0FBRzs0Q0FDakM4bEIsV0FBVyxJQUFJcmpCLEtBQUtpUyxNQUFNelQsVUFBVTs0Q0FDcENmLE1BQU13VSxNQUFNeFUsSUFBSTs0Q0FDaEJ1c0IsaUJBQWlCO3dDQUNuQjtvQ0FDRixPQUFPO3dDQUNMSixhQUFhdHFCLElBQUksQ0FBQzZtQixPQUFPLENBQUM2RCxlQUFlLElBQUk7b0NBQy9DO2dDQUNGOzRCQUNGOzRCQUVBLElBQUlNLFlBQVk7Z0NBQ2RWLGFBQWEvcEIsV0FBVyxHQUFHOzRCQUM3QixPQUFPLElBQUksSUFBSSxDQUFDeWpCLHFCQUFxQixDQUFDclIsTUFBTTNVLE9BQU8sR0FBRztnQ0FDcERzc0IsYUFBYS9wQixXQUFXLEdBQUcrcEIsYUFBYS9wQixXQUFXLEdBQUc7NEJBQ3hEO3dCQUNGO3dCQUVBO29CQUVGLEtBQUs7d0JBQ0gsSUFBSW9TLE1BQU0zVSxPQUFPLEVBQUU7NEJBQ2pCLElBQUksQ0FBQzJzQiw0QkFBNEIsQ0FBQ2hZOzRCQUVsQzJYLGFBQWFscEIsZ0JBQWdCLENBQUN1UixNQUFNM1UsT0FBTyxFQUFFLE9BQU87NEJBRXBELElBQUkyVSxNQUFNM1UsT0FBTyxDQUFDZ0gsTUFBTSxFQUFFO2dDQUN4QnNsQixhQUFhcG5CLGdCQUFnQixDQUFDeVAsTUFBTTNVLE9BQU87NEJBQzdDLE9BQU87Z0NBQ0xzc0IsYUFBYWxuQixtQkFBbUIsQ0FBQ3VQLE1BQU0zVSxPQUFPOzRCQUNoRDt3QkFDRjt3QkFFQTtvQkFFRixLQUFLO3dCQUNILElBQUksQ0FBQytyQixpQkFBaUJwWCxNQUFNbFYsT0FBTyxNQUFNLFFBQVFzc0IsbUJBQW1CLEtBQUssS0FBS0EsZUFBZW1CLFlBQVksRUFBRTs0QkFDekcsSUFBSUMsY0FBYyxDQUFDLElBQUl6cUIsS0FBS2lTLE1BQU1sVixPQUFPLENBQUN5dEIsWUFBWTs0QkFDdERaLGFBQWE5ckIsV0FBVyxDQUFDckIsT0FBTyxDQUFDLFNBQVU2RixVQUFVLEVBQUVrQyxlQUFlO2dDQUNwRWxDLFdBQVczRSxRQUFRLENBQUNsQixPQUFPLENBQUMsU0FBVWl1QixLQUFLO29DQUN6QyxJQUFJQyxZQUFZRCxNQUFNbHNCLFVBQVUsRUFDNUJqQixLQUFLbXRCLE1BQU1udEIsRUFBRTtvQ0FDakIsSUFBSWt0QixjQUFjLENBQUNFLFdBQVdmLGFBQWFua0IsYUFBYSxDQUFDO3dDQUN2RGxJLElBQUlBO3dDQUNKaUgsaUJBQWlCQTtvQ0FDbkI7Z0NBQ0Y7NEJBQ0Y7NEJBQ0FvbEIsYUFBYTFyQixjQUFjLENBQUN6QixPQUFPLENBQUMsU0FBVW11QixLQUFLO2dDQUNqRCxJQUFJcnRCLEtBQUtxdEIsTUFBTXJ0QixFQUFFLEVBQ2JvdEIsWUFBWUMsTUFBTXBzQixVQUFVO2dDQUNoQyxJQUFJaXNCLGNBQWMsQ0FBQ0UsV0FBV2YsYUFBYWxuQixtQkFBbUIsQ0FBQztvQ0FDN0RuRixJQUFJQTtnQ0FDTjs0QkFDRjt3QkFDRixPQUFPOzRCQUNMcXNCLGFBQWEvaUIsYUFBYTt3QkFDNUI7d0JBRUEraUIsYUFBYS9wQixXQUFXLEdBQUcsR0FBRyxnREFBZ0Q7d0JBRTlFLElBQUlvUyxNQUFNM1UsT0FBTyxFQUFFOzRCQUNqQnNzQixhQUFhbHBCLGdCQUFnQixDQUFDdVIsTUFBTTNVLE9BQU87NEJBRTNDLElBQUkyVSxNQUFNM1UsT0FBTyxDQUFDZ0gsTUFBTSxFQUFFO2dDQUN4QnNsQixhQUFhcG5CLGdCQUFnQixDQUFDeVAsTUFBTTNVLE9BQU87NEJBQzdDO3dCQUNGO3dCQUVBO29CQUVGLEtBQUs7b0JBQ0wsS0FBSzt3QkFDSCxJQUFJLENBQUNnc0IsZ0JBQWdCclgsTUFBTStTLE1BQU0sTUFBTSxRQUFRc0Usa0JBQWtCLEtBQUssS0FBS0EsY0FBYy9sQixPQUFPLEVBQUU7NEJBQ2hHcW1CLGFBQWFqcUIsT0FBTyxDQUFDc1MsTUFBTStTLE1BQU0sQ0FBQ3poQixPQUFPLENBQUMsR0FBRzBPLE1BQU0rUyxNQUFNO3dCQUMzRDt3QkFFQTtvQkFFRixLQUFLO3dCQUNILElBQUksQ0FBQ3VFLGVBQWV0WCxNQUFNeFUsSUFBSSxNQUFNLFFBQVE4ckIsaUJBQWlCLEtBQUssS0FBS0EsYUFBYWhzQixFQUFFLEVBQUU7NEJBQ3RGLE9BQU9xc0IsYUFBYWpxQixPQUFPLENBQUNzUyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUM7d0JBQzVDO3dCQUVBO29CQUVGLEtBQUs7d0JBQ0gsSUFBSTBVLE1BQU1sVixPQUFPLEVBQUU7NEJBQ2pCLElBQUk4dEIsaUJBQWlCQyxlQUFlQyx1QkFBdUJDLGlCQUFpQkMsZ0JBQWdCQyx1QkFBdUJDLGlCQUFpQkM7NEJBRXBJLElBQUlDLGtCQUFrQixDQUFDLENBQUNSLGtCQUFrQjVZLE1BQU1sVixPQUFPLE1BQU0sUUFBUTh0QixvQkFBb0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsZ0JBQWdCUyxNQUFNLE1BQU1sdEIsYUFBYTZULE1BQU1sVixPQUFPLENBQUN1dUIsTUFBTSxLQUFNLEVBQUNSLGdCQUFnQi90QixRQUFRMUMsSUFBSSxNQUFNLFFBQVF5d0Isa0JBQWtCLEtBQUssSUFBSSxLQUFLLElBQUlBLGNBQWNRLE1BQU07NEJBRWpSLElBQUlELGlCQUFpQjtnQ0FDbkIsSUFBSSxDQUFDcmpCLEtBQUssQ0FBQztvQ0FDVGpJLE9BQU87b0NBQ1BwQyxVQUFVO3dDQUNSeUosT0FBTztvQ0FDVDtvQ0FDQTFILFVBQVU7d0NBQ1IwSCxPQUFPO29DQUNUO2dDQUNGOzRCQUNGOzRCQUVBckssUUFBUTFDLElBQUksR0FBR21YLGdCQUFnQkEsZ0JBQWdCLENBQUMsR0FBR1MsTUFBTWxWLE9BQU8sR0FBRyxDQUFDLEdBQUc7Z0NBQ3JFd3VCLFFBQVEsQ0FBQ1Isd0JBQXdCLENBQUNDLGtCQUFrQi9ZLE1BQU1sVixPQUFPLE1BQU0sUUFBUWl1QixvQkFBb0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsZ0JBQWdCTyxNQUFNLE1BQU0sUUFBUVIsMEJBQTBCLEtBQUssSUFBSUEsd0JBQXdCLENBQUNFLGlCQUFpQmx1QixRQUFRMUMsSUFBSSxNQUFNLFFBQVE0d0IsbUJBQW1CLEtBQUssSUFBSSxLQUFLLElBQUlBLGVBQWVNLE1BQU07Z0NBQzFUMUgsa0JBQWtCLENBQUNxSCx3QkFBd0IsQ0FBQ0Msa0JBQWtCbFosTUFBTWxWLE9BQU8sTUFBTSxRQUFRb3VCLG9CQUFvQixLQUFLLElBQUksS0FBSyxJQUFJQSxnQkFBZ0J0SCxnQkFBZ0IsTUFBTSxRQUFRcUgsMEJBQTBCLEtBQUssSUFBSUEsd0JBQXdCLENBQUNFLGlCQUFpQnJ1QixRQUFRMUMsSUFBSSxNQUFNLFFBQVErd0IsbUJBQW1CLEtBQUssSUFBSSxLQUFLLElBQUlBLGVBQWV2SCxnQkFBZ0I7NEJBQzFWO3dCQUNGO3dCQUVBO29CQUVGLEtBQUs7d0JBQ0gsSUFBSTVSLE1BQU0zVSxPQUFPLElBQUkyVSxNQUFNblAsUUFBUSxFQUFFOzRCQUNuQ21QLE1BQU0zVSxPQUFPLEdBQUdzc0IsYUFBYS9tQixXQUFXLENBQUNvUCxNQUFNblAsUUFBUSxFQUFFbVAsTUFBTTNVLE9BQU87d0JBQ3hFO3dCQUVBO29CQUVGLEtBQUs7d0JBQ0gsSUFBSTJVLE1BQU1uUCxRQUFRLEVBQUU7NEJBQ2xCbVAsTUFBTTNVLE9BQU8sR0FBR3NzQixhQUFhbm1CLGNBQWMsQ0FBQ3dPLE1BQU1uUCxRQUFRLEVBQUVtUCxNQUFNM1UsT0FBTzt3QkFDM0U7d0JBRUE7b0JBRUYsS0FBSzt3QkFDSCxJQUFJMlUsTUFBTW5QLFFBQVEsRUFBRTs0QkFDbEIscUVBQXFFOzRCQUNyRW1QLE1BQU0zVSxPQUFPLEdBQUdzc0IsYUFBYS9tQixXQUFXLENBQUNvUCxNQUFNblAsUUFBUSxFQUFFbVAsTUFBTTNVLE9BQU8sRUFBRTt3QkFDMUU7d0JBRUE7b0JBRUYsS0FBSzt3QkFDSFAsUUFBUTFDLElBQUksR0FBR21YLGdCQUFnQkEsZ0JBQWdCLENBQUMsR0FBR3pVLFFBQVExQyxJQUFJLEdBQUcsQ0FBQyxHQUFHOzRCQUNwRWt4QixRQUFRO3dCQUNWO3dCQUVBLElBQUl0WixNQUFNdVUsYUFBYSxFQUFFOzRCQUN2Qm9ELGFBQWEvaUIsYUFBYTt3QkFDNUI7d0JBRUE7b0JBRUYsS0FBSzt3QkFDSDlKLFFBQVExQyxJQUFJLEdBQUdtWCxnQkFBZ0JBLGdCQUFnQixDQUFDLEdBQUd6VSxRQUFRMUMsSUFBSSxHQUFHLENBQUMsR0FBRzs0QkFDcEVreEIsUUFBUTt3QkFDVjt3QkFDQTtvQkFFRixLQUFLO3dCQUNILElBQUksQ0FBRSxFQUFDL0IsZ0JBQWdCdlgsTUFBTXhVLElBQUksTUFBTSxRQUFRK3JCLGtCQUFrQixLQUFLLEtBQUtBLGNBQWNqc0IsRUFBRSxHQUFHO3dCQUM5RnFzQixhQUFhanFCLE9BQU8sQ0FBQ3NTLE1BQU14VSxJQUFJLENBQUNGLEVBQUUsQ0FBQyxHQUFHaVUsZ0JBQWdCQSxnQkFBZ0IsQ0FBQyxHQUFHb1ksYUFBYWpxQixPQUFPLENBQUNzUyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHOzRCQUN4SGl1QixlQUFlLENBQUMsQ0FBQ3ZaLE1BQU13WixNQUFNOzRCQUM3QkMsUUFBUSxDQUFDelosTUFBTXdaLE1BQU07NEJBQ3JCaHVCLE1BQU0rVCxnQkFBZ0JBLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDaVksd0JBQXdCRyxhQUFhanFCLE9BQU8sQ0FBQ3NTLE1BQU14VSxJQUFJLENBQUNGLEVBQUUsQ0FBQyxNQUFNLFFBQVFrc0IsMEJBQTBCLEtBQUssSUFBSSxLQUFLLElBQUlBLHNCQUFzQmhzQixJQUFJLEtBQUssQ0FBQyxJQUFJd1UsTUFBTXhVLElBQUk7d0JBQ2pOO3dCQUNBO29CQUVGLEtBQUs7d0JBQ0gsSUFBSSxDQUFFLEVBQUNpc0IsZ0JBQWdCelgsTUFBTXhVLElBQUksTUFBTSxRQUFRaXNCLGtCQUFrQixLQUFLLEtBQUtBLGNBQWNuc0IsRUFBRSxHQUFHO3dCQUM5RnFzQixhQUFhanFCLE9BQU8sQ0FBQ3NTLE1BQU14VSxJQUFJLENBQUNGLEVBQUUsQ0FBQyxHQUFHaVUsZ0JBQWdCQSxnQkFBZ0IsQ0FBQyxHQUFHb1ksYUFBYWpxQixPQUFPLENBQUNzUyxNQUFNeFUsSUFBSSxDQUFDRixFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHOzRCQUN4SGl1QixlQUFlOzRCQUNmRSxRQUFROzRCQUNSanVCLE1BQU0rVCxnQkFBZ0JBLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDbVkseUJBQXlCQyxhQUFhanFCLE9BQU8sQ0FBQ3NTLE1BQU14VSxJQUFJLENBQUNGLEVBQUUsQ0FBQyxNQUFNLFFBQVFvc0IsMkJBQTJCLEtBQUssSUFBSSxLQUFLLElBQUlBLHVCQUF1QmxzQixJQUFJLEtBQUssQ0FBQyxJQUFJd1UsTUFBTXhVLElBQUk7d0JBQ3BOO3dCQUNBO2dCQUNKLEVBQUUsMkNBQTJDO2dCQUc3QyxJQUFJd1UsTUFBTTdTLGFBQWEsS0FBS2hCLFdBQVc7b0JBQ3JDckIsUUFBUWdELEtBQUssQ0FBQ1gsYUFBYSxHQUFHNlMsTUFBTTdTLGFBQWE7Z0JBQ25EO1lBQ0Y7UUFDRjtRQUFHO1lBQ0QxQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVM2VDtnQkFDZCxJQUFJLENBQUMsSUFBSSxDQUFDMUIsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDQyxXQUFXLElBQUksQ0FBQyxJQUFJLENBQUMvUSxTQUFTLEdBQUc2cEIsa0JBQWtCLElBQUk7b0JBQ3BGLE1BQU1yWixNQUFNLFdBQVd0TixNQUFNLENBQUMsSUFBSSxDQUFDekcsR0FBRyxFQUFFO2dCQUMxQztZQUNGLEVBQUUsd0RBQXdEO1FBRTVEO1FBQUc7WUFDRDdCLEtBQUs7WUFDTCtELE9BQU8sU0FBUzJrQixpQkFBaUJybEIsS0FBSztnQkFDcEMsSUFBSWUsa0NBQWtDdkUsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUUxRyxJQUFJcXZCLG1CQUFtQixJQUFJLENBQUM5cEIsU0FBUyxJQUNqQytwQixjQUFjRCxpQkFBaUI3ckIsS0FBSyxFQUNwQ3RDLE9BQU9tdUIsaUJBQWlCbnVCLElBQUksRUFDNUI2RixTQUFTc29CLGlCQUFpQnRvQixNQUFNLEVBQUUsZ0JBQWdCO2dCQUd0RCxJQUFJdkQsTUFBTUosT0FBTyxFQUFFO29CQUNqQixJQUFJNE8sWUFBWTZDLDZCQUE2QnJSLE1BQU1KLE9BQU8sR0FDdEQ2TztvQkFFSixJQUFJO3dCQUNGLElBQUtELFVBQVU3VCxDQUFDLElBQUksQ0FBQyxDQUFDOFQsUUFBUUQsVUFBVXRFLENBQUMsRUFBQyxFQUFHQyxJQUFJLEVBQUc7NEJBQ2xELElBQUk4YSxTQUFTeFcsTUFBTS9OLEtBQUs7NEJBRXhCLElBQUl1a0IsT0FBT3ZuQixJQUFJLEVBQUU7Z0NBQ2ZvdUIsWUFBWTlwQixtQkFBbUIsQ0FBQ2lqQixPQUFPdm5CLElBQUksRUFBRSxJQUFJLENBQUNjLEdBQUc7NEJBQ3ZEO3dCQUNGO29CQUNGLEVBQUUsT0FBT2tNLEtBQUs7d0JBQ1o4RCxVQUFVNVQsQ0FBQyxDQUFDOFA7b0JBQ2QsU0FBVTt3QkFDUjhELFVBQVVsRSxDQUFDO29CQUNiO2dCQUNGO2dCQUVBLElBQUksQ0FBQ3RLLEtBQUssQ0FBQ0gsVUFBVSxHQUFHRyxNQUFNSCxVQUFVLElBQUksQ0FBQztnQkFDN0MsSUFBSWpDLFdBQVdvQyxNQUFNcEMsUUFBUSxJQUFJLEVBQUU7Z0JBRW5DLElBQUksQ0FBQyxJQUFJLENBQUNvQyxLQUFLLENBQUNwQyxRQUFRLEVBQUU7b0JBQ3hCLElBQUksQ0FBQ29DLEtBQUssQ0FBQ1IsWUFBWTtnQkFDekI7Z0JBRUEsSUFBSXVzQix3QkFBd0IsSUFBSSxDQUFDL3JCLEtBQUssQ0FBQ2dCLGlCQUFpQixDQUFDcEQsVUFBVSxPQUFPLE1BQU0sTUFBTW1ELGtDQUNsRndCLGFBQWF3cEIsc0JBQXNCeHBCLFVBQVU7Z0JBRWpELElBQUksQ0FBQyxJQUFJLENBQUN2QyxLQUFLLENBQUM3QixjQUFjLEVBQUU7b0JBQzlCLElBQUksQ0FBQzZCLEtBQUssQ0FBQzdCLGNBQWMsR0FBRyxFQUFFO2dCQUNoQztnQkFFQSxJQUFJLENBQUM2QixLQUFLLENBQUN3QyxpQkFBaUIsQ0FBQ3hDLE1BQU1nc0IsZUFBZSxJQUFJLEVBQUU7Z0JBRXhELElBQUloc0IsTUFBTVAsZ0JBQWdCLEVBQUU7b0JBQzFCLElBQUksQ0FBQ08sS0FBSyxDQUFDUCxnQkFBZ0IsR0FBR08sTUFBTVAsZ0JBQWdCO2dCQUN0RDtnQkFFQSxJQUFJTyxNQUFNWCxhQUFhLEtBQUtoQixXQUFXO29CQUNyQyxJQUFJLENBQUMyQixLQUFLLENBQUNYLGFBQWEsR0FBR1csTUFBTVgsYUFBYTtnQkFDaEQsRUFBRSx3REFBd0Q7Z0JBRzFELElBQUlXLE1BQU1MLFFBQVEsRUFBRTtvQkFDbEIsSUFBSXNzQixhQUFhNWEsNkJBQTZCclIsTUFBTUwsUUFBUSxHQUN4RHVzQjtvQkFFSixJQUFJO3dCQUNGLElBQUtELFdBQVd0eEIsQ0FBQyxJQUFJLENBQUMsQ0FBQ3V4QixTQUFTRCxXQUFXL2hCLENBQUMsRUFBQyxFQUFHQyxJQUFJLEVBQUc7NEJBQ3JELElBQUlnaUIsVUFBVUQsT0FBT3hyQixLQUFLOzRCQUUxQixJQUFJeXJCLFNBQVM7Z0NBQ1hMLFlBQVk5cEIsbUJBQW1CLENBQUNtcUIsU0FBUyxJQUFJLENBQUMzdEIsR0FBRztnQ0FDakQsSUFBSSxDQUFDd0IsS0FBSyxDQUFDTCxRQUFRLENBQUN3c0IsUUFBUTN1QixFQUFFLENBQUMsR0FBRzJ1Qjs0QkFDcEM7d0JBQ0Y7b0JBQ0YsRUFBRSxPQUFPemhCLEtBQUs7d0JBQ1p1aEIsV0FBV3J4QixDQUFDLENBQUM4UDtvQkFDZixTQUFVO3dCQUNSdWhCLFdBQVczaEIsQ0FBQztvQkFDZDtnQkFDRixFQUFFLGdGQUFnRjtnQkFDbEYsMEZBQTBGO2dCQUMxRiwyREFBMkQ7Z0JBRzNELElBQUkvRyxVQUFVLE1BQU07b0JBQ2xCLElBQUkrZixZQUFZLElBQUksQ0FBQ3RqQixLQUFLLENBQUNELGVBQWUsSUFBSSxJQUFJRTtvQkFFbEQsSUFBSXZDLE1BQU07d0JBQ1IsSUFBSSxDQUFDc0MsS0FBSyxDQUFDVCxJQUFJLENBQUM3QixLQUFLRixFQUFFLENBQUMsR0FBRzs0QkFDekJFLE1BQU1BOzRCQUNONGxCLFdBQVdBOzRCQUNYMkcsaUJBQWlCO3dCQUNuQjtvQkFDRjtnQkFDRixFQUFFLHdDQUF3QztnQkFHMUMsSUFBSWpxQixNQUFNVCxJQUFJLEVBQUU7b0JBQ2QsSUFBSTZzQixhQUFhL2EsNkJBQTZCclIsTUFBTVQsSUFBSSxHQUNwRDhzQjtvQkFFSixJQUFJO3dCQUNGLElBQUtELFdBQVd6eEIsQ0FBQyxJQUFJLENBQUMsQ0FBQzB4QixTQUFTRCxXQUFXbGlCLENBQUMsRUFBQyxFQUFHQyxJQUFJLEVBQUc7NEJBQ3JELElBQUltaUI7NEJBRUosSUFBSS9zQixPQUFPOHNCLE9BQU8zckIsS0FBSzs0QkFDdkIsSUFBSSxDQUFDVixLQUFLLENBQUNULElBQUksQ0FBQ0EsS0FBSzdCLElBQUksQ0FBQ0YsRUFBRSxDQUFDLEdBQUc7Z0NBQzlCOGxCLFdBQVcsSUFBSXJqQixLQUFLVixLQUFLK2pCLFNBQVM7Z0NBQ2xDMEcsc0JBQXNCenFCLEtBQUt5cUIsb0JBQW9CO2dDQUMvQ0MsaUJBQWlCLENBQUNxQyx3QkFBd0Ivc0IsS0FBSzBxQixlQUFlLE1BQU0sUUFBUXFDLDBCQUEwQixLQUFLLElBQUlBLHdCQUF3QjtnQ0FDdkk1dUIsTUFBTTZCLEtBQUs3QixJQUFJOzRCQUNqQjs0QkFFQSxJQUFJNkIsS0FBSzdCLElBQUksQ0FBQ0YsRUFBRSxLQUFNRSxDQUFBQSxTQUFTLFFBQVFBLFNBQVMsS0FBSyxJQUFJLEtBQUssSUFBSUEsS0FBS0YsRUFBRSxHQUFHO2dDQUMxRSxJQUFJLENBQUN3QyxLQUFLLENBQUNGLFdBQVcsR0FBRyxJQUFJLENBQUNFLEtBQUssQ0FBQ1QsSUFBSSxDQUFDQSxLQUFLN0IsSUFBSSxDQUFDRixFQUFFLENBQUMsQ0FBQ3lzQixlQUFlOzRCQUN4RTt3QkFDRjtvQkFDRixFQUFFLE9BQU92ZixLQUFLO3dCQUNaMGhCLFdBQVd4eEIsQ0FBQyxDQUFDOFA7b0JBQ2YsU0FBVTt3QkFDUjBoQixXQUFXOWhCLENBQUM7b0JBQ2Q7Z0JBQ0Y7Z0JBRUEsSUFBSXRLLE1BQU1KLE9BQU8sRUFBRTtvQkFDakIsSUFBSSxDQUFDSSxLQUFLLENBQUNKLE9BQU8sR0FBR0ksTUFBTUosT0FBTyxDQUFDMnNCLE1BQU0sQ0FBQyxTQUFVQyxHQUFHLEVBQUV2SCxNQUFNO3dCQUM3RCxJQUFJQSxPQUFPdm5CLElBQUksRUFBRTs0QkFDZjh1QixHQUFHLENBQUN2SCxPQUFPdm5CLElBQUksQ0FBQ0YsRUFBRSxDQUFDLEdBQUd5bkI7d0JBQ3hCO3dCQUVBLE9BQU91SDtvQkFDVCxHQUFHLENBQUM7Z0JBQ047Z0JBRUEsT0FBTztvQkFDTGpxQixZQUFZQTtnQkFDZDtZQUNGO1FBQ0Y7UUFBRztZQUNENUYsS0FBSztZQUNMK0QsT0FBTyxTQUFTd3BCLDZCQUE2QmhZLEtBQUs7Z0JBQ2hELElBQUksQ0FBQ0EsTUFBTTNVLE9BQU8sRUFBRTtvQkFDbEI7Z0JBQ0Y7Z0JBRUEsSUFBSUEsVUFBVSxJQUFJLENBQUN5QyxLQUFLLENBQUN3SSxXQUFXLENBQUMwSixNQUFNM1UsT0FBTyxDQUFDQyxFQUFFLEVBQUUwVSxNQUFNM1UsT0FBTyxDQUFDdUIsU0FBUztnQkFFOUUsSUFBSXZCLFNBQVM7b0JBQ1gyVSxNQUFNM1UsT0FBTyxDQUFDc0IsYUFBYSxHQUFHdEIsUUFBUXNCLGFBQWE7Z0JBQ3JEO1lBQ0Y7UUFDRjtRQUFHO1lBQ0RsQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVMrckI7Z0JBQ2QsSUFBSSxDQUFDOVosT0FBTyxDQUFDK08sTUFBTSxDQUFDLFFBQVEsb0RBQW9EemMsTUFBTSxDQUFDLElBQUksQ0FBQ3pHLEdBQUcsR0FBRztvQkFDaEdtakIsTUFBTTt3QkFBQzt3QkFBYztxQkFBVTtvQkFDL0Iza0IsU0FBUyxJQUFJO2dCQUNmO2dCQUVBLElBQUksQ0FBQ2lXLFlBQVksR0FBRztnQkFDcEIsSUFBSSxDQUFDalQsS0FBSyxDQUFDMHNCLGFBQWEsQ0FBQztZQUMzQjtRQUNGO0tBQUU7SUFFRixPQUFPaGI7QUFDVDtBQUVBLFNBQVNpYiw2QkFBNkJsakIsQ0FBQyxFQUFFQyxjQUFjO0lBQUksSUFBSUMsS0FBSyxPQUFPQyxXQUFXLGVBQWVILENBQUMsQ0FBQ0csT0FBT0MsUUFBUSxDQUFDLElBQUlKLENBQUMsQ0FBQyxhQUFhO0lBQUUsSUFBSSxDQUFDRSxJQUFJO1FBQUUsSUFBSUcsTUFBTUMsT0FBTyxDQUFDTixNQUFPRSxDQUFBQSxLQUFLaWpCLDhCQUE4Qm5qQixFQUFDLEtBQU1DLGtCQUFrQkQsS0FBSyxPQUFPQSxFQUFFNVAsTUFBTSxLQUFLLFVBQVU7WUFBRSxJQUFJOFAsSUFBSUYsSUFBSUU7WUFBSSxJQUFJMU8sSUFBSTtZQUFHLElBQUlnUCxJQUFJLFNBQVNBLEtBQUs7WUFBRyxPQUFPO2dCQUFFdFAsR0FBR3NQO2dCQUFHQyxHQUFHLFNBQVNBO29CQUFNLElBQUlqUCxLQUFLd08sRUFBRTVQLE1BQU0sRUFBRSxPQUFPO3dCQUFFc1EsTUFBTTtvQkFBSztvQkFBRyxPQUFPO3dCQUFFQSxNQUFNO3dCQUFPekosT0FBTytJLENBQUMsQ0FBQ3hPLElBQUk7b0JBQUM7Z0JBQUc7Z0JBQUdMLEdBQUcsU0FBU0EsRUFBRXdQLEVBQUU7b0JBQUksTUFBTUE7Z0JBQUk7Z0JBQUdFLEdBQUdMO1lBQUU7UUFBRztRQUFFLE1BQU0sSUFBSU0sVUFBVTtJQUEwSTtJQUFFLElBQUlDLG1CQUFtQixNQUFNQyxTQUFTLE9BQU9DO0lBQUssT0FBTztRQUFFL1AsR0FBRyxTQUFTQTtZQUFNZ1AsS0FBS0EsR0FBR2dCLElBQUksQ0FBQ2xCO1FBQUk7UUFBR1MsR0FBRyxTQUFTQTtZQUFNLElBQUlVLE9BQU9qQixHQUFHN0IsSUFBSTtZQUFJMEMsbUJBQW1CSSxLQUFLVCxJQUFJO1lBQUUsT0FBT1M7UUFBTTtRQUFHaFEsR0FBRyxTQUFTQSxFQUFFaVEsR0FBRztZQUFJSixTQUFTO1lBQU1DLE1BQU1HO1FBQUs7UUFBR1AsR0FBRyxTQUFTQTtZQUFNLElBQUk7Z0JBQUUsSUFBSSxDQUFDRSxvQkFBb0JiLEdBQUdtQixNQUFNLElBQUksTUFBTW5CLEdBQUdtQixNQUFNO1lBQUksU0FBVTtnQkFBRSxJQUFJTCxRQUFRLE1BQU1DO1lBQUs7UUFBRTtJQUFFO0FBQUc7QUFFeitCLFNBQVNraUIsOEJBQThCbmpCLENBQUMsRUFBRXNCLE1BQU07SUFBSSxJQUFJLENBQUN0QixHQUFHO0lBQVEsSUFBSSxPQUFPQSxNQUFNLFVBQVUsT0FBT29qQixvQkFBb0JwakIsR0FBR3NCO0lBQVMsSUFBSWIsSUFBSXJPLE9BQU9vUCxTQUFTLENBQUNaLFFBQVEsQ0FBQ00sSUFBSSxDQUFDbEIsR0FBR3lCLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFBSSxJQUFJaEIsTUFBTSxZQUFZVCxFQUFFMEIsV0FBVyxFQUFFakIsSUFBSVQsRUFBRTBCLFdBQVcsQ0FBQ0MsSUFBSTtJQUFFLElBQUlsQixNQUFNLFNBQVNBLE1BQU0sT0FBTyxPQUFPSixNQUFNdUIsSUFBSSxDQUFDNUI7SUFBSSxJQUFJUyxNQUFNLGVBQWUsMkNBQTJDb0IsSUFBSSxDQUFDcEIsSUFBSSxPQUFPMmlCLG9CQUFvQnBqQixHQUFHc0I7QUFBUztBQUVyYSxTQUFTOGhCLG9CQUFvQnRoQixHQUFHLEVBQUUzUixHQUFHO0lBQUksSUFBSUEsT0FBTyxRQUFRQSxNQUFNMlIsSUFBSTFSLE1BQU0sRUFBRUQsTUFBTTJSLElBQUkxUixNQUFNO0lBQUUsSUFBSyxJQUFJb0IsSUFBSSxHQUFHdVEsT0FBTyxJQUFJMUIsTUFBTWxRLE1BQU1xQixJQUFJckIsS0FBS3FCLElBQUs7UUFBRXVRLElBQUksQ0FBQ3ZRLEVBQUUsR0FBR3NRLEdBQUcsQ0FBQ3RRLEVBQUU7SUFBRTtJQUFFLE9BQU91UTtBQUFNO0FBRXhMOztDQUVDLEdBQ0QsSUFBSXNoQixjQUFjLFdBQVcsR0FBRTtJQUM3QixTQUFTQTtRQUNQejBCLDRFQUFlQSxDQUFDLElBQUksRUFBRXkwQjtRQUV0QnYwQiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxLQUFLO1FBRXBDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUseUJBQXlCLEtBQUs7UUFFcEQsd0NBQXdDO1FBQ3hDLHlCQUF5QjtRQUN6QixJQUFJLENBQUN3MEIsS0FBSyxHQUFHLENBQUMsR0FBRyxtRUFBbUU7UUFFcEYsSUFBSSxDQUFDQyxxQkFBcUIsR0FBRyxDQUFDO0lBQ2hDO0lBRUExMEIseUVBQVlBLENBQUN3MEIsYUFBYTtRQUFDO1lBQ3pCbndCLEtBQUs7WUFDTCtELE9BQU8sU0FBU3VzQixZQUFZRixLQUFLO2dCQUMvQixJQUFJdmUsWUFBWW1lLDZCQUE2QkksUUFDekN0ZTtnQkFFSixJQUFJO29CQUNGLElBQUtELFVBQVU3VCxDQUFDLElBQUksQ0FBQyxDQUFDOFQsUUFBUUQsVUFBVXRFLENBQUMsRUFBQyxFQUFHQyxJQUFJLEVBQUc7d0JBQ2xELElBQUl6TSxPQUFPK1EsTUFBTS9OLEtBQUs7d0JBQ3RCLElBQUksQ0FBQ3dzQixVQUFVLENBQUN4dkI7b0JBQ2xCO2dCQUNGLEVBQUUsT0FBT2dOLEtBQUs7b0JBQ1o4RCxVQUFVNVQsQ0FBQyxDQUFDOFA7Z0JBQ2QsU0FBVTtvQkFDUjhELFVBQVVsRSxDQUFDO2dCQUNiO1lBQ0Y7UUFDRjtRQUFHO1lBQ0QzTixLQUFLO1lBQ0wrRCxPQUFPLFNBQVN3c0IsV0FBV3h2QixJQUFJO2dCQUM3QixJQUFJQSxRQUFRLE1BQU07b0JBQ2hCLElBQUksQ0FBQ3F2QixLQUFLLENBQUNydkIsS0FBS0YsRUFBRSxDQUFDLEdBQUdFO2dCQUN4QjtZQUNGO1FBQ0Y7UUFBRztZQUNEZixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNzQixvQkFBb0J0RSxJQUFJLEVBQUV5dkIsU0FBUztnQkFDakQsSUFBSXp2QixRQUFRLE1BQU07b0JBQ2hCO2dCQUNGO2dCQUVBLElBQUksQ0FBQ3d2QixVQUFVLENBQUN4dkI7Z0JBRWhCLElBQUksQ0FBQyxJQUFJLENBQUNzdkIscUJBQXFCLENBQUN0dkIsS0FBS0YsRUFBRSxDQUFDLEVBQUU7b0JBQ3hDLElBQUksQ0FBQ3d2QixxQkFBcUIsQ0FBQ3R2QixLQUFLRixFQUFFLENBQUMsR0FBRyxDQUFDO2dCQUN6QztnQkFFQSxJQUFJLENBQUN3dkIscUJBQXFCLENBQUN0dkIsS0FBS0YsRUFBRSxDQUFDLENBQUMydkIsVUFBVSxHQUFHO1lBQ25EO1FBQ0Y7UUFBRztZQUNEeHdCLEtBQUs7WUFDTCtELE9BQU8sU0FBUzBzQiwwQkFBMEJELFNBQVM7Z0JBQ2pELElBQUssSUFBSTVwQixVQUFVLElBQUksQ0FBQ3lwQixxQkFBcUIsQ0FBRTtvQkFDN0MsT0FBTyxJQUFJLENBQUNBLHFCQUFxQixDQUFDenBCLE9BQU8sQ0FBQzRwQixVQUFVO2dCQUN0RDtZQUNGO1FBQ0Y7S0FBRTtJQUVGLE9BQU9MO0FBQ1Q7QUFFQSxTQUFTTyxVQUFVM3hCLE1BQU0sRUFBRUMsY0FBYztJQUFJLElBQUlDLE9BQU9DLE9BQU9ELElBQUksQ0FBQ0Y7SUFBUyxJQUFJRyxPQUFPQyxxQkFBcUIsRUFBRTtRQUFFLElBQUlDLFVBQVVGLE9BQU9DLHFCQUFxQixDQUFDSjtRQUFTLElBQUlDLGdCQUFnQjtZQUFFSSxVQUFVQSxRQUFRQyxNQUFNLENBQUMsU0FBVUMsR0FBRztnQkFBSSxPQUFPSixPQUFPSyx3QkFBd0IsQ0FBQ1IsUUFBUU8sS0FBS0UsVUFBVTtZQUFFO1FBQUk7UUFBRVAsS0FBS1EsSUFBSSxDQUFDQyxLQUFLLENBQUNULE1BQU1HO0lBQVU7SUFBRSxPQUFPSDtBQUFNO0FBRTFWLFNBQVMweEIsZ0JBQWdCL3dCLE1BQU07SUFBSSxJQUFLLElBQUl0QixJQUFJLEdBQUdBLElBQUl1QixVQUFVM0MsTUFBTSxFQUFFb0IsSUFBSztRQUFFLElBQUl3QixTQUFTRCxTQUFTLENBQUN2QixFQUFFLElBQUksT0FBT3VCLFNBQVMsQ0FBQ3ZCLEVBQUUsR0FBRyxDQUFDO1FBQUcsSUFBSUEsSUFBSSxHQUFHO1lBQUVveUIsVUFBVXh4QixPQUFPWSxTQUFTLE1BQU1DLE9BQU8sQ0FBQyxTQUFVQyxHQUFHO2dCQUFJcEUsNEVBQWVBLENBQUNnRSxRQUFRSSxLQUFLRixNQUFNLENBQUNFLElBQUk7WUFBRztRQUFJLE9BQU8sSUFBSWQsT0FBT2UseUJBQXlCLEVBQUU7WUFBRWYsT0FBT2dCLGdCQUFnQixDQUFDTixRQUFRVixPQUFPZSx5QkFBeUIsQ0FBQ0g7UUFBVSxPQUFPO1lBQUU0d0IsVUFBVXh4QixPQUFPWSxTQUFTQyxPQUFPLENBQUMsU0FBVUMsR0FBRztnQkFBSWQsT0FBT2lCLGNBQWMsQ0FBQ1AsUUFBUUksS0FBS2QsT0FBT0ssd0JBQXdCLENBQUNPLFFBQVFFO1lBQU87UUFBSTtJQUFFO0lBQUUsT0FBT0o7QUFBUTtBQUMzaEIsSUFBSWd4QixpQkFBaUIsU0FBU0E7SUFDNUJsMUIsNEVBQWVBLENBQUMsSUFBSSxFQUFFazFCO0lBRXRCaDFCLDRFQUFlQSxDQUFDLElBQUksRUFBRSw0QkFBNEIsS0FBSztJQUV2REEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLHlCQUF5QixLQUFLO0lBRXBEQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsbUJBQW1CLEtBQUs7SUFFOUNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxvQkFBb0IsS0FBSztJQUUvQyxJQUFJLENBQUNpMUIsd0JBQXdCLEdBQUc7SUFDaEMsSUFBSSxDQUFDQyxlQUFlLEdBQUc7SUFDdkIsSUFBSSxDQUFDQyxxQkFBcUIsR0FBRztJQUM3QixJQUFJLENBQUNDLGdCQUFnQixHQUFHeGU7QUFDMUI7QUFDQTs7Ozs7O0NBTUMsR0FFRCxJQUFJeWUsZUFBZSxXQUFXLEdBQUU7SUFDOUIsSUFBSWhjLE9BQU94Wiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTeU8sUUFBUTRtQixXQUFXLEVBQUVDLFFBQVE7UUFDeEcsSUFBSUMsYUFBYTl5QjtRQUNqQixPQUFPekMsc0VBQXdCLENBQUMsU0FBU21QLFNBQVNDLFFBQVE7WUFDeEQsTUFBTyxFQUFHO2dCQUNSLE9BQVFBLFNBQVNDLElBQUksR0FBR0QsU0FBU0UsSUFBSTtvQkFDbkMsS0FBSzt3QkFDSGltQixjQUFjO3dCQUNkOXlCLElBQUk7b0JBRU4sS0FBSzt3QkFDSCxJQUFJLENBQUVBLENBQUFBLElBQUk4eUIsV0FBVSxHQUFJOzRCQUN0Qm5tQixTQUFTRSxJQUFJLEdBQUc7NEJBQ2hCO3dCQUNGO3dCQUVBRixTQUFTQyxJQUFJLEdBQUc7d0JBQ2hCRCxTQUFTRSxJQUFJLEdBQUc7d0JBQ2hCLE9BQU9yUCw4Q0FBS0EsQ0FBQ2diLElBQUksQ0FBQywrQ0FBK0N4TyxNQUFNLENBQUM0b0IsY0FBY0M7b0JBRXhGLEtBQUs7d0JBQ0hsbUIsU0FBU0UsSUFBSSxHQUFHO3dCQUNoQjtvQkFFRixLQUFLO3dCQUNIRixTQUFTQyxJQUFJLEdBQUc7d0JBQ2hCRCxTQUFTb21CLEVBQUUsR0FBR3BtQixRQUFRLENBQUMsUUFBUSxDQUFDO3dCQUNoQ0EsU0FBU0UsSUFBSSxHQUFHO3dCQUNoQixPQUFPa0UsTUFBTSxDQUFDL1EsSUFBSSxLQUFLO29CQUV6QixLQUFLO3dCQUNILE9BQU8yTSxTQUFTRyxNQUFNLENBQUMsWUFBWTtvQkFFckMsS0FBSzt3QkFDSCxPQUFPSCxTQUFTRyxNQUFNLENBQUMsU0FBUztvQkFFbEMsS0FBSzt3QkFDSDlNO3dCQUNBMk0sU0FBU0UsSUFBSSxHQUFHO3dCQUNoQjtvQkFFRixLQUFLO29CQUNMLEtBQUs7d0JBQ0gsT0FBT0YsU0FBU1EsSUFBSTtnQkFDeEI7WUFDRjtRQUNGLEdBQUduQixTQUFTLE1BQU07WUFBQztnQkFBQztnQkFBRzthQUFFO1NBQUM7SUFDNUI7SUFFQSxPQUFPLFNBQVMybUIsYUFBYXRsQixFQUFFLEVBQUVDLEdBQUc7UUFDbEMsT0FBT3FKLEtBQUt2VixLQUFLLENBQUMsSUFBSSxFQUFFRztJQUMxQjtBQUNGO0FBQ0EsU0FBU3l4QixvQkFBb0JDLFVBQVUsRUFBRWhjLEtBQUs7SUFDNUMsT0FBT29iLGdCQUFnQkEsZ0JBQWdCLENBQUMsR0FBR3BiLFFBQVFpYyxtQkFBbUJEO0FBQ3hFO0FBRUEsU0FBU0MsbUJBQW1CRCxVQUFVO0lBQ3BDLElBQUlFLGdCQUFnQkMsWUFBWUM7SUFFaEMsSUFBSTNjLFNBQVN1YyxXQUFXdmMsTUFBTTtJQUM5QixPQUFPO1FBQ0w0YyxhQUFhLENBQUNILGlCQUFpQkYsV0FBV00sRUFBRSxNQUFNLFFBQVFKLG1CQUFtQixLQUFLLElBQUksS0FBSyxJQUFJQSxlQUFlSyxVQUFVO1FBQ3hIemEsS0FBS2thLFdBQVdRLFNBQVM7UUFDekJDLFNBQVNoZCxPQUFPaFYsR0FBRztRQUNuQml5QixVQUFVamQsT0FBT2tkLGNBQWMsQ0FBQ3JCLHdCQUF3QjtRQUN4RHNCLFFBQVEsSUFBSTd1QixPQUFPZ0MsT0FBTztRQUMxQjhzQixXQUFXcGQsT0FBT3FkLFdBQVc7UUFDN0JDLE9BQU90ZCxPQUFPdWQsWUFBWSxDQUFDRCxLQUFLO1FBQ2hDenJCLFNBQVNtTyxPQUFPcE8sTUFBTTtRQUN0QjRyQixjQUFjeGQsT0FBT3lkLEtBQUs7UUFDMUJDLFFBQVExZCxPQUFPRSxPQUFPLENBQUN3ZCxNQUFNO1FBQzdCQyxXQUFXcEIsV0FBV3FCLFlBQVk7UUFDbENDLFlBQVl0QixXQUFXTSxFQUFFO1FBQ3pCaUIseUJBQXlCOWQsT0FBT2tkLGNBQWMsQ0FBQ25CLHFCQUFxQjtRQUNwRWdDLG1CQUFtQi9kLE9BQU9rZCxjQUFjLENBQUNwQixlQUFlO1FBQ3hEa0MsWUFBWXpCLFdBQVcwQixTQUFTO1FBQ2hDQyxRQUFRLE9BQU90ZixjQUFjLGNBQWMsQ0FBQzhkLGFBQWE5ZCxTQUFRLE1BQU8sUUFBUThkLGVBQWUsS0FBSyxJQUFJLEtBQUssSUFBSUEsV0FBVzdkLE1BQU0sR0FBRztRQUNySXNmLFlBQVksT0FBT3ZmLGNBQWMsY0FBYyxDQUFDK2QsY0FBYy9kLFNBQVEsTUFBTyxRQUFRK2QsZ0JBQWdCLEtBQUssSUFBSSxLQUFLLElBQUlBLFlBQVl5QixTQUFTLEdBQUc7UUFDL0lDLG9CQUFvQnJlLE9BQU9rZCxjQUFjLENBQUNsQixnQkFBZ0I7SUFDNUQ7QUFDRjtBQUVBLFNBQVNzQyxrQ0FBa0MvQixVQUFVO0lBQ25ELE9BQU9DLG1CQUFtQkQ7QUFDNUI7QUFFQSxTQUFTZ0MsVUFBVXgwQixNQUFNLEVBQUVDLGNBQWM7SUFBSSxJQUFJQyxPQUFPQyxPQUFPRCxJQUFJLENBQUNGO0lBQVMsSUFBSUcsT0FBT0MscUJBQXFCLEVBQUU7UUFBRSxJQUFJQyxVQUFVRixPQUFPQyxxQkFBcUIsQ0FBQ0o7UUFBUyxJQUFJQyxnQkFBZ0I7WUFBRUksVUFBVUEsUUFBUUMsTUFBTSxDQUFDLFNBQVVDLEdBQUc7Z0JBQUksT0FBT0osT0FBT0ssd0JBQXdCLENBQUNSLFFBQVFPLEtBQUtFLFVBQVU7WUFBRTtRQUFJO1FBQUVQLEtBQUtRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxNQUFNRztJQUFVO0lBQUUsT0FBT0g7QUFBTTtBQUUxVixTQUFTdTBCLGdCQUFnQjV6QixNQUFNO0lBQUksSUFBSyxJQUFJdEIsSUFBSSxHQUFHQSxJQUFJdUIsVUFBVTNDLE1BQU0sRUFBRW9CLElBQUs7UUFBRSxJQUFJd0IsU0FBU0QsU0FBUyxDQUFDdkIsRUFBRSxJQUFJLE9BQU91QixTQUFTLENBQUN2QixFQUFFLEdBQUcsQ0FBQztRQUFHLElBQUlBLElBQUksR0FBRztZQUFFaTFCLFVBQVVyMEIsT0FBT1ksU0FBUyxNQUFNQyxPQUFPLENBQUMsU0FBVUMsR0FBRztnQkFBSXBFLDRFQUFlQSxDQUFDZ0UsUUFBUUksS0FBS0YsTUFBTSxDQUFDRSxJQUFJO1lBQUc7UUFBSSxPQUFPLElBQUlkLE9BQU9lLHlCQUF5QixFQUFFO1lBQUVmLE9BQU9nQixnQkFBZ0IsQ0FBQ04sUUFBUVYsT0FBT2UseUJBQXlCLENBQUNIO1FBQVUsT0FBTztZQUFFeXpCLFVBQVVyMEIsT0FBT1ksU0FBU0MsT0FBTyxDQUFDLFNBQVVDLEdBQUc7Z0JBQUlkLE9BQU9pQixjQUFjLENBQUNQLFFBQVFJLEtBQUtkLE9BQU9LLHdCQUF3QixDQUFDTyxRQUFRRTtZQUFPO1FBQUk7SUFBRTtJQUFFLE9BQU9KO0FBQVE7QUFFM2hCLDRDQUE0QztBQUM1QyxJQUFJNnpCLGVBQWUsU0FBU0EsYUFBYTEyQixHQUFHO0lBQzFDLE9BQU9BLElBQUkyMkIsSUFBSSxLQUFLaHlCO0FBQ3RCO0FBRUEsSUFBSWl5QixlQUFlLFNBQVNBLGFBQWE1MkIsR0FBRztJQUMxQyxPQUFPQSxJQUFJbVMsS0FBSyxLQUFLeE47QUFDdkI7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztDQWdCQyxHQUdELElBQUlreUIscUJBQXFCLFdBQVcsR0FBRTtJQUNwQywwQkFBMEI7SUFDMUIsYUFBYTtJQUNiLFNBQVNBLG1CQUFtQjNlLElBQUk7UUFDOUIsSUFBSTNVLFFBQVEsSUFBSTtRQUVoQixJQUFJMFUsU0FBU0MsS0FBS0QsTUFBTTtRQUV4QnRaLDRFQUFlQSxDQUFDLElBQUksRUFBRWs0QjtRQUV0Qmg0Qiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxLQUFLO1FBRXJDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLEtBQUs7UUFFM0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxrQkFBa0IsS0FBSztRQUU3Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLHVCQUF1QixLQUFLO1FBRWxEQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLEtBQUs7UUFFM0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSx5QkFBeUIsS0FBSztRQUVwREEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdCQUFnQixLQUFLO1FBRTNDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLEtBQUs7UUFFN0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhLEtBQUs7UUFFeENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxjQUFjLEtBQUs7UUFFekNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhLEtBQUs7UUFFeENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSwwQkFBMEIsS0FBSztRQUVyREEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLDZCQUE2QixLQUFLO1FBRXhEQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLEtBQUs7UUFFNUNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhLEtBQUs7UUFFeENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxrQkFBa0IsS0FBSztRQUU3Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGlCQUFpQixLQUFLO1FBRTVDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxLQUFLO1FBRWpDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO1FBRW5DQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsYUFBYTtZQUNqQyxJQUFJaTRCLEtBQUt2ZixtQkFBbUJoVSxNQUFNMFUsTUFBTSxDQUFDOGUsZUFBZSxDQUFDeHpCLE1BQU0yeUIsU0FBUztZQUV4RSxJQUFJWCxRQUFRaHlCLE1BQU0wVSxNQUFNLENBQUN1ZCxZQUFZLENBQUN3QixRQUFRO1lBRTlDLE9BQU8sR0FBR3pyQixNQUFNLENBQUNoSSxNQUFNMFUsTUFBTSxDQUFDZ2YsU0FBUyxFQUFFLGtCQUFrQjFyQixNQUFNLENBQUN1ckIsSUFBSSxhQUFhdnJCLE1BQU0sQ0FBQ2hJLE1BQU0wVSxNQUFNLENBQUNoVixHQUFHLEVBQUUsbUJBQW1Cc0ksTUFBTSxDQUFDZ3FCLE9BQU8sc0JBQXNCaHFCLE1BQU0sQ0FBQ2hJLE1BQU0wVSxNQUFNLENBQUNxZCxXQUFXLElBQUkscUJBQXFCL3BCLE1BQU0sQ0FBQ2hJLE1BQU0wVSxNQUFNLENBQUNpZixZQUFZO1FBQzdQO1FBRUFyNEIsNEVBQWVBLENBQUMsSUFBSSxFQUFFLHVCQUF1QixTQUFVMlosS0FBSztZQUMxRCxJQUFJQSxNQUFNaFQsSUFBSSxLQUFLLFdBQVc7Z0JBQzVCLDhCQUE4QjtnQkFDOUJqQyxNQUFNNHpCLElBQUksQ0FBQztnQkFFWDV6QixNQUFNNnpCLFVBQVUsQ0FBQztZQUNuQixPQUFPLElBQUk1ZSxNQUFNaFQsSUFBSSxLQUFLLFVBQVU7Z0JBQ2xDLHFCQUFxQjtnQkFDckIsbURBQW1EO2dCQUNuRCw4RUFBOEU7Z0JBQzlFLCtGQUErRjtnQkFDL0ZqQyxNQUFNNHpCLElBQUksQ0FBQyxpRUFBaUU1ckIsTUFBTSxDQUFDaEksTUFBTTh6QixTQUFTO2dCQUVsRyxJQUFJLENBQUM5ekIsTUFBTTh6QixTQUFTLEVBQUU7b0JBQ3BCOXpCLE1BQU0rekIsVUFBVSxDQUFDO3dCQUNmQyxVQUFVO29CQUNaO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBMTRCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxVQUFVLFNBQVUyNEIsSUFBSTtZQUM1QyxJQUFJajBCLE1BQU1pMEIsSUFBSSxLQUFLQSxNQUFNO1lBRXpCajBCLE1BQU00ekIsSUFBSSxDQUFDLDhCQUE4QjtnQkFDdkNLLE1BQU1BO1lBQ1I7UUFDRjtRQUVBMzRCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhLFNBQVUyNEIsSUFBSSxFQUFFaGYsS0FBSztZQUN0RCxJQUFJalYsTUFBTWkwQixJQUFJLEtBQUtBLE1BQU07WUFFekJqMEIsTUFBTTR6QixJQUFJLENBQUMsb0NBQW9DO2dCQUM3QzNlLE9BQU9BO2dCQUNQZ2YsTUFBTUE7WUFDUjtZQUVBLElBQUk1MkIsT0FBTyxPQUFPNFgsTUFBTTVYLElBQUksS0FBSyxXQUFXNFcsS0FBS2lnQixLQUFLLENBQUNqZixNQUFNNVgsSUFBSSxJQUFJLE1BQU0sMEVBQTBFO1lBQ3JKLGlHQUFpRztZQUNqRyw0QkFBNEI7WUFFNUIsSUFBSSxDQUFDMkMsTUFBTW0wQixVQUFVLElBQUk5MkIsTUFBTTtnQkFDN0IsSUFBSSsyQjtnQkFFSnAwQixNQUFNbTBCLFVBQVUsR0FBRztnQkFFbkIsSUFBSTkyQixLQUFLdVIsS0FBSyxFQUFFO29CQUNkLElBQUl5bEI7b0JBRUhBLENBQUFBLHNCQUFzQnIwQixNQUFNczBCLGFBQWEsTUFBTSxRQUFRRCx3QkFBd0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsb0JBQW9CM21CLElBQUksQ0FBQzFOLE9BQU9BLE1BQU11MEIsaUJBQWlCLENBQUNsM0IsTUFBTTtvQkFDaEs7Z0JBQ0Y7Z0JBRUMrMkIsQ0FBQUEsdUJBQXVCcDBCLE1BQU13MEIsY0FBYyxNQUFNLFFBQVFKLHlCQUF5QixLQUFLLElBQUksS0FBSyxJQUFJQSxxQkFBcUIxbUIsSUFBSSxDQUFDMU4sT0FBTzNDO2dCQUV0STJDLE1BQU02ekIsVUFBVSxDQUFDO1lBQ25CLEVBQUUsc0JBQXNCO1lBR3hCN3pCLE1BQU15SixTQUFTLEdBQUcsSUFBSXpHO1lBRXRCLElBQUkzRixRQUFRQSxLQUFLNEUsSUFBSSxLQUFLLGdCQUFnQjtnQkFDeENqQyxNQUFNeTBCLGdCQUFnQjtZQUN4QjtZQUVBejBCLE1BQU0wVSxNQUFNLENBQUNnZ0IsV0FBVyxDQUFDemY7WUFFekJqVixNQUFNMjBCLHVCQUF1QjtRQUMvQjtRQUVBcjVCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLFNBQVUyNEIsSUFBSSxFQUFFaGYsS0FBSztZQUNwRCxJQUFJalYsTUFBTWkwQixJQUFJLEtBQUtBLE1BQU07WUFFekJqMEIsTUFBTTR6QixJQUFJLENBQUMsb0NBQW9DM2UsTUFBTW1lLElBQUksRUFBRTtnQkFDekRuZSxPQUFPQTtnQkFDUGdmLE1BQU1BO1lBQ1I7WUFFQSxJQUFJaGYsTUFBTW1lLElBQUksS0FBS2hrQixVQUFVRSxpQkFBaUIsRUFBRTtnQkFDOUMsSUFBSXNsQjtnQkFFSiwrQ0FBK0M7Z0JBQy9DLHlDQUF5QztnQkFDekMsSUFBSWhtQixRQUFRLElBQUkwRyxNQUFNLG1DQUFtQ3ROLE1BQU0sQ0FBQ2lOLE1BQU00ZixNQUFNO2dCQUM1RWptQixNQUFNaW1CLE1BQU0sR0FBRzVmLE1BQU00ZixNQUFNO2dCQUMzQmptQixNQUFNd2tCLElBQUksR0FBR25lLE1BQU1tZSxJQUFJO2dCQUN2QnhrQixNQUFNa21CLFFBQVEsR0FBRzdmLE1BQU02ZixRQUFRO2dCQUMvQmxtQixNQUFNdFAsTUFBTSxHQUFHMlYsTUFBTTNWLE1BQU07Z0JBQzFCczFCLENBQUFBLHVCQUF1QjUwQixNQUFNczBCLGFBQWEsTUFBTSxRQUFRTSx5QkFBeUIsS0FBSyxJQUFJLEtBQUssSUFBSUEscUJBQXFCbG5CLElBQUksQ0FBQzFOLE9BQU80TztnQkFFckk1TyxNQUFNNHpCLElBQUksQ0FBQywrQ0FBK0M1ckIsTUFBTSxDQUFDaU4sTUFBTTRmLE1BQU0sR0FBRztvQkFDOUU1ZixPQUFPQTtnQkFDVDtZQUNGLE9BQU87Z0JBQ0wsSUFBSThmO2dCQUVKLzBCLE1BQU1nMUIsbUJBQW1CLElBQUk7Z0JBQzdCaDFCLE1BQU1pMUIsYUFBYSxJQUFJO2dCQUV2QmoxQixNQUFNNnpCLFVBQVUsQ0FBQztnQkFFakI3ekIsTUFBTWsxQixZQUFZLEdBQUc7Z0JBQ3BCSCxDQUFBQSx1QkFBdUIvMEIsTUFBTXMwQixhQUFhLE1BQU0sUUFBUVMseUJBQXlCLEtBQUssSUFBSSxLQUFLLElBQUlBLHFCQUFxQnJuQixJQUFJLENBQUMxTixPQUFPQSxNQUFNdTBCLGlCQUFpQixDQUFDdGY7Z0JBRTdKalYsTUFBTTR6QixJQUFJLENBQUMsMkRBQTJEO29CQUNwRTNlLE9BQU9BO2dCQUNULElBQUksdUNBQXVDO2dCQUczQ2pWLE1BQU0rekIsVUFBVTtZQUNsQjtRQUNGO1FBRUF6NEIsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFdBQVcsU0FBVTI0QixJQUFJLEVBQUVoZixLQUFLO1lBQ3BELElBQUlrZ0I7WUFFSixJQUFJbjFCLE1BQU1pMEIsSUFBSSxLQUFLQSxNQUFNO1lBQ3pCajBCLE1BQU1nMUIsbUJBQW1CLElBQUk7WUFDN0JoMUIsTUFBTWkxQixhQUFhLElBQUk7WUFFdkJqMUIsTUFBTTZ6QixVQUFVLENBQUM7WUFFakI3ekIsTUFBTWsxQixZQUFZLEdBQUc7WUFDcEJDLENBQUFBLHVCQUF1Qm4xQixNQUFNczBCLGFBQWEsTUFBTSxRQUFRYSx5QkFBeUIsS0FBSyxJQUFJLEtBQUssSUFBSUEscUJBQXFCem5CLElBQUksQ0FBQzFOLE9BQU9BLE1BQU11MEIsaUJBQWlCLENBQUN0ZjtZQUU3SmpWLE1BQU00ekIsSUFBSSxDQUFDLGlEQUFpRDtnQkFDMUQzZSxPQUFPQTtZQUNUO1lBRUFqVixNQUFNK3pCLFVBQVU7UUFDbEI7UUFFQXo0Qiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxTQUFVODVCLE9BQU87WUFDbkQsSUFBSUEsWUFBWXAxQixNQUFNOHpCLFNBQVMsRUFBRTtZQUNqQzl6QixNQUFNOHpCLFNBQVMsR0FBR3NCO1lBRWxCLElBQUlwMUIsTUFBTTh6QixTQUFTLEVBQUU7Z0JBQ25COXpCLE1BQU0wVSxNQUFNLENBQUM5SyxhQUFhLENBQUM7b0JBQ3pCM0gsTUFBTTtvQkFDTjJ3QixRQUFRNXlCLE1BQU04ekIsU0FBUztnQkFDekI7Z0JBRUE7WUFDRixFQUFFLHNFQUFzRTtZQUd4RTdrQixXQUFXO2dCQUNULElBQUlqUCxNQUFNOHpCLFNBQVMsRUFBRTtnQkFFckI5ekIsTUFBTTBVLE1BQU0sQ0FBQzlLLGFBQWEsQ0FBQztvQkFDekIzSCxNQUFNO29CQUNOMndCLFFBQVE1eUIsTUFBTTh6QixTQUFTO2dCQUN6QjtZQUNGLEdBQUc7UUFDTDtRQUVBeDRCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxxQkFBcUIsU0FBVTJaLEtBQUs7WUFDeEQsSUFBSW9nQixjQUFjOTFCLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRztZQUN0RixJQUFJNnpCO1lBQ0osSUFBSWtDO1lBQ0osSUFBSWgxQjtZQUVKLElBQUk2eUIsYUFBYWxlLFFBQVE7Z0JBQ3ZCbWUsT0FBT25lLE1BQU1tZSxJQUFJO2dCQUNqQmtDLGFBQWE7Z0JBQ2JoMUIsVUFBVTJVLE1BQU00ZixNQUFNO1lBQ3hCO1lBRUEsSUFBSXhCLGFBQWFwZSxRQUFRO2dCQUN2Qm1lLE9BQU9uZSxNQUFNckcsS0FBSyxDQUFDd2tCLElBQUk7Z0JBQ3ZCa0MsYUFBYXJnQixNQUFNckcsS0FBSyxDQUFDMm1CLFVBQVU7Z0JBQ25DajFCLFVBQVUyVSxNQUFNckcsS0FBSyxDQUFDdE8sT0FBTztZQUMvQixFQUFFLHFGQUFxRjtZQUd2Rk4sTUFBTTR6QixJQUFJLENBQUMsNkNBQTZDNXJCLE1BQU0sQ0FBQ29yQixPQUFPO2dCQUNwRW5lLE9BQU9BO1lBQ1QsR0FBRztZQUVILElBQUlyRyxRQUFRLElBQUkwRyxNQUFNLHVCQUF1QnROLE1BQU0sQ0FBQ29yQixNQUFNLGtCQUFrQnByQixNQUFNLENBQUMxSDtZQUNuRnNPLE1BQU13a0IsSUFBSSxHQUFHQTtZQUNiOzs7T0FHQyxHQUVEeGtCLE1BQU0ybUIsVUFBVSxHQUFHRDtZQUNuQjFtQixNQUFNeW1CLFdBQVcsR0FBR0E7WUFDcEIsT0FBT3ptQjtRQUNUO1FBRUF0VCw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsMkJBQTJCO1lBQy9DMEUsTUFBTW0wQixVQUFVLEdBQUc7WUFDbkIsc0RBQXNELEdBRXREbjBCLE1BQU13MUIsY0FBYyxHQUFHLElBQUl4bUIsUUFBUSxTQUFVMFUsT0FBTyxFQUFFK1IsTUFBTTtnQkFDMUR6MUIsTUFBTXcwQixjQUFjLEdBQUc5UTtnQkFDdkIxakIsTUFBTXMwQixhQUFhLEdBQUdtQjtZQUN4QjtRQUNGO1FBRUFuNkIsNEVBQWVBLENBQUMsSUFBSSxFQUFFLG9CQUFvQjtZQUN4QyxJQUFJMEUsTUFBTTAxQixxQkFBcUIsRUFBRTtnQkFDL0JDLGFBQWEzMUIsTUFBTTAxQixxQkFBcUI7WUFDMUMsRUFBRSwrREFBK0Q7WUFHakUxMUIsTUFBTTAxQixxQkFBcUIsR0FBR3ptQixXQUFXO2dCQUN2QyxtRUFBbUU7Z0JBQ25FLElBQUk1UixPQUFPO29CQUFDO3dCQUNWNEUsTUFBTTt3QkFDTm93QixXQUFXcnlCLE1BQU0wVSxNQUFNLENBQUNraEIsUUFBUTtvQkFDbEM7aUJBQUUsRUFBRSxnQ0FBZ0M7Z0JBRXBDLElBQUk7b0JBQ0YsSUFBSUM7b0JBRUhBLENBQUFBLFdBQVc3MUIsTUFBTXV4QixFQUFFLE1BQU0sUUFBUXNFLGFBQWEsS0FBSyxJQUFJLEtBQUssSUFBSUEsU0FBU0MsSUFBSSxDQUFDN2hCLEtBQUtDLFNBQVMsQ0FBQzdXO2dCQUNoRyxFQUFFLE9BQU9NLEdBQUcsQ0FDWjtZQUNGLEdBQUdxQyxNQUFNKzFCLFlBQVk7UUFDdkI7UUFFQXo2Qiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsMkJBQTJCO1lBQy9DLElBQUkwRSxNQUFNZzJCLHlCQUF5QixFQUFFO2dCQUNuQ0wsYUFBYTMxQixNQUFNZzJCLHlCQUF5QjtZQUM5QztZQUVBaDJCLE1BQU1nMkIseUJBQXlCLEdBQUcvbUIsV0FBVztnQkFDM0MsSUFBSTdGLE1BQU0sSUFBSXBHO2dCQUVkLElBQUloRCxNQUFNeUosU0FBUyxJQUFJTCxJQUFJcEUsT0FBTyxLQUFLaEYsTUFBTXlKLFNBQVMsQ0FBQ3pFLE9BQU8sS0FBS2hGLE1BQU1pMkIsc0JBQXNCLEVBQUU7b0JBQy9GajJCLE1BQU00ekIsSUFBSSxDQUFDO29CQUVYNXpCLE1BQU02ekIsVUFBVSxDQUFDO29CQUVqQjd6QixNQUFNK3pCLFVBQVU7Z0JBQ2xCO1lBQ0YsR0FBRy96QixNQUFNaTJCLHNCQUFzQjtRQUNqQztRQUVBLHNCQUFzQixHQUN0QixJQUFJLENBQUN2aEIsTUFBTSxHQUFHQTtRQUNkLCtEQUErRCxHQUUvRCxJQUFJLENBQUNzZ0IsbUJBQW1CLEdBQUc7UUFDM0IsK0NBQStDLEdBRS9DLElBQUksQ0FBQ0MsYUFBYSxHQUFHO1FBQ3JCLDJEQUEyRCxHQUUzRCxJQUFJLENBQUNDLFlBQVksR0FBRztRQUNwQixpREFBaUQsR0FFakQsSUFBSSxDQUFDZ0IsY0FBYyxHQUFHO1FBQ3RCLGlFQUFpRSxHQUVqRSxJQUFJLENBQUMvQixVQUFVLEdBQUc7UUFDbEIseUVBQXlFLEdBRXpFLElBQUksQ0FBQ0wsU0FBUyxHQUFHO1FBQ2pCLGlEQUFpRCxHQUVqRCxJQUFJLENBQUNHLElBQUksR0FBRztRQUNaLGdEQUFnRCxHQUVoRCxJQUFJLENBQUN4cUIsU0FBUyxHQUFHO1FBQ2pCLGlEQUFpRCxHQUVqRCxJQUFJLENBQUNzc0IsWUFBWSxHQUFHLEtBQUs7UUFDekIsSUFBSSxDQUFDRSxzQkFBc0IsR0FBRyxJQUFJLENBQUNGLFlBQVksR0FBRyxLQUFLO1FBQ3ZEdmlCLDRCQUE0QixJQUFJLENBQUMyaUIsbUJBQW1CO0lBQ3REO0lBRUE5NkIseUVBQVlBLENBQUNpNEIsb0JBQW9CO1FBQUM7WUFDaEM1ekIsS0FBSztZQUNMK0QsT0FBTyxTQUFTbXdCLEtBQUt4ekIsR0FBRztnQkFDdEIsSUFBSWcyQixRQUFRNzJCLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO2dCQUNqRixJQUFJODJCLFFBQVE5MkIsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHO2dCQUNoRixJQUFJLENBQUNtVixNQUFNLENBQUMrUCxNQUFNLENBQUM0UixPQUFPLGdCQUFnQmoyQixLQUFLOHlCLGdCQUFnQjtvQkFDN0R4TyxNQUFNO3dCQUFDO3FCQUFhO2dCQUN0QixHQUFHMFI7WUFDTDtRQUNGO1FBQUc7WUFDRDEyQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVM2eUIsVUFBVTVoQixNQUFNO2dCQUM5QixJQUFJLENBQUNBLE1BQU0sR0FBR0E7WUFDaEI7UUFPRjtRQUFHO1lBQ0RoVixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUk4eUIsWUFBWXA3Qiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTeU87b0JBQ2hGLElBQUl3c0IsU0FDQUMsYUFDQWpzQixRQUFRakw7b0JBQ1osT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNtUCxTQUFTQyxRQUFRO3dCQUN4RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsU0FBU0MsSUFBSSxHQUFHRCxTQUFTRSxJQUFJO2dDQUNuQyxLQUFLO29DQUNIMnJCLFVBQVVoc0IsTUFBTTVOLE1BQU0sR0FBRyxLQUFLNE4sS0FBSyxDQUFDLEVBQUUsS0FBS3BKLFlBQVlvSixLQUFLLENBQUMsRUFBRSxHQUFHO29DQUVsRSxJQUFJLENBQUMsSUFBSSxDQUFDMHFCLFlBQVksRUFBRTt3Q0FDdEJ2cUIsU0FBU0UsSUFBSSxHQUFHO3dDQUNoQjtvQ0FDRjtvQ0FFQSxNQUFNeUssTUFBTTtnQ0FFZCxLQUFLO29DQUNILElBQUksQ0FBQzRnQixjQUFjLEdBQUc7b0NBQ3RCdnJCLFNBQVNDLElBQUksR0FBRztvQ0FDaEJELFNBQVNFLElBQUksR0FBRztvQ0FDaEIsT0FBTyxJQUFJLENBQUM2ckIsUUFBUTtnQ0FFdEIsS0FBSztvQ0FDSEQsY0FBYzlyQixTQUFTcUssSUFBSTtvQ0FDM0IsSUFBSSxDQUFDZ2dCLG1CQUFtQixHQUFHO29DQUUzQixJQUFJLENBQUNwQixJQUFJLENBQUMsMkRBQTJENXJCLE1BQU0sQ0FBQ3l1QjtvQ0FFNUU5ckIsU0FBU0UsSUFBSSxHQUFHO29DQUNoQjtnQ0FFRixLQUFLO29DQUNIRixTQUFTQyxJQUFJLEdBQUc7b0NBQ2hCRCxTQUFTb21CLEVBQUUsR0FBR3BtQixRQUFRLENBQUMsUUFBUSxDQUFDO29DQUNoQyxJQUFJLENBQUNtcEIsU0FBUyxHQUFHO29DQUNqQixJQUFJLENBQUNrQixtQkFBbUIsSUFBSTtvQ0FFNUIsSUFBSSxDQUFFcnFCLENBQUFBLFNBQVNvbUIsRUFBRSxDQUFDcUMsSUFBSSxLQUFLaGtCLFVBQVVDLGFBQWEsSUFBSSxDQUFDLElBQUksQ0FBQ3FGLE1BQU0sQ0FBQ3VkLFlBQVksQ0FBQzBFLFFBQVEsRUFBQyxHQUFJO3dDQUMzRmhzQixTQUFTRSxJQUFJLEdBQUc7d0NBQ2hCO29DQUNGO29DQUVBLElBQUksQ0FBQytvQixJQUFJLENBQUM7b0NBRVYsSUFBSSxDQUFDRyxVQUFVLENBQUM7d0NBQ2Q2QyxjQUFjO29DQUNoQjtvQ0FFQWpzQixTQUFTRSxJQUFJLEdBQUc7b0NBQ2hCO2dDQUVGLEtBQUs7b0NBQ0gsSUFBSUYsU0FBU29tQixFQUFFLENBQUNzRSxXQUFXLEVBQUU7d0NBQzNCMXFCLFNBQVNFLElBQUksR0FBRzt3Q0FDaEI7b0NBQ0Y7b0NBRUEsTUFBTSxJQUFJeUssTUFBTXJCLEtBQUtDLFNBQVMsQ0FBQzt3Q0FDN0JrZixNQUFNem9CLFNBQVNvbUIsRUFBRSxDQUFDcUMsSUFBSTt3Q0FDdEJtQyxZQUFZNXFCLFNBQVNvbUIsRUFBRSxDQUFDd0UsVUFBVTt3Q0FDbENqMUIsU0FBU3FLLFNBQVNvbUIsRUFBRSxDQUFDendCLE9BQU87d0NBQzVCKzBCLGFBQWExcUIsU0FBU29tQixFQUFFLENBQUNzRSxXQUFXO29DQUN0QztnQ0FFRixLQUFLO29DQUNIMXFCLFNBQVNFLElBQUksR0FBRztvQ0FDaEIsT0FBTyxJQUFJLENBQUNnc0IsZUFBZSxDQUFDTDtnQ0FFOUIsS0FBSztvQ0FDSCxPQUFPN3JCLFNBQVNHLE1BQU0sQ0FBQyxVQUFVSCxTQUFTcUssSUFBSTtnQ0FFaEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9ySyxTQUFTUSxJQUFJOzRCQUN4Qjt3QkFDRjtvQkFDRixHQUFHbkIsU0FBUyxJQUFJLEVBQUU7d0JBQUM7NEJBQUM7NEJBQUc7eUJBQUc7cUJBQUM7Z0JBQzdCO2dCQUVBLFNBQVM4c0I7b0JBQ1AsT0FBT1AsVUFBVW4zQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDL0I7Z0JBRUEsT0FBT3UzQjtZQUNUO1FBT0Y7UUFBRztZQUNEcDNCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXN6QixtQkFBbUI1N0IsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU21jO29CQUN2RixJQUFJMVIsU0FBUyxJQUFJO29CQUVqQixJQUFJd3dCLFNBQ0E1ZSxTQUFTclk7b0JBQ2IsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNzYyxVQUFVQyxTQUFTO3dCQUMxRCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsVUFBVWxOLElBQUksR0FBR2tOLFVBQVVqTixJQUFJO2dDQUNyQyxLQUFLO29DQUNIMnJCLFVBQVU1ZSxPQUFPaGIsTUFBTSxHQUFHLEtBQUtnYixNQUFNLENBQUMsRUFBRSxLQUFLeFcsWUFBWXdXLE1BQU0sQ0FBQyxFQUFFLEdBQUc7b0NBQ3JFLE9BQU9FLFVBQVVoTixNQUFNLENBQUMsVUFBVWtFLFFBQVFnb0IsSUFBSSxDQUFDO3dDQUFDNzdCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2YTs0Q0FDaEgsSUFBSTRkLFVBQVVoMkI7NENBQ2QsT0FBT3pDLHNFQUF3QixDQUFDLFNBQVMrYSxVQUFVQyxTQUFTO2dEQUMxRCxNQUFPLEVBQUc7b0RBQ1IsT0FBUUEsVUFBVTNMLElBQUksR0FBRzJMLFVBQVUxTCxJQUFJO3dEQUNyQyxLQUFLOzREQUNIbXBCLFdBQVcsSUFBSSxLQUFLOzREQUVwQmgyQixJQUFJO3dEQUVOLEtBQUs7NERBQ0gsSUFBSSxDQUFFQSxDQUFBQSxLQUFLdzRCLE9BQU0sR0FBSTtnRUFDbkJqZ0IsVUFBVTFMLElBQUksR0FBRztnRUFDakI7NERBQ0Y7NERBRUEwTCxVQUFVM0wsSUFBSSxHQUFHOzREQUNqQjJMLFVBQVUxTCxJQUFJLEdBQUc7NERBQ2pCLE9BQU83RSxPQUFPd3ZCLGNBQWM7d0RBRTlCLEtBQUs7NERBQ0gsT0FBT2pmLFVBQVV6TCxNQUFNLENBQUMsVUFBVXlMLFVBQVV2QixJQUFJO3dEQUVsRCxLQUFLOzREQUNIdUIsVUFBVTNMLElBQUksR0FBRzs0REFDakIyTCxVQUFVd2EsRUFBRSxHQUFHeGEsU0FBUyxDQUFDLFFBQVEsQ0FBQzs0REFFbEMsSUFBSSxDQUFFdlksQ0FBQUEsTUFBTXc0QixPQUFNLEdBQUk7Z0VBQ3BCamdCLFVBQVUxTCxJQUFJLEdBQUc7Z0VBQ2pCOzREQUNGOzREQUVBLE1BQU0sSUFBSXlLLE1BQU1yQixLQUFLQyxTQUFTLENBQUM7Z0VBQzdCa2YsTUFBTTdjLFVBQVV3YSxFQUFFLENBQUNxQyxJQUFJO2dFQUN2Qm1DLFlBQVloZixVQUFVd2EsRUFBRSxDQUFDd0UsVUFBVTtnRUFDbkNqMUIsU0FBU2lXLFVBQVV3YSxFQUFFLENBQUN6d0IsT0FBTztnRUFDN0IrMEIsYUFBYTllLFVBQVV3YSxFQUFFLENBQUNzRSxXQUFXOzREQUN2Qzt3REFFRixLQUFLOzREQUNIOWUsVUFBVTFMLElBQUksR0FBRzs0REFDakIsT0FBT2tFLE1BQU1pbEI7d0RBRWYsS0FBSzs0REFDSGgyQixLQUFLZzJCOzREQUNMemQsVUFBVTFMLElBQUksR0FBRzs0REFDakI7d0RBRUYsS0FBSzt3REFDTCxLQUFLOzREQUNILE9BQU8wTCxVQUFVcEwsSUFBSTtvREFDekI7Z0RBQ0Y7NENBQ0YsR0FBR2lMLFVBQVUsTUFBTTtnREFBQztvREFBQztvREFBRztpREFBRTs2Q0FBQzt3Q0FDN0I7d0NBQU9qYiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNGI7NENBQ3ZFLE9BQU81YixzRUFBd0IsQ0FBQyxTQUFTNmIsVUFBVUMsU0FBUztnREFDMUQsTUFBTyxFQUFHO29EQUNSLE9BQVFBLFVBQVV6TSxJQUFJLEdBQUd5TSxVQUFVeE0sSUFBSTt3REFDckMsS0FBSzs0REFDSHdNLFVBQVV4TSxJQUFJLEdBQUc7NERBQ2pCLE9BQU9rRSxNQUFNeW5CO3dEQUVmLEtBQUs7NERBQ0h4d0IsT0FBT2t2QixZQUFZLEdBQUc7NERBQ3RCLE1BQU0sSUFBSTVmLE1BQU1yQixLQUFLQyxTQUFTLENBQUM7Z0VBQzdCa2YsTUFBTTtnRUFDTm1DLFlBQVk7Z0VBQ1pqMUIsU0FBUztnRUFDVCswQixhQUFhOzREQUNmO3dEQUVGLEtBQUs7d0RBQ0wsS0FBSzs0REFDSCxPQUFPaGUsVUFBVWxNLElBQUk7b0RBQ3pCO2dEQUNGOzRDQUNGLEdBQUdnTTt3Q0FDTDtxQ0FBTTtnQ0FFUixLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT1csVUFBVTNNLElBQUk7NEJBQ3pCO3dCQUNGO29CQUNGLEdBQUd1TTtnQkFDTDtnQkFFQSxTQUFTbWY7b0JBQ1AsT0FBT0UsaUJBQWlCMzNCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN0QztnQkFFQSxPQUFPczNCO1lBQ1Q7UUFPRjtRQUFHO1lBQ0RuM0IsS0FBSztZQUNMK0QsT0FDQTs7O0tBR0MsR0FDRCxTQUFTd3pCLFdBQVdULE9BQU87Z0JBQ3pCLElBQUk5dkIsU0FBUyxJQUFJO2dCQUVqQixJQUFJLENBQUNrdEIsSUFBSSxDQUFDLDREQUE0RDVyQixNQUFNLENBQUMsSUFBSSxDQUFDaXNCLElBQUk7Z0JBRXRGLElBQUksQ0FBQ0EsSUFBSSxJQUFJO2dCQUNiLElBQUksQ0FBQ2lCLFlBQVksR0FBRztnQkFDcEIsSUFBSSxDQUFDZ0IsY0FBYyxHQUFHLE1BQU0sc0NBQXNDO2dCQUVsRSxJQUFJLElBQUksQ0FBQ1IscUJBQXFCLEVBQUU7b0JBQzlCd0IsY0FBYyxJQUFJLENBQUN4QixxQkFBcUI7Z0JBQzFDO2dCQUVBLElBQUksSUFBSSxDQUFDTSx5QkFBeUIsRUFBRTtvQkFDbENrQixjQUFjLElBQUksQ0FBQ2xCLHlCQUF5QjtnQkFDOUM7Z0JBRUFyaUIsK0JBQStCLElBQUksQ0FBQ3dpQixtQkFBbUI7Z0JBQ3ZELElBQUksQ0FBQ3JDLFNBQVMsR0FBRyxPQUFPLHdCQUF3QjtnQkFFaEQsSUFBSSxJQUFJLENBQUN2QyxFQUFFLElBQUksSUFBSSxDQUFDQSxFQUFFLENBQUM0RixrQkFBa0IsRUFBRTtvQkFDekMsSUFBSSxDQUFDNUYsRUFBRSxDQUFDNEYsa0JBQWtCO2dCQUM1QjtnQkFFQSxJQUFJQyxpQkFBaUIsdUJBQXVCO2dCQUM1Qyx5RUFBeUU7Z0JBQ3pFLG9CQUFvQjtnQkFFcEIsSUFBSTdGLEtBQUssSUFBSSxDQUFDQSxFQUFFO2dCQUVoQixJQUFJQSxNQUFNQSxHQUFHOEYsS0FBSyxJQUFJOUYsR0FBR0MsVUFBVSxLQUFLRCxHQUFHK0YsSUFBSSxFQUFFO29CQUMvQ0Ysa0JBQWtCLElBQUlwb0IsUUFBUSxTQUFVMFUsT0FBTzt3QkFDN0MsSUFBSTZULFVBQVUsU0FBU0EsUUFBUXRpQixLQUFLOzRCQUNsQ3ZPLE9BQU9rdEIsSUFBSSxDQUFDLDRDQUE0QzVyQixNQUFNLENBQUNpTixRQUFRLFNBQVMsV0FBVyxpQkFBaUI7Z0NBQzFHQSxPQUFPQTs0QkFDVDs0QkFFQXlPO3dCQUNGO3dCQUVBNk4sR0FBR2dHLE9BQU8sR0FBR0EsU0FBUyxpRUFBaUU7d0JBQ3ZGLHlDQUF5Qzt3QkFFekN0b0IsV0FBV3NvQixTQUFTZixXQUFXLE9BQU9BLFVBQVU7b0JBQ2xEO29CQUVBLElBQUksQ0FBQzVDLElBQUksQ0FBQztvQkFFVnJDLEdBQUc4RixLQUFLLENBQUNqb0IsVUFBVUUsaUJBQWlCLEVBQUU7Z0JBQ3hDLE9BQU87b0JBQ0wsSUFBSSxDQUFDc2tCLElBQUksQ0FBQztvQkFFVndELGtCQUFrQnBvQixRQUFRMFUsT0FBTztnQkFDbkM7Z0JBRUEsT0FBTyxJQUFJLENBQUM2TixFQUFFO2dCQUNkLE9BQU82RjtZQUNUO1FBT0Y7UUFBRztZQUNEMTNCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSSt6QixZQUFZcjhCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVMrYztvQkFDaEYsSUFBSW1mLGNBQWNDLE9BQU81UyxVQUFVK0w7b0JBQ25DLE9BQU90MUIsc0VBQXdCLENBQUMsU0FBU21kLFVBQVVDLFNBQVM7d0JBQzFELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxVQUFVL04sSUFBSSxHQUFHK04sVUFBVTlOLElBQUk7Z0NBQ3JDLEtBQUs7b0NBQ0gsSUFBSSxDQUFFLEtBQUksQ0FBQ3FxQixZQUFZLElBQUksSUFBSSxDQUFDZ0IsY0FBYyxJQUFJLElBQUksQ0FBQ3hoQixNQUFNLENBQUNFLE9BQU8sQ0FBQytpQixnQkFBZ0IsR0FBRzt3Q0FDdkZoZixVQUFVOU4sSUFBSSxHQUFHO3dDQUNqQjtvQ0FDRjtvQ0FFQSxPQUFPOE4sVUFBVTdOLE1BQU0sQ0FBQztnQ0FFMUIsS0FBSztvQ0FDSCw2REFBNkQ7b0NBQzdELElBQUksQ0FBQ29xQixZQUFZLEdBQUc7b0NBQ3BCLElBQUksQ0FBQ3ZDLFNBQVMsR0FBR3pnQjtvQ0FDakIsSUFBSSxDQUFDd0MsTUFBTSxDQUFDa2QsY0FBYyxDQUFDckIsd0JBQXdCLEdBQUcsSUFBSXZ0QixPQUFPZ0MsT0FBTztvQ0FDeEV5eUIsZUFBZTtvQ0FDZjllLFVBQVUvTixJQUFJLEdBQUc7b0NBRWpCLElBQUksQ0FBQ2dwQixJQUFJLENBQUM7b0NBRVZqYixVQUFVOU4sSUFBSSxHQUFHO29DQUNqQixPQUFPLElBQUksQ0FBQzZKLE1BQU0sQ0FBQ3VkLFlBQVksQ0FBQzJGLFVBQVU7Z0NBRTVDLEtBQUs7b0NBQ0hILGVBQWU7b0NBQ2Y5ZSxVQUFVOU4sSUFBSSxHQUFHO29DQUNqQjtnQ0FFRixLQUFLO29DQUNIOE4sVUFBVS9OLElBQUksR0FBRztvQ0FDakIrTixVQUFVb1ksRUFBRSxHQUFHcFksU0FBUyxDQUFDLFFBQVEsQ0FBQztnQ0FFcEMsS0FBSztvQ0FDSEEsVUFBVS9OLElBQUksR0FBRztvQ0FFakIsSUFBSTZzQixjQUFjO3dDQUNoQjllLFVBQVU5TixJQUFJLEdBQUc7d0NBQ2pCO29DQUNGO29DQUVBLElBQUksQ0FBQytvQixJQUFJLENBQUM7b0NBRVZqYixVQUFVOU4sSUFBSSxHQUFHO29DQUNqQixPQUFPLElBQUksQ0FBQzZKLE1BQU0sQ0FBQ3VkLFlBQVksQ0FBQzRGLFNBQVM7Z0NBRTNDLEtBQUs7b0NBQ0gsSUFBSSxDQUFDQyx1QkFBdUI7b0NBRTVCSixRQUFRLElBQUksQ0FBQ2pHLFNBQVM7b0NBRXRCLElBQUksQ0FBQ21DLElBQUksQ0FBQyw4QkFBOEI1ckIsTUFBTSxDQUFDMHZCLFFBQVE7d0NBQ3JEQSxPQUFPQTt3Q0FDUC9FLFdBQVcsSUFBSSxDQUFDQSxTQUFTO29DQUMzQjtvQ0FFQSxJQUFJLENBQUNwQixFQUFFLEdBQUcsSUFBSTMxQix1REFBU0EsQ0FBQzg3QjtvQ0FDeEIsSUFBSSxDQUFDbkcsRUFBRSxDQUFDd0csTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTSxDQUFDaGxCLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDa2hCLElBQUk7b0NBQ2pELElBQUksQ0FBQzFDLEVBQUUsQ0FBQ2dHLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU8sQ0FBQ3hrQixJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQ2toQixJQUFJO29DQUNuRCxJQUFJLENBQUMxQyxFQUFFLENBQUN5RyxPQUFPLEdBQUcsSUFBSSxDQUFDQSxPQUFPLENBQUNqbEIsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUNraEIsSUFBSTtvQ0FDbkQsSUFBSSxDQUFDMUMsRUFBRSxDQUFDMEcsU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUyxDQUFDbGxCLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDa2hCLElBQUk7b0NBQ3ZEdGIsVUFBVTlOLElBQUksR0FBRztvQ0FDakIsT0FBTyxJQUFJLENBQUMycUIsY0FBYztnQ0FFNUIsS0FBSztvQ0FDSDFRLFdBQVduTSxVQUFVM0QsSUFBSTtvQ0FDekIsSUFBSSxDQUFDa2dCLFlBQVksR0FBRztvQ0FFcEIsSUFBSSxDQUFDcFEsVUFBVTt3Q0FDYm5NLFVBQVU5TixJQUFJLEdBQUc7d0NBQ2pCO29DQUNGO29DQUVBLElBQUksQ0FBQ3luQixZQUFZLEdBQUd4TixTQUFTb1QsYUFBYTtvQ0FFMUMsSUFBSSxJQUFJLENBQUN4akIsTUFBTSxDQUFDa2QsY0FBYyxDQUFDbkIscUJBQXFCLEdBQUcsS0FBSyxJQUFJLENBQUMvYixNQUFNLENBQUNFLE9BQU8sQ0FBQ3VqQixjQUFjLEVBQUU7d0NBQzlGeEgsYUFBYSw0QkFBNEJxQyxrQ0FBa0MsSUFBSTt3Q0FDL0UsSUFBSSxDQUFDdGUsTUFBTSxDQUFDa2QsY0FBYyxDQUFDbkIscUJBQXFCLEdBQUc7b0NBQ3JEO29DQUVBLE9BQU85WCxVQUFVN04sTUFBTSxDQUFDLFVBQVVnYTtnQ0FFcEMsS0FBSztvQ0FDSG5NLFVBQVU5TixJQUFJLEdBQUc7b0NBQ2pCO2dDQUVGLEtBQUs7b0NBQ0g4TixVQUFVL04sSUFBSSxHQUFHO29DQUNqQitOLFVBQVV5ZixFQUFFLEdBQUd6ZixTQUFTLENBQUMsUUFBUSxDQUFDO29DQUNsQyxJQUFJLENBQUN1YyxZQUFZLEdBQUc7b0NBRXBCLElBQUksQ0FBQ3RCLElBQUksQ0FBQyx5QkFBeUJqYixVQUFVeWYsRUFBRTtvQ0FFL0MsSUFBSSxJQUFJLENBQUMxakIsTUFBTSxDQUFDRSxPQUFPLENBQUN1akIsY0FBYyxFQUFFO3dDQUN0QyxJQUFJLENBQUN6akIsTUFBTSxDQUFDa2QsY0FBYyxDQUFDbkIscUJBQXFCO3dDQUNoRCxJQUFJLENBQUMvYixNQUFNLENBQUNrZCxjQUFjLENBQUNwQixlQUFlO3dDQUMxQ0ssV0FBV0csb0JBQW9CLElBQUksRUFBRS9kLG1CQUFtQjBGLFVBQVV5ZixFQUFFO3dDQUNwRXpILGlCQUFpQixRQUFRQSxpQkFBaUIsS0FBSyxJQUFJLEtBQUssSUFBSUEsYUFBYSxZQUFZRTtvQ0FDdkY7b0NBRUEsTUFBTWxZLFVBQVV5ZixFQUFFO2dDQUVwQixLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3pmLFVBQVV4TixJQUFJOzRCQUN6Qjt3QkFDRjtvQkFDRixHQUFHbU4sVUFBVSxJQUFJLEVBQUU7d0JBQUM7NEJBQUM7NEJBQUc7eUJBQUc7d0JBQUU7NEJBQUM7NEJBQUk7eUJBQUc7cUJBQUM7Z0JBQ3hDO2dCQUVBLFNBQVNvZTtvQkFDUCxPQUFPYyxVQUFVcDRCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUMvQjtnQkFFQSxPQUFPbTNCO1lBQ1Q7UUFVRjtRQUFHO1lBQ0RoM0IsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJNDBCLGNBQWNsOUIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3dkO29CQUNsRixJQUFJbkUsU0FDQW9mLFVBQ0FzRSxTQUFTLzRCO29CQUNiLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTMGQsVUFBVUMsU0FBUzt3QkFDMUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFVBQVV0TyxJQUFJLEdBQUdzTyxVQUFVck8sSUFBSTtnQ0FDckMsS0FBSztvQ0FDSCtKLFVBQVUwakIsT0FBTzE3QixNQUFNLEdBQUcsS0FBSzA3QixNQUFNLENBQUMsRUFBRSxLQUFLbDNCLFlBQVlrM0IsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUV0RSxJQUFJLENBQUMxRSxJQUFJLENBQUMsNENBQTRDLHNDQUFzQztvQ0FHNUYsSUFBSSxDQUFFLEtBQUksQ0FBQ3NCLFlBQVksSUFBSSxJQUFJLENBQUNwQixTQUFTLEdBQUc7d0NBQzFDNWEsVUFBVXJPLElBQUksR0FBRzt3Q0FDakI7b0NBQ0Y7b0NBRUEsSUFBSSxDQUFDK29CLElBQUksQ0FBQztvQ0FFVixPQUFPMWEsVUFBVXBPLE1BQU0sQ0FBQztnQ0FFMUIsS0FBSztvQ0FDSCw0Q0FBNEM7b0NBQzVDLGlEQUFpRDtvQ0FDakRrcEIsV0FBV3BmLFFBQVFvZixRQUFRO29DQUUzQixJQUFJLENBQUNBLFVBQVU7d0NBQ2JBLFdBQVduaUIsY0FBYyxJQUFJLENBQUNtakIsbUJBQW1CO29DQUNuRCxFQUFFLGtEQUFrRDtvQ0FHcEQ5YixVQUFVck8sSUFBSSxHQUFHO29DQUNqQixPQUFPa0UsTUFBTWlsQjtnQ0FFZixLQUFLO29DQUNILElBQUksQ0FBRSxLQUFJLENBQUNrQixZQUFZLElBQUksSUFBSSxDQUFDcEIsU0FBUyxHQUFHO3dDQUMxQzVhLFVBQVVyTyxJQUFJLEdBQUc7d0NBQ2pCO29DQUNGO29DQUVBLElBQUksQ0FBQytvQixJQUFJLENBQUM7b0NBRVYsT0FBTzFhLFVBQVVwTyxNQUFNLENBQUM7Z0NBRTFCLEtBQUs7b0NBQ0gsSUFBSSxDQUFFLEtBQUksQ0FBQ29yQixjQUFjLElBQUksSUFBSSxDQUFDeGhCLE1BQU0sQ0FBQ0UsT0FBTyxDQUFDK2lCLGdCQUFnQixHQUFHO3dDQUNsRXplLFVBQVVyTyxJQUFJLEdBQUc7d0NBQ2pCO29DQUNGO29DQUVBLElBQUksQ0FBQytvQixJQUFJLENBQUM7b0NBRVYsT0FBTzFhLFVBQVVwTyxNQUFNLENBQUM7Z0NBRTFCLEtBQUs7b0NBQ0gsSUFBSSxDQUFDOG9CLElBQUksQ0FBQyxvREFBb0QsNkJBQTZCO29DQUczRixJQUFJLENBQUMyRSwyQkFBMkI7b0NBRWhDLElBQUksQ0FBQzNqQixRQUFRZ2lCLFlBQVksRUFBRTt3Q0FDekIxZCxVQUFVck8sSUFBSSxHQUFHO3dDQUNqQjtvQ0FDRjtvQ0FFQXFPLFVBQVVyTyxJQUFJLEdBQUc7b0NBQ2pCLE9BQU8sSUFBSSxDQUFDNkosTUFBTSxDQUFDdWQsWUFBWSxDQUFDNEYsU0FBUztnQ0FFM0MsS0FBSztvQ0FDSDNlLFVBQVV0TyxJQUFJLEdBQUc7b0NBQ2pCc08sVUFBVXJPLElBQUksR0FBRztvQ0FDakIsT0FBTyxJQUFJLENBQUM2ckIsUUFBUTtnQ0FFdEIsS0FBSztvQ0FDSCxJQUFJLENBQUM5QyxJQUFJLENBQUM7b0NBRVYxYSxVQUFVck8sSUFBSSxHQUFHO29DQUNqQixPQUFPLElBQUksQ0FBQzZKLE1BQU0sQ0FBQzhqQixZQUFZO2dDQUVqQyxLQUFLO29DQUNILElBQUksQ0FBQzVFLElBQUksQ0FBQztvQ0FFVixJQUFJLENBQUNvQixtQkFBbUIsR0FBRztvQ0FDM0I5YixVQUFVck8sSUFBSSxHQUFHO29DQUNqQjtnQ0FFRixLQUFLO29DQUNIcU8sVUFBVXRPLElBQUksR0FBRztvQ0FDakJzTyxVQUFVNlgsRUFBRSxHQUFHN1gsU0FBUyxDQUFDLFFBQVEsQ0FBQztvQ0FDbEMsSUFBSSxDQUFDNGEsU0FBUyxHQUFHO29DQUNqQixJQUFJLENBQUNrQixtQkFBbUIsSUFBSTtvQ0FFNUIsSUFBSSxDQUFFOWIsQ0FBQUEsVUFBVTZYLEVBQUUsQ0FBQ3FDLElBQUksS0FBS2hrQixVQUFVQyxhQUFhLElBQUksQ0FBQyxJQUFJLENBQUNxRixNQUFNLENBQUN1ZCxZQUFZLENBQUMwRSxRQUFRLEVBQUMsR0FBSTt3Q0FDNUZ6ZCxVQUFVck8sSUFBSSxHQUFHO3dDQUNqQjtvQ0FDRjtvQ0FFQSxJQUFJLENBQUMrb0IsSUFBSSxDQUFDO29DQUVWLE9BQU8xYSxVQUFVcE8sTUFBTSxDQUFDLFVBQVUsSUFBSSxDQUFDaXBCLFVBQVUsQ0FBQzt3Q0FDaEQ2QyxjQUFjO29DQUNoQjtnQ0FFRixLQUFLO29DQUNILG1FQUFtRTtvQ0FDbkUsSUFBSTFkLFVBQVU2WCxFQUFFLENBQUNzRSxXQUFXLEVBQUU7d0NBQzVCLElBQUksQ0FBQ3pCLElBQUksQ0FBQzt3Q0FFVixJQUFJLENBQUNHLFVBQVU7b0NBQ2pCO2dDQUVGLEtBQUs7b0NBQ0gsSUFBSSxDQUFDSCxJQUFJLENBQUM7Z0NBRVosS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU8xYSxVQUFVL04sSUFBSTs0QkFDekI7d0JBQ0Y7b0JBQ0YsR0FBRzROLFVBQVUsSUFBSSxFQUFFO3dCQUFDOzRCQUFDOzRCQUFJO3lCQUFHO3FCQUFDO2dCQUMvQjtnQkFFQSxTQUFTZ2I7b0JBQ1AsT0FBT3NFLFlBQVlqNUIsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ2pDO2dCQUVBLE9BQU93MEI7WUFDVDtRQVFGO1FBQUc7WUFDRHIwQixLQUFLO1lBQ0wrRCxPQUNBOzs7S0FHQyxHQUNELFNBQVM4MEI7Z0JBQ1AscUVBQXFFO2dCQUNyRSw2QkFBNkI7Z0JBQzdCLElBQUksQ0FBQ3RFLElBQUksSUFBSTtnQkFFYixJQUFJO29CQUNGLElBQUl3RSxXQUFXQztvQkFFZixJQUFJLEtBQUssUUFBUSxJQUFJLEtBQUssS0FBSyxJQUFJLEtBQUssSUFBSSxDQUFDRCxZQUFZLElBQUksQ0FBQ2xILEVBQUUsTUFBTSxRQUFRa0gsY0FBYyxLQUFLLElBQUksS0FBSyxJQUFJQSxVQUFVdEIsa0JBQWtCO29CQUMxSSxJQUFJLEtBQUssUUFBUSxJQUFJLEtBQUssS0FBSyxJQUFJLEtBQUssSUFBSSxDQUFDdUIsWUFBWSxJQUFJLENBQUNuSCxFQUFFLE1BQU0sUUFBUW1ILGNBQWMsS0FBSyxJQUFJLEtBQUssSUFBSUEsVUFBVXJCLEtBQUs7Z0JBQy9ILEVBQUUsT0FBTzE1QixHQUFHLENBQ1o7WUFDRjtRQUtGO0tBQUU7SUFFRixPQUFPMjFCO0FBQ1Q7QUFFQSxTQUFTcUYsVUFBVWw2QixNQUFNLEVBQUVDLGNBQWM7SUFBSSxJQUFJQyxPQUFPQyxPQUFPRCxJQUFJLENBQUNGO0lBQVMsSUFBSUcsT0FBT0MscUJBQXFCLEVBQUU7UUFBRSxJQUFJQyxVQUFVRixPQUFPQyxxQkFBcUIsQ0FBQ0o7UUFBUyxJQUFJQyxnQkFBZ0I7WUFBRUksVUFBVUEsUUFBUUMsTUFBTSxDQUFDLFNBQVVDLEdBQUc7Z0JBQUksT0FBT0osT0FBT0ssd0JBQXdCLENBQUNSLFFBQVFPLEtBQUtFLFVBQVU7WUFBRTtRQUFJO1FBQUVQLEtBQUtRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxNQUFNRztJQUFVO0lBQUUsT0FBT0g7QUFBTTtBQUUxVixTQUFTaTZCLGdCQUFnQnQ1QixNQUFNO0lBQUksSUFBSyxJQUFJdEIsSUFBSSxHQUFHQSxJQUFJdUIsVUFBVTNDLE1BQU0sRUFBRW9CLElBQUs7UUFBRSxJQUFJd0IsU0FBU0QsU0FBUyxDQUFDdkIsRUFBRSxJQUFJLE9BQU91QixTQUFTLENBQUN2QixFQUFFLEdBQUcsQ0FBQztRQUFHLElBQUlBLElBQUksR0FBRztZQUFFMjZCLFVBQVUvNUIsT0FBT1ksU0FBUyxNQUFNQyxPQUFPLENBQUMsU0FBVUMsR0FBRztnQkFBSXBFLDRFQUFlQSxDQUFDZ0UsUUFBUUksS0FBS0YsTUFBTSxDQUFDRSxJQUFJO1lBQUc7UUFBSSxPQUFPLElBQUlkLE9BQU9lLHlCQUF5QixFQUFFO1lBQUVmLE9BQU9nQixnQkFBZ0IsQ0FBQ04sUUFBUVYsT0FBT2UseUJBQXlCLENBQUNIO1FBQVUsT0FBTztZQUFFbTVCLFVBQVUvNUIsT0FBT1ksU0FBU0MsT0FBTyxDQUFDLFNBQVVDLEdBQUc7Z0JBQUlkLE9BQU9pQixjQUFjLENBQUNQLFFBQVFJLEtBQUtkLE9BQU9LLHdCQUF3QixDQUFDTyxRQUFRRTtZQUFPO1FBQUk7SUFBRTtJQUFFLE9BQU9KO0FBQVE7QUFFM2hCOzs7Ozs7Ozs7O0NBVUMsR0FDRCxTQUFTdTVCLGFBQWFDLFNBQVMsRUFBRTNQLE1BQU07SUFDckMsSUFBSTRQLFlBQVl4NUIsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHLENBQUM7SUFDckYsSUFBSXk1QixhQUFhejVCLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO0lBRXRGLElBQUksT0FBTzRwQixXQUFXLFVBQVU7UUFDOUIsTUFBTSxJQUFJN2IsVUFBVTtJQUN0QjtJQUVBLElBQUlxSyxVQUFVaWhCLGdCQUFnQjtRQUM1QnJ5QixTQUFTNGlCO0lBQ1gsR0FBRzRQLFlBQVksNEVBQTRFO0lBRzNGLElBQUlsOUIsc0RBQUdBLElBQUksUUFBUUEsMkRBQVEsSUFBSSxNQUFNO1FBQ25DLE1BQU15WixNQUFNO0lBQ2Q7SUFFQSxJQUFJd0wsT0FBTy9sQixxRUFBUUEsQ0FBQztRQUNsQm0rQixXQUFXO1FBQ1hDLGFBQWE7SUFDZixHQUFHSDtJQUVILElBQUlyaEIsUUFBUXloQixHQUFHLEVBQUU7UUFDZnRZLEtBQUtxWSxXQUFXLEdBQUc7SUFDckI7SUFFQSxPQUFPdDlCLHlEQUFRLENBQUM4YixTQUFTbWhCLFdBQVdoWTtBQUN0QztBQUNBLFNBQVN1WSxlQUFlUCxTQUFTO0lBQy9CLElBQUlFLGFBQWF6NUIsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHLENBQUM7SUFDdEYsSUFBSW9ZLFVBQVU7UUFDWjJoQixRQUFRO0lBQ1Y7SUFFQSxJQUFJeFksT0FBTy9sQixxRUFBUUEsQ0FBQztRQUNsQm0rQixXQUFXO1FBQ1hDLGFBQWE7SUFDZixHQUFHSDtJQUVILE9BQU9uOUIseURBQVEsQ0FBQzhiLFNBQVNtaEIsV0FBV2hZO0FBQ3RDO0FBQ0EsU0FBU3lZLGNBQWN2SCxLQUFLO0lBQzFCLElBQUl3SCxZQUFZeEgsTUFBTS9nQixLQUFLLENBQUM7SUFFNUIsSUFBSXVvQixVQUFVNThCLE1BQU0sS0FBSyxHQUFHO1FBQzFCLE9BQU87SUFDVDtJQUVBLElBQUk2OEIsYUFBYUQsU0FBUyxDQUFDLEVBQUU7SUFDN0IsSUFBSTdoQixVQUFVbGEsYUFBYWc4QjtJQUMzQixJQUFJcDhCLE9BQU80VyxLQUFLaWdCLEtBQUssQ0FBQ3ZjO0lBQ3RCLE9BQU90YSxLQUFLa0osT0FBTztBQUNyQjtBQUNBOzs7O0NBSUMsR0FFRCxTQUFTbXpCLFNBQVN2USxNQUFNO0lBQ3RCLE9BQU87UUFBQztRQUNSL3JCLGFBQWE2VyxLQUFLQyxTQUFTLENBQUM7WUFDMUIzTixTQUFTNGlCO1FBQ1g7UUFBSyxXQUFXLHNCQUFzQjtLQUNyQyxDQUFDaFYsSUFBSSxDQUFDO0FBQ1Q7QUFDQTs7Ozs7O0NBTUMsR0FFRCxTQUFTd2xCLGVBQWVDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxTQUFTO0lBQzdDLElBQUlwNkIsTUFBTXE2QixPQUFPM3JCLElBQUksQ0FBQ3lyQixRQUFRO0lBQzlCLElBQUlHLE9BQU9sK0IseURBQW1CLENBQUMsVUFBVTRELEtBQUt3YSxNQUFNLENBQUMwZixNQUFNTSxNQUFNLENBQUM7SUFFbEUsSUFBSTtRQUNGLE9BQU9wK0IsOERBQXdCLENBQUNpK0IsT0FBTzNyQixJQUFJLENBQUM0ckIsT0FBT0QsT0FBTzNyQixJQUFJLENBQUMwckI7SUFDakUsRUFBRSxPQUFPTSxTQUFTO1FBQ2hCLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNELElBQUlDLGVBQ0o7Ozs7Q0FJQyxHQUNELFNBQVNBLGFBQWFSLE1BQU07SUFDMUIsSUFBSTc1QixRQUFRLElBQUk7SUFFaEI1RSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUVpL0I7SUFFdEIvK0IsNEVBQWVBLENBQUMsSUFBSSxFQUFFLG9CQUFvQixLQUFLO0lBRS9DQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO0lBRW5DQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxLQUFLO0lBRXJDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxLQUFLO0lBRXBDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLEtBQUs7SUFFNUNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUs7SUFFbkNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxzQkFBc0IsV0FBVyxHQUFFO1FBQ3ZELElBQUlxWixPQUFPeFosOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3lPLFFBQVFzd0IsZUFBZSxFQUFFNzVCLElBQUk7WUFDeEcsT0FBT2xGLHNFQUF3QixDQUFDLFNBQVNtUCxTQUFTQyxRQUFRO2dCQUN4RCxNQUFPLEVBQUc7b0JBQ1IsT0FBUUEsU0FBU0MsSUFBSSxHQUFHRCxTQUFTRSxJQUFJO3dCQUNuQyxLQUFLOzRCQUNIN0ssTUFBTXU2QixhQUFhLENBQUNELGlCQUFpQjc1Qjs0QkFFckNULE1BQU1TLElBQUksR0FBR0E7NEJBRWIsSUFBSXlPLFdBQVdvckIsa0JBQWtCO2dDQUMvQnQ2QixNQUFNdzZCLGFBQWEsR0FBR0Y7Z0NBQ3RCdDZCLE1BQU1pQyxJQUFJLEdBQUc7NEJBQ2Y7NEJBRUEsSUFBSSxPQUFPcTRCLG9CQUFvQixVQUFVO2dDQUN2Q3Q2QixNQUFNZ3lCLEtBQUssR0FBR3NJO2dDQUNkdDZCLE1BQU1pQyxJQUFJLEdBQUc7NEJBQ2Y7NEJBRUEsSUFBSSxDQUFDcTRCLG1CQUFtQnQ2QixNQUFNUyxJQUFJLElBQUlULE1BQU02NUIsTUFBTSxFQUFFO2dDQUNsRDc1QixNQUFNZ3lCLEtBQUssR0FBRzZHLGFBQWE3NEIsTUFBTTY1QixNQUFNLEVBQUVwNUIsS0FBS0YsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDO2dDQUN2RFAsTUFBTWlDLElBQUksR0FBRzs0QkFDZjs0QkFFQTBJLFNBQVNFLElBQUksR0FBRzs0QkFDaEIsT0FBTzdLLE1BQU02M0IsU0FBUzt3QkFFeEIsS0FBSzt3QkFDTCxLQUFLOzRCQUNILE9BQU9sdEIsU0FBU1EsSUFBSTtvQkFDeEI7Z0JBQ0Y7WUFDRixHQUFHbkI7UUFDTDtRQUVBLE9BQU8sU0FBVXFCLEVBQUUsRUFBRUMsR0FBRztZQUN0QixPQUFPcUosS0FBS3ZWLEtBQUssQ0FBQyxJQUFJLEVBQUVHO1FBQzFCO0lBQ0Y7SUFFQWpFLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTO1FBQzdCMEUsTUFBTWd5QixLQUFLLEdBQUc1d0I7UUFDZHBCLE1BQU1TLElBQUksR0FBR1c7UUFDYnBCLE1BQU15NkIsZ0JBQWdCLEdBQUc7SUFDM0I7SUFFQW4vQiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLFNBQVVnL0IsZUFBZSxFQUFFNzVCLElBQUk7UUFDcEUsa0NBQWtDO1FBQ2xDLElBQUlBLFFBQVFBLEtBQUtpNkIsSUFBSSxJQUFJLENBQUNKLGlCQUFpQixRQUFRLHNEQUFzRDtRQUV6RyxJQUFJLENBQUN0NkIsTUFBTTY1QixNQUFNLElBQUksQ0FBQ1MsaUJBQWlCO1lBQ3JDLE1BQU0sSUFBSWhsQixNQUFNO1FBQ2xCO1FBRUEsSUFBSWdsQixtQkFBbUIsT0FBT0Esb0JBQW9CLFlBQVksQ0FBQ3ByQixXQUFXb3JCLGtCQUFrQjtZQUMxRixNQUFNLElBQUlobEIsTUFBTTtRQUNsQjtRQUVBLElBQUksT0FBT2dsQixvQkFBb0IsVUFBVTtZQUN2Qyx3Q0FBd0M7WUFDeEMsSUFBSTc1QixLQUFLaTZCLElBQUksSUFBSUosb0JBQW9CLElBQUk7WUFDekMsSUFBSUssY0FBY3BCLGNBQWNlO1lBRWhDLElBQUlBLG1CQUFtQixRQUFTSyxDQUFBQSxlQUFlLFFBQVFBLGdCQUFnQixNQUFNQSxnQkFBZ0JsNkIsS0FBS0YsRUFBRSxHQUFHO2dCQUNyRyxNQUFNLElBQUkrVSxNQUFNO1lBQ2xCO1FBQ0Y7SUFDRjtJQUVBaGEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGNBQWM7UUFDbEMsT0FBTzBFLE1BQU15NkIsZ0JBQWdCO0lBQy9CO0lBRUFuL0IsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGFBQWE7UUFDakMscURBQXFEO1FBQ3JEMEUsTUFBTXk2QixnQkFBZ0IsR0FBRyxJQUFJenJCLFFBQVMsV0FBVyxHQUFFO1lBQ2pELElBQUkwZSxRQUFRdnlCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2YSxTQUFTc04sT0FBTyxFQUFFK1IsTUFBTTtnQkFDcEcsT0FBT2w2QixzRUFBd0IsQ0FBQyxTQUFTK2EsVUFBVUMsU0FBUztvQkFDMUQsTUFBTyxFQUFHO3dCQUNSLE9BQVFBLFVBQVUzTCxJQUFJLEdBQUcyTCxVQUFVMUwsSUFBSTs0QkFDckMsS0FBSztnQ0FDSCxJQUFJLENBQUU3SyxDQUFBQSxNQUFNaUMsSUFBSSxLQUFLLFFBQU8sR0FBSTtvQ0FDOUJzVSxVQUFVMUwsSUFBSSxHQUFHO29DQUNqQjtnQ0FDRjtnQ0FFQSxPQUFPMEwsVUFBVXpMLE1BQU0sQ0FBQyxVQUFVNFksUUFBUTFqQixNQUFNZ3lCLEtBQUs7NEJBRXZELEtBQUs7Z0NBQ0gsSUFBSSxDQUFFaHlCLENBQUFBLE1BQU13NkIsYUFBYSxJQUFJLE9BQU94NkIsTUFBTXc2QixhQUFhLEtBQUssUUFBTyxHQUFJO29DQUNyRWprQixVQUFVMUwsSUFBSSxHQUFHO29DQUNqQjtnQ0FDRjtnQ0FFQTBMLFVBQVUzTCxJQUFJLEdBQUc7Z0NBQ2pCMkwsVUFBVTFMLElBQUksR0FBRztnQ0FDakIsT0FBTzdLLE1BQU13NkIsYUFBYTs0QkFFNUIsS0FBSztnQ0FDSHg2QixNQUFNZ3lCLEtBQUssR0FBR3piLFVBQVV2QixJQUFJO2dDQUM1QnVCLFVBQVUxTCxJQUFJLEdBQUc7Z0NBQ2pCOzRCQUVGLEtBQUs7Z0NBQ0gwTCxVQUFVM0wsSUFBSSxHQUFHO2dDQUNqQjJMLFVBQVV3YSxFQUFFLEdBQUd4YSxTQUFTLENBQUMsUUFBUSxDQUFDO2dDQUNsQyxPQUFPQSxVQUFVekwsTUFBTSxDQUFDLFVBQVUycUIsT0FBTyxJQUFJbmdCLE1BQU0sOENBQThDdE4sTUFBTSxDQUFDdU8sVUFBVXdhLEVBQUU7NEJBRXRILEtBQUs7Z0NBQ0hyTixRQUFRMWpCLE1BQU1neUIsS0FBSzs0QkFFckIsS0FBSzs0QkFDTCxLQUFLO2dDQUNILE9BQU96YixVQUFVcEwsSUFBSTt3QkFDekI7b0JBQ0Y7Z0JBQ0YsR0FBR2lMLFVBQVUsTUFBTTtvQkFBQzt3QkFBQzt3QkFBRztxQkFBRTtpQkFBQztZQUM3QjtZQUVBLE9BQU8sU0FBVU8sR0FBRyxFQUFFYSxHQUFHO2dCQUN2QixPQUFPa1csTUFBTXR1QixLQUFLLENBQUMsSUFBSSxFQUFFRztZQUMzQjtRQUNGO1FBQ0EsT0FBT1MsTUFBTXk2QixnQkFBZ0I7SUFDL0I7SUFFQW4vQiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsWUFBWTtRQUNoQyxJQUFJMEUsTUFBTWd5QixLQUFLLEVBQUU7WUFDZixPQUFPaHlCLE1BQU1neUIsS0FBSztRQUNwQjtRQUVBLElBQUloeUIsTUFBTVMsSUFBSSxJQUFJVCxNQUFNUyxJQUFJLENBQUNpNkIsSUFBSSxJQUFJLENBQUMxNkIsTUFBTWd5QixLQUFLLEVBQUU7WUFDakQsT0FBT2h5QixNQUFNZ3lCLEtBQUs7UUFDcEI7UUFFQSxJQUFJaHlCLE1BQU02NUIsTUFBTSxFQUFFO1lBQ2hCLE9BQU9SLGVBQWVyNUIsTUFBTTY1QixNQUFNO1FBQ3BDO1FBRUEsTUFBTSxJQUFJdmtCLE1BQU07SUFDbEI7SUFFQWhhLDRFQUFlQSxDQUFDLElBQUksRUFBRSxZQUFZO1FBQ2hDLE9BQU8wRSxNQUFNaUMsSUFBSSxLQUFLO0lBQ3hCO0lBRUEsSUFBSSxDQUFDdzRCLGdCQUFnQixHQUFHO0lBRXhCLElBQUlaLFFBQVE7UUFDVixJQUFJLENBQUNBLE1BQU0sR0FBR0E7SUFDaEI7SUFFQSxJQUFJLENBQUM1M0IsSUFBSSxHQUFHO0lBRVosSUFBSSxJQUFJLENBQUM0M0IsTUFBTSxFQUFFO1FBQ2YsSUFBSSxDQUFDN0gsS0FBSyxHQUFHcUgsZUFBZSxJQUFJLENBQUNRLE1BQU07SUFDekM7QUFDRixFQUNBOzs7Ozs7Q0FNQztBQUdELElBQUllLGdCQUFnQjtJQUNsQixNQUFNO1FBQ0p6c0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLEtBQUs7UUFDSDFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsS0FBSztRQUNIMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxLQUFLO1FBQ0gxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLEtBQUs7UUFDSDFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsS0FBSztRQUNIMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxNQUFNO1FBQ0oxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLE1BQU07UUFDSjFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsTUFBTTtRQUNKMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxNQUFNO1FBQ0oxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLE1BQU07UUFDSjFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsTUFBTTtRQUNKMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxNQUFNO1FBQ0oxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLE1BQU07UUFDSjFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsTUFBTTtRQUNKMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxNQUFNO1FBQ0oxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLE1BQU07UUFDSjFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsTUFBTTtRQUNKMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxNQUFNO1FBQ0oxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLE1BQU07UUFDSjFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsTUFBTTtRQUNKMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxNQUFNO1FBQ0oxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLE1BQU07UUFDSjFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsTUFBTTtRQUNKMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7SUFDQSxNQUFNO1FBQ0oxc0IsTUFBTTtRQUNOMHNCLFdBQVc7SUFDYjtJQUNBLE1BQU07UUFDSjFzQixNQUFNO1FBQ04wc0IsV0FBVztJQUNiO0lBQ0EsTUFBTTtRQUNKMXNCLE1BQU07UUFDTjBzQixXQUFXO0lBQ2I7QUFDRjtBQUNBLFNBQVNDLFdBQVdsc0IsS0FBSztJQUN2QixPQUFPQSxNQUFNd2tCLElBQUksS0FBS2h5QjtBQUN4QjtBQUNBLFNBQVMyNUIsaUJBQWlCbnNCLEtBQUs7SUFDN0IsSUFBSSxDQUFDQSxNQUFNd2tCLElBQUksRUFBRSxPQUFPO0lBQ3hCLElBQUkzbEIsTUFBTW10QixhQUFhLENBQUMsR0FBRzV5QixNQUFNLENBQUM0RyxNQUFNd2tCLElBQUksRUFBRTtJQUM5QyxJQUFJLENBQUMzbEIsS0FBSyxPQUFPO0lBQ2pCLE9BQU9BLElBQUlvdEIsU0FBUztBQUN0QjtBQUNBLFNBQVNHLG9CQUFvQnBzQixLQUFLO0lBQ2hDLE9BQU9BLE1BQU13a0IsSUFBSSxLQUFLLElBQUksNEJBQTRCO0FBQ3hEO0FBQ0EsU0FBU2lDLFlBQVk1bkIsR0FBRztJQUN0QixJQUFJLE9BQU9BLElBQUk0bkIsV0FBVyxLQUFLLFdBQVc7UUFDeEMsT0FBTzVuQixJQUFJNG5CLFdBQVc7SUFDeEI7SUFFQSxJQUFJO1FBQ0YsT0FBT3BoQixLQUFLaWdCLEtBQUssQ0FBQ3ptQixJQUFJbk4sT0FBTyxFQUFFKzBCLFdBQVc7SUFDNUMsRUFBRSxPQUFPcHBCLEdBQUc7UUFDVixPQUFPO0lBQ1Q7QUFDRjtBQUNBLFNBQVNndkIsZ0JBQWdCeCtCLEdBQUc7SUFDMUIsT0FBTyxDQUFDQSxJQUFJc0YsTUFBTSxJQUFJdEYsSUFBSXNGLE1BQU0sR0FBRyxPQUFPLE9BQU90RixJQUFJc0YsTUFBTTtBQUM3RDtBQUVBLFNBQVNtNUIsVUFBVXo4QixNQUFNLEVBQUVDLGNBQWM7SUFBSSxJQUFJQyxPQUFPQyxPQUFPRCxJQUFJLENBQUNGO0lBQVMsSUFBSUcsT0FBT0MscUJBQXFCLEVBQUU7UUFBRSxJQUFJQyxVQUFVRixPQUFPQyxxQkFBcUIsQ0FBQ0o7UUFBUyxJQUFJQyxnQkFBZ0I7WUFBRUksVUFBVUEsUUFBUUMsTUFBTSxDQUFDLFNBQVVDLEdBQUc7Z0JBQUksT0FBT0osT0FBT0ssd0JBQXdCLENBQUNSLFFBQVFPLEtBQUtFLFVBQVU7WUFBRTtRQUFJO1FBQUVQLEtBQUtRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxNQUFNRztJQUFVO0lBQUUsT0FBT0g7QUFBTTtBQUUxVixTQUFTdzhCLGdCQUFnQjc3QixNQUFNO0lBQUksSUFBSyxJQUFJdEIsSUFBSSxHQUFHQSxJQUFJdUIsVUFBVTNDLE1BQU0sRUFBRW9CLElBQUs7UUFBRSxJQUFJd0IsU0FBU0QsU0FBUyxDQUFDdkIsRUFBRSxJQUFJLE9BQU91QixTQUFTLENBQUN2QixFQUFFLEdBQUcsQ0FBQztRQUFHLElBQUlBLElBQUksR0FBRztZQUFFazlCLFVBQVV0OEIsT0FBT1ksU0FBUyxNQUFNQyxPQUFPLENBQUMsU0FBVUMsR0FBRztnQkFBSXBFLDRFQUFlQSxDQUFDZ0UsUUFBUUksS0FBS0YsTUFBTSxDQUFDRSxJQUFJO1lBQUc7UUFBSSxPQUFPLElBQUlkLE9BQU9lLHlCQUF5QixFQUFFO1lBQUVmLE9BQU9nQixnQkFBZ0IsQ0FBQ04sUUFBUVYsT0FBT2UseUJBQXlCLENBQUNIO1FBQVUsT0FBTztZQUFFMDdCLFVBQVV0OEIsT0FBT1ksU0FBU0MsT0FBTyxDQUFDLFNBQVVDLEdBQUc7Z0JBQUlkLE9BQU9pQixjQUFjLENBQUNQLFFBQVFJLEtBQUtkLE9BQU9LLHdCQUF3QixDQUFDTyxRQUFRRTtZQUFPO1FBQUk7SUFBRTtJQUFFLE9BQU9KO0FBQVE7QUFDM2hCLElBQUk4N0I7QUFFSCxVQUFVQSxlQUFlO0lBQ3hCQSxlQUFlLENBQUMsU0FBUyxHQUFHO0lBQzVCQSxlQUFlLENBQUMsWUFBWSxHQUFHO0lBQy9CQSxlQUFlLENBQUMsYUFBYSxHQUFHO0lBQ2hDQSxlQUFlLENBQUMsZUFBZSxHQUFHO0lBQ2xDQSxlQUFlLENBQUMsT0FBTyxHQUFHO0FBQzVCLEdBQUdBLG1CQUFvQkEsQ0FBQUEsa0JBQWtCLENBQUM7QUFFMUMsSUFBSUMsdUJBQXVCLFdBQVcsR0FBRTtJQUN0QyxTQUFTQSxxQkFBcUIxbUIsSUFBSTtRQUNoQyxJQUFJM1UsUUFBUSxJQUFJO1FBRWhCLElBQUkwVSxTQUFTQyxLQUFLRCxNQUFNO1FBRXhCdFosNEVBQWVBLENBQUMsSUFBSSxFQUFFaWdDO1FBRXRCLy9CLDRFQUFlQSxDQUFDLElBQUksRUFBRSxVQUFVLEtBQUs7UUFFckNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTLEtBQUs7UUFFcENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSx1QkFBdUIsS0FBSztRQUVsREEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdCQUFnQixLQUFLO1FBRTNDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZUFBZSxLQUFLO1FBRTFDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsd0JBQXdCLFNBQVUyWixLQUFLO1lBQzNEalYsTUFBTTR6QixJQUFJLENBQUMsNEJBQTRCNXJCLE1BQU0sQ0FBQ2lOLE1BQU1oVCxJQUFJO1lBRXhELElBQUlnVCxNQUFNaFQsSUFBSSxLQUFLLFdBQVc7Z0JBQzVCLElBQUlxNUI7Z0JBRUp0N0IsTUFBTXU3QixTQUFTLENBQUNILGdCQUFnQkksTUFBTTtnQkFFckNGLENBQUFBLG9CQUFvQnQ3QixNQUFNeTdCLFdBQVcsTUFBTSxRQUFRSCxzQkFBc0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsa0JBQWtCSSxNQUFNLENBQUM7Z0JBQ3JIMTdCLE1BQU15N0IsV0FBVyxHQUFHcjZCO2dCQUNwQjtZQUNGO1lBRUEsSUFBSTZULE1BQU1oVCxJQUFJLEtBQUssWUFBWWpDLE1BQU0rQyxLQUFLLEtBQUtxNEIsZ0JBQWdCSSxNQUFNLEVBQUU7Z0JBQ3JFeDdCLE1BQU04MkIsT0FBTyxDQUFDO1lBQ2hCO1FBQ0Y7UUFFQXg3Qiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxXQUFXLEdBQUU7WUFDekMsSUFBSW95QixRQUFRdnlCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN5TyxRQUFROEosTUFBTSxFQUFFNm5CLE1BQU0sRUFBRUMsS0FBSztnQkFDekcsSUFBSUMsb0JBQW9CcC9CO2dCQUV4QixPQUFPbEIsc0VBQXdCLENBQUMsU0FBU21QLFNBQVNDLFFBQVE7b0JBQ3hELE1BQU8sRUFBRzt3QkFDUixPQUFRQSxTQUFTQyxJQUFJLEdBQUdELFNBQVNFLElBQUk7NEJBQ25DLEtBQUs7Z0NBQ0gsSUFBSSxDQUFDN0ssTUFBTXk3QixXQUFXLElBQUksQ0FBQzNuQixPQUFPdWpCLEtBQUssRUFBRTtvQ0FDdkNyM0IsTUFBTXk3QixXQUFXLEdBQUdqZ0MsOENBQUtBLENBQUNzZ0MsV0FBVyxDQUFDdDhCLE1BQU07Z0NBQzlDO2dDQUVBbUwsU0FBU0MsSUFBSSxHQUFHO2dDQUNoQkQsU0FBU0UsSUFBSSxHQUFHO2dDQUNoQixPQUFPN0ssTUFBTTBVLE1BQU0sQ0FBQ3FuQixjQUFjLENBQUMsT0FBTy83QixNQUFNMFUsTUFBTSxDQUFDYSxPQUFPLENBQUN5bUIsT0FBTyxDQUFDLFNBQVMsV0FBVyxhQUMzRjU2QixXQUFXO29DQUNUdTZCLFFBQVFSLGdCQUFnQkEsZ0JBQWdCLENBQUMsR0FBR1EsU0FBUyxDQUFDLEdBQUc7d0NBQ3ZERixhQUFhLENBQUNJLHFCQUFxQjc3QixNQUFNeTdCLFdBQVcsTUFBTSxRQUFRSSx1QkFBdUIsS0FBSyxJQUFJLEtBQUssSUFBSUEsbUJBQW1CN0osS0FBSztvQ0FDckk7b0NBQ0FsZSxRQUFRQTtnQ0FDVjs0QkFFRixLQUFLO2dDQUNIclgsTUFBTWtPLFNBQVNxSyxJQUFJO2dDQUNuQmhWLE1BQU1nMUIsbUJBQW1CLEdBQUcsR0FBRyxtQ0FBbUM7Z0NBRWxFLE9BQU9ycUIsU0FBU0csTUFBTSxDQUFDLFVBQVVyTzs0QkFFbkMsS0FBSztnQ0FDSGtPLFNBQVNDLElBQUksR0FBRztnQ0FDaEJELFNBQVNvbUIsRUFBRSxHQUFHcG1CLFFBQVEsQ0FBQyxRQUFRLENBQUM7Z0NBQ2hDM0ssTUFBTWcxQixtQkFBbUIsSUFBSTtnQ0FFN0IsSUFBSSxDQUFFNEcsQ0FBQUEsU0FBU2IsaUJBQWlCcHdCLFNBQVNvbUIsRUFBRSxJQUFJO29DQUM3Q3BtQixTQUFTRSxJQUFJLEdBQUc7b0NBQ2hCO2dDQUNGO2dDQUVBN0ssTUFBTTR6QixJQUFJLENBQUM7Z0NBRVhqcEIsU0FBU0UsSUFBSSxHQUFHO2dDQUNoQixPQUFPa0UsTUFBTThDLGNBQWM3UixNQUFNZzFCLG1CQUFtQjs0QkFFdEQsS0FBSztnQ0FDSCxPQUFPcnFCLFNBQVNHLE1BQU0sQ0FBQyxVQUFVOUssTUFBTWk4QixJQUFJLENBQUNub0IsUUFBUTZuQixRQUFRQzs0QkFFOUQsS0FBSztnQ0FDSCxNQUFNanhCLFNBQVNvbUIsRUFBRTs0QkFFbkIsS0FBSzs0QkFDTCxLQUFLO2dDQUNILE9BQU9wbUIsU0FBU1EsSUFBSTt3QkFDeEI7b0JBQ0Y7Z0JBQ0YsR0FBR25CLFNBQVMsTUFBTTtvQkFBQzt3QkFBQzt3QkFBRztxQkFBRTtpQkFBQztZQUM1QjtZQUVBLE9BQU8sU0FBVXFCLEVBQUUsRUFBRUMsR0FBRyxFQUFFcUwsR0FBRztnQkFDM0IsT0FBTytXLE1BQU10dUIsS0FBSyxDQUFDLElBQUksRUFBRUc7WUFDM0I7UUFDRjtRQUVBakUsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFNBQVMsV0FBVyxHQUFFSCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNmE7WUFDNUcsSUFBSThsQixjQUFjNytCLE1BQU1XO1lBRXhCLE9BQU96QyxzRUFBd0IsQ0FBQyxTQUFTK2EsVUFBVUMsU0FBUztnQkFDMUQsTUFBTyxFQUFHO29CQUNSLE9BQVFBLFVBQVUzTCxJQUFJLEdBQUcyTCxVQUFVMUwsSUFBSTt3QkFDckMsS0FBSzs0QkFDSCxJQUFJLENBQUU3SyxDQUFBQSxNQUFNK0MsS0FBSyxLQUFLcTRCLGdCQUFnQmUsU0FBUyxHQUFHO2dDQUNoRDVsQixVQUFVMUwsSUFBSSxHQUFHO2dDQUNqQjs0QkFDRjs0QkFFQTBMLFVBQVUzTCxJQUFJLEdBQUc7NEJBQ2pCMkwsVUFBVTFMLElBQUksR0FBRzs0QkFDakIsT0FBTzdLLE1BQU1pOEIsSUFBSSxDQUFDLENBQUMsR0FBRztnQ0FDcEJ6RixTQUFTOzRCQUNYLEdBQUc7d0JBRUwsS0FBSzs0QkFDSG41QixPQUFPa1osVUFBVXZCLElBQUk7NEJBRXJCLGtEQUFrRDs0QkFDbEQsSUFBSSxDQUFDa25CLGVBQWU3K0IsS0FBSysrQixNQUFNLE1BQU0sUUFBUUYsaUJBQWlCLEtBQUssS0FBS0EsYUFBYXQvQixNQUFNLEVBQUU7Z0NBQzNGLElBQUtvQixJQUFJLEdBQUdBLElBQUlYLEtBQUsrK0IsTUFBTSxDQUFDeC9CLE1BQU0sRUFBRW9CLElBQUs7b0NBQ3ZDZ0MsTUFBTTBVLE1BQU0sQ0FBQzlLLGFBQWEsQ0FBQ3ZNLEtBQUsrK0IsTUFBTSxDQUFDcCtCLEVBQUU7Z0NBQzNDOzRCQUNGOzRCQUVBdVksVUFBVTFMLElBQUksR0FBRzs0QkFDakI7d0JBRUYsS0FBSzs0QkFDSDBMLFVBQVUzTCxJQUFJLEdBQUc7NEJBQ2pCMkwsVUFBVXdhLEVBQUUsR0FBR3hhLFNBQVMsQ0FBQyxRQUFRLENBQUM7NEJBRWxDLElBQUksQ0FBQy9hLDhDQUFLQSxDQUFDNmdDLFFBQVEsQ0FBQzlsQixVQUFVd2EsRUFBRSxHQUFHO2dDQUNqQ3hhLFVBQVUxTCxJQUFJLEdBQUc7Z0NBQ2pCOzRCQUNGOzRCQUVBN0ssTUFBTTR6QixJQUFJLENBQUM7NEJBRVgsT0FBT3JkLFVBQVV6TCxNQUFNLENBQUM7d0JBRTFCLEtBQUs7NEJBQ0gsSUFBSSxDQUFDa3dCLG9CQUFvQnprQixVQUFVd2EsRUFBRSxHQUFHO2dDQUN0Q3hhLFVBQVUxTCxJQUFJLEdBQUc7Z0NBQ2pCOzRCQUNGOzRCQUVBN0ssTUFBTTR6QixJQUFJLENBQUM7NEJBRVg1ekIsTUFBTXU3QixTQUFTLENBQUNILGdCQUFnQmtCLFlBQVk7NEJBRTVDdDhCLE1BQU04MkIsT0FBTyxDQUFDOzRCQUVkLE9BQU92Z0IsVUFBVXpMLE1BQU0sQ0FBQzt3QkFFMUIsS0FBSzs0QkFDSCxJQUFJLENBQUVnd0IsQ0FBQUEsV0FBV3ZrQixVQUFVd2EsRUFBRSxLQUFLLENBQUNnSyxpQkFBaUJ4a0IsVUFBVXdhLEVBQUUsSUFBSTtnQ0FDbEV4YSxVQUFVMUwsSUFBSSxHQUFHO2dDQUNqQjs0QkFDRjs0QkFFQTdLLE1BQU11N0IsU0FBUyxDQUFDSCxnQkFBZ0JJLE1BQU07NEJBRXRDLE9BQU9qbEIsVUFBVXpMLE1BQU0sQ0FBQzt3QkFFMUIsS0FBSzs0QkFDSHlMLFVBQVUxTCxJQUFJLEdBQUc7NEJBQ2pCLE9BQU9rRSxNQUFNOEMsY0FBYzdSLE1BQU1nMUIsbUJBQW1CO3dCQUV0RCxLQUFLOzRCQUNIemUsVUFBVTFMLElBQUksR0FBRzs0QkFDakI7d0JBRUYsS0FBSzt3QkFDTCxLQUFLOzRCQUNILE9BQU8wTCxVQUFVcEwsSUFBSTtvQkFDekI7Z0JBQ0Y7WUFDRixHQUFHaUwsVUFBVSxNQUFNO2dCQUFDO29CQUFDO29CQUFHO2lCQUFFO2FBQUM7UUFDN0I7UUFFQTlhLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLFdBQVcsR0FBRUgsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzRiO1lBQzlHLElBQUlvbEIsV0FDQUMsbUJBQ0F2bkIsT0FDQXduQixTQUFTbDlCO1lBRWIsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVM2YixVQUFVQyxTQUFTO2dCQUMxRCxNQUFPLEVBQUc7b0JBQ1IsT0FBUUEsVUFBVXpNLElBQUksR0FBR3lNLFVBQVV4TSxJQUFJO3dCQUNyQyxLQUFLOzRCQUNIMHhCLFlBQVlFLE9BQU83L0IsTUFBTSxHQUFHLEtBQUs2L0IsTUFBTSxDQUFDLEVBQUUsS0FBS3I3QixZQUFZcTdCLE1BQU0sQ0FBQyxFQUFFLEdBQUc7NEJBRXZFLElBQUksQ0FBRXo4QixDQUFBQSxNQUFNK0MsS0FBSyxLQUFLcTRCLGdCQUFnQnNCLFVBQVUsR0FBRztnQ0FDakRybEIsVUFBVXhNLElBQUksR0FBRztnQ0FDakI7NEJBQ0Y7NEJBRUE3SyxNQUFNNHpCLElBQUksQ0FBQyw4Q0FBOEM7Z0NBQ3ZEMkksV0FBV0E7NEJBQ2IsR0FBRzs0QkFFSCxPQUFPbGxCLFVBQVV2TSxNQUFNLENBQUM7d0JBRTFCLEtBQUs7NEJBQ0gsSUFBSSxDQUFFOUssQ0FBQUEsTUFBTStDLEtBQUssS0FBS3E0QixnQkFBZ0JlLFNBQVMsR0FBRztnQ0FDaEQ5a0IsVUFBVXhNLElBQUksR0FBRztnQ0FDakI7NEJBQ0Y7NEJBRUE3SyxNQUFNNHpCLElBQUksQ0FBQyw2Q0FBNkM7Z0NBQ3REMkksV0FBV0E7NEJBQ2IsR0FBRzs0QkFFSCxPQUFPbGxCLFVBQVV2TSxNQUFNLENBQUM7d0JBRTFCLEtBQUs7NEJBQ0g5SyxNQUFNdTdCLFNBQVMsQ0FBQ0gsZ0JBQWdCc0IsVUFBVTs0QkFFMUMxOEIsTUFBTXN5QixZQUFZLEdBQUdseEIsV0FBVyxxRUFBcUU7NEJBRXJHaVcsVUFBVXpNLElBQUksR0FBRzs0QkFDakJ5TSxVQUFVeE0sSUFBSSxHQUFHOzRCQUNqQixPQUFPN0ssTUFBTWk4QixJQUFJLENBQUM7Z0NBQ2hCVSxNQUFNMzhCLE1BQU0wVSxNQUFNLENBQUM4ZSxlQUFlOzRCQUNwQyxHQUFHO2dDQUNEZ0QsU0FBUzs0QkFDWCxHQUNBK0Y7d0JBRUYsS0FBSzs0QkFDSEMsb0JBQW9CbmxCLFVBQVVyQyxJQUFJOzRCQUNsQ0MsUUFBUXVuQixrQkFBa0J2bkIsS0FBSzs0QkFFL0JqVixNQUFNdTdCLFNBQVMsQ0FBQ0gsZ0JBQWdCZSxTQUFTOzRCQUV6Q244QixNQUFNc3lCLFlBQVksR0FBR3JkLE1BQU1pakIsYUFBYSxFQUFFLG1CQUFtQjs0QkFFN0RsNEIsTUFBTTBVLE1BQU0sQ0FBQzlLLGFBQWEsQ0FBQ3FMOzRCQUUzQmpWLE1BQU00OEIsS0FBSzs0QkFFWCxJQUFJTCxXQUFXO2dDQUNidjhCLE1BQU0wVSxNQUFNLENBQUM4akIsWUFBWTs0QkFDM0I7NEJBRUEsT0FBT25oQixVQUFVdk0sTUFBTSxDQUFDLFVBQVVtSzt3QkFFcEMsS0FBSzs0QkFDSG9DLFVBQVV6TSxJQUFJLEdBQUc7NEJBQ2pCeU0sVUFBVTBaLEVBQUUsR0FBRzFaLFNBQVMsQ0FBQyxRQUFRLENBQUM7NEJBRWxDclgsTUFBTXU3QixTQUFTLENBQUNILGdCQUFnQkksTUFBTTs0QkFFdEMsTUFBTW5rQixVQUFVMFosRUFBRTt3QkFFcEIsS0FBSzt3QkFDTCxLQUFLOzRCQUNILE9BQU8xWixVQUFVbE0sSUFBSTtvQkFDekI7Z0JBQ0Y7WUFDRixHQUFHZ00sVUFBVSxNQUFNO2dCQUFDO29CQUFDO29CQUFHO2lCQUFHO2FBQUM7UUFDOUI7UUFFQTdiLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhO1lBQ2pDLE9BQU8sQ0FBQyxDQUFDMEUsTUFBTXN5QixZQUFZLElBQUl0eUIsTUFBTStDLEtBQUssS0FBS3E0QixnQkFBZ0JlLFNBQVM7UUFDMUU7UUFFQTdnQyw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxXQUFXLEdBQUVILDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNtYztZQUNqSCxJQUFJbWxCO1lBRUosSUFBSXJHLFNBQ0EwQixlQUNBdGdCLFNBQVNyWTtZQUNiLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTc2MsVUFBVUMsU0FBUztnQkFDMUQsTUFBTyxFQUFHO29CQUNSLE9BQVFBLFVBQVVsTixJQUFJLEdBQUdrTixVQUFVak4sSUFBSTt3QkFDckMsS0FBSzs0QkFDSDJyQixVQUFVNWUsT0FBT2hiLE1BQU0sR0FBRyxLQUFLZ2IsTUFBTSxDQUFDLEVBQUUsS0FBS3hXLFlBQVl3VyxNQUFNLENBQUMsRUFBRSxHQUFHOzRCQUNyRWpFLCtCQUErQjNULE1BQU04OEIsb0JBQW9COzRCQUV6RDk4QixNQUFNdTdCLFNBQVMsQ0FBQ0gsZ0JBQWdCa0IsWUFBWTs0QkFFM0NPLENBQUFBLHFCQUFxQjc4QixNQUFNeTdCLFdBQVcsTUFBTSxRQUFRb0IsdUJBQXVCLEtBQUssSUFBSSxLQUFLLElBQUlBLG1CQUFtQm5CLE1BQU0sQ0FBQzs0QkFDeEgxN0IsTUFBTXk3QixXQUFXLEdBQUdyNkI7NEJBQ3BCODJCLGdCQUFnQmw0QixNQUFNc3lCLFlBQVk7NEJBQ2xDdHlCLE1BQU1zeUIsWUFBWSxHQUFHbHhCOzRCQUNyQjBXLFVBQVVsTixJQUFJLEdBQUc7NEJBQ2pCa04sVUFBVWpOLElBQUksR0FBRzs0QkFDakIsT0FBTzdLLE1BQU1pOEIsSUFBSSxDQUFDO2dDQUNoQjVFLE9BQU87Z0NBQ1BhLGVBQWVBOzRCQUNqQixHQUFHO2dDQUNEMUIsU0FBU0E7NEJBQ1gsR0FBRzt3QkFFTCxLQUFLOzRCQUNIeDJCLE1BQU00ekIsSUFBSSxDQUFDOzRCQUVYOWIsVUFBVWpOLElBQUksR0FBRzs0QkFDakI7d0JBRUYsS0FBSzs0QkFDSGlOLFVBQVVsTixJQUFJLEdBQUc7NEJBQ2pCa04sVUFBVWlaLEVBQUUsR0FBR2paLFNBQVMsQ0FBQyxRQUFRLENBQUM7NEJBRWxDOVgsTUFBTTR6QixJQUFJLENBQUMseUJBQXlCO2dDQUNsQ25tQixLQUFLcUssVUFBVWlaLEVBQUU7NEJBQ25CLEdBQUc7d0JBRUwsS0FBSzt3QkFDTCxLQUFLOzRCQUNILE9BQU9qWixVQUFVM00sSUFBSTtvQkFDekI7Z0JBQ0Y7WUFDRixHQUFHdU0sVUFBVSxNQUFNO2dCQUFDO29CQUFDO29CQUFHO2lCQUFHO2FBQUM7UUFDOUI7UUFFQSxJQUFJLENBQUNoRCxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDM1IsS0FBSyxHQUFHcTRCLGdCQUFnQjJCLElBQUk7UUFDakMsSUFBSSxDQUFDL0gsbUJBQW1CLEdBQUc7UUFDM0J4aEIsNEJBQTRCLElBQUksQ0FBQ3NwQixvQkFBb0I7SUFDdkQ7SUFFQXpoQyx5RUFBWUEsQ0FBQ2dnQyxzQkFBc0I7UUFBQztZQUNsQzM3QixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNtd0IsS0FBS3h6QixHQUFHO2dCQUN0QixJQUFJZzJCLFFBQVE3MkIsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHLENBQUM7Z0JBQ2pGLElBQUk4MkIsUUFBUTkyQixVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUc7Z0JBQ2hGLElBQUksQ0FBQ21WLE1BQU0sQ0FBQytQLE1BQU0sQ0FBQzRSLE9BQU8sMEJBQTBCajJCLEtBQUsrNkIsZ0JBQWdCO29CQUN2RXpXLE1BQU07d0JBQUM7d0JBQXVCO3FCQUFhO2dCQUM3QyxHQUFHMFI7WUFDTDtRQUNGO1FBQUc7WUFDRDEyQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVM4M0IsVUFBVXg0QixLQUFLO2dCQUM3QixJQUFJLENBQUM2d0IsSUFBSSxDQUFDLGlCQUFpQjVyQixNQUFNLENBQUNqRixTQUFTLDBDQUEwQztnQkFHckYsSUFBSSxJQUFJLENBQUNBLEtBQUssS0FBS3E0QixnQkFBZ0JzQixVQUFVLElBQUkzNUIsVUFBVXE0QixnQkFBZ0JlLFNBQVMsRUFBRTtvQkFDcEYsSUFBSSxDQUFDem5CLE1BQU0sQ0FBQzlLLGFBQWEsQ0FBQzt3QkFDeEIzSCxNQUFNO3dCQUNOMndCLFFBQVE7b0JBQ1Y7Z0JBQ0Y7Z0JBRUEsSUFBSTd2QixVQUFVcTRCLGdCQUFnQkksTUFBTSxJQUFJejRCLFVBQVVxNEIsZ0JBQWdCa0IsWUFBWSxFQUFFO29CQUM5RSxJQUFJLENBQUM1bkIsTUFBTSxDQUFDOUssYUFBYSxDQUFDO3dCQUN4QjNILE1BQU07d0JBQ04yd0IsUUFBUTtvQkFDVjtnQkFDRjtnQkFFQSxJQUFJLENBQUM3dkIsS0FBSyxHQUFHQTtZQUNmO1FBR0Y7S0FBRTtJQUVGLE9BQU9zNEI7QUFDVDtBQUVBLFNBQVMyQixhQUFhQyxPQUFPO0lBQUksSUFBSUMsNEJBQTRCQztJQUE2QixPQUFPLFNBQVNDO1FBQXlCLElBQUlDLFFBQVFuaEMsNkVBQWVBLENBQUMrZ0MsVUFBVTU4QjtRQUFRLElBQUk2OEIsMkJBQTJCO1lBQUUsSUFBSUksWUFBWXBoQyw2RUFBZUEsQ0FBQyxJQUFJLEVBQUVnUyxXQUFXO1lBQUU3TixTQUFTazlCLFFBQVFDLFNBQVMsQ0FBQ0gsT0FBTzk5QixXQUFXKzlCO1FBQVksT0FBTztZQUFFajlCLFNBQVNnOUIsTUFBTWorQixLQUFLLENBQUMsSUFBSSxFQUFFRztRQUFZO1FBQUUsT0FBT3RELHdGQUEwQkEsQ0FBQyxJQUFJLEVBQUVvRTtJQUFTO0FBQUc7QUFFeGEsU0FBUzg4QjtJQUE4QixJQUFJLE9BQU9JLFlBQVksZUFBZSxDQUFDQSxRQUFRQyxTQUFTLEVBQUUsT0FBTztJQUFPLElBQUlELFFBQVFDLFNBQVMsQ0FBQ0MsSUFBSSxFQUFFLE9BQU87SUFBTyxJQUFJLE9BQU9DLFVBQVUsWUFBWSxPQUFPO0lBQU0sSUFBSTtRQUFFQyxRQUFRM3ZCLFNBQVMsQ0FBQzR2QixPQUFPLENBQUNsd0IsSUFBSSxDQUFDNnZCLFFBQVFDLFNBQVMsQ0FBQ0csU0FBUyxFQUFFLEVBQUUsWUFBYTtRQUFLLE9BQU87SUFBTSxFQUFFLE9BQU9oZ0MsR0FBRztRQUFFLE9BQU87SUFBTztBQUFFO0FBRXhVOztDQUVDLEdBRUQsa0JBQWtCLEdBQ2xCLGdDQUFnQztBQUVoQzs7Q0FFQyxHQUNELHdIQUF3SDtBQUV4SDs7Q0FFQyxHQUNELG9IQUFvSDtBQUVwSCxvREFBb0QsR0FDcEQsb0VBQW9FO0FBRXBFOztDQUVDLEdBRUQ7O0NBRUMsR0FFRDs7Q0FFQyxHQUVEOztDQUVDLEdBRUQ7Ozs7Ozs7Ozs7Ozs7OztDQWVDLEdBQ0QsMEJBQTBCO0FBQzFCLElBQUlrZ0Msb0JBQW9CLFdBQVcsR0FBRSxTQUFVQyxNQUFNO0lBQ25EOWhDLHVFQUFTQSxDQUFDNmhDLG1CQUFtQkM7SUFFN0IsSUFBSUMsU0FBU2YsYUFBYWE7SUFFMUIsU0FBU0E7UUFDUCxJQUFJNzlCO1FBRUo1RSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUV5aUM7UUFFdEIsSUFBSyxJQUFJNWdDLE9BQU9zQyxVQUFVM0MsTUFBTSxFQUFFb2hDLE9BQU8sSUFBSW54QixNQUFNNVAsT0FBT2doQyxPQUFPLEdBQUdBLE9BQU9oaEMsTUFBTWdoQyxPQUFRO1lBQ3ZGRCxJQUFJLENBQUNDLEtBQUssR0FBRzErQixTQUFTLENBQUMwK0IsS0FBSztRQUM5QjtRQUVBaitCLFFBQVErOUIsT0FBT3J3QixJQUFJLENBQUN0TyxLQUFLLENBQUMyK0IsUUFBUTtZQUFDLElBQUk7U0FBQyxDQUFDLzFCLE1BQU0sQ0FBQ2cyQjtRQUVoRDFpQyw0RUFBZUEsQ0FBQ1Msb0ZBQXNCQSxDQUFDaUUsUUFBUSxRQUFRLEtBQUs7UUFFNUQxRSw0RUFBZUEsQ0FBQ1Msb0ZBQXNCQSxDQUFDaUUsUUFBUSxZQUFZLEtBQUs7UUFFaEUxRSw0RUFBZUEsQ0FBQ1Msb0ZBQXNCQSxDQUFDaUUsUUFBUSxVQUFVLEtBQUs7UUFFOUQsT0FBT0E7SUFDVDtJQUVBLE9BQU82OUI7QUFDVCxFQUFHLFdBQVcsR0FBRTFoQyw4RUFBZ0JBLENBQUNtWjtBQUVqQyxJQUFJNG9CLFlBQVk7SUFBQztJQUFjO0lBQWM7SUFBZTtDQUFTLEVBQ2pFQyxhQUFhO0lBQUM7SUFBVTtDQUFVO0FBRXRDLFNBQVNDLDJCQUEyQjV4QixDQUFDLEVBQUVDLGNBQWM7SUFBSSxJQUFJQyxLQUFLLE9BQU9DLFdBQVcsZUFBZUgsQ0FBQyxDQUFDRyxPQUFPQyxRQUFRLENBQUMsSUFBSUosQ0FBQyxDQUFDLGFBQWE7SUFBRSxJQUFJLENBQUNFLElBQUk7UUFBRSxJQUFJRyxNQUFNQyxPQUFPLENBQUNOLE1BQU9FLENBQUFBLEtBQUsyeEIsNEJBQTRCN3hCLEVBQUMsS0FBTUMsa0JBQWtCRCxLQUFLLE9BQU9BLEVBQUU1UCxNQUFNLEtBQUssVUFBVTtZQUFFLElBQUk4UCxJQUFJRixJQUFJRTtZQUFJLElBQUkxTyxJQUFJO1lBQUcsSUFBSWdQLElBQUksU0FBU0EsS0FBSztZQUFHLE9BQU87Z0JBQUV0UCxHQUFHc1A7Z0JBQUdDLEdBQUcsU0FBU0E7b0JBQU0sSUFBSWpQLEtBQUt3TyxFQUFFNVAsTUFBTSxFQUFFLE9BQU87d0JBQUVzUSxNQUFNO29CQUFLO29CQUFHLE9BQU87d0JBQUVBLE1BQU07d0JBQU96SixPQUFPK0ksQ0FBQyxDQUFDeE8sSUFBSTtvQkFBQztnQkFBRztnQkFBR0wsR0FBRyxTQUFTQSxFQUFFd1AsRUFBRTtvQkFBSSxNQUFNQTtnQkFBSTtnQkFBR0UsR0FBR0w7WUFBRTtRQUFHO1FBQUUsTUFBTSxJQUFJTSxVQUFVO0lBQTBJO0lBQUUsSUFBSUMsbUJBQW1CLE1BQU1DLFNBQVMsT0FBT0M7SUFBSyxPQUFPO1FBQUUvUCxHQUFHLFNBQVNBO1lBQU1nUCxLQUFLQSxHQUFHZ0IsSUFBSSxDQUFDbEI7UUFBSTtRQUFHUyxHQUFHLFNBQVNBO1lBQU0sSUFBSVUsT0FBT2pCLEdBQUc3QixJQUFJO1lBQUkwQyxtQkFBbUJJLEtBQUtULElBQUk7WUFBRSxPQUFPUztRQUFNO1FBQUdoUSxHQUFHLFNBQVNBLEVBQUVpUSxHQUFHO1lBQUlKLFNBQVM7WUFBTUMsTUFBTUc7UUFBSztRQUFHUCxHQUFHLFNBQVNBO1lBQU0sSUFBSTtnQkFBRSxJQUFJLENBQUNFLG9CQUFvQmIsR0FBR21CLE1BQU0sSUFBSSxNQUFNbkIsR0FBR21CLE1BQU07WUFBSSxTQUFVO2dCQUFFLElBQUlMLFFBQVEsTUFBTUM7WUFBSztRQUFFO0lBQUU7QUFBRztBQUVyK0IsU0FBUzR3Qiw0QkFBNEI3eEIsQ0FBQyxFQUFFc0IsTUFBTTtJQUFJLElBQUksQ0FBQ3RCLEdBQUc7SUFBUSxJQUFJLE9BQU9BLE1BQU0sVUFBVSxPQUFPOHhCLGtCQUFrQjl4QixHQUFHc0I7SUFBUyxJQUFJYixJQUFJck8sT0FBT29QLFNBQVMsQ0FBQ1osUUFBUSxDQUFDTSxJQUFJLENBQUNsQixHQUFHeUIsS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUFJLElBQUloQixNQUFNLFlBQVlULEVBQUUwQixXQUFXLEVBQUVqQixJQUFJVCxFQUFFMEIsV0FBVyxDQUFDQyxJQUFJO0lBQUUsSUFBSWxCLE1BQU0sU0FBU0EsTUFBTSxPQUFPLE9BQU9KLE1BQU11QixJQUFJLENBQUM1QjtJQUFJLElBQUlTLE1BQU0sZUFBZSwyQ0FBMkNvQixJQUFJLENBQUNwQixJQUFJLE9BQU9xeEIsa0JBQWtCOXhCLEdBQUdzQjtBQUFTO0FBRS9aLFNBQVN3d0Isa0JBQWtCaHdCLEdBQUcsRUFBRTNSLEdBQUc7SUFBSSxJQUFJQSxPQUFPLFFBQVFBLE1BQU0yUixJQUFJMVIsTUFBTSxFQUFFRCxNQUFNMlIsSUFBSTFSLE1BQU07SUFBRSxJQUFLLElBQUlvQixJQUFJLEdBQUd1USxPQUFPLElBQUkxQixNQUFNbFEsTUFBTXFCLElBQUlyQixLQUFLcUIsSUFBSztRQUFFdVEsSUFBSSxDQUFDdlEsRUFBRSxHQUFHc1EsR0FBRyxDQUFDdFEsRUFBRTtJQUFFO0lBQUUsT0FBT3VRO0FBQU07QUFFdEwsU0FBU2d3QixRQUFROS9CLE1BQU0sRUFBRUMsY0FBYztJQUFJLElBQUlDLE9BQU9DLE9BQU9ELElBQUksQ0FBQ0Y7SUFBUyxJQUFJRyxPQUFPQyxxQkFBcUIsRUFBRTtRQUFFLElBQUlDLFVBQVVGLE9BQU9DLHFCQUFxQixDQUFDSjtRQUFTLElBQUlDLGdCQUFnQjtZQUFFSSxVQUFVQSxRQUFRQyxNQUFNLENBQUMsU0FBVUMsR0FBRztnQkFBSSxPQUFPSixPQUFPSyx3QkFBd0IsQ0FBQ1IsUUFBUU8sS0FBS0UsVUFBVTtZQUFFO1FBQUk7UUFBRVAsS0FBS1EsSUFBSSxDQUFDQyxLQUFLLENBQUNULE1BQU1HO0lBQVU7SUFBRSxPQUFPSDtBQUFNO0FBRXhWLFNBQVM2L0IsY0FBY2wvQixNQUFNO0lBQUksSUFBSyxJQUFJdEIsSUFBSSxHQUFHQSxJQUFJdUIsVUFBVTNDLE1BQU0sRUFBRW9CLElBQUs7UUFBRSxJQUFJd0IsU0FBU0QsU0FBUyxDQUFDdkIsRUFBRSxJQUFJLE9BQU91QixTQUFTLENBQUN2QixFQUFFLEdBQUcsQ0FBQztRQUFHLElBQUlBLElBQUksR0FBRztZQUFFdWdDLFFBQVEzL0IsT0FBT1ksU0FBUyxNQUFNQyxPQUFPLENBQUMsU0FBVUMsR0FBRztnQkFBSXBFLDRFQUFlQSxDQUFDZ0UsUUFBUUksS0FBS0YsTUFBTSxDQUFDRSxJQUFJO1lBQUc7UUFBSSxPQUFPLElBQUlkLE9BQU9lLHlCQUF5QixFQUFFO1lBQUVmLE9BQU9nQixnQkFBZ0IsQ0FBQ04sUUFBUVYsT0FBT2UseUJBQXlCLENBQUNIO1FBQVUsT0FBTztZQUFFKytCLFFBQVEzL0IsT0FBT1ksU0FBU0MsT0FBTyxDQUFDLFNBQVVDLEdBQUc7Z0JBQUlkLE9BQU9pQixjQUFjLENBQUNQLFFBQVFJLEtBQUtkLE9BQU9LLHdCQUF3QixDQUFDTyxRQUFRRTtZQUFPO1FBQUk7SUFBRTtJQUFFLE9BQU9KO0FBQVE7QUFFcmhCLFNBQVNtL0IsU0FBU3RnQyxDQUFDO0lBQ2pCLE9BQU8sT0FBT0EsTUFBTSxZQUFZQSxhQUFhTjtBQUMvQztBQUVBLElBQUk2Z0MsYUFBYSxXQUFXLEdBQUU7SUFDNUIsU0FBU0EsV0FBV1QsSUFBSSxFQUFFVSxlQUFlLEVBQUVDLFFBQVE7UUFDakQsSUFBSTUrQixRQUFRLElBQUksRUFDWjYrQjtRQUVKempDLDRFQUFlQSxDQUFDLElBQUksRUFBRXNqQztRQUV0QnBqQyw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxLQUFLO1FBRXBDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLEtBQUs7UUFFN0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhLEtBQUs7UUFFeENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxrQ0FBa0MsS0FBSztRQUU3REEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGlCQUFpQixLQUFLO1FBRTVDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsV0FBVyxLQUFLO1FBRXRDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsV0FBVyxLQUFLO1FBRXRDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsdUJBQXVCLEtBQUs7UUFFbERBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxZQUFZLEtBQUs7UUFFdkNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLEtBQUs7UUFFdENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxPQUFPLEtBQUs7UUFFbENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhLEtBQUs7UUFFeENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxVQUFVLEtBQUs7UUFFckNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSwyQkFBMkIsS0FBSztRQUV0REEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGlCQUFpQixLQUFLO1FBRTVDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxLQUFLO1FBRXpDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO1FBRW5DQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsV0FBVyxLQUFLO1FBRXRDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxLQUFLO1FBRXJDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLEtBQUs7UUFFN0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTLEtBQUs7UUFFcENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxnQkFBZ0IsS0FBSztRQUUzQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFFBQVEsS0FBSztRQUVuQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGFBQWEsS0FBSztRQUV4Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFVBQVUsS0FBSztRQUVyQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGFBQWEsS0FBSztRQUV4Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdCQUFnQixLQUFLO1FBRTNDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxLQUFLO1FBRXpDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsYUFBYSxLQUFLO1FBRXhDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsdUJBQXVCLEtBQUs7UUFFbERBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxrQkFBa0IsS0FBSztRQUU3Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdDQUFnQyxLQUFLO1FBRTNEQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsb0JBQW9CLEtBQUs7UUFFL0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSw4QkFBOEI7UUFFcERBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxvQkFBb0I7WUFDeEMsSUFBSXdqQyxvQkFBb0JDO1lBRXhCLE9BQU8sQ0FBQyxDQUFDRCxxQkFBcUI5K0IsTUFBTWcvQixZQUFZLE1BQU0sUUFBUUYsdUJBQXVCLEtBQUssSUFBSSxLQUFLLElBQUlBLG1CQUFtQnhNLFlBQVksS0FBTSxFQUFDeU0sbUJBQW1CLytCLE1BQU1pL0IsVUFBVSxNQUFNLFFBQVFGLHFCQUFxQixLQUFLLElBQUksS0FBSyxJQUFJQSxpQkFBaUJ6TSxZQUFZO1FBQ3BRO1FBRUFoM0IsNEVBQWVBLENBQUMsSUFBSSxFQUFFLG9CQUFvQjtZQUN4QyxPQUFPcWlDLFFBQVEzOUIsTUFBTWsvQixnQkFBZ0I7UUFDdkM7UUFFQTVqQyw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZUFBZSxXQUFXLEdBQUU7WUFDaEQsSUFBSXFaLE9BQU94Wiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTeU8sUUFBUXZKLElBQUksRUFBRTArQixtQkFBbUI7Z0JBQzVHLElBQUlDLGlCQUFpQmxuQjtnQkFDckIsT0FBTzNjLHNFQUF3QixDQUFDLFNBQVNtUCxTQUFTQyxRQUFRO29CQUN4RCxNQUFPLEVBQUc7d0JBQ1IsT0FBUUEsU0FBU0MsSUFBSSxHQUFHRCxTQUFTRSxJQUFJOzRCQUNuQyxLQUFLO2dDQUNILElBQUlwSyxLQUFLRixFQUFFLEVBQUU7b0NBQ1hvSyxTQUFTRSxJQUFJLEdBQUc7b0NBQ2hCO2dDQUNGO2dDQUVBLE1BQU0sSUFBSXlLLE1BQU07NEJBRWxCLEtBQUs7Z0NBQ0gsSUFBSSxDQUFFdFYsQ0FBQUEsTUFBTXNHLE1BQU0sS0FBSzdGLEtBQUtGLEVBQUUsSUFBSVAsTUFBTXEvQixjQUFjLEdBQUc7b0NBQ3ZEMTBCLFNBQVNFLElBQUksR0FBRztvQ0FDaEI7Z0NBQ0Y7Z0NBRUFnRSxRQUFRQyxJQUFJLENBQUM7Z0NBQ2IsT0FBT25FLFNBQVNHLE1BQU0sQ0FBQyxVQUFVOUssTUFBTXEvQixjQUFjOzRCQUV2RCxLQUFLO2dDQUNILElBQUksQ0FBQ3IvQixNQUFNc0csTUFBTSxFQUFFO29DQUNqQnFFLFNBQVNFLElBQUksR0FBRztvQ0FDaEI7Z0NBQ0Y7Z0NBRUEsTUFBTSxJQUFJeUssTUFBTTs0QkFFbEIsS0FBSztnQ0FDSCxJQUFJLENBQUN0VixNQUFNMnVCLGtCQUFrQixNQUFNM3VCLE1BQU1zL0IsSUFBSSxLQUFLLENBQUN0L0IsTUFBTTRVLE9BQU8sQ0FBQzJxQixzQkFBc0IsRUFBRTtvQ0FDdkYxd0IsUUFBUUMsSUFBSSxDQUFDO2dDQUNmLEVBQUUsd0NBQXdDO2dDQUcxQzlPLE1BQU1zRyxNQUFNLEdBQUc3RixLQUFLRixFQUFFO2dDQUN0QlAsTUFBTXcvQixTQUFTLEdBQUc7Z0NBQ2xCSixrQkFBa0JwL0IsTUFBTXkvQixTQUFTLENBQUNoL0IsTUFBTTArQjtnQ0FFeENuL0IsTUFBTTAvQixRQUFRLENBQUNqL0I7Z0NBRWZ5WCxZQUFZbFksTUFBTTIvQixjQUFjO2dDQUNoQzMvQixNQUFNcS9CLGNBQWMsR0FBR3J3QixRQUFRbUcsR0FBRyxDQUFDO29DQUFDaXFCO29DQUFpQmxuQjtpQ0FBVSxFQUFFeEosSUFBSSxDQUFDLFNBQVVyTyxNQUFNO29DQUNwRixPQUFPQSxNQUFNLENBQUMsRUFBRTtnQ0FDbEIsRUFBRSxxQ0FBcUM7O2dDQUV2Q3NLLFNBQVNDLElBQUksR0FBRztnQ0FDaEJELFNBQVNFLElBQUksR0FBRztnQ0FDaEIsT0FBTzdLLE1BQU1xL0IsY0FBYzs0QkFFN0IsS0FBSztnQ0FDSCxPQUFPMTBCLFNBQVNHLE1BQU0sQ0FBQyxVQUFVSCxTQUFTcUssSUFBSTs0QkFFaEQsS0FBSztnQ0FDSHJLLFNBQVNDLElBQUksR0FBRztnQ0FDaEJELFNBQVNvbUIsRUFBRSxHQUFHcG1CLFFBQVEsQ0FBQyxRQUFRLENBQUM7Z0NBRWhDLElBQUkzSyxNQUFNNC9CLDhCQUE4QixFQUFFO29DQUN4Qyw4REFBOEQ7b0NBQzlENS9CLE1BQU02L0IsZUFBZTtnQ0FDdkIsT0FBTztvQ0FDTDcvQixNQUFNOC9CLGNBQWM7Z0NBQ3RCO2dDQUVBLE1BQU1uMUIsU0FBU29tQixFQUFFOzRCQUVuQixLQUFLOzRCQUNMLEtBQUs7Z0NBQ0gsT0FBT3BtQixTQUFTUSxJQUFJO3dCQUN4QjtvQkFDRjtnQkFDRixHQUFHbkIsU0FBUyxNQUFNO29CQUFDO3dCQUFDO3dCQUFJO3FCQUFHO2lCQUFDO1lBQzlCO1lBRUEsT0FBTyxTQUFVcUIsRUFBRSxFQUFFQyxHQUFHO2dCQUN0QixPQUFPcUosS0FBS3ZWLEtBQUssQ0FBQyxJQUFJLEVBQUVHO1lBQzFCO1FBQ0Y7UUFFQWpFLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLElBQUksQ0FBQ3lrQyxXQUFXO1FBRWpEemtDLDRFQUFlQSxDQUFDLElBQUksRUFBRSxhQUFhLFNBQVVtRixJQUFJLEVBQUUwK0IsbUJBQW1CO1lBQ3BFLE9BQU9uL0IsTUFBTWl5QixZQUFZLENBQUMrTixrQkFBa0IsQ0FBQ2IscUJBQXFCMStCO1FBQ3BFO1FBRUFuRiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsbUJBQW1CLFdBQVcsR0FBRTtZQUNwRCxJQUFJb3lCLFFBQVF2eUIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzZhLFNBQVNvZ0IsT0FBTztnQkFDNUYsSUFBSXlKLHFCQUFxQkM7Z0JBRXpCLE9BQU8za0Msc0VBQXdCLENBQUMsU0FBUythLFVBQVVDLFNBQVM7b0JBQzFELE1BQU8sRUFBRzt3QkFDUixPQUFRQSxVQUFVM0wsSUFBSSxHQUFHMkwsVUFBVTFMLElBQUk7NEJBQ3JDLEtBQUs7Z0NBQ0gsSUFBSTdLLE1BQU1tZ0MsbUJBQW1CLElBQUksTUFBTTtvQ0FDckNqSixjQUFjbDNCLE1BQU1tZ0MsbUJBQW1CO29DQUN2Q25nQyxNQUFNbWdDLG1CQUFtQixHQUFHLytCO2dDQUM5QjtnQ0FFQW1WLFVBQVUxTCxJQUFJLEdBQUc7Z0NBQ2pCLE9BQU9tRSxRQUFRbUcsR0FBRyxDQUFDO29DQUFFOHFCLENBQUFBLHNCQUFzQmpnQyxNQUFNZy9CLFlBQVksTUFBTSxRQUFRaUIsd0JBQXdCLEtBQUssSUFBSSxLQUFLLElBQUlBLG9CQUFvQmhKLFVBQVUsQ0FBQ1Q7b0NBQVcwSixDQUFBQSxvQkFBb0JsZ0MsTUFBTWkvQixVQUFVLE1BQU0sUUFBUWlCLHNCQUFzQixLQUFLLElBQUksS0FBSyxJQUFJQSxrQkFBa0JqSixVQUFVLENBQUNUO2lDQUFTOzRCQUVqUyxLQUFLO2dDQUNILE9BQU9qZ0IsVUFBVXpMLE1BQU0sQ0FBQyxVQUFVa0UsUUFBUTBVLE9BQU87NEJBRW5ELEtBQUs7NEJBQ0wsS0FBSztnQ0FDSCxPQUFPbk4sVUFBVXBMLElBQUk7d0JBQ3pCO29CQUNGO2dCQUNGLEdBQUdpTDtZQUNMO1lBRUEsT0FBTyxTQUFVTyxHQUFHO2dCQUNsQixPQUFPK1csTUFBTXR1QixLQUFLLENBQUMsSUFBSSxFQUFFRztZQUMzQjtRQUNGO1FBRUFqRSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLFdBQVcsR0FBRUgsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzRiO1lBQ3JILElBQUlpcEIscUJBQXFCQyxxQkFBcUJDO1lBRTlDLE9BQU8va0Msc0VBQXdCLENBQUMsU0FBUzZiLFVBQVVDLFNBQVM7Z0JBQzFELE1BQU8sRUFBRztvQkFDUixPQUFRQSxVQUFVek0sSUFBSSxHQUFHeU0sVUFBVXhNLElBQUk7d0JBQ3JDLEtBQUs7NEJBQ0gsSUFBSTdLLE1BQU1zRyxNQUFNLEVBQUU7Z0NBQ2hCK1EsVUFBVXhNLElBQUksR0FBRztnQ0FDakI7NEJBQ0Y7NEJBRUEsTUFBTXlLLE1BQU07d0JBRWQsS0FBSzs0QkFDSCxJQUFJLENBQUUsRUFBQzhxQixzQkFBc0JwZ0MsTUFBTWcvQixZQUFZLE1BQU0sUUFBUW9CLHdCQUF3QixLQUFLLEtBQUtBLG9CQUFvQmxMLFlBQVksSUFBSWwxQixNQUFNa1ksU0FBUyxHQUFHO2dDQUNuSmIsVUFBVXhNLElBQUksR0FBRztnQ0FDakI7NEJBQ0Y7NEJBRUE3SyxNQUFNeWtCLE1BQU0sQ0FBQyxRQUFRLDREQUE0RDtnQ0FDL0VDLE1BQU07b0NBQUM7b0NBQWM7aUNBQVM7NEJBQ2hDOzRCQUVBLE9BQU9yTixVQUFVdk0sTUFBTSxDQUFDLFVBQVU5SyxNQUFNa1ksU0FBUzt3QkFFbkQsS0FBSzs0QkFDSCxJQUFJLENBQUUsRUFBQyxDQUFDbW9CLHNCQUFzQnJnQyxNQUFNZy9CLFlBQVksTUFBTSxRQUFRcUIsd0JBQXdCLEtBQUssS0FBS0Esb0JBQW9Cdk0sU0FBUyxJQUFJLENBQUN3TSxvQkFBb0J0Z0MsTUFBTWkvQixVQUFVLE1BQU0sUUFBUXFCLHNCQUFzQixLQUFLLEtBQUtBLGtCQUFrQnhNLFNBQVMsRUFBQyxLQUFNOXpCLE1BQU13a0IsZ0JBQWdCLEVBQUMsR0FBSTtnQ0FDL1FuTixVQUFVeE0sSUFBSSxHQUFHO2dDQUNqQjs0QkFDRjs0QkFFQTdLLE1BQU15a0IsTUFBTSxDQUFDLFFBQVEsNEZBQTRGO2dDQUMvR0MsTUFBTTtvQ0FBQztvQ0FBYztpQ0FBUzs0QkFDaEM7NEJBRUEsT0FBT3JOLFVBQVV2TSxNQUFNLENBQUMsVUFBVWtFLFFBQVEwVSxPQUFPO3dCQUVuRCxLQUFLOzRCQUNIMWpCLE1BQU00MUIsUUFBUSxHQUFHLEdBQUc1dEIsTUFBTSxDQUFDaEksTUFBTXNHLE1BQU0sRUFBRSxNQUFNMEIsTUFBTSxDQUFDa0s7NEJBQ3REbFMsTUFBTWtZLFNBQVMsR0FBR2xZLE1BQU04MkIsT0FBTzs0QkFFL0I5MkIsTUFBTXVnQyxjQUFjOzRCQUVwQixPQUFPbHBCLFVBQVV2TSxNQUFNLENBQUMsVUFBVTlLLE1BQU1rWSxTQUFTO3dCQUVuRCxLQUFLO3dCQUNMLEtBQUs7NEJBQ0gsT0FBT2IsVUFBVWxNLElBQUk7b0JBQ3pCO2dCQUNGO1lBQ0YsR0FBR2dNO1FBQ0w7UUFFQTdiLDRFQUFlQSxDQUFDLElBQUksRUFBRSxvQkFBb0IsSUFBSSxDQUFDcWtDLGNBQWM7UUFFN0Rya0MsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGtCQUFrQixTQUFVa2xDLE1BQU07WUFDdEQsSUFBSUEsa0JBQWtCeDlCLE1BQU07Z0JBQzFCdzlCLFNBQVNBLE9BQU94NUIsV0FBVztZQUM3QjtZQUVBLElBQUl3NUIsV0FBVyxJQUFJO2dCQUNqQixNQUFNLElBQUlsckIsTUFBTTtZQUNsQjtZQUVBLE9BQU9rckI7UUFDVDtRQUVBbGxDLDRFQUFlQSxDQUFDLElBQUksRUFBRSxrQkFBa0IsV0FBVyxHQUFFO1lBQ25ELElBQUltbEMsUUFBUXRsQyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTbWMsU0FBUzhlLE9BQU87Z0JBQzVGLElBQUlrSyxjQUFjcjNCLElBQUlzM0IsZ0JBQWdCeCtCO2dCQUV0QyxPQUFPNUcsc0VBQXdCLENBQUMsU0FBU3NjLFVBQVVDLFNBQVM7b0JBQzFELE1BQU8sRUFBRzt3QkFDUixPQUFRQSxVQUFVbE4sSUFBSSxHQUFHa04sVUFBVWpOLElBQUk7NEJBQ3JDLEtBQUs7Z0NBQ0g3SyxNQUFNeWtCLE1BQU0sQ0FBQyxRQUFRLGtEQUFrRDtvQ0FDckVDLE1BQU07d0NBQUM7d0NBQWM7cUNBQVM7Z0NBQ2hDLElBQUksa0NBQWtDO2dDQUd0QyxPQUFPMWtCLE1BQU1TLElBQUk7Z0NBQ2pCLE9BQU9ULE1BQU1teUIsS0FBSztnQ0FDbEIsT0FBT255QixNQUFNc0csTUFBTTtnQ0FDbkJ0RyxNQUFNdy9CLFNBQVMsR0FBRztnQ0FDbEJrQixlQUFlMWdDLE1BQU02L0IsZUFBZSxDQUFDcko7Z0NBRXJDLElBQUtudEIsS0FBSyxHQUFHczNCLGlCQUFpQi9oQyxPQUFPZ2lDLE1BQU0sQ0FBQzVnQyxNQUFNa29CLGNBQWMsR0FBRzdlLEtBQUtzM0IsZUFBZS9qQyxNQUFNLEVBQUV5TSxLQUFNO29DQUNuR2xILFdBQVd3K0IsY0FBYyxDQUFDdDNCLEdBQUc7b0NBRTdCbEgsU0FBU3F0QixXQUFXO2dDQUN0QixFQUFFLCtDQUErQztnQ0FHakR4dkIsTUFBTWtvQixjQUFjLEdBQUcsQ0FBQyxHQUFHLHFCQUFxQjtnQ0FFaERsb0IsTUFBTStDLEtBQUssR0FBRyxJQUFJOHNCLGVBQWUsc0JBQXNCO2dDQUV2RDVnQixXQUFXalAsTUFBTWl5QixZQUFZLENBQUM0TyxLQUFLLEdBQUcsbURBQW1EO2dDQUN6RiwwQkFBMEI7Z0NBRTFCLE9BQU8vb0IsVUFBVWhOLE1BQU0sQ0FBQyxVQUFVNDFCOzRCQUVwQyxLQUFLOzRCQUNMLEtBQUs7Z0NBQ0gsT0FBTzVvQixVQUFVM00sSUFBSTt3QkFDekI7b0JBQ0Y7Z0JBQ0YsR0FBR3VNO1lBQ0w7WUFFQSxPQUFPLFNBQVVGLEdBQUc7Z0JBQ2xCLE9BQU9pcEIsTUFBTXJoQyxLQUFLLENBQUMsSUFBSSxFQUFFRztZQUMzQjtRQUNGO1FBRUFqRSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxJQUFJLENBQUN3a0MsY0FBYztRQUV2RHhrQyw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsd0JBQXdCO1lBQzVDLElBQUksQ0FBQzBFLE1BQU0ydUIsa0JBQWtCLE1BQU0zdUIsTUFBTXMvQixJQUFJLEtBQUssQ0FBQ3QvQixNQUFNNFUsT0FBTyxDQUFDMnFCLHNCQUFzQixFQUFFO2dCQUN2RjF3QixRQUFRQyxJQUFJLENBQUM7WUFDZjtZQUVBOU8sTUFBTXcvQixTQUFTLEdBQUc7WUFDbEJ4L0IsTUFBTXNHLE1BQU0sR0FBRzRMO1lBQ2YsSUFBSTR1QixnQkFBZ0I7Z0JBQ2xCdmdDLElBQUlQLE1BQU1zRyxNQUFNO2dCQUNoQm8wQixNQUFNO1lBQ1I7WUFFQTE2QixNQUFNeS9CLFNBQVMsQ0FBQ3FCLGVBQWU7WUFFL0I5Z0MsTUFBTTAvQixRQUFRLENBQUNvQjtZQUVmLE9BQU85Z0MsTUFBTStnQyxnQkFBZ0I7UUFDL0I7UUFFQXpsQyw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsb0JBQW9CLElBQUksQ0FBQzBsQyxvQkFBb0I7UUFFbkUxbEMsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGtCQUFrQixXQUFXLEdBQUU7WUFDbkQsSUFBSTJsQyxRQUFROWxDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVMrYyxTQUFTclcsSUFBSSxFQUFFOFUsR0FBRyxFQUFFMVosSUFBSTtnQkFDcEcsSUFBSXVYLFNBQ0Fzc0IsZUFDQXBjLFVBQ0FxYyx1QkFDQTFvQixTQUFTbFo7Z0JBRWIsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNtZCxVQUFVQyxTQUFTO29CQUMxRCxNQUFPLEVBQUc7d0JBQ1IsT0FBUUEsVUFBVS9OLElBQUksR0FBRytOLFVBQVU5TixJQUFJOzRCQUNyQyxLQUFLO2dDQUNIK0osVUFBVTZELE9BQU83YixNQUFNLEdBQUcsS0FBSzZiLE1BQU0sQ0FBQyxFQUFFLEtBQUtyWCxZQUFZcVgsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDO2dDQUN0RUUsVUFBVTlOLElBQUksR0FBRztnQ0FDakIsT0FBTzdLLE1BQU1peUIsWUFBWSxDQUFDMkYsVUFBVTs0QkFFdEMsS0FBSztnQ0FDSHNKLGdCQUFnQmxoQyxNQUFNb2hDLG1CQUFtQixDQUFDeHNCO2dDQUMxQytELFVBQVUvTixJQUFJLEdBQUc7Z0NBRWpCNUssTUFBTXFoQyxjQUFjLENBQUNwL0IsTUFBTThVLEtBQUsxWixNQUFNNmpDO2dDQUV0Q3ZvQixVQUFVb1ksRUFBRSxHQUFHOXVCO2dDQUNmMFcsVUFBVTlOLElBQUksR0FBRzhOLFVBQVVvWSxFQUFFLEtBQUssUUFBUSxJQUFJcFksVUFBVW9ZLEVBQUUsS0FBSyxXQUFXLEtBQUtwWSxVQUFVb1ksRUFBRSxLQUFLLFNBQVMsS0FBS3BZLFVBQVVvWSxFQUFFLEtBQUssYUFBYSxLQUFLcFksVUFBVW9ZLEVBQUUsS0FBSyxRQUFRLEtBQUtwWSxVQUFVb1ksRUFBRSxLQUFLLFVBQVUsS0FBS3BZLFVBQVVvWSxFQUFFLEtBQUssWUFBWSxLQUFLO2dDQUNqUDs0QkFFRixLQUFLO2dDQUNIcFksVUFBVTlOLElBQUksR0FBRztnQ0FDakIsT0FBTzdLLE1BQU1zaEMsYUFBYSxDQUFDcitCLEdBQUcsQ0FBQzhULEtBQUttcUI7NEJBRXRDLEtBQUs7Z0NBQ0hwYyxXQUFXbk0sVUFBVTNELElBQUk7Z0NBQ3pCLE9BQU8yRCxVQUFVN04sTUFBTSxDQUFDLFNBQVM7NEJBRW5DLEtBQUs7Z0NBQ0g2TixVQUFVOU4sSUFBSSxHQUFHO2dDQUNqQixPQUFPN0ssTUFBTXNoQyxhQUFhLENBQUN0cUIsTUFBTSxDQUFDRCxLQUFLbXFCOzRCQUV6QyxLQUFLO2dDQUNIcGMsV0FBV25NLFVBQVUzRCxJQUFJO2dDQUN6QixPQUFPMkQsVUFBVTdOLE1BQU0sQ0FBQyxTQUFTOzRCQUVuQyxLQUFLO2dDQUNINk4sVUFBVTlOLElBQUksR0FBRztnQ0FDakIsT0FBTzdLLE1BQU1zaEMsYUFBYSxDQUFDOXFCLElBQUksQ0FBQ08sS0FBSzFaLE1BQU02akM7NEJBRTdDLEtBQUs7Z0NBQ0hwYyxXQUFXbk0sVUFBVTNELElBQUk7Z0NBQ3pCLE9BQU8yRCxVQUFVN04sTUFBTSxDQUFDLFNBQVM7NEJBRW5DLEtBQUs7Z0NBQ0g2TixVQUFVOU4sSUFBSSxHQUFHO2dDQUNqQixPQUFPN0ssTUFBTXNoQyxhQUFhLENBQUNDLFFBQVEsQ0FBQ3hxQixLQUFLMVosTUFBTTZqQzs0QkFFakQsS0FBSztnQ0FDSHBjLFdBQVduTSxVQUFVM0QsSUFBSTtnQ0FDekIsT0FBTzJELFVBQVU3TixNQUFNLENBQUMsU0FBUzs0QkFFbkMsS0FBSztnQ0FDSDZOLFVBQVU5TixJQUFJLEdBQUc7Z0NBQ2pCLE9BQU83SyxNQUFNc2hDLGFBQWEsQ0FBQ0UsR0FBRyxDQUFDenFCLEtBQUsxWixNQUFNNmpDOzRCQUU1QyxLQUFLO2dDQUNIcGMsV0FBV25NLFVBQVUzRCxJQUFJO2dDQUN6QixPQUFPMkQsVUFBVTdOLE1BQU0sQ0FBQyxTQUFTOzRCQUVuQyxLQUFLO2dDQUNINk4sVUFBVTlOLElBQUksR0FBRztnQ0FDakIsT0FBTzdLLE1BQU1zaEMsYUFBYSxDQUFDL21CLEtBQUssQ0FBQ3hELEtBQUsxWixNQUFNNmpDOzRCQUU5QyxLQUFLO2dDQUNIcGMsV0FBV25NLFVBQVUzRCxJQUFJO2dDQUN6QixPQUFPMkQsVUFBVTdOLE1BQU0sQ0FBQyxTQUFTOzRCQUVuQyxLQUFLO2dDQUNINk4sVUFBVTlOLElBQUksR0FBRztnQ0FDakIsT0FBTzdLLE1BQU1zaEMsYUFBYSxDQUFDMXNCLE9BQU8sQ0FBQ21DLEtBQUttcUI7NEJBRTFDLEtBQUs7Z0NBQ0hwYyxXQUFXbk0sVUFBVTNELElBQUk7Z0NBQ3pCLE9BQU8yRCxVQUFVN04sTUFBTSxDQUFDLFNBQVM7NEJBRW5DLEtBQUs7Z0NBQ0gsTUFBTSxJQUFJd0ssTUFBTTs0QkFFbEIsS0FBSztnQ0FDSHRWLE1BQU15aEMsZUFBZSxDQUFDeC9CLE1BQU04VSxLQUFLK047Z0NBRWpDOWtCLE1BQU1nMUIsbUJBQW1CLEdBQUc7Z0NBQzVCLE9BQU9yYyxVQUFVN04sTUFBTSxDQUFDLFVBQVU5SyxNQUFNMGhDLGNBQWMsQ0FBQzVjOzRCQUV6RCxLQUFLO2dDQUNIbk0sVUFBVS9OLElBQUksR0FBRztnQ0FDakIrTixVQUFVeWYsRUFBRSxHQUFHemYsU0FBUyxDQUFDLFFBQVEsQ0FBQztnQ0FDbENBLFVBQVV5ZixFQUFFLENBQUN1SixpQkFBaUIsR0FBRyxDQUFDUix3QkFBd0JELGNBQWNVLE9BQU8sTUFBTSxRQUFRVCwwQkFBMEIsS0FBSyxJQUFJLEtBQUssSUFBSUEscUJBQXFCLENBQUMsc0JBQXNCO2dDQUVyTG5oQyxNQUFNNmhDLFlBQVksQ0FBQzUvQixNQUFNOFUsS0FBSzRCLFVBQVV5ZixFQUFFO2dDQUUxQ3A0QixNQUFNZzFCLG1CQUFtQixJQUFJO2dDQUU3QixJQUFJLENBQUNyYyxVQUFVeWYsRUFBRSxDQUFDdFQsUUFBUSxFQUFFO29DQUMxQm5NLFVBQVU5TixJQUFJLEdBQUc7b0NBQ2pCO2dDQUNGO2dDQUVBLElBQUksQ0FBRThOLENBQUFBLFVBQVV5ZixFQUFFLENBQUN0VCxRQUFRLENBQUN6bkIsSUFBSSxDQUFDKzFCLElBQUksS0FBS2hrQixVQUFVQyxhQUFhLElBQUksQ0FBQ3JQLE1BQU1peUIsWUFBWSxDQUFDMEUsUUFBUSxFQUFDLEdBQUk7b0NBQ3BHaGUsVUFBVTlOLElBQUksR0FBRztvQ0FDakI7Z0NBQ0Y7Z0NBRUEsSUFBSSxDQUFFN0ssQ0FBQUEsTUFBTWcxQixtQkFBbUIsR0FBRyxJQUFJO29DQUNwQ3JjLFVBQVU5TixJQUFJLEdBQUc7b0NBQ2pCO2dDQUNGO2dDQUVBOE4sVUFBVTlOLElBQUksR0FBRztnQ0FDakIsT0FBT2tFLE1BQU04QyxjQUFjN1IsTUFBTWcxQixtQkFBbUI7NEJBRXRELEtBQUs7Z0NBQ0hoMUIsTUFBTWl5QixZQUFZLENBQUM0RixTQUFTO2dDQUU1QmxmLFVBQVU5TixJQUFJLEdBQUc7Z0NBQ2pCLE9BQU83SyxNQUFNKzdCLGNBQWMsQ0FBQzk1QixNQUFNOFUsS0FBSzFaLE1BQU11WDs0QkFFL0MsS0FBSztnQ0FDSCxPQUFPK0QsVUFBVTdOLE1BQU0sQ0FBQyxVQUFVNk4sVUFBVTNELElBQUk7NEJBRWxELEtBQUs7Z0NBQ0gsT0FBTzJELFVBQVU3TixNQUFNLENBQUMsVUFBVTlLLE1BQU0waEMsY0FBYyxDQUFDL29CLFVBQVV5ZixFQUFFLENBQUN0VCxRQUFROzRCQUU5RSxLQUFLO2dDQUNILE1BQU1uTSxVQUFVeWYsRUFBRTs0QkFFcEIsS0FBSzs0QkFDTCxLQUFLO2dDQUNILE9BQU96ZixVQUFVeE4sSUFBSTt3QkFDekI7b0JBQ0Y7Z0JBQ0YsR0FBR21OLFVBQVUsTUFBTTtvQkFBQzt3QkFBQzt3QkFBRztxQkFBRztpQkFBQztZQUM5QjtZQUVBLE9BQU8sU0FBVUYsR0FBRyxFQUFFUyxHQUFHLEVBQUVPLEdBQUc7Z0JBQzVCLE9BQU82bkIsTUFBTTdoQyxLQUFLLENBQUMsSUFBSSxFQUFFRztZQUMzQjtRQUNGO1FBRUFqRSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLFNBQVUyWixLQUFLO1lBQ3BELElBQUksQ0FBQ0EsTUFBTXRMLFdBQVcsRUFBRXNMLE1BQU10TCxXQUFXLEdBQUcsSUFBSTNHLFFBQVEsd0JBQXdCO1lBRWhGLElBQUk4K0Isd0JBQXdCOWhDLE1BQU0raEMsa0JBQWtCLENBQUM5c0IsUUFBUSx5QkFBeUI7WUFHdEYsSUFBSTFULE1BQU0wVCxNQUFNMVQsR0FBRztZQUNuQixJQUFJeEIsVUFBVXdCLE1BQU12QixNQUFNa29CLGNBQWMsQ0FBQzNtQixJQUFJLEdBQUdIO1lBRWhELElBQUlyQixTQUFTO2dCQUNYQSxRQUFRZ3NCLG1CQUFtQixDQUFDOVc7WUFDOUI7WUFFQWpWLE1BQU1naUMsb0JBQW9CLENBQUMvc0I7WUFFM0IsSUFBSWxWLFNBQVM7Z0JBQ1hBLFFBQVFraUMscUJBQXFCLENBQUNodEI7WUFDaEM7WUFFQTZzQixzQkFBc0JyaUMsT0FBTyxDQUFDLFNBQVV2QixDQUFDO2dCQUN2QyxPQUFPQTtZQUNUO1FBQ0Y7UUFFQTVDLDRFQUFlQSxDQUFDLElBQUksRUFBRSxlQUFlLFNBQVU0bUMsWUFBWTtZQUN6RCw4Q0FBOEM7WUFDOUMsSUFBSUMsYUFBYUQsYUFBYTdrQyxJQUFJO1lBQ2xDLElBQUk0WCxRQUFRaEIsS0FBS2lnQixLQUFLLENBQUNpTztZQUV2Qm5pQyxNQUFNNEosYUFBYSxDQUFDcUw7UUFDdEI7UUFFQTNaLDRFQUFlQSxDQUFDLElBQUksRUFBRSxrQ0FBa0MsU0FBVW1GLElBQUk7WUFDcEUsSUFBSTJoQyxTQUFTcGlDLE1BQU0rQyxLQUFLLENBQUNndEIscUJBQXFCLENBQUN0dkIsS0FBS0YsRUFBRSxDQUFDLElBQUksQ0FBQztZQUU1RCxJQUFLLElBQUk4aEMsY0FBY0QsT0FBUTtnQkFDN0IsSUFBSUUsWUFBWXRpQyxNQUFNa29CLGNBQWMsQ0FBQ21hLFdBQVc7Z0JBRWhELElBQUlDLGNBQWMsUUFBUUEsY0FBYyxLQUFLLEtBQUtBLFVBQVV2L0IsS0FBSyxFQUFFO29CQUNqRSxJQUFJdS9CLFVBQVV2L0IsS0FBSyxDQUFDSixPQUFPLENBQUNsQyxLQUFLRixFQUFFLENBQUMsRUFBRTt3QkFDcEMraEMsVUFBVXYvQixLQUFLLENBQUNKLE9BQU8sQ0FBQ2xDLEtBQUtGLEVBQUUsQ0FBQyxDQUFDRSxJQUFJLEdBQUdBO29CQUMxQztvQkFFQSxJQUFJNmhDLFVBQVV2L0IsS0FBSyxDQUFDTCxRQUFRLENBQUNqQyxLQUFLRixFQUFFLENBQUMsRUFBRTt3QkFDckMraEMsVUFBVXYvQixLQUFLLENBQUNMLFFBQVEsQ0FBQ2pDLEtBQUtGLEVBQUUsQ0FBQyxHQUFHRTtvQkFDdEM7b0JBRUEsSUFBSTZoQyxVQUFVdi9CLEtBQUssQ0FBQ1QsSUFBSSxDQUFDN0IsS0FBS0YsRUFBRSxDQUFDLEVBQUU7d0JBQ2pDK2hDLFVBQVV2L0IsS0FBSyxDQUFDVCxJQUFJLENBQUM3QixLQUFLRixFQUFFLENBQUMsQ0FBQ0UsSUFBSSxHQUFHQTtvQkFDdkM7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUFuRiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUseUJBQXlCLElBQUksQ0FBQ2luQyw4QkFBOEI7UUFFbEZqbkMsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdDQUFnQyxTQUFVbUYsSUFBSTtZQUNsRSxJQUFJMmhDLFNBQVNwaUMsTUFBTStDLEtBQUssQ0FBQ2d0QixxQkFBcUIsQ0FBQ3R2QixLQUFLRixFQUFFLENBQUMsSUFBSSxDQUFDO1lBRTVELElBQUssSUFBSWlpQyxlQUFlSixPQUFRO2dCQUM5QixJQUFJSyxZQUFZemlDLE1BQU1rb0IsY0FBYyxDQUFDc2EsWUFBWTtnQkFDakQsSUFBSXovQixRQUFRMC9CLFVBQVUxL0IsS0FBSztnQkFDM0Isd0NBQXdDLEdBRXhDQSxVQUFVLFFBQVFBLFVBQVUsS0FBSyxJQUFJLEtBQUssSUFBSUEsTUFBTTIvQixrQkFBa0IsQ0FBQ2ppQztZQUN6RTtRQUNGO1FBRUFuRiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsK0JBQStCLFNBQVVtRixJQUFJO1lBQ2pFLElBQUlVLGFBQWE1QixVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUc7WUFDckYsSUFBSTZpQyxTQUFTcGlDLE1BQU0rQyxLQUFLLENBQUNndEIscUJBQXFCLENBQUN0dkIsS0FBS0YsRUFBRSxDQUFDLElBQUksQ0FBQztZQUU1RCxJQUFLLElBQUlvaUMsZUFBZVAsT0FBUTtnQkFDOUIsSUFBSVEsWUFBWTVpQyxNQUFNa29CLGNBQWMsQ0FBQ3lhLFlBQVk7Z0JBQ2pELElBQUk1L0IsUUFBUTYvQixVQUFVNy9CLEtBQUs7Z0JBQzNCLHlDQUF5QyxHQUV6Q0EsVUFBVSxRQUFRQSxVQUFVLEtBQUssSUFBSSxLQUFLLElBQUlBLE1BQU04L0Isa0JBQWtCLENBQUNwaUMsTUFBTVU7WUFDL0U7UUFDRjtRQUVBN0YsNEVBQWVBLENBQUMsSUFBSSxFQUFFLG9CQUFvQixTQUFVMlosS0FBSztZQUN2RCxJQUFJLENBQUNBLE1BQU14VSxJQUFJLEVBQUU7Z0JBQ2Y7WUFDRjtZQUNBLHNEQUFzRCxHQUd0RCxJQUFJd1UsTUFBTWhULElBQUksS0FBSywyQkFBMkJnVCxNQUFNaFQsSUFBSSxLQUFLLGdCQUFnQjtnQkFDM0UsSUFBSWdULE1BQU14VSxJQUFJLENBQUNGLEVBQUUsS0FBS1AsTUFBTXNHLE1BQU0sRUFBRTtvQkFDbEMsSUFBSTdGLE9BQU8rOUIsY0FBYyxDQUFDLEdBQUd4K0IsTUFBTVMsSUFBSSxJQUFJLENBQUM7b0JBRTVDLElBQUkweEIsUUFBUXFNLGNBQWMsQ0FBQyxHQUFHeCtCLE1BQU1teUIsS0FBSyxJQUFJLENBQUMsSUFBSSwrQ0FBK0M7b0JBR2pHLElBQUssSUFBSTJRLFNBQVM5aUMsTUFBTVMsSUFBSSxDQUFFO3dCQUM1QixJQUFJcWlDLFNBQVM3dEIsTUFBTXhVLElBQUksSUFBSTJQLHNCQUFzQjB5QixRQUFROzRCQUN2RDt3QkFDRjt3QkFFQSxPQUFPcmlDLElBQUksQ0FBQ3FpQyxNQUFNO3dCQUNsQixPQUFPM1EsS0FBSyxDQUFDMlEsTUFBTTtvQkFDckI7b0JBQ0Esd0RBQXdELEdBR3hELElBQUssSUFBSUMsU0FBUzl0QixNQUFNeFUsSUFBSSxDQUFFO3dCQUM1QixJQUFJMHhCLFNBQVM0USxTQUFTNVEsT0FBTzs0QkFDM0JBLEtBQUssQ0FBQzRRLE1BQU0sR0FBRzl0QixNQUFNeFUsSUFBSSxDQUFDc2lDLE1BQU07d0JBQ2xDO29CQUNGLEVBQUUsbUJBQW1CO29CQUdyQi9pQyxNQUFNbXlCLEtBQUssR0FBR3FNLGNBQWMsQ0FBQyxHQUFHck07b0JBQ2hDbnlCLE1BQU1TLElBQUksR0FBRys5QixjQUFjQSxjQUFjLENBQUMsR0FBRy85QixPQUFPd1UsTUFBTXhVLElBQUk7Z0JBQ2hFO2dCQUVBVCxNQUFNK0MsS0FBSyxDQUFDa3RCLFVBQVUsQ0FBQ2hiLE1BQU14VSxJQUFJO2dCQUVqQ1QsTUFBTXVpQyw4QkFBOEIsQ0FBQ3R0QixNQUFNeFUsSUFBSTtZQUNqRDtZQUVBLElBQUl3VSxNQUFNaFQsSUFBSSxLQUFLLGdCQUFnQjtnQkFDakNqQyxNQUFNZ2pDLDRCQUE0QixDQUFDL3RCLE1BQU14VSxJQUFJO1lBQy9DO1lBRUEsSUFBSXdVLE1BQU1oVCxJQUFJLEtBQUssa0JBQWtCZ1QsTUFBTXhVLElBQUksQ0FBQ2dCLFVBQVUsSUFBS3dULENBQUFBLE1BQU1ndUIscUJBQXFCLElBQUlodUIsTUFBTWlZLFdBQVcsR0FBRztnQkFDaEhsdEIsTUFBTWtqQywyQkFBMkIsQ0FBQ2p1QixNQUFNeFUsSUFBSSxFQUFFd1UsTUFBTWlZLFdBQVc7WUFDakU7UUFDRjtRQUVBNXhCLDRFQUFlQSxDQUFDLElBQUksRUFBRSx3QkFBd0IsU0FBVTJaLEtBQUs7WUFDM0QsSUFBSVAsU0FBUzFVLE9BQU8sZ0NBQWdDO1lBRXBELElBQUlrVixZQUFZLEVBQUU7WUFFbEIsSUFBSVIsT0FBT1EsU0FBUyxDQUFDQyxHQUFHLEVBQUU7Z0JBQ3hCRCxVQUFVL1YsSUFBSSxDQUFDQyxLQUFLLENBQUM4VixXQUFXaGEsK0VBQWtCQSxDQUFDd1osT0FBT1EsU0FBUyxDQUFDQyxHQUFHO1lBQ3pFO1lBRUEsSUFBSVQsT0FBT1EsU0FBUyxDQUFDRCxNQUFNaFQsSUFBSSxDQUFDLEVBQUU7Z0JBQ2hDaVQsVUFBVS9WLElBQUksQ0FBQ0MsS0FBSyxDQUFDOFYsV0FBV2hhLCtFQUFrQkEsQ0FBQ3daLE9BQU9RLFNBQVMsQ0FBQ0QsTUFBTWhULElBQUksQ0FBQztZQUNqRixFQUFFLDhDQUE4QztZQUdoRCxJQUFLLElBQUlraEMsTUFBTSxHQUFHL3RCLGFBQWFGLFdBQVdpdUIsTUFBTS90QixXQUFXeFksTUFBTSxFQUFFdW1DLE1BQU87Z0JBQ3hFLElBQUk5dEIsV0FBV0QsVUFBVSxDQUFDK3RCLElBQUk7Z0JBQzlCOXRCLFNBQVNKO1lBQ1g7UUFDRjtRQUVBM1osNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdCQUFnQixXQUFXLEdBQUVILDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN3ZDtZQUNuSCxJQUFJcXFCO1lBQ0osT0FBTzduQyxzRUFBd0IsQ0FBQyxTQUFTMGQsVUFBVUMsU0FBUztnQkFDMUQsTUFBTyxFQUFHO29CQUNSLE9BQVFBLFVBQVV0TyxJQUFJLEdBQUdzTyxVQUFVck8sSUFBSTt3QkFDckMsS0FBSzs0QkFDSDdLLE1BQU15a0IsTUFBTSxDQUFDLFFBQVEsbUVBQW1FemMsTUFBTSxDQUFDaEksTUFBTWsvQixnQkFBZ0IsS0FBSztnQ0FDeEh4YSxNQUFNO29DQUFDO2lDQUFhOzRCQUN0Qjs0QkFFQTBlLE9BQU94a0MsT0FBT0QsSUFBSSxDQUFDcUIsTUFBTWtvQixjQUFjOzRCQUV2QyxJQUFJLENBQUVrYixDQUFBQSxLQUFLeG1DLE1BQU0sSUFBSW9ELE1BQU1xakMsdUJBQXVCLEdBQUc7Z0NBQ25EbnFCLFVBQVVyTyxJQUFJLEdBQUc7Z0NBQ2pCOzRCQUNGOzRCQUVBN0ssTUFBTXlrQixNQUFNLENBQUMsUUFBUSxpREFBaUR6YyxNQUFNLENBQUNvN0IsS0FBS3htQyxNQUFNLEVBQUUsY0FBYztnQ0FDdEc4bkIsTUFBTTtvQ0FBQztvQ0FBYztpQ0FBUzs0QkFDaEM7NEJBRUF4TCxVQUFVck8sSUFBSSxHQUFHOzRCQUNqQixPQUFPN0ssTUFBTXNqQyxhQUFhLENBQUM7Z0NBQ3pCL2hDLEtBQUs7b0NBQ0hnaUMsS0FBS0g7Z0NBQ1A7NEJBQ0YsR0FBRztnQ0FDRHRnQyxpQkFBaUIsQ0FBQzs0QkFDcEIsR0FBRztnQ0FDRHNILE9BQU87NEJBQ1Q7d0JBRUYsS0FBSzs0QkFDSHBLLE1BQU15a0IsTUFBTSxDQUFDLFFBQVEsc0RBQXNEO2dDQUN6RUMsTUFBTTtvQ0FBQztvQ0FBYztpQ0FBUzs0QkFDaEM7NEJBRUExa0IsTUFBTTRKLGFBQWEsQ0FBQztnQ0FDbEIzSCxNQUFNOzRCQUNSOzRCQUVBaVgsVUFBVXJPLElBQUksR0FBRzs0QkFDakI7d0JBRUYsS0FBSzs0QkFDSDdLLE1BQU00SixhQUFhLENBQUM7Z0NBQ2xCM0gsTUFBTTs0QkFDUjt3QkFFRixLQUFLOzRCQUNIakMsTUFBTWtZLFNBQVMsR0FBR2xKLFFBQVEwVSxPQUFPOzRCQUNqQzFqQixNQUFNcS9CLGNBQWMsR0FBR3J3QixRQUFRMFUsT0FBTzt3QkFFeEMsS0FBSzt3QkFDTCxLQUFLOzRCQUNILE9BQU94SyxVQUFVL04sSUFBSTtvQkFDekI7Z0JBQ0Y7WUFDRixHQUFHNE47UUFDTDtRQUVBemQsNEVBQWVBLENBQUMsSUFBSSxFQUFFLHVCQUF1QixTQUFVa29DLFdBQVcsRUFBRUMsTUFBTTtZQUN4RSx1Q0FBdUM7WUFDdkMsc0NBQXNDO1lBQ3RDLElBQUloYyxhQUFhdnNCLCtFQUFrQkEsQ0FBQ3VvQyxPQUFPOWdDLE9BQU8sSUFBSSxFQUFFLEVBQUV5TyxJQUFJLEdBQUcrQyxJQUFJLENBQUM7WUFFdEUsSUFBSXV2QixVQUFVLEdBQUcxN0IsTUFBTSxDQUFDdzdCLGFBQWEsY0FBY3g3QixNQUFNLENBQUN5ZjtZQUUxRCxJQUFJLENBQUNBLFlBQVk7Z0JBQ2YsTUFBTW5TLE1BQU07WUFDZCxFQUFFLDBGQUEwRjtZQUM1Rix5R0FBeUc7WUFDekcsb0ZBQW9GO1lBQ3BGLHNHQUFzRztZQUN0Ryx1REFBdUQ7WUFHdkQsSUFBSyxJQUFJcXVCLFNBQVMzakMsTUFBTWtvQixjQUFjLENBQUU7Z0JBQ3RDLElBQUkwYixZQUFZNWpDLE1BQU1rb0IsY0FBYyxDQUFDeWIsTUFBTTtnQkFFM0MsSUFBSUMsVUFBVTV0QixZQUFZLEVBQUU7b0JBQzFCO2dCQUNGO2dCQUVBLElBQUkydEIsVUFBVUQsU0FBUztvQkFDckIsT0FBT0U7Z0JBQ1Q7Z0JBRUEsSUFBSUQsTUFBTXQzQixPQUFPLENBQUMsR0FBR3JFLE1BQU0sQ0FBQ3c3QixhQUFhLG1CQUFtQixHQUFHO29CQUM3RCxJQUFJSyw4QkFBOEJqbEMsT0FBT0QsSUFBSSxDQUFDaWxDLFVBQVU3Z0MsS0FBSyxDQUFDSixPQUFPLEVBQUV5TyxJQUFJLEdBQUcrQyxJQUFJLENBQUM7b0JBRW5GLElBQUkwdkIsZ0NBQWdDcGMsWUFBWTt3QkFDOUMsT0FBT21jO29CQUNUO2dCQUNGO1lBQ0Y7WUFFQSxJQUFJN2pDLFVBQVUsSUFBSTBVLFFBQVF6VSxPQUFPd2pDLGFBQWFwaUMsV0FBV3FpQyxTQUFTLGlGQUFpRjtZQUNuSixtREFBbUQ7WUFFbkR6akMsTUFBTWtvQixjQUFjLENBQUN3YixRQUFRLEdBQUczakM7WUFDaEMsT0FBT0E7UUFDVDtRQUVBekUsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGtCQUFrQixTQUFVa29DLFdBQVcsRUFBRXRULFNBQVMsRUFBRXVULE1BQU07WUFDOUUsSUFBSSxPQUFPdlQsY0FBYyxZQUFZLENBQUNBLFVBQVU3akIsT0FBTyxDQUFDLE1BQU07Z0JBQzVELE1BQU1pSixNQUFNLHNCQUFzQnROLE1BQU0sQ0FBQ2tvQixXQUFXO1lBQ3RELEVBQUUsc0NBQXNDO1lBR3hDLElBQUkzdUIsTUFBTSxHQUFHeUcsTUFBTSxDQUFDdzdCLGFBQWEsS0FBS3g3QixNQUFNLENBQUNrb0I7WUFFN0MsSUFBSTN1QixPQUFPdkIsTUFBTWtvQixjQUFjLElBQUksQ0FBQ2xvQixNQUFNa29CLGNBQWMsQ0FBQzNtQixJQUFJLENBQUN5VSxZQUFZLEVBQUU7Z0JBQzFFLElBQUk4dEIsWUFBWTlqQyxNQUFNa29CLGNBQWMsQ0FBQzNtQixJQUFJO2dCQUV6QyxJQUFJM0MsT0FBT0QsSUFBSSxDQUFDOGtDLFFBQVE3bUMsTUFBTSxHQUFHLEdBQUc7b0JBQ2xDa25DLFVBQVV6bUMsSUFBSSxHQUFHb21DO29CQUNqQkssVUFBVW51QixLQUFLLEdBQUc4dEI7Z0JBQ3BCO2dCQUVBLE9BQU9LO1lBQ1Q7WUFFQSxJQUFJL2pDLFVBQVUsSUFBSTBVLFFBQVF6VSxPQUFPd2pDLGFBQWF0VCxXQUFXdVQ7WUFDekR6akMsTUFBTWtvQixjQUFjLENBQUNub0IsUUFBUXdCLEdBQUcsQ0FBQyxHQUFHeEI7WUFDcEMsT0FBT0E7UUFDVDtRQUVBekUsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGVBQWUsSUFBSSxDQUFDeW9DLFdBQVc7UUFFckR6b0MsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGNBQWMsSUFBSSxDQUFDMG9DLFVBQVU7UUFFbkQxb0MsNEVBQWVBLENBQUMsSUFBSSxFQUFFLG1CQUFtQixJQUFJLENBQUMyb0MsY0FBYztRQUU1RDNvQyw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZUFBZSxJQUFJLENBQUM0b0MsZ0JBQWdCO1FBRTFENW9DLDRFQUFlQSxDQUFDLElBQUksRUFBRSxzQkFBc0I7WUFDMUMsT0FBTyxDQUFDLENBQUMwRSxNQUFNNjVCLE1BQU07UUFDdkI7UUFFQXYrQiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsbUJBQW1CLFNBQVVxbUMsaUJBQWlCO1lBQ2xFLE9BQU8xdEIsS0FBS0MsU0FBUyxDQUFDO2dCQUNwQjNOLFNBQVN2RyxNQUFNc0csTUFBTTtnQkFDckI0ckIsY0FBY2x5QixNQUFNbXlCLEtBQUs7Z0JBQ3pCQyxRQUFRcHlCLE1BQU00VSxPQUFPLENBQUN3ZCxNQUFNO2dCQUM1QnVQLG1CQUFtQkE7WUFDckI7UUFDRjtRQUVBLGNBQWM7UUFDZCxJQUFJLENBQUNqaUMsR0FBRyxHQUFHdStCO1FBQ1gsSUFBSSxDQUFDL29CLFNBQVMsR0FBRyxDQUFDO1FBQ2xCLElBQUksQ0FBQ25TLEtBQUssR0FBRyxJQUFJOHNCLGVBQWUsNENBQTRDO1FBRTVFLElBQUksQ0FBQ3NVLGFBQWEsR0FBRyxFQUFFO1FBQ3ZCLElBQUksQ0FBQzFoQyxVQUFVLEdBQUcsRUFBRSxFQUFFLGlCQUFpQjtRQUV2QyxJQUFJazhCLG1CQUFtQkYsU0FBU0Usa0JBQWtCO1lBQ2hELElBQUksQ0FBQzlFLE1BQU0sR0FBRzhFO1FBQ2hCLEVBQUUsZ0RBQWdEO1FBR2xELElBQUl5RixlQUFleEYsV0FBV0EsV0FBV0QsbUJBQW1CLENBQUNGLFNBQVNFLG1CQUFtQkEsa0JBQWtCLENBQUM7UUFDNUcsSUFBSSxDQUFDMEYsT0FBTyxHQUFHLE9BQU9ELGFBQWFDLE9BQU8sS0FBSyxjQUFjRCxhQUFhQyxPQUFPLEdBQUcsZ0JBQWtCO1FBQ3RHLElBQUksQ0FBQy9FLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQytFLE9BQU87UUFDekIsSUFBSSxDQUFDenZCLE9BQU8sR0FBRzRwQixjQUFjO1lBQzNCaEksU0FBUztZQUNUOE4saUJBQWlCO1lBQ2pCLG1DQUFtQztZQUNuQ0MsUUFBUTtZQUNSbEIseUJBQXlCO1FBQzNCLEdBQUdlO1FBRUgsSUFBSSxJQUFJLENBQUM5RSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMxcUIsT0FBTyxDQUFDNHZCLFVBQVUsRUFBRTtZQUN6QyxJQUFJLENBQUM1dkIsT0FBTyxDQUFDNHZCLFVBQVUsR0FBRyxJQUFJL29DLHFEQUFXLENBQUM7Z0JBQ3hDaXBDLFdBQVc7Z0JBQ1hDLGdCQUFnQjtZQUNsQjtRQUNGO1FBRUEsSUFBSSxDQUFDckQsYUFBYSxHQUFHOWxDLDhDQUFLQSxDQUFDb3BDLE1BQU0sQ0FBQyxJQUFJLENBQUNod0IsT0FBTztRQUM5QyxJQUFJLENBQUNpd0IsVUFBVSxDQUFDLElBQUksQ0FBQ2p3QixPQUFPLENBQUNXLE9BQU8sSUFBSTtRQUV4QyxJQUFJLE9BQU91dkIsWUFBWSxlQUFlQSxRQUFRQyxHQUFHLENBQUNDLHFCQUFxQixFQUFFO1lBQ3ZFLElBQUksQ0FBQ0gsVUFBVSxDQUFDO1FBQ2xCO1FBRUEsSUFBSSxPQUFPQyxZQUFZLGVBQWVBLFFBQVFDLEdBQUcsQ0FBQ0Usc0JBQXNCLEVBQUU7WUFDeEUsSUFBSSxDQUFDSixVQUFVLENBQUMsWUFBWUMsUUFBUUMsR0FBRyxDQUFDRSxzQkFBc0I7UUFDaEUsRUFBRSxzREFBc0Q7UUFHeEQsSUFBSSxDQUFDakcsWUFBWSxHQUFHO1FBQ3BCLElBQUksQ0FBQzltQixTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDbW5CLGNBQWMsR0FBRyxNQUFNLHdEQUF3RDtRQUVwRixJQUFJLENBQUNuWCxjQUFjLEdBQUcsQ0FBQyxHQUFHLDZDQUE2QztRQUV2RSxJQUFJLENBQUNoUyxPQUFPLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUNzcEIsU0FBUyxHQUFHO1FBQ2pCLElBQUksQ0FBQ0ksOEJBQThCLEdBQUcsQ0FBQ2YsZ0JBQWdCLElBQUksQ0FBQ2pxQixPQUFPLE1BQU0sUUFBUWlxQixrQkFBa0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsY0FBY2UsOEJBQThCLEVBQUUsMEZBQTBGO1FBQzdQLHlCQUF5QjtRQUV6QixJQUFJLENBQUMzTixZQUFZLEdBQUcsSUFBSW9JLGFBQWEsSUFBSSxDQUFDUixNQUFNO1FBQ2hELElBQUksQ0FBQzdFLG1CQUFtQixHQUFHO1FBQzNCLElBQUksQ0FBQ3BELGNBQWMsR0FBRyxJQUFJdEI7UUFDMUIsSUFBSSxDQUFDNFUsNEJBQTRCLEdBQUc7UUFDcEMsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUM3RCxhQUFhLENBQUM4RCxRQUFRLENBQUNDLGdCQUFnQixHQUFHeHhCO1FBQy9DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQStDQyxHQUVELElBQUksQ0FBQzRRLE1BQU0sR0FBR3ZWLFdBQVdrMUIsYUFBYTNmLE1BQU0sSUFBSTJmLGFBQWEzZixNQUFNLEdBQUc7WUFDcEUsT0FBTztRQUNUO1FBQ0EsSUFBSSxDQUFDNGUsdUJBQXVCLEdBQUcsSUFBSSxDQUFDenVCLE9BQU8sQ0FBQ3l1Qix1QkFBdUI7SUFDckU7SUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBcUJDLEdBR0Rob0MseUVBQVlBLENBQUNxakMsWUFBWTtRQUFDO1lBQ3hCaC9CLEtBQUs7WUFDTCtELE9BQU8sU0FBUzZoQyxTQUFTaC9CLE1BQU07Z0JBQzdCLE9BQU9vekIsU0FBU3B6QjtZQUNsQjtRQUNGO1FBQUc7WUFDRDVHLEtBQUs7WUFDTCtELE9BQU8sU0FBU3N1QjtnQkFDZCxPQUFPLElBQUksQ0FBQ3lOLFNBQVMsR0FBRyxjQUFjO1lBQ3hDO1FBQ0Y7UUFBRztZQUNEOS9CLEtBQUs7WUFDTCtELE9BQU8sU0FBU29oQyxXQUFXdHZCLE9BQU87Z0JBQ2hDLElBQUksQ0FBQ0EsT0FBTyxHQUFHQTtnQkFDZixJQUFJLENBQUNtZSxTQUFTLEdBQUcsSUFBSSxDQUFDbmUsT0FBTyxDQUFDeW1CLE9BQU8sQ0FBQyxRQUFRLE1BQU1BLE9BQU8sQ0FBQyxTQUFTO1lBQ3ZFO1FBQ0Y7UUFBRztZQUNEdDhCLEtBQUs7WUFDTCtELE9BQU8sU0FBU2k4QixTQUFTai9CLElBQUk7Z0JBQzNCOzs7T0FHQyxHQUNELElBQUksQ0FBQ0EsSUFBSSxHQUFHQTtnQkFDWixJQUFJLENBQUM2RixNQUFNLEdBQUc3RixLQUFLRixFQUFFLEVBQUUsNkdBQTZHO2dCQUVwSSxJQUFJLENBQUM0eEIsS0FBSyxHQUFHcU0sY0FBYyxDQUFDLEdBQUcvOUI7WUFDakM7UUFlRjtRQUFHO1lBQ0RmLEtBQUs7WUFDTCtELE9BQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0F5QkMsR0FDRDtnQkFDRSxJQUFJOGhDLHFCQUFxQnBxQyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTbWUsU0FBUzlFLE9BQU87b0JBQ3pHLElBQUk0d0I7b0JBQ0osT0FBT2pxQyxzRUFBd0IsQ0FBQyxTQUFTd2UsVUFBVUMsU0FBUzt3QkFDMUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFVBQVVwUCxJQUFJLEdBQUdvUCxVQUFVblAsSUFBSTtnQ0FDckMsS0FBSztvQ0FDSDI2QixhQUFhNXdCLFFBQVE0d0IsVUFBVTtvQ0FFL0IsSUFBSUEsZUFBZSxRQUFRQSxlQUFlLEtBQUssS0FBS0EsV0FBV0MsUUFBUSxFQUFFO3dDQUN2RTd3QixVQUFVNHBCLGNBQWNBLGNBQWMsQ0FBQyxHQUFHNXBCLFVBQVUsQ0FBQyxHQUFHOzRDQUN0RDR3QixZQUFZaEgsY0FBY0EsY0FBYyxDQUFDLEdBQUdnSCxhQUFhLENBQUMsR0FBRztnREFDM0RDLFVBQVUxTCxPQUFPM3JCLElBQUksQ0FBQ28zQixXQUFXQyxRQUFRLEVBQUVyNEIsUUFBUSxDQUFDOzRDQUN0RDt3Q0FDRjtvQ0FDRjtvQ0FFQTRNLFVBQVVuUCxJQUFJLEdBQUc7b0NBQ2pCLE9BQU8sSUFBSSxDQUFDMFAsS0FBSyxDQUFDLElBQUksQ0FBQ2hGLE9BQU8sR0FBRyxRQUFRWDtnQ0FFM0MsS0FBSztvQ0FDSCxPQUFPb0YsVUFBVWxQLE1BQU0sQ0FBQyxVQUFVa1AsVUFBVWhGLElBQUk7Z0NBRWxELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPZ0YsVUFBVTdPLElBQUk7NEJBQ3pCO3dCQUNGO29CQUNGLEdBQUd1TyxVQUFVLElBQUk7Z0JBQ25CO2dCQUVBLFNBQVNnc0Isa0JBQWtCcnNCLEdBQUc7b0JBQzVCLE9BQU9rc0IsbUJBQW1Cbm1DLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN4QztnQkFFQSxPQUFPbW1DO1lBQ1Q7UUFDRjtRQUFHO1lBQ0RobUMsS0FBSztZQUNMK0QsT0FDQTs7S0FFQyxHQUNEO2dCQUNFLElBQUlraUMsZ0JBQWdCeHFDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2ZSxTQUFTb21CLE1BQU07b0JBQ25HLE9BQU9qbEMsc0VBQXdCLENBQUMsU0FBUzhlLFVBQVVDLFNBQVM7d0JBQzFELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxVQUFVMVAsSUFBSSxHQUFHMFAsVUFBVXpQLElBQUk7Z0NBQ3JDLEtBQUs7b0NBQ0h5UCxVQUFVelAsSUFBSSxHQUFHO29DQUNqQixPQUFPLElBQUksQ0FBQzY2QixpQkFBaUIsQ0FBQzt3Q0FDNUJFLDZCQUE2QixJQUFJLENBQUNDLGNBQWMsQ0FBQ3JGO29DQUNuRDtnQ0FFRixLQUFLO29DQUNILE9BQU9sbUIsVUFBVXhQLE1BQU0sQ0FBQyxVQUFVd1AsVUFBVXRGLElBQUk7Z0NBRWxELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPc0YsVUFBVW5QLElBQUk7NEJBQ3pCO3dCQUNGO29CQUNGLEdBQUdpUCxVQUFVLElBQUk7Z0JBQ25CO2dCQUVBLFNBQVMwckIsYUFBYXhzQixHQUFHO29CQUN2QixPQUFPcXNCLGNBQWN2bUMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ25DO2dCQUVBLE9BQU91bUM7WUFDVDtRQUtGO1FBQUc7WUFDRHBtQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlzaUMsbUJBQW1CNXFDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNvZixTQUFTclUsTUFBTSxFQUFFazZCLE1BQU07b0JBQzlHLE9BQU9qbEMsc0VBQXdCLENBQUMsU0FBU3NmLFVBQVVDLFNBQVM7d0JBQzFELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxVQUFVbFEsSUFBSSxHQUFHa1EsVUFBVWpRLElBQUk7Z0NBQ3JDLEtBQUs7b0NBQ0hpUSxVQUFValEsSUFBSSxHQUFHO29DQUNqQixPQUFPLElBQUksQ0FBQ203QixnQkFBZ0IsQ0FBQzt3Q0FBQzEvQjtxQ0FBTyxFQUFFazZCO2dDQUV6QyxLQUFLO29DQUNILE9BQU8xbEIsVUFBVWhRLE1BQU0sQ0FBQyxVQUFVZ1EsVUFBVTlGLElBQUk7Z0NBRWxELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPOEYsVUFBVTNQLElBQUk7NEJBQ3pCO3dCQUNGO29CQUNGLEdBQUd3UCxVQUFVLElBQUk7Z0JBQ25CO2dCQUVBLFNBQVNzckIsZ0JBQWdCeHJCLElBQUksRUFBRVEsSUFBSTtvQkFDakMsT0FBTzhxQixpQkFBaUIzbUMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3RDO2dCQUVBLE9BQU8wbUM7WUFDVDtRQUtGO1FBQUc7WUFDRHZtQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUl5aUMsb0JBQW9CL3FDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM0ZixVQUFVZ3JCLE9BQU8sRUFBRTNGLE1BQU07b0JBQ2pILElBQUkxUSxPQUFPdmUsV0FBV0MsT0FBT2xMO29CQUU3QixPQUFPL0ssc0VBQXdCLENBQUMsU0FBUzZmLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXelEsSUFBSSxHQUFHeVEsV0FBV3hRLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gsSUFBSTIxQixXQUFXcC9CLFdBQVc7d0NBQ3hCby9CLFNBQVMsSUFBSXg5QixPQUFPZ0UsV0FBVztvQ0FDakMsT0FBTzt3Q0FDTHc1QixTQUFTLElBQUksQ0FBQ3FGLGNBQWMsQ0FBQ3JGO29DQUMvQjtvQ0FFQTFRLFFBQVEsRUFBRTtvQ0FDVnZlLFlBQVk2c0IsMkJBQTJCK0g7b0NBRXZDLElBQUk7d0NBQ0YsSUFBSzUwQixVQUFVN1QsQ0FBQyxJQUFJLENBQUMsQ0FBQzhULFFBQVFELFVBQVV0RSxDQUFDLEVBQUMsRUFBR0MsSUFBSSxFQUFHOzRDQUNsRDVHLFNBQVNrTCxNQUFNL04sS0FBSzs0Q0FDcEJxc0IsTUFBTTN3QixJQUFJLENBQUM7Z0RBQ1RvQixJQUFJK0Y7Z0RBQ0p2RixLQUFLO29EQUNINmtDLDZCQUE2QnBGO2dEQUMvQjs0Q0FDRjt3Q0FDRjtvQ0FDRixFQUFFLE9BQU8veUIsS0FBSzt3Q0FDWjhELFVBQVU1VCxDQUFDLENBQUM4UDtvQ0FDZCxTQUFVO3dDQUNSOEQsVUFBVWxFLENBQUM7b0NBQ2I7b0NBRUFnTyxXQUFXeFEsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ3U3QixrQkFBa0IsQ0FBQ3RXO2dDQUVqQyxLQUFLO29DQUNILE9BQU96VSxXQUFXdlEsTUFBTSxDQUFDLFVBQVV1USxXQUFXckcsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9xRyxXQUFXbFEsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2dRLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBUzZxQixpQkFBaUJ4b0IsSUFBSSxFQUFFQyxJQUFJO29CQUNsQyxPQUFPeW9CLGtCQUFrQjltQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDdkM7Z0JBRUEsT0FBT3ltQztZQUNUO1FBS0Y7UUFBRztZQUNEdG1DLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTRpQyxrQkFBa0JsckMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU2lnQjtvQkFDdEYsT0FBT2pnQixzRUFBd0IsQ0FBQyxTQUFTbWdCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXL1EsSUFBSSxHQUFHK1EsV0FBVzlRLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0g4USxXQUFXOVEsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzVILEdBQUcsQ0FBQyxJQUFJLENBQUNzUyxPQUFPLEdBQUc7Z0NBRWpDLEtBQUs7b0NBQ0gsT0FBT29HLFdBQVc3USxNQUFNLENBQUMsVUFBVTZRLFdBQVczRyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzJHLFdBQVd4USxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHcVEsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTOHFCO29CQUNQLE9BQU9ELGdCQUFnQmpuQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDckM7Z0JBRUEsT0FBTyttQztZQUNUO1FBaUJGO1FBQUc7WUFDRDVtQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUk4aUMsb0JBQW9CcHJDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN1Z0IsVUFBVXhWLE1BQU07b0JBQ3hHLElBQUlqSixNQUNBMGUsVUFBVXhjO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTeWdCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXclIsSUFBSSxHQUFHcVIsV0FBV3BSLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h4TixPQUFPMGUsUUFBUW5mLE1BQU0sR0FBRyxLQUFLbWYsT0FBTyxDQUFDLEVBQUUsS0FBSzNhLFlBQVkyYSxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3RFRSxXQUFXcFIsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsZUFBZWlwQixjQUFjQSxjQUFjQSxjQUFjQSxjQUFjQSxjQUFjQSxjQUFjQSxjQUFjO3dDQUMvSWo0QixTQUFTRDtvQ0FDWCxHQUFHakosS0FBSzJiLFNBQVMsR0FBRzt3Q0FDbEI4SSxZQUFZemtCLEtBQUsyYixTQUFTO29DQUM1QixJQUFJLENBQUMsSUFBSTNiLEtBQUttcEMsV0FBVyxHQUFHO3dDQUMxQkMsY0FBY3BwQyxLQUFLbXBDLFdBQVc7b0NBQ2hDLElBQUksQ0FBQyxJQUFJbnBDLEtBQUtxcEMsZ0JBQWdCLEdBQUc7d0NBQy9CQyxtQkFBbUJ0cEMsS0FBS3FwQyxnQkFBZ0I7b0NBQzFDLElBQUksQ0FBQyxJQUFJcnBDLEtBQUt1cEMsb0JBQW9CLEdBQUc7d0NBQ25DQyx3QkFBd0J4cEMsS0FBS3VwQyxvQkFBb0I7b0NBQ25ELElBQUksQ0FBQyxJQUFJdnBDLEtBQUt5cEMsV0FBVyxHQUFHO3dDQUMxQkMsY0FBYztvQ0FDaEIsSUFBSSxDQUFDLElBQUkxcEMsS0FBSzJwQyxnQkFBZ0IsR0FBRzt3Q0FDL0JDLG9CQUFvQjVwQyxLQUFLMnBDLGdCQUFnQjtvQ0FDM0MsSUFBSSxDQUFDLElBQUkzcEMsS0FBSzZwQyxnQkFBZ0IsR0FBRzt3Q0FDL0JDLG9CQUFvQjlwQyxLQUFLNnBDLGdCQUFnQjtvQ0FDM0MsSUFBSSxDQUFDO2dDQUVQLEtBQUs7b0NBQ0gsT0FBT2pyQixXQUFXblIsTUFBTSxDQUFDLFVBQVVtUixXQUFXakgsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9pSCxXQUFXOVEsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzJRLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU3NyQixpQkFBaUJucEIsSUFBSTtvQkFDNUIsT0FBT3NvQixrQkFBa0JubkMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3ZDO2dCQUVBLE9BQU82bkM7WUFDVDtRQVlGO1FBQUc7WUFDRDFuQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUk0akMsbUJBQW1CbHNDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2Z0I7b0JBQ3ZGLElBQUkvZSxNQUNBZ2YsVUFBVTljO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTK2dCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXM1IsSUFBSSxHQUFHMlIsV0FBVzFSLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h4TixPQUFPZ2YsUUFBUXpmLE1BQU0sR0FBRyxLQUFLeWYsT0FBTyxDQUFDLEVBQUUsS0FBS2piLFlBQVlpYixPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3RFRSxXQUFXMVIsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsY0FBY2xZO2dDQUVoRCxLQUFLO29DQUNILE9BQU9rZixXQUFXelIsTUFBTSxDQUFDLFVBQVV5UixXQUFXdkgsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU91SCxXQUFXcFIsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2lSLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU2tyQjtvQkFDUCxPQUFPRCxpQkFBaUJqb0MsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3RDO2dCQUVBLE9BQU8rbkM7WUFDVDtRQVlGO1FBQUc7WUFDRDVuQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUk4akMsbUJBQW1CcHNDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNvaEI7b0JBQ3ZGLElBQUl0ZixNQUNBdWYsVUFBVXJkO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTc2hCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXbFMsSUFBSSxHQUFHa1MsV0FBV2pTLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h4TixPQUFPdWYsUUFBUWhnQixNQUFNLEdBQUcsS0FBS2dnQixPQUFPLENBQUMsRUFBRSxLQUFLeGIsWUFBWXdiLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDdEVFLFdBQVdqUyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxjQUFjbFk7Z0NBRWhELEtBQUs7b0NBQ0gsT0FBT3lmLFdBQVdoUyxNQUFNLENBQUMsVUFBVWdTLFdBQVc5SCxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzhILFdBQVczUixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHd1IsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTNnFCO29CQUNQLE9BQU9ELGlCQUFpQm5vQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDdEM7Z0JBRUEsT0FBT2lvQztZQUNUO1FBUUY7UUFBRztZQUNEOW5DLEtBQUs7WUFDTCtELE9BQ0E7Ozs7OztLQU1DLEdBQ0Q7Z0JBQ0UsSUFBSWdrQyxnQkFBZ0J0c0MsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzJoQixVQUFVemMsSUFBSTtvQkFDbEcsSUFBSXFrQixVQUFVNGlCLGdCQUFnQkM7b0JBRTlCLE9BQU9wc0Msc0VBQXdCLENBQUMsU0FBUzZoQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3pTLElBQUksR0FBR3lTLFdBQVd4UyxJQUFJO2dDQUN2QyxLQUFLO29DQUNILElBQUksQ0FBQzIwQixTQUFTLEdBQUc7b0NBQ2pCbmlCLFdBQVd6UyxJQUFJLEdBQUc7b0NBQ2xCeVMsV0FBV3hTLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLFVBQVU7d0NBQ3hDOVUsTUFBTUE7b0NBQ1I7Z0NBRUYsS0FBSztvQ0FDSHFrQixXQUFXekgsV0FBV3JJLElBQUk7b0NBQzFCcUksV0FBV3hTLElBQUksR0FBRztvQ0FDbEI7Z0NBRUYsS0FBSztvQ0FDSHdTLFdBQVd6UyxJQUFJLEdBQUc7b0NBQ2xCeVMsV0FBVzBULEVBQUUsR0FBRzFULFVBQVUsQ0FBQyxRQUFRLENBQUM7b0NBQ3BDLElBQUksQ0FBQ21pQixTQUFTLEdBQUc7b0NBQ2pCLE1BQU1uaUIsV0FBVzBULEVBQUU7Z0NBRXJCLEtBQUs7b0NBQ0gsSUFBSSxDQUFDeU8sU0FBUyxHQUFHLE9BQU8sNkRBQTZEO29DQUVyRmtJLGlCQUFpQjVpQixTQUFTcmtCLElBQUksRUFBRWluQyxlQUFlbG1DLFVBQVUsRUFBRWttQyxlQUFleGxDLFVBQVUsRUFBRXdsQyxlQUFlRSxXQUFXLEVBQUVGLGVBQWU5VSxNQUFNLEVBQUUrVSxZQUFZMXNDLHFGQUF3QkEsQ0FBQ3lzQyxnQkFBZ0J4SjtvQ0FDOUw3Z0IsV0FBV3hTLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUNrMUIsV0FBVyxDQUFDNEgsV0FBVzdpQixTQUFTK2lCLFlBQVk7Z0NBRTFELEtBQUs7b0NBQ0gsT0FBT3hxQixXQUFXdlMsTUFBTSxDQUFDLFVBQVV1UyxXQUFXckksSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9xSSxXQUFXbFMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRytSLFdBQVcsSUFBSSxFQUFFO3dCQUFDOzRCQUFDOzRCQUFHO3lCQUFFO3FCQUFDO2dCQUM5QjtnQkFFQSxTQUFTNHFCLGFBQWE1cEIsSUFBSTtvQkFDeEIsT0FBT3VwQixjQUFjcm9DLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNuQztnQkFFQSxPQUFPdW9DO1lBQ1Q7UUFXRjtRQUFHO1lBQ0Rwb0MsS0FBSztZQUNMK0QsT0FBTyxTQUFTc2tDLFlBQVl6aEMsTUFBTSxFQUFFMGhDLEdBQUcsRUFBRTVPLEdBQUc7Z0JBQzFDLElBQUksSUFBSSxDQUFDUyxNQUFNLElBQUksTUFBTTtvQkFDdkIsTUFBTXZrQixNQUFNO2dCQUNkO2dCQUVBLElBQUk4Z0IsUUFBUSxDQUFDO2dCQUViLElBQUk0UixLQUFLO29CQUNQNVIsTUFBTTRSLEdBQUcsR0FBR0E7Z0JBQ2Q7Z0JBRUEsSUFBSTVPLEtBQUs7b0JBQ1BoRCxNQUFNZ0QsR0FBRyxHQUFHQTtnQkFDZDtnQkFFQSxPQUFPUCxhQUFhLElBQUksQ0FBQ2dCLE1BQU0sRUFBRXZ6QixRQUFROHZCLE9BQU8sQ0FBQztZQUNuRDtRQWNGO1FBQUc7WUFDRDEyQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNnb0IsR0FBR0MsZ0JBQWdCLEVBQUVDLGlCQUFpQjtnQkFDcEQsSUFBSTNsQixTQUFTLElBQUk7Z0JBRWpCLElBQUl0RyxNQUFNaXNCLG9CQUFvQkQsbUJBQW1CO2dCQUNqRCxJQUFJbnZCLFdBQVdvdkIsb0JBQW9CQSxvQkFBb0JEO2dCQUV2RCxJQUFJLENBQUVoc0IsQ0FBQUEsT0FBTyxJQUFJLENBQUN3VixTQUFTLEdBQUc7b0JBQzVCLElBQUksQ0FBQ0EsU0FBUyxDQUFDeFYsSUFBSSxHQUFHLEVBQUU7Z0JBQzFCO2dCQUVBLElBQUksQ0FBQytrQixNQUFNLENBQUMsUUFBUSwwQkFBMEJ6YyxNQUFNLENBQUN0SSxLQUFLLFdBQVc7b0JBQ25FZ2xCLE1BQU07d0JBQUM7d0JBQVM7cUJBQVM7Z0JBQzNCO2dCQUNBLElBQUksQ0FBQ3hQLFNBQVMsQ0FBQ3hWLElBQUksQ0FBQ1AsSUFBSSxDQUFDNUM7Z0JBQ3pCLE9BQU87b0JBQ0xxdkIsYUFBYSxTQUFTQTt3QkFDcEI1bEIsT0FBT3llLE1BQU0sQ0FBQyxRQUFRLHlCQUF5QnpjLE1BQU0sQ0FBQ3RJLEtBQUssV0FBVzs0QkFDcEVnbEIsTUFBTTtnQ0FBQztnQ0FBUzs2QkFBUzt3QkFDM0I7d0JBRUExZSxPQUFPa1AsU0FBUyxDQUFDeFYsSUFBSSxHQUFHc0csT0FBT2tQLFNBQVMsQ0FBQ3hWLElBQUksQ0FBQ1gsTUFBTSxDQUFDLFNBQVU4c0IsRUFBRTs0QkFDL0QsT0FBT0EsT0FBT3R2Qjt3QkFDaEI7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQU1GO1FBQUc7WUFDRG1ELEtBQUs7WUFDTCtELE9BQU8sU0FBU3FvQixJQUFJSixnQkFBZ0IsRUFBRUMsaUJBQWlCO2dCQUNyRCxJQUFJanNCLE1BQU1pc0Isb0JBQW9CRCxtQkFBbUI7Z0JBQ2pELElBQUludkIsV0FBV292QixvQkFBb0JBLG9CQUFvQkQ7Z0JBRXZELElBQUksQ0FBRWhzQixDQUFBQSxPQUFPLElBQUksQ0FBQ3dWLFNBQVMsR0FBRztvQkFDNUIsSUFBSSxDQUFDQSxTQUFTLENBQUN4VixJQUFJLEdBQUcsRUFBRTtnQkFDMUI7Z0JBRUEsSUFBSSxDQUFDK2tCLE1BQU0sQ0FBQyxRQUFRLHlCQUF5QnpjLE1BQU0sQ0FBQ3RJLEtBQUssV0FBVztvQkFDbEVnbEIsTUFBTTt3QkFBQzt3QkFBUztxQkFBUztnQkFDM0I7Z0JBQ0EsSUFBSSxDQUFDeFAsU0FBUyxDQUFDeFYsSUFBSSxHQUFHLElBQUksQ0FBQ3dWLFNBQVMsQ0FBQ3hWLElBQUksQ0FBQ1gsTUFBTSxDQUFDLFNBQVUwRSxLQUFLO29CQUM5RCxPQUFPQSxVQUFVbEg7Z0JBQ25CO1lBQ0Y7UUFDRjtRQUFHO1lBQ0RtRCxLQUFLO1lBQ0wrRCxPQUFPLFNBQVM0OUIsZUFBZXAvQixJQUFJLEVBQUU4VSxHQUFHLEVBQUUxWixJQUFJLEVBQUVzK0IsTUFBTTtnQkFDcEQsSUFBSSxDQUFDbFgsTUFBTSxDQUFDLFFBQVEsV0FBV3pjLE1BQU0sQ0FBQy9GLE1BQU0saUJBQWlCK0YsTUFBTSxDQUFDK08sTUFBTTtvQkFDeEUyTixNQUFNO3dCQUFDO3dCQUFPO3dCQUFlO3FCQUFTO29CQUN0QzNOLEtBQUtBO29CQUNMWSxTQUFTdGE7b0JBQ1RzK0IsUUFBUUE7Z0JBQ1Y7WUFDRjtRQUNGO1FBQUc7WUFDRGo4QixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNnK0IsZ0JBQWdCeC9CLElBQUksRUFBRThVLEdBQUcsRUFBRStOLFFBQVE7Z0JBQ2pELElBQUksQ0FBQ0wsTUFBTSxDQUFDLFFBQVEsVUFBVXpjLE1BQU0sQ0FBQy9GLE1BQU0sdUJBQXVCK0YsTUFBTSxDQUFDK08sS0FBSyxjQUFjL08sTUFBTSxDQUFDOGMsU0FBUy9pQixNQUFNLEdBQUc7b0JBQ25IMmlCLE1BQU07d0JBQUM7d0JBQU87d0JBQWdCO3FCQUFTO29CQUN2QzNOLEtBQUtBO29CQUNMK04sVUFBVUE7Z0JBQ1o7WUFDRjtRQUNGO1FBQUc7WUFDRHBsQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNvK0IsYUFBYTUvQixJQUFJLEVBQUU4VSxHQUFHLEVBQUVuSSxLQUFLO2dCQUMzQyxJQUFJLENBQUM2VixNQUFNLENBQUMsU0FBUyxVQUFVemMsTUFBTSxDQUFDL0YsTUFBTSxvQkFBb0IrRixNQUFNLENBQUMrTyxNQUFNO29CQUMzRTJOLE1BQU07d0JBQUM7d0JBQU87d0JBQWdCO3FCQUFTO29CQUN2QzNOLEtBQUtBO29CQUNMbkksT0FBT0E7Z0JBQ1Q7WUFDRjtRQUNGO1FBQUc7WUFDRGxQLEtBQUs7WUFDTCtELE9BQU8sU0FBU1IsSUFBSThULEdBQUcsRUFBRWpELE1BQU07Z0JBQzdCLE9BQU8sSUFBSSxDQUFDaW9CLGNBQWMsQ0FBQyxPQUFPaGxCLEtBQUssTUFBTTtvQkFDM0NqRCxRQUFRQTtnQkFDVjtZQUNGO1FBQ0Y7UUFBRztZQUNEcFUsS0FBSztZQUNMK0QsT0FBTyxTQUFTKzlCLElBQUl6cUIsR0FBRyxFQUFFMVosSUFBSTtnQkFDM0IsT0FBTyxJQUFJLENBQUMwK0IsY0FBYyxDQUFDLE9BQU9obEIsS0FBSzFaO1lBQ3pDO1FBQ0Y7UUFBRztZQUNEcUMsS0FBSztZQUNMK0QsT0FBTyxTQUFTK1MsS0FBS08sR0FBRyxFQUFFMVosSUFBSTtnQkFDNUIsT0FBTyxJQUFJLENBQUMwK0IsY0FBYyxDQUFDLFFBQVFobEIsS0FBSzFaO1lBQzFDO1FBQ0Y7UUFBRztZQUNEcUMsS0FBSztZQUNMK0QsT0FBTyxTQUFTOFcsTUFBTXhELEdBQUcsRUFBRTFaLElBQUk7Z0JBQzdCLE9BQU8sSUFBSSxDQUFDMCtCLGNBQWMsQ0FBQyxTQUFTaGxCLEtBQUsxWjtZQUMzQztRQUNGO1FBQUc7WUFDRHFDLEtBQUs7WUFDTCtELE9BQU8sU0FBU21ZLFFBQVE3RSxHQUFHLEVBQUVqRCxNQUFNO2dCQUNqQyxPQUFPLElBQUksQ0FBQ2lvQixjQUFjLENBQUMsVUFBVWhsQixLQUFLLE1BQU07b0JBQzlDakQsUUFBUUE7Z0JBQ1Y7WUFDRjtRQUNGO1FBQUc7WUFDRHBVLEtBQUs7WUFDTCtELE9BQU8sU0FBU21ULFNBQVNHLEdBQUcsRUFBRWxILEdBQUcsRUFBRTFCLElBQUksRUFBRTRDLFdBQVcsRUFBRXRRLElBQUk7Z0JBQ3hELElBQUlwRCxPQUFPeVQsa0JBQWtCakIsS0FBSzFCLE1BQU00QyxlQUFlO2dCQUN2RCxJQUFJdFEsUUFBUSxNQUFNcEQsS0FBSzJULE1BQU0sQ0FBQyxRQUFRaUQsS0FBS0MsU0FBUyxDQUFDelQ7Z0JBQ3JELE9BQU8sSUFBSSxDQUFDczdCLGNBQWMsQ0FBQyxZQUFZaGxCLEtBQUsxWixNQUFNO29CQUNoRHVrQyxTQUFTdmtDLEtBQUs0cUMsVUFBVSxHQUFHNXFDLEtBQUs0cUMsVUFBVSxLQUFLLENBQUM7b0JBQ2hELGtCQUFrQjtvQkFDbEJ0TSxRQUFRO3dCQUNObkYsU0FBUzt3QkFDVDBSLGtCQUFrQkM7d0JBQ2xCQyxlQUFlRDtvQkFDakI7Z0JBQ0Y7WUFDRjtRQUNGO1FBQUc7WUFDRHpvQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVM0a0Msa0JBQWtCdmpCLFFBQVE7Z0JBQ3hDLElBQUlyWDtnQkFDSkEsTUFBTSxJQUFJb3dCLGtCQUFrQiwrQkFBK0I3MUIsTUFBTSxDQUFDOGMsU0FBUy9pQixNQUFNO2dCQUVqRixJQUFJK2lCLFNBQVN6bkIsSUFBSSxJQUFJeW5CLFNBQVN6bkIsSUFBSSxDQUFDKzFCLElBQUksRUFBRTtvQkFDdkMzbEIsTUFBTSxJQUFJNkgsTUFBTSx5QkFBeUJ0TixNQUFNLENBQUM4YyxTQUFTem5CLElBQUksQ0FBQysxQixJQUFJLEVBQUUsTUFBTXByQixNQUFNLENBQUM4YyxTQUFTem5CLElBQUksQ0FBQ2lELE9BQU87b0JBQ3RHbU4sSUFBSTJsQixJQUFJLEdBQUd0TyxTQUFTem5CLElBQUksQ0FBQysxQixJQUFJO2dCQUMvQjtnQkFFQTNsQixJQUFJcVgsUUFBUSxHQUFHQTtnQkFDZnJYLElBQUkxTCxNQUFNLEdBQUcraUIsU0FBUy9pQixNQUFNO2dCQUM1QixPQUFPMEw7WUFDVDtRQUNGO1FBQUc7WUFDRC9OLEtBQUs7WUFDTCtELE9BQU8sU0FBU2krQixlQUFlNWMsUUFBUTtnQkFDckMsSUFBSXpuQixPQUFPeW5CLFNBQVN6bkIsSUFBSTtnQkFFeEIsSUFBSTQ5QixnQkFBZ0JuVyxXQUFXO29CQUM3QixNQUFNLElBQUksQ0FBQ3VqQixpQkFBaUIsQ0FBQ3ZqQjtnQkFDL0I7Z0JBRUEsT0FBT3puQjtZQUNUO1FBQ0Y7UUFBRztZQUNEcUMsS0FBSztZQUNMK0QsT0FBTyxTQUFTcytCLG1CQUFtQjlzQixLQUFLO2dCQUN0QyxJQUFJcXpCLFdBQ0E1aEMsU0FBUyxJQUFJLEVBQ2I2aEM7Z0JBRUosSUFBSTd6QixTQUFTLElBQUk7Z0JBQ2pCLElBQUlvdEIsd0JBQXdCLEVBQUU7Z0JBQzlCLElBQUksQ0FBQ3JkLE1BQU0sQ0FBQyxRQUFRLHdEQUF3RHpjLE1BQU0sQ0FBQ2lOLE1BQU1oVCxJQUFJLEVBQUUsT0FBTztvQkFDcEd5aUIsTUFBTTt3QkFBQzt3QkFBUztxQkFBUztvQkFDekJ6UCxPQUFPQTtnQkFDVDtnQkFFQSxJQUFJQSxNQUFNaFQsSUFBSSxLQUFLLDJCQUEyQmdULE1BQU1oVCxJQUFJLEtBQUssa0JBQWtCZ1QsTUFBTWhULElBQUksS0FBSyxnQkFBZ0I7b0JBQzVHLElBQUksQ0FBQ3VtQyxnQkFBZ0IsQ0FBQ3Z6QjtnQkFDeEI7Z0JBRUEsSUFBSUEsTUFBTWhULElBQUksS0FBSyxrQkFBa0JnVCxNQUFNd3pCLEVBQUUsRUFBRTtvQkFDN0MvekIsT0FBT2pVLElBQUksR0FBR3dVLE1BQU13ekIsRUFBRTtvQkFDdEIvekIsT0FBTzNSLEtBQUssQ0FBQ2t0QixVQUFVLENBQUNoYixNQUFNd3pCLEVBQUU7b0JBQ2hDL3pCLE9BQU95dkIsYUFBYSxHQUFHbHZCLE1BQU13ekIsRUFBRSxDQUFDbDRCLGFBQWE7b0JBQzdDbUUsT0FBT2pTLFVBQVUsR0FBR3dTLE1BQU13ekIsRUFBRSxDQUFDaDRCLEtBQUs7Z0JBQ3BDO2dCQUVBLElBQUl3RSxNQUFNbFYsT0FBTyxJQUFJa1YsTUFBTWhULElBQUksS0FBSyw0QkFBNEI7b0JBQzlELElBQUksQ0FBQ2ttQixpQkFBaUIsQ0FBQ2xULE1BQU1sVixPQUFPO2dCQUN0QztnQkFFQSxJQUFJa1YsTUFBTWhULElBQUksS0FBSyx3Q0FBd0MsQ0FBQ3FtQyxZQUFZcnpCLE1BQU13ekIsRUFBRSxNQUFNLFFBQVFILGNBQWMsS0FBSyxLQUFLQSxVQUFVLzNCLGFBQWEsRUFBRTtvQkFDN0ksSUFBSW00Qix5QkFBeUIsRUFBRTtvQkFDL0IsSUFBSUMsc0JBQXNCLEVBQUU7b0JBQzVCLElBQUksQ0FBQ3hFLGFBQWEsQ0FBQzFrQyxPQUFPLENBQUMsU0FBVTBoQixJQUFJO3dCQUN2QyxPQUFPQSxLQUFLcGhCLE9BQU8sSUFBSTJvQyx1QkFBdUJ2cEMsSUFBSSxDQUFDZ2lCLEtBQUtwaEIsT0FBTyxDQUFDd0IsR0FBRztvQkFDckU7b0JBQ0EwVCxNQUFNd3pCLEVBQUUsQ0FBQ2w0QixhQUFhLENBQUM5USxPQUFPLENBQUMsU0FBVTBoQixJQUFJO3dCQUMzQyxPQUFPQSxLQUFLcGhCLE9BQU8sSUFBSTRvQyxvQkFBb0J4cEMsSUFBSSxDQUFDZ2lCLEtBQUtwaEIsT0FBTyxDQUFDd0IsR0FBRztvQkFDbEU7b0JBQ0Esc0ZBQXNGLEdBRXRGbW5DLHVCQUF1QmpwQyxPQUFPLENBQUMsU0FBVThCLEdBQUc7d0JBQzFDLElBQUksQ0FBQ29uQyxvQkFBb0I3aEIsUUFBUSxDQUFDdmxCLFFBQVFtRixPQUFPd2hCLGNBQWMsQ0FBQzNtQixJQUFJLEVBQUU7NEJBQ3BFbUYsT0FBT3doQixjQUFjLENBQUMzbUIsSUFBSSxDQUFDd0IsS0FBSyxDQUFDRixXQUFXLEdBQUc7d0JBQ2pEO29CQUNGO29CQUNBLElBQUksQ0FBQ3NoQyxhQUFhLEdBQUdsdkIsTUFBTXd6QixFQUFFLENBQUNsNEIsYUFBYTtnQkFDN0M7Z0JBRUEsSUFBSTBFLE1BQU1oVCxJQUFJLEtBQUssZ0NBQWdDLENBQUNzbUMsYUFBYXR6QixNQUFNd3pCLEVBQUUsTUFBTSxRQUFRRixlQUFlLEtBQUssS0FBS0EsV0FBVzkzQixLQUFLLEVBQUU7b0JBQ2hJLElBQUksQ0FBQ2hPLFVBQVUsR0FBR3dTLE1BQU13ekIsRUFBRSxDQUFDaDRCLEtBQUs7Z0JBQ2xDO2dCQUVBLElBQUl3RSxNQUFNaFQsSUFBSSxLQUFLLDRCQUE0QmdULE1BQU12RSxlQUFlLEtBQUssR0FBRztvQkFDMUUsSUFBSWs0QixvQkFBb0JocUMsT0FBT0QsSUFBSSxDQUFDLElBQUksQ0FBQ3VwQixjQUFjO29CQUN2RDBnQixrQkFBa0JucEMsT0FBTyxDQUFDLFNBQVVvcEMsZ0JBQWdCO3dCQUNsRCxPQUFPbmlDLE9BQU93aEIsY0FBYyxDQUFDMmdCLGlCQUFpQixDQUFDOWxDLEtBQUssQ0FBQ0YsV0FBVyxHQUFHO29CQUNyRTtnQkFDRjtnQkFFQSxJQUFJLENBQUNvUyxNQUFNaFQsSUFBSSxLQUFLLHFCQUFxQmdULE1BQU1oVCxJQUFJLEtBQUssOEJBQTZCLEtBQU1nVCxNQUFNMVQsR0FBRyxFQUFFO29CQUNwRyxJQUFJdW5DO29CQUVKcDBCLE9BQU8zUixLQUFLLENBQUNvdEIseUJBQXlCLENBQUNsYixNQUFNMVQsR0FBRztvQkFDL0N1bkMsQ0FBQUEsd0JBQXdCLElBQUksQ0FBQzVnQixjQUFjLENBQUNqVCxNQUFNMVQsR0FBRyxDQUFDLE1BQU0sUUFBUXVuQywwQkFBMEIsS0FBSyxJQUFJLEtBQUssSUFBSUEsc0JBQXNCdFosV0FBVztvQkFDbEpzUyxzQkFBc0IzaUMsSUFBSSxDQUFDO3dCQUN6QixJQUFJLENBQUM4VixNQUFNMVQsR0FBRyxFQUFFO3dCQUNoQixPQUFPbUYsT0FBT3doQixjQUFjLENBQUNqVCxNQUFNMVQsR0FBRyxDQUFDO29CQUN6QztnQkFDRjtnQkFFQSxPQUFPdWdDO1lBQ1Q7UUFDRjtRQUFHO1lBQ0RwaUMsS0FBSztZQUNMK0QsT0FBTyxTQUFTa2UsWUFBWXBnQixHQUFHO2dCQUM3QixJQUFJbWdCO2dCQUVKLElBQUssSUFBSTFqQixJQUFJLEdBQUdBLElBQUksSUFBSSxDQUFDbW1DLGFBQWEsQ0FBQ3ZuQyxNQUFNLEVBQUVvQixJQUFLO29CQUNsRCxJQUFJK3FDO29CQUVKLElBQUk1bkIsT0FBTyxJQUFJLENBQUNnakIsYUFBYSxDQUFDbm1DLEVBQUU7b0JBRWhDLElBQUksQ0FBQyxDQUFDK3FDLGdCQUFnQjVuQixLQUFLcGhCLE9BQU8sTUFBTSxRQUFRZ3BDLGtCQUFrQixLQUFLLElBQUksS0FBSyxJQUFJQSxjQUFjeG5DLEdBQUcsTUFBTUEsS0FBSzt3QkFDOUdtZ0IsYUFBYTs0QkFDWHFGLE9BQU81RixLQUFLNm5CLE9BQU8sR0FBRyxJQUFJaG1DLEtBQUttZSxLQUFLNm5CLE9BQU8sRUFBRWhrQyxPQUFPLEtBQUssSUFBSWhDLE9BQU9nQyxPQUFPLEtBQUs7NEJBQ2hGMm9CLFdBQVd4TSxLQUFLM2YsVUFBVSxHQUFHLElBQUl3QixLQUFLbWUsS0FBSzNmLFVBQVUsSUFBSSxJQUFJd0I7NEJBQzdEaW1DLFdBQVc5bkIsS0FBSzZuQixPQUFPLEdBQUcsSUFBSWhtQyxLQUFLbWUsS0FBSzZuQixPQUFPLElBQUk7d0JBQ3JEO3dCQUNBO29CQUNGO2dCQUNGO2dCQUVBLElBQUl0bkIsWUFBWTtvQkFDZCxPQUFPQTtnQkFDVDtnQkFFQSxPQUFPO29CQUNMcUYsT0FBTztvQkFDUDRHLFdBQVc7b0JBQ1hzYixXQUFXO2dCQUNiO1lBQ0Y7UUFDRjtRQUFHO1lBQ0R2cEMsS0FBSztZQUNMK0QsT0FDQTs7S0FFQyxHQUNEO2dCQUNFLElBQUlpekIsV0FBV3Y3Qiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTb2lCO29CQUMvRSxPQUFPcGlCLHNFQUF3QixDQUFDLFNBQVNzaUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsVCxJQUFJLEdBQUdrVCxXQUFXalQsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCxJQUFJLENBQUUsRUFBQyxJQUFJLENBQUN2RSxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUM2ckIsS0FBSyxHQUFHO3dDQUNsQ3JVLFdBQVdqVCxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLE1BQU15SyxNQUFNO2dDQUVkLEtBQUs7b0NBQ0gsSUFBSSxJQUFJLENBQUNvZSxTQUFTLEVBQUU7d0NBQ2xCNVYsV0FBV2pULElBQUksR0FBRzt3Q0FDbEI7b0NBQ0Y7b0NBRUEsTUFBTXlLLE1BQU07Z0NBRWQsS0FBSztvQ0FDSCxJQUFJLElBQUksQ0FBQ3NnQixRQUFRLEVBQUU7d0NBQ2pCOVgsV0FBV2pULElBQUksR0FBRzt3Q0FDbEI7b0NBQ0Y7b0NBRUEsTUFBTXlLLE1BQU07Z0NBRWQsS0FBSztvQ0FDSCxJQUFJLENBQUMsSUFBSSxDQUFDMHBCLFlBQVksSUFBSyxLQUFJLENBQUNwcUIsT0FBTyxDQUFDMnZCLE1BQU0sSUFBSSxJQUFJLENBQUMzdkIsT0FBTyxDQUFDdWpCLGNBQWMsR0FBRzt3Q0FDOUUsSUFBSSxDQUFDK1EsTUFBTTtvQ0FDYixFQUFFLDZEQUE2RDtvQ0FHL0QsSUFBSSxJQUFJLENBQUN0MEIsT0FBTyxDQUFDb3FCLFlBQVksSUFBSSxJQUFJLENBQUNNLElBQUksRUFBRTt3Q0FDMUMsb0hBQW9IO3dDQUNwSCxJQUFJLENBQUMxcUIsT0FBTyxDQUFDb3FCLFlBQVksQ0FBQzFJLFNBQVMsQ0FBQyxJQUFJO3dDQUN4QyxJQUFJLENBQUMwSSxZQUFZLEdBQUcsSUFBSSxDQUFDcHFCLE9BQU8sQ0FBQ29xQixZQUFZO29DQUMvQyxPQUFPO3dDQUNMLElBQUksQ0FBQ0EsWUFBWSxHQUFHLElBQUkxTCxtQkFBbUI7NENBQ3pDNWUsUUFBUSxJQUFJO3dDQUNkO29DQUNGO29DQUVBb0osV0FBV2xULElBQUksR0FBRztvQ0FFbEIsSUFBSSxDQUFDLElBQUksQ0FBQ3EwQixVQUFVLEVBQUU7d0NBQ3BCbmhCLFdBQVdqVCxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBaVQsV0FBV2pULElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUNvMEIsVUFBVSxDQUFDbkksT0FBTztnQ0FFaEMsS0FBSztvQ0FDSCxPQUFPaFosV0FBV2hULE1BQU0sQ0FBQyxVQUFVZ1QsV0FBVzlJLElBQUk7Z0NBRXBELEtBQUs7b0NBQ0g4SSxXQUFXalQsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ20wQixZQUFZLENBQUNsSSxPQUFPLENBQUMsSUFBSSxDQUFDbGlCLE9BQU8sQ0FBQytpQixnQkFBZ0IsR0FBRyxJQUFJLENBQUN1Tiw0QkFBNEIsR0FBRyxJQUFJLENBQUNDLGdCQUFnQjtnQ0FFNUgsS0FBSztvQ0FDSCxPQUFPcm5CLFdBQVdoVCxNQUFNLENBQUMsVUFBVWdULFdBQVc5SSxJQUFJO2dDQUVwRCxLQUFLO29DQUNIOEksV0FBV2xULElBQUksR0FBRztvQ0FDbEJrVCxXQUFXaVQsRUFBRSxHQUFHalQsVUFBVSxDQUFDLFFBQVEsQ0FBQztvQ0FFcEMsSUFBSSxDQUFFLEtBQUksQ0FBQ2xKLE9BQU8sQ0FBQytpQixnQkFBZ0IsSUFBSXRDLFlBQVl2WCxXQUFXaVQsRUFBRSxLQUFLM2QsVUFBUyxHQUFJO3dDQUNoRjBLLFdBQVdqVCxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLElBQUksQ0FBQzRaLE1BQU0sQ0FBQyxRQUFRLHNEQUFzRDt3Q0FDeEVDLE1BQU07NENBQUM7NENBQWM7eUNBQVM7b0NBQ2hDO29DQUNBLElBQUksQ0FBQzlhLGFBQWEsQ0FBQzt3Q0FDakIzSCxNQUFNO3dDQUNOa25DLE1BQU07b0NBQ1I7b0NBRUEsSUFBSSxDQUFDbkssWUFBWSxDQUFDekcsMkJBQTJCO29DQUU3QyxJQUFJLENBQUN5RyxZQUFZLENBQUMvSCxVQUFVLEdBQUd2b0IsSUFBSSxJQUFJLHVCQUF1QjtvQ0FFOUQsSUFBSSxDQUFDdXdCLFVBQVUsR0FBRyxJQUFJNUQscUJBQXFCO3dDQUN6QzNtQixRQUFRLElBQUk7b0NBQ2Q7b0NBQ0FvSixXQUFXalQsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ28wQixVQUFVLENBQUNuSSxPQUFPO2dDQUVoQyxLQUFLO29DQUNILE9BQU9oWixXQUFXaFQsTUFBTSxDQUFDLFVBQVVnVCxXQUFXOUksSUFBSTtnQ0FFcEQsS0FBSztvQ0FDSCxNQUFNOEksV0FBV2lULEVBQUU7Z0NBRXJCLEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPalQsV0FBVzNTLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUd3UyxXQUFXLElBQUksRUFBRTt3QkFBQzs0QkFBQzs0QkFBRzt5QkFBRztxQkFBQztnQkFDL0I7Z0JBRUEsU0FBU21aO29CQUNQLE9BQU9KLFNBQVN0M0IsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQzlCO2dCQUVBLE9BQU91M0I7WUFDVDtRQU9GO1FBQUc7WUFDRHAzQixLQUFLO1lBQ0wrRCxPQUFPLFNBQVN5bEM7Z0JBQ2QsSUFBSXRpQyxTQUFTLElBQUk7Z0JBRWpCLElBQUkrNkIsb0JBQW9CenZCO2dCQUN4QixJQUFJNE8sT0FBTztvQkFDVDhnQixTQUFTO3dCQUNQLHVCQUF1QkQ7b0JBQ3pCO2dCQUNGO2dCQUNBLElBQUksQ0FBQzVGLGNBQWMsQ0FBQyxPQUFPLElBQUksQ0FBQ3htQixPQUFPLEdBQUcsT0FBTyxNQUFNdUwsTUFBTW5TLEtBQUssQ0FBQyxTQUFVaFIsQ0FBQztvQkFDNUUsSUFBSWlKLE9BQU9nTyxPQUFPLENBQUN1akIsY0FBYyxFQUFFO3dCQUNqQ3hILGFBQWEsa0JBQWtCOzRCQUM3QmUsU0FBUzlxQixPQUFPbEgsR0FBRzs0QkFDbkIrTixLQUFLOVA7NEJBQ0xna0MsbUJBQW1CQTt3QkFDckI7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQVlGO1FBQUc7WUFDRGppQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUkybEMsY0FBY2p1Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNmlCLFVBQVU3RixnQkFBZ0I7b0JBQzVHLElBQUluSCxNQUNBd0QsU0FDQUMsZ0JBQ0F4WCxNQUNBZ2hCLFVBQVU5ZTtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUytpQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzNULElBQUksR0FBRzJULFdBQVcxVCxJQUFJO2dDQUN2QyxLQUFLO29DQUNIdUcsT0FBT2lOLFFBQVF6aEIsTUFBTSxHQUFHLEtBQUt5aEIsT0FBTyxDQUFDLEVBQUUsS0FBS2pkLFlBQVlpZCxPQUFPLENBQUMsRUFBRSxHQUFHLEVBQUU7b0NBQ3ZFekosVUFBVXlKLFFBQVF6aEIsTUFBTSxHQUFHLEtBQUt5aEIsT0FBTyxDQUFDLEVBQUUsS0FBS2pkLFlBQVlpZCxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFeEosaUJBQWlCO3dDQUNmRSxVQUFVO29DQUNaLEdBQUcsc0VBQXNFO29DQUV6RXdKLFdBQVcxVCxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDcU4sU0FBUztnQ0FFdkIsS0FBSztvQ0FDSCxJQUFJLENBQUMsSUFBSSxDQUFDc00sZ0JBQWdCLElBQUk7d0NBQzVCM1AsZUFBZUUsUUFBUSxHQUFHO29DQUM1QixFQUFFLHlCQUF5QjtvQ0FHM0J3SixXQUFXMVQsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzVILEdBQUcsQ0FBQyxJQUFJLENBQUNzUyxPQUFPLEdBQUcsVUFBVTt3Q0FDdkNvQyxTQUFTNm1CLGNBQWNBLGNBQWM7NENBQ25DeG1CLG1CQUFtQk87NENBQ25CbkgsTUFBTUQsbUJBQW1CQzt3Q0FDM0IsR0FBR3lELGlCQUFpQkQ7b0NBQ3RCO2dDQUVGLEtBQUs7b0NBQ0h2WCxPQUFPa2hCLFdBQVd2SixJQUFJO29DQUN0QixJQUFJLENBQUNqUyxLQUFLLENBQUNpdEIsV0FBVyxDQUFDM3lCLEtBQUt5eUIsS0FBSztvQ0FDakMsT0FBT3ZSLFdBQVd6VCxNQUFNLENBQUMsVUFBVXpOO2dDQUVyQyxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2toQixXQUFXcFQsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2lULFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU2lyQixXQUFXM3FCLElBQUk7b0JBQ3RCLE9BQU8wcUIsWUFBWWhxQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDakM7Z0JBRUEsT0FBTzhwQztZQUNUO1FBV0Y7UUFBRztZQUNEM3BDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTZsQyxvQkFBb0JudUMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3NqQjtvQkFDeEYsSUFBSXRHLGtCQUNBbkgsTUFDQXdELFNBQ0FrSyxVQUFVdmY7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVN3akIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdwVSxJQUFJLEdBQUdvVSxXQUFXblUsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSDBOLG1CQUFtQnVHLFFBQVFsaUIsTUFBTSxHQUFHLEtBQUtraUIsT0FBTyxDQUFDLEVBQUUsS0FBSzFkLFlBQVkwZCxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ2xGMU4sT0FBTzBOLFFBQVFsaUIsTUFBTSxHQUFHLEtBQUtraUIsT0FBTyxDQUFDLEVBQUUsS0FBSzFkLFlBQVkwZCxPQUFPLENBQUMsRUFBRSxHQUFHLEVBQUU7b0NBQ3ZFbEssVUFBVWtLLFFBQVFsaUIsTUFBTSxHQUFHLEtBQUtraUIsT0FBTyxDQUFDLEVBQUUsS0FBSzFkLFlBQVkwZCxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXblUsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzVILEdBQUcsQ0FBQyxJQUFJLENBQUNzUyxPQUFPLEdBQUcsdUJBQXVCO3dDQUNwRG9DLFNBQVM2bUIsY0FBYzs0Q0FDckJ4bUIsbUJBQW1CTzs0Q0FDbkJuSCxNQUFNRCxtQkFBbUJDO3dDQUMzQixHQUFHd0Q7b0NBQ0w7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPb0ssV0FBV2xVLE1BQU0sQ0FBQyxVQUFVa1UsV0FBV2hLLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPZ0ssV0FBVzdULElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcwVCxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVMwcUI7b0JBQ1AsT0FBT0Qsa0JBQWtCbHFDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN2QztnQkFFQSxPQUFPZ3FDO1lBQ1Q7UUFVRjtRQUFHO1lBQ0Q3cEMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJK2xDLHFCQUFxQnJ1Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTK2pCO29CQUN6RixJQUFJL0csa0JBQ0EzRCxTQUNBMkssVUFBVWhnQjtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU2lrQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzdVLElBQUksR0FBRzZVLFdBQVc1VSxJQUFJO2dDQUN2QyxLQUFLO29DQUNIME4sbUJBQW1CZ0gsUUFBUTNpQixNQUFNLEdBQUcsS0FBSzJpQixPQUFPLENBQUMsRUFBRSxLQUFLbmUsWUFBWW1lLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDbEYzSyxVQUFVMkssUUFBUTNpQixNQUFNLEdBQUcsS0FBSzJpQixPQUFPLENBQUMsRUFBRSxLQUFLbmUsWUFBWW1lLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDekVFLFdBQVc1VSxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyw2QkFBNkI7d0NBQzFEb0MsU0FBUzZtQixjQUFjOzRDQUNyQnhtQixtQkFBbUJPO3dDQUNyQixHQUFHM0Q7b0NBQ0w7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPNkssV0FBVzNVLE1BQU0sQ0FBQyxVQUFVMlUsV0FBV3pLLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPeUssV0FBV3RVLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdtVSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNtcUI7b0JBQ1AsT0FBT0QsbUJBQW1CcHFDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN4QztnQkFFQSxPQUFPa3FDO1lBQ1Q7UUFjRjtRQUFHO1lBQ0QvcEMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJaW1DLGlCQUFpQnZ1Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTd2tCLFVBQVV4SCxnQkFBZ0I7b0JBQy9HLElBQUluSCxNQUNBd0QsU0FDQSswQixjQUNBOTBCLGdCQUNBOEMsU0FDQXRhLE1BQ0EyaUIsVUFBVXpnQjtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUzBrQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3RWLElBQUksR0FBR3NWLFdBQVdyVixJQUFJO2dDQUN2QyxLQUFLO29DQUNIdUcsT0FBTzRPLFFBQVFwakIsTUFBTSxHQUFHLEtBQUtvakIsT0FBTyxDQUFDLEVBQUUsS0FBSzVlLFlBQVk0ZSxPQUFPLENBQUMsRUFBRSxHQUFHLEVBQUU7b0NBQ3ZFcEwsVUFBVW9MLFFBQVFwakIsTUFBTSxHQUFHLEtBQUtvakIsT0FBTyxDQUFDLEVBQUUsS0FBSzVlLFlBQVk0ZSxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFMnBCLGVBQWUzcEIsUUFBUXBqQixNQUFNLEdBQUcsS0FBS29qQixPQUFPLENBQUMsRUFBRSxLQUFLNWUsWUFBWTRlLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDOUVuTCxpQkFBaUI7d0NBQ2Y5UixPQUFPO3dDQUNQK1IsT0FBTzt3Q0FDUEMsVUFBVTtvQ0FDWixHQUFHLHNFQUFzRTtvQ0FFekVtTCxXQUFXclYsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ3FOLFNBQVM7Z0NBRXZCLEtBQUs7b0NBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQ3NNLGdCQUFnQixJQUFJO3dDQUM1QjNQLGVBQWVDLEtBQUssR0FBRztvQ0FDekIsRUFBRSw0QkFBNEI7b0NBRzlCNkMsVUFBVTZtQixjQUFjQSxjQUFjO3dDQUNwQ3htQixtQkFBbUJPO3dDQUNuQm5ILE1BQU1ELG1CQUFtQkM7b0NBQzNCLEdBQUd5RCxpQkFBaUJEO29DQUNwQnNMLFdBQVdyVixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxhQUFhb0M7Z0NBRS9DLEtBQUs7b0NBQ0h0YSxPQUFPNmlCLFdBQVdsTCxJQUFJO29DQUN0QixJQUFJLENBQUNwTCxhQUFhLENBQUM7d0NBQ2pCM0gsTUFBTTt3Q0FDTm9tQixpQkFBaUI7NENBQ2ZDLFVBQVVqckIsS0FBS2lyQixRQUFROzRDQUN2QkMsb0JBQW9CO3dDQUN0QjtvQ0FDRjtvQ0FDQSxPQUFPckksV0FBV3BWLE1BQU0sQ0FBQyxVQUFVLElBQUksQ0FBQzgrQixxQkFBcUIsQ0FBQ3ZzQyxLQUFLaXJCLFFBQVEsRUFBRXFoQjtnQ0FFL0UsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU96cEIsV0FBVy9VLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUc0VSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVN1akIsY0FBYzNrQixJQUFJO29CQUN6QixPQUFPK3FCLGVBQWV0cUMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3BDO2dCQUVBLE9BQU8rakM7WUFDVDtRQUNGO1FBQUc7WUFDRDVqQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNtbUM7Z0JBQ2QsSUFBSUMsa0JBQWtCdHFDLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRyxFQUFFO2dCQUM1RixJQUFJb3FDLGVBQWVwcUMsVUFBVTNDLE1BQU0sR0FBRyxLQUFLMkMsU0FBUyxDQUFDLEVBQUUsS0FBSzZCLFlBQVk3QixTQUFTLENBQUMsRUFBRSxHQUFHLENBQUM7Z0JBQ3hGLElBQUl1cUMscUJBQXFCSCxhQUFhRyxrQkFBa0IsRUFDcERDLHdCQUF3QkosYUFBYTl6QixXQUFXLEVBQ2hEQSxjQUFjazBCLDBCQUEwQixLQUFLLElBQUksUUFBUUE7Z0JBRTdELElBQUkvYSxhQUFhb1AsMkJBQTJCeUwsa0JBQ3hDNWE7Z0JBRUosSUFBSTtvQkFDRixJQUFLRCxXQUFXdHhCLENBQUMsSUFBSSxDQUFDLENBQUN1eEIsU0FBU0QsV0FBVy9oQixDQUFDLEVBQUMsRUFBR0MsSUFBSSxFQUFHO3dCQUNyRCxJQUFJMGYsZUFBZXFDLE9BQU94ckIsS0FBSzt3QkFFL0IsSUFBSSxDQUFDMGtCLGlCQUFpQixDQUFDeUUsYUFBYTdzQixPQUFPO29CQUM3QztnQkFDRixFQUFFLE9BQU8wTixLQUFLO29CQUNadWhCLFdBQVdyeEIsQ0FBQyxDQUFDOFA7Z0JBQ2YsU0FBVTtvQkFDUnVoQixXQUFXM2hCLENBQUM7Z0JBQ2Q7Z0JBRUEsSUFBSWliLFdBQVcsRUFBRTtnQkFFakIsSUFBSTZHLGFBQWFpUCwyQkFBMkJ5TCxrQkFDeEN6YTtnQkFFSixJQUFJO29CQUNGLElBQUtELFdBQVd6eEIsQ0FBQyxJQUFJLENBQUMsQ0FBQzB4QixTQUFTRCxXQUFXbGlCLENBQUMsRUFBQyxFQUFHQyxJQUFJLEVBQUc7d0JBQ3JELElBQUk4OEIsZ0JBQWdCNWEsT0FBTzNyQixLQUFLO3dCQUNoQyxJQUFJdkYsSUFBSSxJQUFJLENBQUM2QixPQUFPLENBQUNpcUMsY0FBY2pxQyxPQUFPLENBQUNrQyxJQUFJLEVBQUUrbkMsY0FBY2pxQyxPQUFPLENBQUNRLEVBQUU7d0JBQ3pFckMsRUFBRWIsSUFBSSxHQUFHMnNDLGNBQWNqcUMsT0FBTzt3QkFDOUI3QixFQUFFMlgsV0FBVyxHQUFHQTt3QkFDaEIzWCxFQUFFMFgsV0FBVyxHQUFHLENBQUNDO3dCQUVqQixJQUFJaTBCLHVCQUF1QjFvQyxXQUFXOzRCQUNwQ2xELEVBQUVrcUIsZ0JBQWdCLENBQUM0aEIsZUFBZTt3QkFDcEMsT0FBTyxJQUFJLENBQUNGLG1CQUFtQmhqQixRQUFRLENBQUNrakIsY0FBY2pxQyxPQUFPLENBQUNRLEVBQUUsR0FBRzs0QkFDakVyQyxFQUFFNkUsS0FBSyxDQUFDOEcsYUFBYTs0QkFFckIzTCxFQUFFa3FCLGdCQUFnQixDQUFDNGhCLGVBQWU7d0JBQ3BDO3dCQUVBMWhCLFNBQVNucEIsSUFBSSxDQUFDakI7b0JBQ2hCO2dCQUNGLEVBQUUsT0FBT3VQLEtBQUs7b0JBQ1owaEIsV0FBV3h4QixDQUFDLENBQUM4UDtnQkFDZixTQUFVO29CQUNSMGhCLFdBQVc5aEIsQ0FBQztnQkFDZDtnQkFFQSxPQUFPaWI7WUFDVDtRQVdGO1FBQUc7WUFDRDVvQixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlnVSxVQUFVdGMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU2lsQixVQUFVakksZ0JBQWdCLEVBQUV2TixLQUFLO29CQUMvRyxJQUFJNEosU0FDQStDLFNBQ0FzeUIsVUFBVTFxQztvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU2tsQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzlWLElBQUksR0FBRzhWLFdBQVc3VixJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVXExQixRQUFRcnRDLE1BQU0sR0FBRyxLQUFLcXRDLE9BQU8sQ0FBQyxFQUFFLEtBQUs3b0MsWUFBWTZvQyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBRXpFLElBQUksQ0FBRXIxQixDQUFBQSxRQUFRbUQsTUFBTSxJQUFJbkQsUUFBUS9KLElBQUksR0FBRzt3Q0FDckM2VixXQUFXN1YsSUFBSSxHQUFHO3dDQUNsQjtvQ0FDRjtvQ0FFQSxNQUFNeUssTUFBTTtnQ0FFZCxLQUFLO29DQUNIcUMsVUFBVTZtQixjQUFjQSxjQUFjO3dDQUNwQ3htQixtQkFBbUJPO29DQUNyQixHQUFHM0QsVUFBVSxDQUFDLEdBQUc7d0NBQ2Z4RCxNQUFNd0QsUUFBUXhELElBQUksR0FBR0QsbUJBQW1CeUQsUUFBUXhELElBQUksSUFBSWhRO29DQUMxRDtvQ0FFQSxJQUFJLENBQUUsUUFBTzRKLFVBQVUsUUFBTyxHQUFJO3dDQUNoQzBWLFdBQVc3VixJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBOE0sUUFBUTNNLEtBQUssR0FBR0E7b0NBQ2hCMFYsV0FBVzdWLElBQUksR0FBRztvQ0FDbEI7Z0NBRUYsS0FBSztvQ0FDSCxJQUFJLENBQUU3UCxDQUFBQSxvRUFBT0EsQ0FBQ2dRLFdBQVcsUUFBTyxHQUFJO3dDQUNsQzBWLFdBQVc3VixJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBOE0sUUFBUU0seUJBQXlCLEdBQUdqTjtvQ0FDcEMwVixXQUFXN1YsSUFBSSxHQUFHO29DQUNsQjtnQ0FFRixLQUFLO29DQUNILE1BQU15SyxNQUFNLGdCQUFnQnROLE1BQU0sQ0FBQ2hOLG9FQUFPQSxDQUFDZ1EsUUFBUTtnQ0FFckQsS0FBSztvQ0FDSDBWLFdBQVc3VixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDcU4sU0FBUztnQ0FFdkIsS0FBSztvQ0FDSHdJLFdBQVc3VixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxXQUFXO3dDQUN4Q29DLFNBQVNBO29DQUNYO2dDQUVGLEtBQUs7b0NBQ0gsT0FBTytJLFdBQVc1VixNQUFNLENBQUMsVUFBVTRWLFdBQVcxTCxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzBMLFdBQVd2VixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHcVYsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTckksT0FBT2dILElBQUksRUFBRUMsSUFBSTtvQkFDeEIsT0FBTzNILFFBQVFyWSxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDN0I7Z0JBRUEsT0FBTzRZO1lBQ1Q7UUFVRjtRQUFHO1lBQ0R6WSxLQUFLO1lBQ0wrRCxPQUFPLFNBQVN5bUMsZUFBZTlYLE1BQU07Z0JBQ25DLElBQUkrWCxxQkFBcUJDLHFCQUFxQkM7Z0JBRTlDLElBQUksQ0FBQ0Ysc0JBQXNCLElBQUksQ0FBQ25MLFlBQVksTUFBTSxRQUFRbUwsd0JBQXdCLEtBQUssS0FBS0Esb0JBQW9CalYsWUFBWSxJQUFJLElBQUksQ0FBQ2hkLFNBQVMsSUFBSSxDQUFDLENBQUNreUIsc0JBQXNCLElBQUksQ0FBQ3BMLFlBQVksTUFBTSxRQUFRb0wsd0JBQXdCLEtBQUssS0FBS0Esb0JBQW9CdFcsU0FBUyxJQUFJLENBQUN1VyxvQkFBb0IsSUFBSSxDQUFDcEwsVUFBVSxNQUFNLFFBQVFvTCxzQkFBc0IsS0FBSyxLQUFLQSxrQkFBa0J2VyxTQUFTLEVBQUMsS0FBTSxJQUFJLENBQUN0UCxnQkFBZ0IsSUFBSTtvQkFDdlosTUFBTSxJQUFJbFAsTUFBTTtnQkFDbEI7Z0JBRUEsSUFBSSxDQUFDVixPQUFPLENBQUN3ZCxNQUFNLEdBQUdBO1lBQ3hCO1FBV0Y7UUFBRztZQUNEMXlCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTZtQyxhQUFhbnZDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNzbEIsVUFBVXRnQixFQUFFLEVBQUVncUMsYUFBYSxFQUFFamtDLE1BQU0sRUFBRTJnQyxrQkFBa0I7b0JBQ3hJLE9BQU8xckMsc0VBQXdCLENBQUMsU0FBU3lsQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3JXLElBQUksR0FBR3FXLFdBQVdwVyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIb1csV0FBV3BXLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLFlBQVlpcEIsY0FBY0EsY0FBYzt3Q0FDdEVqK0IsSUFBSUE7d0NBQ0pncUMsZUFBZUE7b0NBQ2pCLEdBQUdqa0MsVUFBVSxPQUFPO3dDQUNsQkMsU0FBU0Q7b0NBQ1gsSUFBSSxDQUFDLElBQUkyZ0Msc0JBQXNCLE9BQU87d0NBQ3BDQSxvQkFBb0JBO29DQUN0QixJQUFJLENBQUM7Z0NBRVAsS0FBSztvQ0FDSCxPQUFPaG1CLFdBQVduVyxNQUFNLENBQUMsVUFBVW1XLFdBQVdqTSxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2lNLFdBQVc5VixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMFYsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTMnBCLFVBQVU1cUIsSUFBSSxFQUFFQyxJQUFJLEVBQUVRLElBQUksRUFBRUMsSUFBSTtvQkFDdkMsT0FBT2dxQixXQUFXbHJDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNoQztnQkFFQSxPQUFPaXJDO1lBQ1Q7UUFTRjtRQUFHO1lBQ0Q5cUMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJZ25DLGNBQWN0dkMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzhsQixVQUFVL2EsTUFBTTtvQkFDbEcsT0FBTy9LLHNFQUF3QixDQUFDLFNBQVNnbUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVc1VyxJQUFJLEdBQUc0VyxXQUFXM1csSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSDJXLFdBQVczVyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxZQUFZalAsU0FBUzt3Q0FDbERDLFNBQVNEO29DQUNYLElBQUksQ0FBQztnQ0FFUCxLQUFLO29DQUNILE9BQU9rYixXQUFXMVcsTUFBTSxDQUFDLFVBQVUwVyxXQUFXeE0sSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU93TSxXQUFXclcsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2tXLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU3FwQixXQUFXL3BCLElBQUk7b0JBQ3RCLE9BQU84cEIsWUFBWXJyQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDakM7Z0JBRUEsT0FBT21yQztZQUNUO1FBQ0Y7UUFBRztZQUNEaHJDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWtuQyxrQkFBa0J4dkMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzBtQixVQUFVM2IsTUFBTTtvQkFDdEcsT0FBTy9LLHNFQUF3QixDQUFDLFNBQVM2bUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVd6WCxJQUFJLEdBQUd5WCxXQUFXeFgsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHdYLFdBQVd4WCxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxXQUFXalAsU0FBUzt3Q0FDakRDLFNBQVNEO29DQUNYLElBQUksQ0FBQztnQ0FFUCxLQUFLO29DQUNILE9BQU8rYixXQUFXdlgsTUFBTSxDQUFDLFVBQVV1WCxXQUFXck4sSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9xTixXQUFXbFgsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzhXLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBUzJvQixlQUFlbm9CLElBQUk7b0JBQzFCLE9BQU9rb0IsZ0JBQWdCdnJDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNyQztnQkFFQSxPQUFPcXJDO1lBQ1Q7UUFTRjtRQUFHO1lBQ0RsckMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJb25DLGdCQUFnQjF2Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTb25CLFVBQVVwaUIsRUFBRSxFQUFFK0YsTUFBTTtvQkFDeEcsT0FBTy9LLHNFQUF3QixDQUFDLFNBQVNzbkIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsWSxJQUFJLEdBQUdrWSxXQUFXalksSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSGlZLFdBQVdqWSxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDbU0sTUFBTSxDQUFDLElBQUksQ0FBQ3pCLE9BQU8sR0FBRyxZQUFZaXBCLGNBQWM7d0NBQzFEaitCLElBQUlBO29DQUNOLEdBQUcrRixTQUFTO3dDQUNWQyxTQUFTRDtvQ0FDWCxJQUFJLENBQUM7Z0NBRVAsS0FBSztvQ0FDSCxPQUFPd2MsV0FBV2hZLE1BQU0sQ0FBQyxVQUFVZ1ksV0FBVzlOLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPOE4sV0FBVzNYLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUd3WCxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNtb0IsYUFBYTluQixJQUFJLEVBQUVrQixJQUFJO29CQUM5QixPQUFPMm1CLGNBQWN6ckMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ25DO2dCQUVBLE9BQU91ckM7WUFDVDtRQVNGO1FBQUc7WUFDRHByQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlzbkMsaUJBQWlCNXZDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2bkIsVUFBVXRQLE1BQU07b0JBQ3JHLElBQUlrM0IsT0FBT0MsWUFBWUMsS0FBS0MsU0FBU0MsS0FBS0M7b0JBRTFDLE9BQU85dkMsc0VBQXdCLENBQUMsU0FBU2dvQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzVZLElBQUksR0FBRzRZLFdBQVczWSxJQUFJO2dDQUN2QyxLQUFLO29DQUNIbWdDLFFBQVFsM0IsVUFBVSxDQUFDLEdBQUdtM0IsYUFBYUQsTUFBTUMsVUFBVSxFQUFFQyxNQUFNRixNQUFNRSxHQUFHLEVBQUVDLFVBQVVILE1BQU1HLE9BQU8sRUFBRUMsTUFBTUosTUFBTUksR0FBRyxFQUFFQyxZQUFZTCxNQUFNSyxTQUFTO29DQUMzSSxPQUFPN25CLFdBQVcxWSxNQUFNLENBQUMsVUFBVSxJQUFJLENBQUM3SCxHQUFHLENBQUMsSUFBSSxDQUFDc1MsT0FBTyxHQUFHLGdCQUFnQjt3Q0FDekUrMUIsYUFBYUw7d0NBQ2JDLEtBQUtBO3dDQUNMQyxTQUFTQTt3Q0FDVEMsS0FBS0E7d0NBQ0xDLFdBQVdBLFlBQVlBLFVBQVVsM0IsSUFBSSxDQUFDLE9BQU8vUztvQ0FDL0M7Z0NBRUYsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9vaUIsV0FBV3JZLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdpWSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNtb0IsY0FBYzVtQixJQUFJO29CQUN6QixPQUFPb21CLGVBQWUzckMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3BDO2dCQUVBLE9BQU9nc0M7WUFDVDtRQUNGO1FBQUc7WUFDRDdyQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVMwa0Isa0JBQWtCcWpCLEtBQUs7Z0JBQ3JDLElBQUlqcUMsTUFBTWlxQyxNQUFNanFDLEdBQUcsRUFDZm82QixTQUFTNlAsTUFBTTdQLE1BQU07Z0JBQ3pCLElBQUksQ0FBQ3psQixPQUFPLENBQUMzVSxJQUFJLEdBQUdvNkI7WUFDdEI7UUFnQkY7UUFBRztZQUNEajhCLEtBQUs7WUFDTCtELE9BQU8sU0FBUzFELFFBQVF5akMsV0FBVyxFQUFFaUksaUJBQWlCO2dCQUNwRCxJQUFJQztnQkFFSixJQUFJakksU0FBU2xrQyxVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztnQkFFbEYsSUFBSSxDQUFDLElBQUksQ0FBQytHLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQ3FvQixrQkFBa0IsSUFBSTtvQkFDOUMsTUFBTXJaLE1BQU07Z0JBQ2Q7Z0JBRUEsSUFBSSxDQUFDa3VCLFlBQVluM0IsT0FBTyxDQUFDLE1BQU07b0JBQzdCLE1BQU1pSixNQUFNLHlCQUF5QnROLE1BQU0sQ0FBQ3c3QixhQUFhO2dCQUMzRCxFQUFFLDBDQUEwQztnQkFHNUMsSUFBSWlJLHFCQUFxQnp3QyxvRUFBT0EsQ0FBQ3l3Qyx1QkFBdUIsVUFBVTtvQkFDaEUsT0FBTyxJQUFJLENBQUNFLG1CQUFtQixDQUFDbkksYUFBYWlJO2dCQUMvQyxFQUFFLHdEQUF3RDtnQkFHMUQsSUFBSSxDQUFDQSxxQkFBcUJ6d0Msb0VBQU9BLENBQUN5b0MsWUFBWSxZQUFZLENBQUNpSSxrQkFBa0JqSSxPQUFPOWdDLE9BQU8sTUFBTSxRQUFRK29DLG9CQUFvQixLQUFLLEtBQUtBLGdCQUFnQjl1QyxNQUFNLEVBQUU7b0JBQzdKLE9BQU8sSUFBSSxDQUFDK3VDLG1CQUFtQixDQUFDbkksYUFBYUM7Z0JBQy9DLEVBQUUsZ0RBQWdEO2dCQUNsRCxxREFBcUQ7Z0JBQ3JELDhDQUE4QztnQkFHOUMsSUFBSSxDQUFDZ0ksbUJBQW1CO29CQUN0QixPQUFPLElBQUloM0IsUUFBUSxJQUFJLEVBQUUrdUIsYUFBYXBpQyxXQUFXcWlDO2dCQUNuRDtnQkFFQSxPQUFPLElBQUksQ0FBQ21JLGNBQWMsQ0FBQ3BJLGFBQWFpSSxtQkFBbUJoSTtZQUM3RDtRQWtCRjtRQUFHO1lBQ0QvakMsS0FBSztZQUNMK0QsT0FDQTs7Ozs7OztLQU9DLEdBQ0Q7Z0JBQ0UsSUFBSW9vQyxxQkFBcUIxd0MsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3NvQixVQUFVaW9CLGlCQUFpQjtvQkFDcEgsT0FBT3Z3QyxzRUFBd0IsQ0FBQyxTQUFTd29CLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXcFosSUFBSSxHQUFHb1osV0FBV25aLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0htWixXQUFXblosSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ3U3QixrQkFBa0IsQ0FBQzt3Q0FBQzBGO3FDQUFrQjtnQ0FFcEQsS0FBSztvQ0FDSCxPQUFPOW5CLFdBQVdsWixNQUFNLENBQUMsVUFBVWtaLFdBQVdoUCxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dQLFdBQVc3WSxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMFksV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTa29CLGtCQUFrQnptQixJQUFJO29CQUM3QixPQUFPdW1CLG1CQUFtQnpzQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDeEM7Z0JBRUEsT0FBT3dzQztZQUNUO1FBU0Y7UUFBRztZQUNEcnNDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXVvQyxlQUFlN3dDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2b0IsVUFBVTBMLEtBQUs7b0JBQ2xHLElBQUltYyxTQUFTQyxZQUFZQyxRQUFRQztvQkFFakMsT0FBTzd3QyxzRUFBd0IsQ0FBQyxTQUFTK29CLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXM1osSUFBSSxHQUFHMlosV0FBVzFaLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0hvaEMsVUFBVSxDQUFDO29DQUNYQyxhQUFhOU4sMkJBQTJCdE87b0NBQ3hDdkwsV0FBVzNaLElBQUksR0FBRztvQ0FFbEJzaEMsV0FBV3h1QyxDQUFDO2dDQUVkLEtBQUs7b0NBQ0gsSUFBSSxDQUFDeXVDLFNBQVNELFdBQVdqL0IsQ0FBQyxFQUFDLEVBQUdDLElBQUksRUFBRTt3Q0FDbENxWCxXQUFXMVosSUFBSSxHQUFHO3dDQUNsQjtvQ0FDRjtvQ0FFQXVoQyxhQUFhRCxPQUFPMW9DLEtBQUs7b0NBRXpCLElBQUkyb0MsV0FBVzdyQyxFQUFFLEVBQUU7d0NBQ2pCZ2tCLFdBQVcxWixJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLE1BQU15SyxNQUFNO2dDQUVkLEtBQUs7b0NBQ0gyMkIsT0FBTyxDQUFDRyxXQUFXN3JDLEVBQUUsQ0FBQyxHQUFHNnJDO2dDQUUzQixLQUFLO29DQUNIN25CLFdBQVcxWixJQUFJLEdBQUc7b0NBQ2xCO2dDQUVGLEtBQUs7b0NBQ0gwWixXQUFXMVosSUFBSSxHQUFHO29DQUNsQjtnQ0FFRixLQUFLO29DQUNIMFosV0FBVzNaLElBQUksR0FBRztvQ0FDbEIyWixXQUFXd00sRUFBRSxHQUFHeE0sVUFBVSxDQUFDLFFBQVEsQ0FBQztvQ0FFcEMybkIsV0FBV3Z1QyxDQUFDLENBQUM0bUIsV0FBV3dNLEVBQUU7Z0NBRTVCLEtBQUs7b0NBQ0h4TSxXQUFXM1osSUFBSSxHQUFHO29DQUVsQnNoQyxXQUFXNytCLENBQUM7b0NBRVosT0FBT2tYLFdBQVc4bkIsTUFBTSxDQUFDO2dDQUUzQixLQUFLO29DQUNIOW5CLFdBQVcxWixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxVQUFVO3dDQUN4Q3VhLE9BQU9tYztvQ0FDVDtnQ0FFRixLQUFLO29DQUNILE9BQU8xbkIsV0FBV3paLE1BQU0sQ0FBQyxVQUFVeVosV0FBV3ZQLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPdVAsV0FBV3BaLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdpWixXQUFXLElBQUksRUFBRTt3QkFBQzs0QkFBQzs0QkFBRzs0QkFBSTs0QkFBSTt5QkFBRztxQkFBQztnQkFDdkM7Z0JBRUEsU0FBUzJmLFlBQVl4ZSxJQUFJO29CQUN2QixPQUFPeW1CLGFBQWE1c0MsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ2xDO2dCQUVBLE9BQU93a0M7WUFDVDtRQVVGO1FBQUc7WUFDRHJrQyxLQUFLO1lBQ0wrRCxPQUNBOzs7Ozs7S0FNQyxHQUNELFNBQVN1Z0MsV0FBV29JLFVBQVU7Z0JBQzVCLE9BQU8sSUFBSSxDQUFDckksV0FBVyxDQUFDO29CQUFDcUk7aUJBQVc7WUFDdEM7UUFVRjtRQUFHO1lBQ0Qxc0MsS0FBSztZQUNMK0QsT0FDQTs7Ozs7O0tBTUMsR0FDRDtnQkFDRSxJQUFJNm9DLHNCQUFzQm54Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTc3BCLFVBQVVpTCxLQUFLO29CQUN6RyxJQUFJeWMsWUFBWUMsUUFBUUo7b0JBRXhCLE9BQU83d0Msc0VBQXdCLENBQUMsU0FBU3dwQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3BhLElBQUksR0FBR29hLFdBQVduYSxJQUFJO2dDQUN2QyxLQUFLO29DQUNIMGhDLGFBQWFuTywyQkFBMkJ0TztvQ0FDeEM5SyxXQUFXcGEsSUFBSSxHQUFHO29DQUVsQjJoQyxXQUFXN3VDLENBQUM7Z0NBRWQsS0FBSztvQ0FDSCxJQUFJLENBQUM4dUMsU0FBU0QsV0FBV3QvQixDQUFDLEVBQUMsRUFBR0MsSUFBSSxFQUFFO3dDQUNsQzhYLFdBQVduYSxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBdWhDLGFBQWFJLE9BQU8vb0MsS0FBSztvQ0FFekIsSUFBSTJvQyxXQUFXN3JDLEVBQUUsRUFBRTt3Q0FDakJ5a0IsV0FBV25hLElBQUksR0FBRzt3Q0FDbEI7b0NBQ0Y7b0NBRUEsTUFBTXlLLE1BQU07Z0NBRWQsS0FBSztvQ0FDSDBQLFdBQVduYSxJQUFJLEdBQUc7b0NBQ2xCO2dDQUVGLEtBQUs7b0NBQ0htYSxXQUFXbmEsSUFBSSxHQUFHO29DQUNsQjtnQ0FFRixLQUFLO29DQUNIbWEsV0FBV3BhLElBQUksR0FBRztvQ0FDbEJvYSxXQUFXK0wsRUFBRSxHQUFHL0wsVUFBVSxDQUFDLFFBQVEsQ0FBQztvQ0FFcEN1bkIsV0FBVzV1QyxDQUFDLENBQUNxbkIsV0FBVytMLEVBQUU7Z0NBRTVCLEtBQUs7b0NBQ0gvTCxXQUFXcGEsSUFBSSxHQUFHO29DQUVsQjJoQyxXQUFXbC9CLENBQUM7b0NBRVosT0FBTzJYLFdBQVdxbkIsTUFBTSxDQUFDO2dDQUUzQixLQUFLO29DQUNIcm5CLFdBQVduYSxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMFAsS0FBSyxDQUFDLElBQUksQ0FBQ2hGLE9BQU8sR0FBRyxVQUFVO3dDQUN6Q3VhLE9BQU9BO29DQUNUO2dDQUVGLEtBQUs7b0NBQ0gsT0FBTzlLLFdBQVdsYSxNQUFNLENBQUMsVUFBVWthLFdBQVdoUSxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dRLFdBQVc3WixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMFosV0FBVyxJQUFJLEVBQUU7d0JBQUM7NEJBQUM7NEJBQUc7NEJBQUk7NEJBQUk7eUJBQUc7cUJBQUM7Z0JBQ3ZDO2dCQUVBLFNBQVN1aEIsbUJBQW1CdGdCLElBQUk7b0JBQzlCLE9BQU93bUIsb0JBQW9CbHRDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN6QztnQkFFQSxPQUFPNm1DO1lBQ1Q7UUFDRjtRQUFHO1lBQ0QxbUMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJZ3BDLGNBQWN0eEMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzRwQixVQUFVN2UsTUFBTSxFQUFFd04sTUFBTTtvQkFDMUcsT0FBT3ZZLHNFQUF3QixDQUFDLFNBQVM2cEIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVd6YSxJQUFJLEdBQUd5YSxXQUFXeGEsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHdhLFdBQVd4YSxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDbU0sTUFBTSxDQUFDLElBQUksQ0FBQ3pCLE9BQU8sR0FBRyxVQUFVdk4sTUFBTSxDQUFDMUIsU0FBU3dOO2dDQUU5RCxLQUFLO29DQUNILE9BQU91UixXQUFXdmEsTUFBTSxDQUFDLFVBQVV1YSxXQUFXclEsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9xUSxXQUFXbGEsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2dhLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU3VuQixXQUFXbGtCLElBQUksRUFBRU8sSUFBSTtvQkFDNUIsT0FBTzBqQixZQUFZcnRDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNqQztnQkFFQSxPQUFPbXRDO1lBQ1Q7UUFTRjtRQUFHO1lBQ0RodEMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJa3BDLGdCQUFnQnh4Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTa3FCLFVBQVVtbkIsUUFBUTtvQkFDdEcsT0FBT3J4QyxzRUFBd0IsQ0FBQyxTQUFTb3FCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXaGIsSUFBSSxHQUFHZ2IsV0FBVy9hLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0grYSxXQUFXL2EsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsa0JBQWtCO3dDQUNoRHEzQixVQUFVQTtvQ0FDWjtnQ0FFRixLQUFLO29DQUNILE9BQU9obkIsV0FBVzlhLE1BQU0sQ0FBQyxVQUFVOGEsV0FBVzVRLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPNFEsV0FBV3phLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdzYSxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNvbkIsYUFBYTdqQixJQUFJO29CQUN4QixPQUFPMmpCLGNBQWN2dEMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ25DO2dCQUVBLE9BQU9zdEM7WUFDVDtRQVVGO1FBQUc7WUFDRG50QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlxcEMsa0JBQWtCM3hDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM4ckIsVUFBVS9nQixNQUFNLEVBQUVzTyxPQUFPO29CQUMvRyxPQUFPclosc0VBQXdCLENBQUMsU0FBU3VzQixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV25kLElBQUksR0FBR21kLFdBQVdsZCxJQUFJO2dDQUN2QyxLQUFLO29DQUNIa2QsV0FBV2xkLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLFVBQVV2TixNQUFNLENBQUMxQixRQUFRLGdCQUFnQms0QixjQUFjLENBQUMsR0FBRzVwQjtnQ0FFN0YsS0FBSztvQ0FDSCxPQUFPbVQsV0FBV2pkLE1BQU0sQ0FBQyxVQUFVaWQsV0FBVy9TLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPK1MsV0FBVzVjLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdrYyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVMwbEIsZUFBZTFpQixJQUFJLEVBQUVNLElBQUk7b0JBQ2hDLE9BQU9taUIsZ0JBQWdCMXRDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNyQztnQkFFQSxPQUFPd3RDO1lBQ1Q7UUFVRjtRQUFHO1lBQ0RydEMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJdXBDLG1CQUFtQjd4Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTbXRCLFVBQVVra0IsUUFBUSxFQUFFaDRCLE9BQU87b0JBQ2xILE9BQU9yWixzRUFBd0IsQ0FBQyxTQUFTcXRCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXamUsSUFBSSxHQUFHaWUsV0FBV2hlLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0hnZSxXQUFXaGUsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcscUJBQXFCaXBCLGNBQWM7d0NBQ2pFb08sVUFBVUE7b0NBQ1osR0FBR2g0QjtnQ0FFTCxLQUFLO29DQUNILE9BQU9pVSxXQUFXL2QsTUFBTSxDQUFDLFVBQVUrZCxXQUFXN1QsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU82VCxXQUFXMWQsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR3VkLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU3VrQixnQkFBZ0JyaUIsSUFBSSxFQUFFTSxJQUFJO29CQUNqQyxPQUFPOGhCLGlCQUFpQjV0QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDdEM7Z0JBRUEsT0FBTzB0QztZQUNUO1FBVUY7UUFBRztZQUNEdnRDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXlwQyxrQkFBa0IveEMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzJ0QixVQUFVNWlCLE1BQU0sRUFBRXNPLE9BQU87b0JBQy9HLE9BQU9yWixzRUFBd0IsQ0FBQyxTQUFTK3RCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXM2UsSUFBSSxHQUFHMmUsV0FBVzFlLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gwZSxXQUFXMWUsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsVUFBVXZOLE1BQU0sQ0FBQzFCLFFBQVEsZ0JBQWdCazRCLGNBQWMsQ0FBQyxHQUFHNXBCO2dDQUU3RixLQUFLO29DQUNILE9BQU8yVSxXQUFXemUsTUFBTSxDQUFDLFVBQVV5ZSxXQUFXdlUsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU91VSxXQUFXcGUsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRytkLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU2lrQixlQUFlM2hCLElBQUksRUFBRTRoQixJQUFJO29CQUNoQyxPQUFPRixnQkFBZ0I5dEMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3JDO2dCQUVBLE9BQU80dEM7WUFDVDtRQVVGO1FBQUc7WUFDRHp0QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUk0cEMsbUJBQW1CbHlDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNvdUIsVUFBVWlqQixRQUFRLEVBQUVoNEIsT0FBTztvQkFDbEgsT0FBT3JaLHNFQUF3QixDQUFDLFNBQVNzdUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsZixJQUFJLEdBQUdrZixXQUFXamYsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSGlmLFdBQVdqZixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxxQkFBcUJpcEIsY0FBYzt3Q0FDakVvTyxVQUFVQTtvQ0FDWixHQUFHaDRCO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT2tWLFdBQVdoZixNQUFNLENBQUMsVUFBVWdmLFdBQVc5VSxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzhVLFdBQVczZSxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHd2UsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTMmpCLGdCQUFnQkMsSUFBSSxFQUFFQyxJQUFJO29CQUNqQyxPQUFPSCxpQkFBaUJqdUMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3RDO2dCQUVBLE9BQU8rdEM7WUFDVDtRQUNGO1FBQUc7WUFDRDV0QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlncUMsY0FBY3R5Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTMHVCLFVBQVUzakIsTUFBTSxFQUFFc08sT0FBTztvQkFDM0csT0FBT3JaLHNFQUF3QixDQUFDLFNBQVMydUIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVd2ZixJQUFJLEdBQUd1ZixXQUFXdGYsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHNmLFdBQVd0ZixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxVQUFVdk4sTUFBTSxDQUFDMUIsUUFBUSxZQUFZazRCLGNBQWMsQ0FBQyxHQUFHNXBCO2dDQUV4RixLQUFLO29DQUNILE9BQU91VixXQUFXcmYsTUFBTSxDQUFDLFVBQVVxZixXQUFXblYsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9tVixXQUFXaGYsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzhlLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU3lqQixXQUFXQyxJQUFJLEVBQUVDLElBQUk7b0JBQzVCLE9BQU9ILFlBQVlydUMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ2pDO2dCQUVBLE9BQU9tdUM7WUFDVDtRQVFGO1FBQUc7WUFDRGh1QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlnbEIsV0FBV3R0Qiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTZ3ZCLFVBQVU1QixZQUFZLEVBQUUvVCxPQUFPO29CQUM5RyxPQUFPclosc0VBQXdCLENBQUMsU0FBU2l2QixXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzdmLElBQUksR0FBRzZmLFdBQVc1ZixJQUFJO2dDQUN2QyxLQUFLO29DQUNINGYsV0FBVzVmLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLG1CQUFtQmlwQixjQUFjO3dDQUMvRHFQLGdCQUFnQmxsQjtvQ0FDbEIsR0FBRy9UO2dDQUVMLEtBQUs7b0NBQ0gsT0FBTzZWLFdBQVczZixNQUFNLENBQUMsVUFBVTJmLFdBQVd6VixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3lWLFdBQVd0ZixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHb2YsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTekIsUUFBUWdsQixJQUFJLEVBQUVDLElBQUk7b0JBQ3pCLE9BQU90bEIsU0FBU3JwQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDOUI7Z0JBRUEsT0FBT3VwQjtZQUNUO1FBUUY7UUFBRztZQUNEcHBCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXVtQixhQUFhN3VCLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN1dkIsVUFBVW5DLFlBQVksRUFBRS9ULE9BQU87b0JBQ2hILE9BQU9yWixzRUFBd0IsQ0FBQyxTQUFTd3ZCLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXcGdCLElBQUksR0FBR29nQixXQUFXbmdCLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0htZ0IsV0FBV25nQixJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDbU0sTUFBTSxDQUFDLElBQUksQ0FBQ3pCLE9BQU8sR0FBRyxtQkFBbUJpcEIsY0FBYzt3Q0FDakVxUCxnQkFBZ0JsbEI7b0NBQ2xCLEdBQUcvVDtnQ0FFTCxLQUFLO29DQUNILE9BQU9vVyxXQUFXbGdCLE1BQU0sQ0FBQyxVQUFVa2dCLFdBQVdoVyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dXLFdBQVc3ZixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMmYsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTVixVQUFVNGpCLElBQUksRUFBRUMsSUFBSTtvQkFDM0IsT0FBT2prQixXQUFXNXFCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNoQztnQkFFQSxPQUFPNnFCO1lBQ1Q7UUFRRjtRQUFHO1lBQ0QxcUIsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJNm1CLGFBQWFudkIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzZ2QixVQUFVekMsWUFBWSxFQUFFL1QsT0FBTztvQkFDaEgsT0FBT3JaLHNFQUF3QixDQUFDLFNBQVM4dkIsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVcxZ0IsSUFBSSxHQUFHMGdCLFdBQVd6Z0IsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHlnQixXQUFXemdCLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUNpZSxPQUFPLENBQUNILGNBQWM2VixjQUFjO3dDQUM5Qy9QLFFBQVE7b0NBQ1YsR0FBRzdaO2dDQUVMLEtBQUs7b0NBQ0gsT0FBTzBXLFdBQVd4Z0IsTUFBTSxDQUFDLFVBQVV3Z0IsV0FBV3RXLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPc1csV0FBV25nQixJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHaWdCLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU1YsVUFBVXdqQixJQUFJLEVBQUVDLElBQUk7b0JBQzNCLE9BQU83akIsV0FBV2xyQixLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDaEM7Z0JBRUEsT0FBT21yQjtZQUNUO1FBUUY7UUFBRztZQUNEaHJCLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSW9uQixtQkFBbUIxdkIsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzZ5QyxVQUFVemxCLFlBQVksRUFBRS9ULE9BQU87b0JBQ3RILE9BQU9yWixzRUFBd0IsQ0FBQyxTQUFTOHlDLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXMWpDLElBQUksR0FBRzBqQyxXQUFXempDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h5akMsV0FBV3pqQyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDdWYsU0FBUyxDQUFDekIsY0FBYzZWLGNBQWM7d0NBQ2hEL1AsUUFBUTtvQ0FDVixHQUFHN1o7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPMDVCLFdBQVd4akMsTUFBTSxDQUFDLFVBQVV3akMsV0FBV3Q1QixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3M1QixXQUFXbmpDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdpakMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTbmpCLGdCQUFnQnNqQixJQUFJLEVBQUVDLElBQUk7b0JBQ2pDLE9BQU8zakIsaUJBQWlCenJCLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN0QztnQkFFQSxPQUFPMHJCO1lBQ1Q7UUFTRjtRQUFHO1lBQ0R2ckIsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJZ3JDLFlBQVl0ekMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU216QyxVQUFVQyxRQUFRLEVBQUVyb0MsTUFBTTtvQkFDMUcsSUFBSXNPLFNBQ0FnNkIsVUFBVXJ2QztvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU3N6QyxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV2xrQyxJQUFJLEdBQUdra0MsV0FBV2prQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVWc2QixRQUFRaHlDLE1BQU0sR0FBRyxLQUFLZ3lDLE9BQU8sQ0FBQyxFQUFFLEtBQUt4dEMsWUFBWXd0QyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXamtDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLG9CQUFvQmlwQixjQUFjQSxjQUFjO3dDQUM5RXVRLFdBQVdKO29DQUNiLEdBQUdyb0MsU0FBUzt3Q0FDVkMsU0FBU0Q7b0NBQ1gsSUFBSSxDQUFDLElBQUlzTztnQ0FFWCxLQUFLO29DQUNILE9BQU9rNkIsV0FBV2hrQyxNQUFNLENBQUMsVUFBVWdrQyxXQUFXOTVCLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPODVCLFdBQVczakMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR3VqQyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNNLFNBQVNDLElBQUksRUFBRUMsSUFBSTtvQkFDMUIsT0FBT1QsVUFBVXJ2QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDL0I7Z0JBRUEsT0FBT3l2QztZQUNUO1FBUUY7UUFBRztZQUNEdHZDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTByQyxjQUFjaDBDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2ekMsVUFBVVQsUUFBUSxFQUFFVSxhQUFhO29CQUNuSCxPQUFPOXpDLHNFQUF3QixDQUFDLFNBQVMrekMsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVcza0MsSUFBSSxHQUFHMmtDLFdBQVcxa0MsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSDBrQyxXQUFXMWtDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLHNCQUFzQmlwQixjQUFjO3dDQUNsRXVRLFdBQVdKO29DQUNiLEdBQUdVLGdCQUFnQjt3Q0FDakI5b0MsU0FBUzhvQztvQ0FDWCxJQUFJLENBQUM7Z0NBRVAsS0FBSztvQ0FDSCxPQUFPRSxXQUFXemtDLE1BQU0sQ0FBQyxVQUFVeWtDLFdBQVd2NkIsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU91NkIsV0FBV3BrQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHaWtDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksV0FBV0MsSUFBSSxFQUFFQyxJQUFJO29CQUM1QixPQUFPUCxZQUFZL3ZDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNqQztnQkFFQSxPQUFPaXdDO1lBQ1Q7UUFPRjtRQUFHO1lBQ0Q5dkMsS0FBSztZQUNMK0QsT0FBTyxTQUFTbWpCLGVBQWUrbkIsUUFBUTtnQkFDckMsSUFBSSxDQUFDLElBQUksQ0FBQ2x1QyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUN5WCxTQUFTLEVBQUU7b0JBQ2pDLE1BQU0sSUFBSTVDLE1BQU07Z0JBQ2xCO2dCQUVBLElBQUssSUFBSXRYLElBQUksR0FBR0EsSUFBSSxJQUFJLENBQUN5RSxVQUFVLENBQUM3RixNQUFNLEVBQUVvQixLQUFLLEVBQUc7b0JBQ2xELElBQUksSUFBSSxDQUFDeUUsVUFBVSxDQUFDekUsRUFBRSxDQUFDc0IsTUFBTSxDQUFDaUIsRUFBRSxLQUFLb3VDLFVBQVUsT0FBTztnQkFDeEQ7Z0JBRUEsT0FBTztZQUNUO1FBUUY7UUFBRztZQUNEanZDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWtzQyxlQUFleDBDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNxMEMsVUFBVUMsZUFBZTtvQkFDNUcsSUFBSWo3QixTQUNBazdCLFVBQVV2d0M7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVN3MEMsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdwbEMsSUFBSSxHQUFHb2xDLFdBQVdubEMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVrN0IsUUFBUWx6QyxNQUFNLEdBQUcsS0FBS2t6QyxPQUFPLENBQUMsRUFBRSxLQUFLMXVDLFlBQVkwdUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBV25sQyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxvQkFBb0JpcEIsY0FBYzt3Q0FDaEV5UixtQkFBbUJKO29DQUNyQixHQUFHajdCO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT283QixXQUFXbGxDLE1BQU0sQ0FBQyxVQUFVa2xDLFdBQVdoN0IsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9nN0IsV0FBVzdrQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHeWtDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU00sWUFBWUMsSUFBSTtvQkFDdkIsT0FBT1IsYUFBYXZ3QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDbEM7Z0JBRUEsT0FBTzJ3QztZQUNUO1FBUUY7UUFBRztZQUNEeHdDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTJzQyxZQUFZajFDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM4MEMsVUFBVTFCLFFBQVE7b0JBQ2xHLElBQUkvNUIsU0FDQTA3QixVQUFVL3dDO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTZzFDLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXNWxDLElBQUksR0FBRzRsQyxXQUFXM2xDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0grSixVQUFVMDdCLFFBQVExekMsTUFBTSxHQUFHLEtBQUswekMsT0FBTyxDQUFDLEVBQUUsS0FBS2x2QyxZQUFZa3ZDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDekVFLFdBQVczbEMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsb0JBQW9CaXBCLGNBQWM7d0NBQ2hFcVAsZ0JBQWdCYztvQ0FDbEIsR0FBRy81QjtnQ0FFTCxLQUFLO29DQUNILE9BQU80N0IsV0FBVzFsQyxNQUFNLENBQUMsVUFBVTBsQyxXQUFXeDdCLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPdzdCLFdBQVdybEMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2tsQyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJLFNBQVNDLElBQUk7b0JBQ3BCLE9BQU9OLFVBQVVoeEMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQy9CO2dCQUVBLE9BQU9reEM7WUFDVDtRQVFGO1FBQUc7WUFDRC93QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlrdEMsaUJBQWlCeDFDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNxMUMsVUFBVWYsZUFBZTtvQkFDOUcsSUFBSWo3QixTQUNBaThCLFVBQVV0eEM7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVN1MUMsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdubUMsSUFBSSxHQUFHbW1DLFdBQVdsbUMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVpOEIsUUFBUWowQyxNQUFNLEdBQUcsS0FBS2kwQyxPQUFPLENBQUMsRUFBRSxLQUFLenZDLFlBQVl5dkMsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBV2xtQyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxzQkFBc0JpcEIsY0FBYzt3Q0FDbEV5UixtQkFBbUJKO29DQUNyQixHQUFHajdCO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT204QixXQUFXam1DLE1BQU0sQ0FBQyxVQUFVaW1DLFdBQVcvN0IsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU8rN0IsV0FBVzVsQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHeWxDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksY0FBY0MsSUFBSTtvQkFDekIsT0FBT04sZUFBZXZ4QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDcEM7Z0JBRUEsT0FBT3l4QztZQUNUO1FBUUY7UUFBRztZQUNEdHhDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXl0QyxjQUFjLzFDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM0MUMsVUFBVXhDLFFBQVE7b0JBQ3BHLElBQUkvNUIsU0FDQXc4QixVQUFVN3hDO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTODFDLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXMW1DLElBQUksR0FBRzBtQyxXQUFXem1DLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0grSixVQUFVdzhCLFFBQVF4MEMsTUFBTSxHQUFHLEtBQUt3MEMsT0FBTyxDQUFDLEVBQUUsS0FBS2h3QyxZQUFZZ3dDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDekVFLFdBQVd6bUMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsc0JBQXNCaXBCLGNBQWM7d0NBQ2xFcVAsZ0JBQWdCYztvQ0FDbEIsR0FBRy81QjtnQ0FFTCxLQUFLO29DQUNILE9BQU8wOEIsV0FBV3htQyxNQUFNLENBQUMsVUFBVXdtQyxXQUFXdDhCLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPczhCLFdBQVdubUMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2dtQyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJLFdBQVdDLElBQUk7b0JBQ3RCLE9BQU9OLFlBQVk5eEMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ2pDO2dCQUVBLE9BQU9neUM7WUFDVDtRQVNGO1FBQUc7WUFDRDd4QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlndUMsZ0JBQWdCdDJDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNtMkMsVUFBVUMsTUFBTTtvQkFDcEcsSUFBSS84QixTQUNBZzlCLFVBQVVyeUM7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNzMkMsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsbkMsSUFBSSxHQUFHa25DLFdBQVdqbkMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVnOUIsUUFBUWgxQyxNQUFNLEdBQUcsS0FBS2cxQyxPQUFPLENBQUMsRUFBRSxLQUFLeHdDLFlBQVl3d0MsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBV2puQyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxVQUFVdk4sTUFBTSxDQUFDMnBDLFNBQVNuVCxjQUFjLENBQUMsR0FBRzVwQjtnQ0FFOUUsS0FBSztvQ0FDSCxPQUFPazlCLFdBQVdobkMsTUFBTSxDQUFDLFVBQVVnbkMsV0FBVzk4QixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzg4QixXQUFXM21DLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUd1bUMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSyxhQUFhQyxJQUFJO29CQUN4QixPQUFPUCxjQUFjcnlDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNuQztnQkFFQSxPQUFPd3lDO1lBQ1Q7UUFlRjtRQUFHO1lBQ0RyeUMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJd3VDLGVBQWU5MkMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzIyQztvQkFDbkYsSUFBSTM1QixrQkFDQTNELFNBQ0F1OUIsVUFBVTV5QztvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUzYyQyxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3puQyxJQUFJLEdBQUd5bkMsV0FBV3huQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIME4sbUJBQW1CNDVCLFFBQVF2MUMsTUFBTSxHQUFHLEtBQUt1MUMsT0FBTyxDQUFDLEVBQUUsS0FBSy93QyxZQUFZK3dDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDbEZ2OUIsVUFBVXU5QixRQUFRdjFDLE1BQU0sR0FBRyxLQUFLdTFDLE9BQU8sQ0FBQyxFQUFFLEtBQUsvd0MsWUFBWSt3QyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXeG5DLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLHFCQUFxQmlwQixjQUFjO3dDQUNqRXhtQixtQkFBbUJPO29DQUNyQixHQUFHM0Q7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPeTlCLFdBQVd2bkMsTUFBTSxDQUFDLFVBQVV1bkMsV0FBV3I5QixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3E5QixXQUFXbG5DLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcrbUMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSTtvQkFDUCxPQUFPTCxhQUFhN3lDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNsQztnQkFFQSxPQUFPK3lDO1lBQ1Q7UUFlRjtRQUFHO1lBQ0Q1eUMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJOHVDLHFCQUFxQnAzQyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTaTNDO29CQUN6RixJQUFJajZCLGtCQUNBM0QsU0FDQTY5QixVQUFVbHpDO29CQUNkLE9BQU9oRSxzRUFBd0IsQ0FBQyxTQUFTbTNDLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXL25DLElBQUksR0FBRytuQyxXQUFXOW5DLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gwTixtQkFBbUJrNkIsUUFBUTcxQyxNQUFNLEdBQUcsS0FBSzYxQyxPQUFPLENBQUMsRUFBRSxLQUFLcnhDLFlBQVlxeEMsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUNsRjc5QixVQUFVNjlCLFFBQVE3MUMsTUFBTSxHQUFHLEtBQUs2MUMsT0FBTyxDQUFDLEVBQUUsS0FBS3J4QyxZQUFZcXhDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQztvQ0FDekVFLFdBQVc5bkMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsdUJBQXVCaXBCLGNBQWM7d0NBQ25FeG1CLG1CQUFtQk87b0NBQ3JCLEdBQUczRDtnQ0FFTCxLQUFLO29DQUNILE9BQU8rOUIsV0FBVzduQyxNQUFNLENBQUMsVUFBVTZuQyxXQUFXMzlCLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPMjlCLFdBQVd4bkMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR3FuQyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJO29CQUNQLE9BQU9MLG1CQUFtQm56QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDeEM7Z0JBRUEsT0FBT3F6QztZQUNUO1FBZ0JGO1FBQUc7WUFDRGx6QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlvdkMscUJBQXFCMTNDLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN1M0MsVUFBVXZ5QyxFQUFFLEVBQUV3eUMsWUFBWTtvQkFDbkgsSUFBSW4rQixTQUNBbytCLFVBQVV6ekM7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVMwM0MsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVd0b0MsSUFBSSxHQUFHc29DLFdBQVdyb0MsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVvK0IsUUFBUXAyQyxNQUFNLEdBQUcsS0FBS28yQyxPQUFPLENBQUMsRUFBRSxLQUFLNXhDLFlBQVk0eEMsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBV3JvQyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMFAsS0FBSyxDQUFDLElBQUksQ0FBQ2hGLE9BQU8sR0FBRyx1QkFBdUJ2TixNQUFNLENBQUN6SCxLQUFLaStCLGNBQWM7d0NBQ2hGMlUsZUFBZUo7b0NBQ2pCLEdBQUduK0I7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPcytCLFdBQVdwb0MsTUFBTSxDQUFDLFVBQVVvb0MsV0FBV2wrQixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2srQixXQUFXL25DLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcybkMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTTSxrQkFBa0JDLElBQUksRUFBRUMsSUFBSTtvQkFDbkMsT0FBT1QsbUJBQW1CenpDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN4QztnQkFFQSxPQUFPNnpDO1lBQ1Q7UUFVRjtRQUFHO1lBQ0QxekMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJOHZDLGtCQUFrQnA0Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTaTRDLFVBQVUzRCxlQUFlO29CQUMvRyxJQUFJajdCLFNBQ0E2K0IsVUFBVWwwQztvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU200QyxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVy9vQyxJQUFJLEdBQUcrb0MsV0FBVzlvQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVTYrQixRQUFRNzJDLE1BQU0sR0FBRyxLQUFLNjJDLE9BQU8sQ0FBQyxFQUFFLEtBQUtyeUMsWUFBWXF5QyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXOW9DLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLCtCQUErQmlwQixjQUFjO3dDQUMzRXlSLG1CQUFtQko7b0NBQ3JCLEdBQUdqN0I7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPKytCLFdBQVc3b0MsTUFBTSxDQUFDLFVBQVU2b0MsV0FBVzMrQixJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzIrQixXQUFXeG9DLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdxb0MsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTdlAsZUFBZTJQLElBQUk7b0JBQzFCLE9BQU9MLGdCQUFnQm4wQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDckM7Z0JBRUEsT0FBTzBrQztZQUNULElBQUksb0NBQW9DO1FBRTFDO1FBQUc7WUFDRHZrQyxLQUFLO1lBQ0wrRCxPQUNBOzs7Ozs7O0tBT0MsR0FDRDtnQkFDRSxJQUFJb3dDLG9CQUFvQjE0Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTdTRDO29CQUN4RixJQUFJejJDLE1BQ0EwMkMsVUFBVXgwQztvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU3k0QyxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3JwQyxJQUFJLEdBQUdxcEMsV0FBV3BwQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIeE4sT0FBTzAyQyxRQUFRbjNDLE1BQU0sR0FBRyxLQUFLbTNDLE9BQU8sQ0FBQyxFQUFFLEtBQUszeUMsWUFBWTJ5QyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3RFRSxXQUFXcHBDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLGtCQUFrQmlwQixjQUFjLENBQUMsR0FBR25oQztnQ0FFdEUsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU80MkMsV0FBVzlvQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMm9DLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBUzVQO29CQUNQLE9BQU8yUCxrQkFBa0J6MEMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3ZDO2dCQUVBLE9BQU8ya0M7WUFDVDtRQUNGO1FBQUc7WUFDRHhrQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVN5d0MsY0FBYzcyQyxJQUFJO2dCQUNoQyxPQUFPLElBQUksQ0FBQ21aLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsYUFBYWxZO1lBQy9DO1FBQ0Y7UUFBRztZQUNEcUMsS0FBSztZQUNMK0QsT0FBTyxTQUFTMHdDLFdBQVdobUMsSUFBSTtnQkFDN0IsT0FBTyxJQUFJLENBQUNsTCxHQUFHLENBQUMsSUFBSSxDQUFDc1MsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUNtRztZQUNyRDtRQUNGO1FBQUc7WUFDRHpPLEtBQUs7WUFDTCtELE9BQU8sU0FBUzJ3QyxjQUFjam1DLElBQUksRUFBRTlRLElBQUk7Z0JBQ3RDLE9BQU8sSUFBSSxDQUFDbWtDLEdBQUcsQ0FBQyxJQUFJLENBQUNqc0IsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUNtRyxPQUFPOVE7WUFDNUQ7UUFDRjtRQUFHO1lBQ0RxQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVM0d0MsY0FBY2xtQyxJQUFJO2dCQUNoQyxPQUFPLElBQUksQ0FBQzZJLE1BQU0sQ0FBQyxJQUFJLENBQUN6QixPQUFPLEdBQUcsYUFBYXZOLE1BQU0sQ0FBQ21HO1lBQ3hEO1FBQ0Y7UUFBRztZQUNEek8sS0FBSztZQUNMK0QsT0FBTyxTQUFTNndDO2dCQUNkLE9BQU8sSUFBSSxDQUFDcnhDLEdBQUcsQ0FBQyxJQUFJLENBQUNzUyxPQUFPLEdBQUc7WUFDakM7UUFDRjtRQUFHO1lBQ0Q3VixLQUFLO1lBQ0wrRCxPQUFPLFNBQVM4d0Msa0JBQWtCbDNDLElBQUk7Z0JBQ3BDLElBQUlzYyxjQUFjNWUscUVBQVFBLENBQUMsQ0FBQyxHQUFHO29CQUM3Qnk1QyxVQUFVO3dCQUFDO3FCQUFNO2dCQUNuQixHQUFHbjNDO2dCQUVILE9BQU8sSUFBSSxDQUFDbVosSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxpQkFBaUJvRTtZQUNuRDtRQUNGO1FBQUc7WUFDRGphLEtBQUs7WUFDTCtELE9BQU8sU0FBU2d4QyxlQUFlalIsV0FBVztnQkFDeEMsT0FBTyxJQUFJLENBQUN2Z0MsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxpQkFBaUJ2TixNQUFNLENBQUN3N0I7WUFDekQ7UUFDRjtRQUFHO1lBQ0Q5akMsS0FBSztZQUNMK0QsT0FBTyxTQUFTaXhDLGtCQUFrQmxSLFdBQVcsRUFBRW5tQyxJQUFJO2dCQUNqRCxPQUFPLElBQUksQ0FBQ21rQyxHQUFHLENBQUMsSUFBSSxDQUFDanNCLE9BQU8sR0FBRyxpQkFBaUJ2TixNQUFNLENBQUN3N0IsY0FBY25tQztZQUN2RTtRQUNGO1FBQUc7WUFDRHFDLEtBQUs7WUFDTCtELE9BQU8sU0FBU2t4QyxrQkFBa0JuUixXQUFXO2dCQUMzQyxPQUFPLElBQUksQ0FBQ3hzQixNQUFNLENBQUMsSUFBSSxDQUFDekIsT0FBTyxHQUFHLGlCQUFpQnZOLE1BQU0sQ0FBQ3c3QjtZQUM1RDtRQUNGO1FBQUc7WUFDRDlqQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNteEM7Z0JBQ2QsT0FBTyxJQUFJLENBQUMzeEMsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRztZQUNqQztRQVVGO1FBQUc7WUFDRDdWLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSW94QyxvQkFBb0IxNUMsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3U1QyxVQUFVN3FDLFNBQVMsRUFBRThxQyxRQUFRO29CQUNySCxPQUFPeDVDLHNFQUF3QixDQUFDLFNBQVN5NUMsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdycUMsSUFBSSxHQUFHcXFDLFdBQVdwcUMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSG9xQyxXQUFXcHFDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUNpQyxXQUFXLGVBQWU7d0NBQzVFOHFDLFVBQVVBO29DQUNaO2dDQUVGLEtBQUs7b0NBQ0gsT0FBT0UsV0FBV25xQyxNQUFNLENBQUMsVUFBVW1xQyxXQUFXamdDLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPaWdDLFdBQVc5cEMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzJwQyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJLGlCQUFpQkMsSUFBSSxFQUFFQyxJQUFJO29CQUNsQyxPQUFPUCxrQkFBa0J6MUMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3ZDO2dCQUVBLE9BQU8yMUM7WUFDVDtRQU1GO1FBQUc7WUFDRHgxQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVM0eEMscUJBQXFCQyx1QkFBdUI7Z0JBQzFELElBQUlDLGFBQWE7Z0JBRWpCLElBQUksT0FBT0QsNEJBQTRCLFVBQVU7b0JBQy9DLElBQUlsc0MsTUFBTSxJQUFJcEc7b0JBQ2RvRyxJQUFJb3NDLFVBQVUsQ0FBQ3BzQyxJQUFJcXNDLFVBQVUsS0FBS0g7b0JBQ2xDQyxhQUFhbnNDLElBQUlwQyxXQUFXO2dCQUM5QixPQUFPLElBQUl5M0IsU0FBUzZXLDBCQUEwQjtvQkFDNUNDLGFBQWFEO2dCQUNmLE9BQU8sSUFBSUEsbUNBQW1DdHlDLE1BQU07b0JBQ2xEdXlDLGFBQWFELHdCQUF3QnR1QyxXQUFXO2dCQUNsRDtnQkFFQSxPQUFPdXVDO1lBQ1Q7UUFPRjtRQUFHO1lBQ0Q3MUMsS0FBSztZQUNMK0QsT0FBTyxTQUFTaXlDLHlCQUF5QkMsa0JBQWtCLEVBQUVDLFNBQVM7Z0JBQ3BFLElBQUkzckM7Z0JBRUosSUFBSSxPQUFPMHJDLHVCQUF1QixVQUFVO29CQUMxQzFyQyxZQUFZMHJDO2dCQUNkLE9BQU87b0JBQ0wsSUFBSSxDQUFDQSxtQkFBbUJwMUMsRUFBRSxFQUFFO3dCQUMxQixNQUFNK1UsTUFBTXNnQztvQkFDZDtvQkFFQTNyQyxZQUFZMHJDLG1CQUFtQnAxQyxFQUFFO2dCQUNuQztnQkFFQSxPQUFPMEo7WUFDVDtRQVNGO1FBQUc7WUFDRHZLLEtBQUs7WUFDTCtELE9BQU8sU0FBU295QyxXQUFXRixrQkFBa0IsRUFBRUwsdUJBQXVCLEVBQUVRLFFBQVEsRUFBRUMsUUFBUTtnQkFDeEYsSUFBSTlyQyxZQUFZLElBQUksQ0FBQ3lyQyx3QkFBd0IsQ0FBQ0Msb0JBQW9CO2dCQUVsRSxPQUFPLElBQUksQ0FBQ0ssb0JBQW9CLENBQUMvckMsV0FBVztvQkFDMUNsSixLQUFLO3dCQUNIdUcsUUFBUTt3QkFDUjJ1QyxhQUFhLElBQUksQ0FBQ1osb0JBQW9CLENBQUNDO3dCQUN2Q254QyxXQUFXLElBQUksQ0FBQ2t4QyxvQkFBb0IsQ0FBQ1U7b0JBQ3ZDO2dCQUNGLEdBQUdEO1lBQ0w7UUFPRjtRQUFHO1lBQ0RwMkMsS0FBSztZQUNMK0QsT0FBTyxTQUFTeXlDLGFBQWFQLGtCQUFrQixFQUFFeHNCLE1BQU07Z0JBQ3JELElBQUlsZixZQUFZLElBQUksQ0FBQ3lyQyx3QkFBd0IsQ0FBQ0Msb0JBQW9CO2dCQUVsRSxPQUFPLElBQUksQ0FBQ0ssb0JBQW9CLENBQUMvckMsV0FBVztvQkFDMUNsSixLQUFLO3dCQUNIdUcsUUFBUTtvQkFDVjtnQkFDRixHQUFHNmhCO1lBQ0w7UUFXRjtRQUFHO1lBQ0R6cEIsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJeUMsaUJBQWlCL0ssOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzQ2QyxVQUFVNzFDLE9BQU8sRUFBRTZvQixNQUFNLEVBQUV2VSxPQUFPO29CQUN2SCxJQUFJd2hDLGVBQWVDO29CQUNuQixPQUFPOTZDLHNFQUF3QixDQUFDLFNBQVMrNkMsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVczckMsSUFBSSxHQUFHMnJDLFdBQVcxckMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCxJQUFJdkssUUFBUUMsRUFBRSxFQUFFO3dDQUNkZzJDLFdBQVcxckMsSUFBSSxHQUFHO3dDQUNsQjtvQ0FDRjtvQ0FFQSxNQUFNeUssTUFBTTtnQ0FFZCxLQUFLO29DQUNIOGdDLGdCQUFnQnI3QyxxRUFBUUEsQ0FBQyxDQUFDLEdBQUd1RjtvQ0FDN0IsT0FBTzgxQyxjQUFjNzFDLEVBQUU7b0NBQ3ZCODFDLHdCQUF3Qjt3Q0FBQzt3Q0FBVzt3Q0FBYzt3Q0FBUTt3Q0FBb0I7d0NBQWlCO3dDQUFrQjt3Q0FBbUI7d0NBQWU7d0NBQVE7d0NBQWM7d0NBQVE7cUNBQVM7b0NBQzFMQSxzQkFBc0I1MkMsT0FBTyxDQUFDLFNBQVUrRyxJQUFJO3dDQUMxQyxJQUFJNHZDLGFBQWEsQ0FBQzV2QyxLQUFLLElBQUksTUFBTTs0Q0FDL0IsT0FBTzR2QyxhQUFhLENBQUM1dkMsS0FBSzt3Q0FDNUI7b0NBQ0Y7b0NBRUEsSUFBSTJpQixVQUFVLE1BQU07d0NBQ2xCLElBQUlzVixTQUFTdFYsU0FBUzs0Q0FDcEJpdEIsY0FBYzd2QyxPQUFPLEdBQUc0aUI7d0NBQzFCLE9BQU87NENBQ0xpdEIsY0FBYzMxQyxJQUFJLEdBQUc7Z0RBQ25CRixJQUFJNG9CLE9BQU81b0IsRUFBRTs0Q0FDZjt3Q0FDRjtvQ0FDRjtvQ0FDQTs7O2lCQUdDLEdBR0QsSUFBSXNNLE1BQU1DLE9BQU8sQ0FBQ3NwQyxjQUFjejBDLGVBQWUsS0FBSyxDQUFDODhCLFNBQVMyWCxjQUFjejBDLGVBQWUsQ0FBQyxFQUFFLEdBQUc7d0NBQy9GeTBDLGNBQWN6MEMsZUFBZSxHQUFHeTBDLGNBQWN6MEMsZUFBZSxDQUFDbkYsR0FBRyxDQUFDLFNBQVVnNkMsRUFBRTs0Q0FDNUUsT0FBT0EsR0FBR2oyQyxFQUFFO3dDQUNkO29DQUNGO29DQUVBZzJDLFdBQVcxckMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsYUFBYXZOLE1BQU0sQ0FBQzFILFFBQVFDLEVBQUUsR0FBR2krQixjQUFjO3dDQUM3RWwrQixTQUFTODFDO29DQUNYLEdBQUd4aEM7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPMmhDLFdBQVd6ckMsTUFBTSxDQUFDLFVBQVV5ckMsV0FBV3ZoQyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3VoQyxXQUFXcHJDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdnckMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTdjhCLGNBQWM2OEIsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUk7b0JBQ3JDLE9BQU96d0MsZUFBZTlHLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNwQztnQkFFQSxPQUFPcWE7WUFDVDtRQWVGO1FBQUc7WUFDRGxhLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSW16Qyx3QkFBd0J6N0MsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3M3QyxVQUFVdDJDLEVBQUUsRUFBRXUyQyxvQkFBb0IsRUFBRTN0QixNQUFNLEVBQUV2VSxPQUFPO29CQUMvSSxJQUFJblU7b0JBQ0osT0FBT2xGLHNFQUF3QixDQUFDLFNBQVN3N0MsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdwc0MsSUFBSSxHQUFHb3NDLFdBQVduc0MsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCxJQUFJdEssSUFBSTt3Q0FDTnkyQyxXQUFXbnNDLElBQUksR0FBRzt3Q0FDbEI7b0NBQ0Y7b0NBRUEsTUFBTXlLLE1BQU07Z0NBRWQsS0FBSztvQ0FDSDdVLE9BQU8wb0I7b0NBRVAsSUFBSUEsVUFBVSxRQUFRc1YsU0FBU3RWLFNBQVM7d0NBQ3RDMW9CLE9BQU87NENBQ0xGLElBQUk0b0I7d0NBQ047b0NBQ0Y7b0NBRUE2dEIsV0FBV25zQyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMjJCLEdBQUcsQ0FBQyxJQUFJLENBQUNqc0IsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUN6SCxLQUFLaStCLGNBQWNBLGNBQWNBLGNBQWMsQ0FBQyxHQUFHc1ksdUJBQXVCbGlDLFVBQVUsQ0FBQyxHQUFHO3dDQUN6SW5VLE1BQU1BO29DQUNSO2dDQUVGLEtBQUs7b0NBQ0gsT0FBT3UyQyxXQUFXbHNDLE1BQU0sQ0FBQyxVQUFVa3NDLFdBQVdoaUMsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9naUMsV0FBVzdyQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMHJDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU2IscUJBQXFCaUIsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSTtvQkFDbEQsT0FBT1Isc0JBQXNCeDNDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUMzQztnQkFFQSxPQUFPeTJDO1lBQ1Q7UUFDRjtRQUFHO1lBQ0R0MkMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJNHpDLGlCQUFpQmw4Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTKzdDLFVBQVV0K0IsU0FBUyxFQUFFN1gsVUFBVTtvQkFDcEgsSUFBSTJTO29CQUNKLE9BQU92WSxzRUFBd0IsQ0FBQyxTQUFTZzhDLFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXNXNDLElBQUksR0FBRzRzQyxXQUFXM3NDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0hpSixTQUFTLENBQUM7b0NBRVYsSUFBSTNTLFlBQVk7d0NBQ2QyUyxTQUFTOzRDQUNQMmpDLE1BQU07d0NBQ1I7b0NBQ0Y7b0NBRUFELFdBQVczc0MsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ21NLE1BQU0sQ0FBQyxJQUFJLENBQUN6QixPQUFPLEdBQUcsYUFBYXZOLE1BQU0sQ0FBQ2dSLFlBQVlsRjtnQ0FFcEUsS0FBSztvQ0FDSCxPQUFPMGpDLFdBQVcxc0MsTUFBTSxDQUFDLFVBQVUwc0MsV0FBV3hpQyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3dpQyxXQUFXcnNDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdtc0MsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSSxjQUFjQyxJQUFJLEVBQUVDLElBQUk7b0JBQy9CLE9BQU9QLGVBQWVqNEMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3BDO2dCQUVBLE9BQU9tNEM7WUFDVDtRQUNGO1FBQUc7WUFDRGg0QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlvMEMsY0FBYzE4Qyw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTdThDLFVBQVU5K0IsU0FBUztvQkFDckcsT0FBT3pkLHNFQUF3QixDQUFDLFNBQVN3OEMsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdwdEMsSUFBSSxHQUFHb3RDLFdBQVdudEMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSG10QyxXQUFXbnRDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUM1SCxHQUFHLENBQUMsSUFBSSxDQUFDc1MsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUNnTSxtQkFBbUJnRjtnQ0FFeEUsS0FBSztvQ0FDSCxPQUFPZy9CLFdBQVdsdEMsTUFBTSxDQUFDLFVBQVVrdEMsV0FBV2hqQyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dqQyxXQUFXN3NDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcyc0MsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTRyxXQUFXQyxJQUFJO29CQUN0QixPQUFPTCxZQUFZejRDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNqQztnQkFFQSxPQUFPMDRDO1lBQ1Q7UUFDRjtRQUFHO1lBQ0R2NEMsS0FBSztZQUNMK0QsT0FBTyxTQUFTa3dCO2dCQUNkLE9BQU8sSUFBSSxDQUFDYixTQUFTLElBQUksaUNBQWlDOXFCLE1BQU0sQ0FBQyxJQUFJLENBQUNzM0IsSUFBSSxHQUFHLFNBQVMsV0FBVyxLQUFLO1lBQ3hHO1FBQ0Y7UUFBRztZQUNENS9CLEtBQUs7WUFDTCtELE9BQU8sU0FBUzAwQyxhQUFhcmxCLFNBQVM7Z0JBQ3BDLElBQUksQ0FBQ0EsU0FBUyxHQUFHQTtZQUNuQjtRQUtGO1FBQUc7WUFDRHB6QixLQUFLO1lBQ0wrRCxPQUFPLFNBQVMyOUI7Z0JBQ2QsSUFBSWdYO2dCQUVKLElBQUl4akMsVUFBVXJWLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRztvQkFDaEZ1VSxRQUFRLENBQUM7b0JBQ1Q4dEIsU0FBUyxDQUFDO29CQUNWakcsUUFBUSxDQUFDO2dCQUNYO2dCQUVBLElBQUkzSixRQUFRLElBQUksQ0FBQ3FtQixTQUFTO2dCQUUxQixJQUFJQyxnQkFBZ0J0bUIsUUFBUTtvQkFDMUJ1bUIsZUFBZXZtQjtnQkFDakIsSUFBSTV3QjtnQkFDSixJQUFJbzNDLFNBQVM7Z0JBRWIsSUFBSSxJQUFJLENBQUNDLDBCQUEwQixLQUFLLE1BQU07b0JBQzVDRCxTQUFTLElBQUksQ0FBQ0MsMEJBQTBCLENBQUNELE1BQU07b0JBQy9DLElBQUksQ0FBQ0MsMEJBQTBCLEdBQUc7Z0JBQ3BDO2dCQUVBLElBQUksQ0FBRSxFQUFDTCxtQkFBbUJ4akMsUUFBUWd0QixPQUFPLE1BQU0sUUFBUXdXLHFCQUFxQixLQUFLLEtBQUtBLGdCQUFnQixDQUFDLHNCQUFzQixHQUFHO29CQUM5SHhqQyxRQUFRZ3RCLE9BQU8sR0FBR3BELGNBQWNBLGNBQWMsQ0FBQyxHQUFHNXBCLFFBQVFndEIsT0FBTyxHQUFHLENBQUMsR0FBRzt3QkFDdEUsdUJBQXVCMXZCO29CQUN6QjtnQkFDRjtnQkFFQSxJQUFJd21DLFFBQVEsSUFBSSxDQUFDOWpDLE9BQU8sQ0FBQytqQyxrQkFBa0IsSUFBSSxDQUFDLEdBQzVDQywyQkFBMkJGLE1BQU01a0MsTUFBTSxFQUN2QytrQyw0QkFBNEJILE1BQU05VyxPQUFPLEVBQ3pDa1gseUJBQXlCNzlDLHFGQUF3QkEsQ0FBQ3k5QyxPQUFPdmE7Z0JBRTdELE9BQU9LLGNBQWNBLGNBQWNBLGNBQWM7b0JBQy9DMXFCLFFBQVEwcUIsY0FBY0EsY0FBYzt3QkFDbENqNEIsU0FBUyxJQUFJLENBQUNELE1BQU07d0JBQ3BCNHhCLGVBQWUsSUFBSSxDQUFDZ0gsZ0JBQWdCO3dCQUNwQ3hOLFNBQVMsSUFBSSxDQUFDaHlCLEdBQUc7b0JBQ25CLEdBQUdrVixRQUFRZCxNQUFNLEdBQUc4a0MsNEJBQTRCLENBQUM7b0JBQ2pEaFgsU0FBU3BELGNBQWNBLGNBQWNBLGNBQWMsQ0FBQyxHQUFHOFosZ0JBQWdCLENBQUMsR0FBRzt3QkFDekUsb0JBQW9CLElBQUksQ0FBQ3ZtQixXQUFXO3dCQUNwQyxtQkFBbUIsSUFBSSxDQUFDNEIsWUFBWTtvQkFDdEMsR0FBRy9lLFFBQVFndEIsT0FBTyxHQUFHaVgsNkJBQTZCLENBQUM7Z0JBQ3JELEdBQUdMLFNBQVM7b0JBQ1ZBLFFBQVFBO2dCQUNWLElBQUksQ0FBQyxJQUFJNWpDLFFBQVErbUIsTUFBTSxHQUFHbWQsMEJBQTBCLENBQUM7WUFDdkQ7UUFDRjtRQUFHO1lBQ0RwNUMsS0FBSztZQUNMK0QsT0FBTyxTQUFTNDBDO2dCQUNkLElBQUksQ0FBQyxJQUFJLENBQUNwbUIsWUFBWSxJQUFJLElBQUksQ0FBQ3VOLFNBQVMsRUFBRSxPQUFPO2dCQUNqRCxPQUFPLElBQUksQ0FBQ3ZOLFlBQVksQ0FBQ3dCLFFBQVE7WUFDbkM7UUFDRjtRQUFHO1lBQ0QvekIsS0FBSztZQUNMK0QsT0FBTyxTQUFTODhCO2dCQUNkLElBQUl3WSxPQUFPLElBQUk7Z0JBRWYsSUFBSSxJQUFJLENBQUM1WSxtQkFBbUIsSUFBSSxNQUFNO29CQUNwQztnQkFDRjtnQkFFQSxJQUFJLENBQUNBLG1CQUFtQixHQUFHNlksWUFBWTtvQkFDckMseUVBQXlFO29CQUN6RSxJQUFLLElBQUlDLE1BQU0sR0FBR0Msa0JBQWtCdDZDLE9BQU9naUMsTUFBTSxDQUFDbVksS0FBSzd3QixjQUFjLEdBQUcrd0IsTUFBTUMsZ0JBQWdCdDhDLE1BQU0sRUFBRXE4QyxNQUFPO3dCQUMzRyxJQUFJRSxZQUFZRCxlQUFlLENBQUNELElBQUk7d0JBRXBDRSxVQUFVaHdDLEtBQUs7b0JBQ2pCO2dCQUNGLEdBQUc7WUFDTDtRQU9GO1FBQUc7WUFDRHpKLEtBQUs7WUFDTCtELE9BQ0E7Ozs7O0tBS0MsR0FDRCxTQUFTMjFDLGNBQWNDLFdBQVcsRUFBRUMsVUFBVTtnQkFDNUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDemYsTUFBTSxJQUFJRixlQUFlMGYsYUFBYSxJQUFJLENBQUN4ZixNQUFNLEVBQUV5ZjtZQUNuRTtRQU9GO1FBQUc7WUFDRDU1QyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVM4MUMsY0FBY3ByQyxJQUFJO2dCQUNoQyxPQUFPLElBQUksQ0FBQ2xMLEdBQUcsQ0FBQyxHQUFHK0UsTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxpQkFBaUJ2TixNQUFNLENBQUNtRztZQUNsRTtRQU9GO1FBQUc7WUFDRHpPLEtBQUs7WUFDTCtELE9BQU8sU0FBUysxQyxpQkFBaUJDLGNBQWM7Z0JBQzdDLE9BQU8sSUFBSSxDQUFDampDLElBQUksQ0FBQyxHQUFHeE8sTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxpQkFBaUJpcEIsY0FBYyxDQUFDLEdBQUdpYjtZQUM5RTtRQVFGO1FBQUc7WUFDRC81QyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNpMkMsaUJBQWlCbjVDLEVBQUUsRUFBRWs1QyxjQUFjO2dCQUNqRCxPQUFPLElBQUksQ0FBQ2pZLEdBQUcsQ0FBQyxHQUFHeDVCLE1BQU0sQ0FBQyxJQUFJLENBQUN1TixPQUFPLEVBQUUsaUJBQWlCdk4sTUFBTSxDQUFDekgsS0FBS2krQixjQUFjLENBQUMsR0FBR2liO1lBQ3pGO1FBT0Y7UUFBRztZQUNELzVDLEtBQUs7WUFDTCtELE9BQU8sU0FBU2syQyxpQkFBaUJ4ckMsSUFBSTtnQkFDbkMsT0FBTyxJQUFJLENBQUM2SSxNQUFNLENBQUMsR0FBR2hQLE1BQU0sQ0FBQyxJQUFJLENBQUN1TixPQUFPLEVBQUUsaUJBQWlCdk4sTUFBTSxDQUFDbUc7WUFDckU7UUFNRjtRQUFHO1lBQ0R6TyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNtMkM7Z0JBQ2QsT0FBTyxJQUFJLENBQUMzMkMsR0FBRyxDQUFDLEdBQUcrRSxNQUFNLENBQUMsSUFBSSxDQUFDdU4sT0FBTyxFQUFFO1lBQzFDO1FBT0Y7UUFBRztZQUNEN1YsS0FBSztZQUNMK0QsT0FBTyxTQUFTbzJDLFdBQVcxckMsSUFBSTtnQkFDN0IsT0FBTyxJQUFJLENBQUNxSSxJQUFJLENBQUMsR0FBR3hPLE1BQU0sQ0FBQyxJQUFJLENBQUN1TixPQUFPLEVBQUUsV0FBVztvQkFDbERwSCxNQUFNQTtnQkFDUjtZQUNGO1FBTUY7UUFBRztZQUNEek8sS0FBSztZQUNMK0QsT0FBTyxTQUFTcTJDO2dCQUNkLE9BQU8sSUFBSSxDQUFDNzJDLEdBQUcsQ0FBQyxHQUFHK0UsTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRTtZQUMxQztRQU9GO1FBQUc7WUFDRDdWLEtBQUs7WUFDTCtELE9BQU8sU0FBU3MyQyxXQUFXNXJDLElBQUk7Z0JBQzdCLE9BQU8sSUFBSSxDQUFDNkksTUFBTSxDQUFDLEdBQUdoUCxNQUFNLENBQUMsSUFBSSxDQUFDdU4sT0FBTyxFQUFFLFdBQVd2TixNQUFNLENBQUNtRztZQUMvRDtRQVNGO1FBQUc7WUFDRHpPLEtBQUs7WUFDTCtELE9BQU8sU0FBU3UyQyxLQUFLQyxZQUFZLEVBQUVDLFlBQVk7Z0JBQzdDLElBQUl0bEMsVUFBVXJWLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO2dCQUNuRixPQUFPLElBQUksQ0FBQ2lYLElBQUksQ0FBQyxHQUFHeE8sTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxVQUFVaXBCLGNBQWM7b0JBQy9EeWIsY0FBY0E7b0JBQ2RDLGNBQWNBO2dCQUNoQixHQUFHdGxDO1lBQ0w7UUFVRjtRQUFHO1lBQ0RsVixLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUkwMkMsdUJBQXVCaC9DLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVM2K0MsVUFBVXp4QixZQUFZLEVBQUUxVCxLQUFLO29CQUN4SCxPQUFPMVosc0VBQXdCLENBQUMsU0FBUzgrQyxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzF2QyxJQUFJLEdBQUcwdkMsV0FBV3p2QyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIeXZDLFdBQVd6dkMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxHQUFHeE8sTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxXQUFXdk4sTUFBTSxDQUFDMmdCLGNBQWMsV0FBVzt3Q0FDbEYxVCxPQUFPQTtvQ0FDVDtnQ0FFRixLQUFLO29DQUNILE9BQU9xbEMsV0FBV3h2QyxNQUFNLENBQUMsVUFBVXd2QyxXQUFXdGxDLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPc2xDLFdBQVdudkMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2l2QyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNHLG9CQUFvQkMsSUFBSSxFQUFFQyxJQUFJO29CQUNyQyxPQUFPTixxQkFBcUIvNkMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQzFDO2dCQUVBLE9BQU9nN0M7WUFDVDtRQUNGO1FBQUc7WUFDRDc2QyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNpM0MsZ0JBQWdCQyxTQUFTO2dCQUN2QyxPQUFPLElBQUksQ0FBQ25rQyxJQUFJLENBQUMsR0FBR3hPLE1BQU0sQ0FBQyxJQUFJLENBQUN1TixPQUFPLEVBQUUsZ0JBQWdCb2xDO1lBQzNEO1FBQ0Y7UUFBRztZQUNEajdDLEtBQUs7WUFDTCtELE9BQU8sU0FBU20zQztnQkFDZCxPQUFPLElBQUksQ0FBQzMzQyxHQUFHLENBQUMsR0FBRytFLE1BQU0sQ0FBQyxJQUFJLENBQUN1TixPQUFPLEVBQUU7WUFDMUM7UUFDRjtRQUFHO1lBQ0Q3VixLQUFLO1lBQ0wrRCxPQUFPLFNBQVNvM0MsYUFBYTFzQyxJQUFJO2dCQUMvQixPQUFPLElBQUksQ0FBQ2xMLEdBQUcsQ0FBQyxHQUFHK0UsTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxnQkFBZ0J2TixNQUFNLENBQUNtRztZQUNqRTtRQUNGO1FBQUc7WUFDRHpPLEtBQUs7WUFDTCtELE9BQU8sU0FBU3EzQyxnQkFBZ0Izc0MsSUFBSSxFQUFFOVEsSUFBSTtnQkFDeEMsT0FBTyxJQUFJLENBQUNta0MsR0FBRyxDQUFDLEdBQUd4NUIsTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxnQkFBZ0J2TixNQUFNLENBQUNtRyxPQUFPOVE7WUFDeEU7UUFDRjtRQUFHO1lBQ0RxQyxLQUFLO1lBQ0wrRCxPQUFPLFNBQVNzM0MsZ0JBQWdCNXNDLElBQUk7Z0JBQ2xDLE9BQU8sSUFBSSxDQUFDNkksTUFBTSxDQUFDLEdBQUdoUCxNQUFNLENBQUMsSUFBSSxDQUFDdU4sT0FBTyxFQUFFLGdCQUFnQnZOLE1BQU0sQ0FBQ21HO1lBQ3BFO1FBQ0Y7UUFBRztZQUNEek8sS0FBSztZQUNMK0QsT0FBTyxTQUFTdTNDLGVBQWVDLE9BQU87Z0JBQ3BDLElBQUlybUMsVUFBVXJWLFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO2dCQUVuRixJQUFJb1ksVUFBVTZtQixjQUFjO29CQUMxQmxXLFVBQVUyeUI7Z0JBQ1osR0FBR3JtQztnQkFFSCxPQUFPLElBQUksQ0FBQzRCLElBQUksQ0FBQyxHQUFHeE8sTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxxQkFBcUJvQztZQUNoRTtRQUNGO1FBQUc7WUFDRGpZLEtBQUs7WUFDTCtELE9BQU8sU0FBU3kzQyxZQUFZRCxPQUFPO2dCQUNqQyxPQUFPLElBQUksQ0FBQ3prQyxJQUFJLENBQUMsR0FBR3hPLE1BQU0sQ0FBQyxJQUFJLENBQUN1TixPQUFPLEVBQUUsa0JBQWtCMGxDO1lBQzdEO1FBQ0Y7UUFBRztZQUNEdjdDLEtBQUs7WUFDTCtELE9BQU8sU0FBUzAzQyxjQUFjRixPQUFPLEVBQUVybUMsT0FBTztnQkFDNUMsT0FBTyxJQUFJLENBQUNvbUMsY0FBYyxDQUFDO29CQUFDQztpQkFBUSxFQUFFcm1DO1lBQ3hDO1FBQ0Y7UUFBRztZQUNEbFYsS0FBSztZQUNMK0QsT0FBTyxTQUFTMjNDLHVCQUF1Qjc2QyxFQUFFO2dCQUN2QyxPQUFPLElBQUksQ0FBQzBDLEdBQUcsQ0FBQyxHQUFHK0UsTUFBTSxDQUFDLElBQUksQ0FBQ3VOLE9BQU8sRUFBRSxxQkFBcUJ2TixNQUFNLENBQUN6SDtZQUN0RTtRQVNGO1FBQUc7WUFDRGIsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJNDNDLGlCQUFpQmxnRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTKy9DLFVBQVV4bkMsTUFBTTtvQkFDckcsSUFBSXluQyxrQkFBa0JDO29CQUV0QixPQUFPamdELHNFQUF3QixDQUFDLFNBQVNrZ0QsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVc5d0MsSUFBSSxHQUFHOHdDLFdBQVc3d0MsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSDZ3QyxXQUFXN3dDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLGFBQWE7d0NBQzNDaW1DLFNBQVMxbkM7b0NBQ1g7Z0NBRUYsS0FBSztvQ0FDSHluQyxtQkFBbUJHLFdBQVcxbUMsSUFBSTtvQ0FDbEN3bUMsVUFBVUQsaUJBQWlCQyxPQUFPO29DQUNsQyxPQUFPRSxXQUFXNXdDLE1BQU0sQ0FBQyxVQUFVMHdDO2dDQUVyQyxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT0UsV0FBV3Z3QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHbXdDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ssY0FBY0MsSUFBSTtvQkFDekIsT0FBT1AsZUFBZWo4QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDcEM7Z0JBRUEsT0FBT284QztZQUNUO1FBUUY7UUFBRztZQUNEajhDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSW80QyxpQkFBaUIxZ0QsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3VnRCxVQUFVQyxPQUFPO29CQUN0RyxJQUFJbm5DLFNBQ0FvbkMsVUFBVXo4QztvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUzBnRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3R4QyxJQUFJLEdBQUdzeEMsV0FBV3J4QyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVW9uQyxRQUFRcC9DLE1BQU0sR0FBRyxLQUFLby9DLE9BQU8sQ0FBQyxFQUFFLEtBQUs1NkMsWUFBWTQ2QyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXcnhDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUM1SCxHQUFHLENBQUMsSUFBSSxDQUFDc1MsT0FBTyxHQUFHLGFBQWE7d0NBQzFDb0MsU0FBUzZtQixjQUFjOzRDQUNyQnhtQixtQkFBbUIrakM7d0NBQ3JCLEdBQUdubkM7b0NBQ0w7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPc25DLFdBQVdweEMsTUFBTSxDQUFDLFVBQVVveEMsV0FBV2xuQyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2tuQyxXQUFXL3dDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcyd0MsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSyxjQUFjQyxJQUFJO29CQUN6QixPQUFPUCxlQUFlejhDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNwQztnQkFFQSxPQUFPNDhDO1lBQ1Q7UUFVRjtRQUFHO1lBQ0R6OEMsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJNDRDLGlCQUFpQmxoRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTK2dELFVBQVUvN0MsRUFBRSxFQUFFdVQsTUFBTTtvQkFDekcsSUFBSXlvQyxpQkFBaUJmO29CQUVyQixPQUFPamdELHNFQUF3QixDQUFDLFNBQVNpaEQsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVc3eEMsSUFBSSxHQUFHNnhDLFdBQVc1eEMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSDR4QyxXQUFXNXhDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyMkIsR0FBRyxDQUFDLElBQUksQ0FBQ2pzQixPQUFPLEdBQUcsYUFBYXZOLE1BQU0sQ0FBQ3pILEtBQUs7d0NBQ3REaTdDLFNBQVMxbkM7b0NBQ1g7Z0NBRUYsS0FBSztvQ0FDSHlvQyxrQkFBa0JFLFdBQVd6bkMsSUFBSTtvQ0FDakN3bUMsVUFBVWUsZ0JBQWdCZixPQUFPO29DQUNqQyxPQUFPaUIsV0FBVzN4QyxNQUFNLENBQUMsVUFBVTB3QztnQ0FFckMsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9pQixXQUFXdHhDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdteEMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSSxjQUFjQyxJQUFJLEVBQUVDLElBQUk7b0JBQy9CLE9BQU9QLGVBQWVqOUMsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3BDO2dCQUVBLE9BQU9tOUM7WUFDVDtRQVNGO1FBQUc7WUFDRGg5QyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlvNUMsaUJBQWlCMWhELDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN1aEQsVUFBVXY4QyxFQUFFO29CQUNqRyxPQUFPaEYsc0VBQXdCLENBQUMsU0FBU3doRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3B5QyxJQUFJLEdBQUdveUMsV0FBV255QyxJQUFJO2dDQUN2QyxLQUFLO29DQUNILE9BQU9teUMsV0FBV2x5QyxNQUFNLENBQUMsVUFBVSxJQUFJLENBQUNrTSxNQUFNLENBQUMsSUFBSSxDQUFDekIsT0FBTyxHQUFHLGFBQWF2TixNQUFNLENBQUN6SDtnQ0FFcEYsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU95OEMsV0FBVzd4QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHMnhDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0csY0FBY0MsSUFBSTtvQkFDekIsT0FBT0wsZUFBZXo5QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDcEM7Z0JBRUEsT0FBTzA5QztZQUNUO1FBU0Y7UUFBRztZQUNEdjlDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTA1QyxrQkFBa0JoaUQsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzZoRCxVQUFVdHBDLE1BQU07b0JBQ3RHLElBQUl1cEMsbUJBQW1CQztvQkFFdkIsT0FBTy9oRCxzRUFBd0IsQ0FBQyxTQUFTZ2lELFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXNXlDLElBQUksR0FBRzR5QyxXQUFXM3lDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0gyeUMsV0FBVzN5QyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxjQUFjO3dDQUM1QytuQyxVQUFVeHBDO29DQUNaO2dDQUVGLEtBQUs7b0NBQ0h1cEMsb0JBQW9CRyxXQUFXeG9DLElBQUk7b0NBQ25Dc29DLFdBQVdELGtCQUFrQkMsUUFBUTtvQ0FDckMsT0FBT0UsV0FBVzF5QyxNQUFNLENBQUMsVUFBVXd5QztnQ0FFckMsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9FLFdBQVdyeUMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBR2l5QyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNLLGVBQWVDLElBQUk7b0JBQzFCLE9BQU9QLGdCQUFnQi85QyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDckM7Z0JBRUEsT0FBT2srQztZQUNUO1FBUUY7UUFBRztZQUNELzlDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWs2QyxrQkFBa0J4aUQsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU3FpRCxVQUFVN0IsT0FBTztvQkFDdkcsSUFBSW5uQyxTQUNBaXBDLFVBQVV0K0M7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVN1aUQsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVduekMsSUFBSSxHQUFHbXpDLFdBQVdsekMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVpcEMsUUFBUWpoRCxNQUFNLEdBQUcsS0FBS2loRCxPQUFPLENBQUMsRUFBRSxLQUFLejhDLFlBQVl5OEMsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN6RUUsV0FBV2x6QyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxjQUFjO3dDQUMzQ29DLFNBQVM2bUIsY0FBYzs0Q0FDckJ4bUIsbUJBQW1CK2pDO3dDQUNyQixHQUFHbm5DO29DQUNMO2dDQUVGLEtBQUs7b0NBQ0gsT0FBT21wQyxXQUFXanpDLE1BQU0sQ0FBQyxVQUFVaXpDLFdBQVcvb0MsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU8rb0MsV0FBVzV5QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHeXlDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksZUFBZUMsSUFBSTtvQkFDMUIsT0FBT04sZ0JBQWdCditDLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNyQztnQkFFQSxPQUFPeStDO1lBQ1Q7UUFVRjtRQUFHO1lBQ0R0K0MsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJeTZDLGtCQUFrQi9pRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNGlELFVBQVU1OUMsRUFBRSxFQUFFdVQsTUFBTTtvQkFDMUcsSUFBSXNxQyxrQkFBa0JkO29CQUV0QixPQUFPL2hELHNFQUF3QixDQUFDLFNBQVM4aUQsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVcxekMsSUFBSSxHQUFHMHpDLFdBQVd6ekMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHl6QyxXQUFXenpDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyMkIsR0FBRyxDQUFDLElBQUksQ0FBQ2pzQixPQUFPLEdBQUcsY0FBY3ZOLE1BQU0sQ0FBQ3pILEtBQUs7d0NBQ3ZEKzhDLFVBQVV4cEM7b0NBQ1o7Z0NBRUYsS0FBSztvQ0FDSHNxQyxtQkFBbUJFLFdBQVd0cEMsSUFBSTtvQ0FDbENzb0MsV0FBV2MsaUJBQWlCZCxRQUFRO29DQUNwQyxPQUFPZ0IsV0FBV3h6QyxNQUFNLENBQUMsVUFBVXd5QztnQ0FFckMsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9nQixXQUFXbnpDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdnekMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSSxlQUFlQyxJQUFJLEVBQUVDLElBQUk7b0JBQ2hDLE9BQU9QLGdCQUFnQjkrQyxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDckM7Z0JBRUEsT0FBT2cvQztZQUNUO1FBU0Y7UUFBRztZQUNENytDLEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSWk3QyxrQkFBa0J2akQsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU29qRCxVQUFVcCtDLEVBQUU7b0JBQ2xHLElBQUl1VCxRQUNBOHFDLFVBQVVyL0M7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNzakQsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsMEMsSUFBSSxHQUFHazBDLFdBQVdqMEMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSGlKLFNBQVM4cUMsUUFBUWhpRCxNQUFNLEdBQUcsS0FBS2dpRCxPQUFPLENBQUMsRUFBRSxLQUFLeDlDLFlBQVl3OUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDO29DQUN4RSxPQUFPRSxXQUFXaDBDLE1BQU0sQ0FBQyxVQUFVLElBQUksQ0FBQ2tNLE1BQU0sQ0FBQyxJQUFJLENBQUN6QixPQUFPLEdBQUcsY0FBY3ZOLE1BQU0sQ0FBQ3pILEtBQUt1VDtnQ0FFMUYsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9nckMsV0FBVzN6QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHd3pDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksZUFBZUMsSUFBSTtvQkFDMUIsT0FBT04sZ0JBQWdCdC9DLEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNyQztnQkFFQSxPQUFPdy9DO1lBQ1Q7UUFVRjtRQUFHO1lBQ0RyL0MsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJdzdDLG9CQUFvQjlqRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTMmpELFVBQVUzK0MsRUFBRSxFQUFFdVQsTUFBTTtvQkFDNUcsSUFBSXFyQyxjQUFjQyxtQkFBbUI5QjtvQkFFckMsT0FBTy9oRCxzRUFBd0IsQ0FBQyxTQUFTOGpELFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXMTBDLElBQUksR0FBRzAwQyxXQUFXejBDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0hzMEMsZUFBZXJyQyxPQUFPcXJDLFlBQVk7b0NBQ2xDRyxXQUFXejBDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMwUCxLQUFLLENBQUMsSUFBSSxDQUFDaEYsT0FBTyxHQUFHLGNBQWN2TixNQUFNLENBQUN6SCxJQUFJLGNBQWM7d0NBQ3RFZy9DLGVBQWVKO29DQUNqQjtnQ0FFRixLQUFLO29DQUNIQyxvQkFBb0JFLFdBQVd0cUMsSUFBSTtvQ0FDbkNzb0MsV0FBVzhCLGtCQUFrQjlCLFFBQVE7b0NBQ3JDLE9BQU9nQyxXQUFXeDBDLE1BQU0sQ0FBQyxVQUFVd3lDO2dDQUVyQyxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT2dDLFdBQVduMEMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRyt6QyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNNLGlCQUFpQkMsSUFBSSxFQUFFQyxJQUFJO29CQUNsQyxPQUFPVCxrQkFBa0I3L0MsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3ZDO2dCQUVBLE9BQU9pZ0Q7WUFDVDtRQVNGO1FBQUc7WUFDRDkvQyxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlrOEMsZ0JBQWdCeGtELDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNxa0QsVUFBVXIvQyxFQUFFO29CQUNoRyxJQUFJcy9DLG9CQUFvQnZDO29CQUV4QixPQUFPL2hELHNFQUF3QixDQUFDLFNBQVN1a0QsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVduMUMsSUFBSSxHQUFHbTFDLFdBQVdsMUMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSGsxQyxXQUFXbDFDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMwUCxLQUFLLENBQUMsSUFBSSxDQUFDaEYsT0FBTyxHQUFHLGNBQWN2TixNQUFNLENBQUN6SCxJQUFJO2dDQUU1RCxLQUFLO29DQUNIcy9DLHFCQUFxQkUsV0FBVy9xQyxJQUFJO29DQUNwQ3NvQyxXQUFXdUMsbUJBQW1CdkMsUUFBUTtvQ0FDdEMsT0FBT3lDLFdBQVdqMUMsTUFBTSxDQUFDLFVBQVV3eUM7Z0NBRXJDLEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPeUMsV0FBVzUwQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHeTBDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksYUFBYUMsSUFBSTtvQkFDeEIsT0FBT04sY0FBY3ZnRCxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDbkM7Z0JBRUEsT0FBT3lnRDtZQUNUO1FBU0Y7UUFBRztZQUNEdGdELEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXk4QyxrQkFBa0Iva0QsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzRrRCxVQUFVNS9DLEVBQUU7b0JBQ2xHLElBQUk2L0Msb0JBQW9COUM7b0JBRXhCLE9BQU8vaEQsc0VBQXdCLENBQUMsU0FBUzhrRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzExQyxJQUFJLEdBQUcwMUMsV0FBV3oxQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIeTFDLFdBQVd6MUMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzBQLEtBQUssQ0FBQyxJQUFJLENBQUNoRixPQUFPLEdBQUcsY0FBY3ZOLE1BQU0sQ0FBQ3pILElBQUk7Z0NBRTVELEtBQUs7b0NBQ0g2L0MscUJBQXFCRSxXQUFXdHJDLElBQUk7b0NBQ3BDc29DLFdBQVc4QyxtQkFBbUI5QyxRQUFRO29DQUN0QyxPQUFPZ0QsV0FBV3gxQyxNQUFNLENBQUMsVUFBVXd5QztnQ0FFckMsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9nRCxXQUFXbjFDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdnMUMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSSxlQUFlQyxJQUFJO29CQUMxQixPQUFPTixnQkFBZ0I5Z0QsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3JDO2dCQUVBLE9BQU9naEQ7WUFDVDtRQVVGO1FBQUc7WUFDRDdnRCxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlnOUMsZ0JBQWdCdGxELDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNtbEQsVUFBVW5nRCxFQUFFLEVBQUV1VCxNQUFNO29CQUN4RyxJQUFJZ2M7b0JBQ0osT0FBT3YwQixzRUFBd0IsQ0FBQyxTQUFTb2xELFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXaDJDLElBQUksR0FBR2cyQyxXQUFXLzFDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0hpbEIsUUFBUWhjLE9BQU9nYyxLQUFLO29DQUNwQjh3QixXQUFXLzFDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLGNBQWN2TixNQUFNLENBQUN6SCxJQUFJLFVBQVU7d0NBQ2pFdXZCLE9BQU9BO29DQUNUO2dDQUVGLEtBQUs7b0NBQ0gsT0FBTzh3QixXQUFXOTFDLE1BQU0sQ0FBQyxVQUFVODFDLFdBQVc1ckMsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU80ckMsV0FBV3oxQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHdTFDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0csYUFBYUMsSUFBSSxFQUFFQyxJQUFJO29CQUM5QixPQUFPTixjQUFjcmhELEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNuQztnQkFFQSxPQUFPc2hEO1lBQ1Q7UUFRRjtRQUFHO1lBQ0RuaEQsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJdTlDLG1CQUFtQjdsRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTMGxELFVBQVVsRixPQUFPO29CQUN4RyxJQUFJbm5DLFNBQ0Fzc0MsVUFBVTNoRDtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUzRsRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3gyQyxJQUFJLEdBQUd3MkMsV0FBV3YyQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVXNzQyxRQUFRdGtELE1BQU0sR0FBRyxLQUFLc2tELE9BQU8sQ0FBQyxFQUFFLEtBQUs5L0MsWUFBWTgvQyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXdjJDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUM1SCxHQUFHLENBQUMsSUFBSSxDQUFDc1MsT0FBTyxHQUFHLGVBQWU7d0NBQzVDb0MsU0FBUzZtQixjQUFjOzRDQUNyQnhtQixtQkFBbUIrakM7d0NBQ3JCLEdBQUdubkM7b0NBQ0w7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPd3NDLFdBQVd0MkMsTUFBTSxDQUFDLFVBQVVzMkMsV0FBV3BzQyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT29zQyxXQUFXajJDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUc4MUMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSSxnQkFBZ0JDLElBQUk7b0JBQzNCLE9BQU9OLGlCQUFpQjVoRCxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDdEM7Z0JBRUEsT0FBTzhoRDtZQUNUO1FBUUY7UUFBRztZQUNEM2hELEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSTg5QyxhQUFhcG1ELDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNpbUQsVUFBVXpxQyxHQUFHO29CQUM5RixPQUFPeGIsc0VBQXdCLENBQUMsU0FBU2ttRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzkyQyxJQUFJLEdBQUc4MkMsV0FBVzcyQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNILE9BQU82MkMsV0FBVzUyQyxNQUFNLENBQUMsVUFBVSxJQUFJLENBQUM3SCxHQUFHLENBQUMsSUFBSSxDQUFDc1MsT0FBTyxHQUFHLE9BQU87d0NBQ2hFd0IsS0FBS0E7b0NBQ1A7Z0NBRUYsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU8ycUMsV0FBV3YyQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHcTJDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0csVUFBVUMsSUFBSTtvQkFDckIsT0FBT0wsV0FBV25pRCxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDaEM7Z0JBRUEsT0FBT29pRDtZQUNUO1FBU0Y7UUFBRztZQUNEamlELEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSW8rQyxXQUFXMW1ELDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVN1bUQsVUFBVXZoRCxFQUFFO29CQUMzRixPQUFPaEYsc0VBQXdCLENBQUMsU0FBU3dtRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3AzQyxJQUFJLEdBQUdvM0MsV0FBV24zQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNILE9BQU9tM0MsV0FBV2wzQyxNQUFNLENBQUMsVUFBVSxJQUFJLENBQUM3SCxHQUFHLENBQUMsR0FBRytFLE1BQU0sQ0FBQyxJQUFJLENBQUN1TixPQUFPLEVBQUUsV0FBV3ZOLE1BQU0sQ0FBQ3pIO2dDQUV4RixLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3loRCxXQUFXNzJDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUcyMkMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTRyxRQUFRQyxJQUFJO29CQUNuQixPQUFPTCxTQUFTemlELEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUM5QjtnQkFFQSxPQUFPMGlEO1lBQ1Q7UUFVRjtRQUFHO1lBQ0R2aUQsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJMCtDLGtCQUFrQmhuRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTNm1ELFVBQVVoZixJQUFJO29CQUNwRyxJQUFJeHVCLFNBQ0F5dEMsVUFBVTlpRDtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBUyttRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBVzMzQyxJQUFJLEdBQUcyM0MsV0FBVzEzQyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVXl0QyxRQUFRemxELE1BQU0sR0FBRyxLQUFLeWxELE9BQU8sQ0FBQyxFQUFFLEtBQUtqaEQsWUFBWWloRCxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBQ3pFRSxXQUFXMTNDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLG9CQUFvQmlwQixjQUFjO3dDQUNoRTRFLE1BQU1BO29DQUNSLEdBQUd4dUI7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPMnRDLFdBQVd6M0MsTUFBTSxDQUFDLFVBQVV5M0MsV0FBV3Z0QyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3V0QyxXQUFXcDNDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdpM0MsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSSxlQUFlQyxJQUFJO29CQUMxQixPQUFPTixnQkFBZ0IvaUQsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3JDO2dCQUVBLE9BQU9pakQ7WUFDVDtRQVVGO1FBQUc7WUFDRDlpRCxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlpL0MsZUFBZXZuRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTb25ELFVBQVUvVixRQUFRO29CQUNyRyxJQUFJaDRCLFNBQ0FndUMsVUFBVXJqRDtvQkFDZCxPQUFPaEUsc0VBQXdCLENBQUMsU0FBU3NuRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV2w0QyxJQUFJLEdBQUdrNEMsV0FBV2o0QyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIK0osVUFBVWd1QyxRQUFRaG1ELE1BQU0sR0FBRyxLQUFLZ21ELE9BQU8sQ0FBQyxFQUFFLEtBQUt4aEQsWUFBWXdoRCxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUM7b0NBRXpFLElBQUksQ0FBRSxRQUFPaHVDLFFBQVFuVSxJQUFJLEtBQUssZUFBZSxDQUFDO3dDQUFDO3dDQUFRO3dDQUFRO3FDQUFVLENBQUNxbUIsUUFBUSxDQUFDbFMsUUFBUW5VLElBQUksSUFBSTt3Q0FDakdxaUQsV0FBV2o0QyxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLE1BQU0sSUFBSXlLLE1BQU07Z0NBRWxCLEtBQUs7b0NBQ0gsSUFBSSxDQUFFLFFBQU9WLFFBQVFtdUMsYUFBYSxLQUFLLGVBQWUsQ0FBQzt3Q0FBQzt3Q0FBUTtxQ0FBTyxDQUFDajhCLFFBQVEsQ0FBQ2xTLFFBQVFtdUMsYUFBYSxJQUFJO3dDQUN4R0QsV0FBV2o0QyxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLE1BQU0sSUFBSXlLLE1BQU07Z0NBRWxCLEtBQUs7b0NBQ0gsSUFBSSxDQUFFLFFBQU9WLFFBQVFqVSxRQUFRLEtBQUssZUFBZSxDQUFDO3dDQUFDO3dDQUFRO3dDQUFRO3FDQUFVLENBQUNtbUIsUUFBUSxDQUFDbFMsUUFBUWpVLFFBQVEsSUFBSTt3Q0FDekdtaUQsV0FBV2o0QyxJQUFJLEdBQUc7d0NBQ2xCO29DQUNGO29DQUVBLE1BQU0sSUFBSXlLLE1BQU07Z0NBRWxCLEtBQUs7b0NBQ0h3dEMsV0FBV2o0QyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxpQkFBaUJpcEIsY0FBYzt3Q0FDN0RvTyxVQUFVQTtvQ0FDWixHQUFHaDRCO2dDQUVMLEtBQUs7b0NBQ0gsT0FBT2t1QyxXQUFXaDRDLE1BQU0sQ0FBQyxVQUFVZzRDLFdBQVc5dEMsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU84dEMsV0FBVzMzQyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHdzNDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ssWUFBWUMsSUFBSTtvQkFDdkIsT0FBT1AsYUFBYXRqRCxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDbEM7Z0JBRUEsT0FBT3lqRDtZQUNUO1FBYUY7UUFBRztZQUNEdGpELEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXkvQyxvQkFBb0IvbkQsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzRuRCxVQUFVQyxRQUFRO29CQUMxRyxPQUFPN25ELHNFQUF3QixDQUFDLFNBQVM4bkQsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVcxNEMsSUFBSSxHQUFHMDRDLFdBQVd6NEMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSHk0QyxXQUFXejRDLElBQUksR0FBRztvQ0FDbEIsT0FBTyxJQUFJLENBQUMyTCxJQUFJLENBQUMsSUFBSSxDQUFDakIsT0FBTyxHQUFHLGdCQUFnQjt3Q0FDOUM2dEMsVUFBVUE7b0NBQ1o7Z0NBRUYsS0FBSztvQ0FDSCxPQUFPRSxXQUFXeDRDLE1BQU0sQ0FBQyxVQUFVdzRDLFdBQVd0dUMsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9zdUMsV0FBV240QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHZzRDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksaUJBQWlCQyxLQUFLO29CQUM3QixPQUFPTixrQkFBa0I5akQsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3ZDO2dCQUVBLE9BQU9na0Q7WUFDVDtRQWNGO1FBQUc7WUFDRDdqRCxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlnZ0QsaUJBQWlCdG9ELDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNtb0QsVUFBVUMsSUFBSTtvQkFDbkcsSUFBSS91QyxTQUNBZ3ZDLFVBQVVya0Q7b0JBQ2QsT0FBT2hFLHNFQUF3QixDQUFDLFNBQVNzb0QsV0FBV0MsVUFBVTt3QkFDNUQsTUFBTyxFQUFHOzRCQUNSLE9BQVFBLFdBQVdsNUMsSUFBSSxHQUFHazVDLFdBQVdqNUMsSUFBSTtnQ0FDdkMsS0FBSztvQ0FDSCtKLFVBQVVndkMsUUFBUWhuRCxNQUFNLEdBQUcsS0FBS2duRCxPQUFPLENBQUMsRUFBRSxLQUFLeGlELFlBQVl3aUQsT0FBTyxDQUFDLEVBQUUsR0FBRzt3Q0FDdEV6YSxNQUFNO29DQUNSO29DQUNBMmEsV0FBV2o1QyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxZQUFZaXBCLGNBQWM7d0NBQ3hEbWxCLE1BQU1BO29DQUNSLEdBQUcvdUM7Z0NBRUwsS0FBSztvQ0FDSCxPQUFPa3ZDLFdBQVdoNUMsTUFBTSxDQUFDLFVBQVVnNUMsV0FBVzl1QyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzh1QyxXQUFXMzRDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUd1NEMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTSyxjQUFjQyxLQUFLO29CQUMxQixPQUFPUCxlQUFlcmtELEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNwQztnQkFFQSxPQUFPd2tEO1lBQ1Q7UUFjRjtRQUFHO1lBQ0Rya0QsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJd2dELGNBQWM5b0QsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzJvRCxVQUFVM2pELEVBQUU7b0JBQzlGLE9BQU9oRixzRUFBd0IsQ0FBQyxTQUFTNG9ELFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXeDVDLElBQUksR0FBR3c1QyxXQUFXdjVDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h1NUMsV0FBV3Y1QyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxZQUFZdk4sTUFBTSxDQUFDekg7Z0NBRXBELEtBQUs7b0NBQ0gsT0FBTzZqRCxXQUFXdDVDLE1BQU0sQ0FBQyxVQUFVczVDLFdBQVdwdkMsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU9vdkMsV0FBV2o1QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHKzRDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0csV0FBV0MsS0FBSztvQkFDdkIsT0FBT0wsWUFBWTdrRCxLQUFLLENBQUMsSUFBSSxFQUFFRztnQkFDakM7Z0JBRUEsT0FBTzhrRDtZQUNUO1FBY0Y7UUFBRztZQUNEM2tELEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSThnRCxnQkFBZ0JwcEQsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBU2lwRCxVQUFVNXZDLE9BQU87b0JBQ3JHLE9BQU9yWixzRUFBd0IsQ0FBQyxTQUFTa3BELFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXOTVDLElBQUksR0FBRzg1QyxXQUFXNzVDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0g2NUMsV0FBVzc1QyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDNUgsR0FBRyxDQUFDLElBQUksQ0FBQ3NTLE9BQU8sR0FBRyxZQUFZWDtnQ0FFN0MsS0FBSztvQ0FDSCxPQUFPOHZDLFdBQVc1NUMsTUFBTSxDQUFDLFVBQVU0NUMsV0FBVzF2QyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBTzB2QyxXQUFXdjVDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdxNUMsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTRyxhQUFhQyxLQUFLO29CQUN6QixPQUFPTCxjQUFjbmxELEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNuQztnQkFFQSxPQUFPb2xEO1lBQ1Q7UUFXRjtRQUFHO1lBQ0RqbEQsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJb2hELHNCQUFzQjFwRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTdXBELFVBQVVDLFlBQVk7b0JBQ2hILE9BQU94cEQsc0VBQXdCLENBQUMsU0FBU3lwRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV3I2QyxJQUFJLEdBQUdxNkMsV0FBV3A2QyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIbzZDLFdBQVdwNkMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzJMLElBQUksQ0FBQyxJQUFJLENBQUNqQixPQUFPLEdBQUcsbUJBQW1CO3dDQUNqRGcxQixlQUFld2E7b0NBQ2pCO2dDQUVGLEtBQUs7b0NBQ0gsT0FBT0UsV0FBV242QyxNQUFNLENBQUMsVUFBVW02QyxXQUFXandDLElBQUk7Z0NBRXBELEtBQUs7Z0NBQ0wsS0FBSztvQ0FDSCxPQUFPaXdDLFdBQVc5NUMsSUFBSTs0QkFDMUI7d0JBQ0Y7b0JBQ0YsR0FBRzI1QyxXQUFXLElBQUk7Z0JBQ3BCO2dCQUVBLFNBQVNJLG1CQUFtQkMsS0FBSztvQkFDL0IsT0FBT04sb0JBQW9CemxELEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN6QztnQkFFQSxPQUFPMmxEO1lBQ1Q7UUFXRjtRQUFHO1lBQ0R4bEQsS0FBSztZQUNMK0QsT0FBTztnQkFDTCxJQUFJMmhELHNCQUFzQmpxRCw4RUFBaUJBLENBQUUsV0FBVyxHQUFFSSxzRUFBd0IsQ0FBQyxTQUFTOHBELFVBQVVDLE1BQU07b0JBQzFHLElBQUlyakQsTUFBTWtNO29CQUNWLE9BQU81UyxzRUFBd0IsQ0FBQyxTQUFTZ3FELFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXNTZDLElBQUksR0FBRzQ2QyxXQUFXMzZDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0g1SSxPQUFPcWpELE9BQU9yakQsSUFBSSxFQUFFa00sT0FBT20zQyxPQUFPbjNDLElBQUk7b0NBQ3RDcTNDLFdBQVczNkMsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQ21NLE1BQU0sQ0FBQyxJQUFJLENBQUN6QixPQUFPLEdBQUcsbUJBQW1Cdk4sTUFBTSxDQUFDL0YsTUFBTSxLQUFLK0YsTUFBTSxDQUFDbUc7Z0NBRWhGLEtBQUs7b0NBQ0gsT0FBT3EzQyxXQUFXMTZDLE1BQU0sQ0FBQyxVQUFVMDZDLFdBQVd4d0MsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU93d0MsV0FBV3I2QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHazZDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0ksbUJBQW1CQyxLQUFLO29CQUMvQixPQUFPTixvQkFBb0JobUQsS0FBSyxDQUFDLElBQUksRUFBRUc7Z0JBQ3pDO2dCQUVBLE9BQU9rbUQ7WUFDVDtRQVNGO1FBQUc7WUFDRC9sRCxLQUFLO1lBQ0wrRCxPQUFPO2dCQUNMLElBQUlraUQscUJBQXFCeHFELDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVJLHNFQUF3QixDQUFDLFNBQVNxcUQ7b0JBQ3pGLE9BQU9ycUQsc0VBQXdCLENBQUMsU0FBU3NxRCxXQUFXQyxVQUFVO3dCQUM1RCxNQUFPLEVBQUc7NEJBQ1IsT0FBUUEsV0FBV2w3QyxJQUFJLEdBQUdrN0MsV0FBV2o3QyxJQUFJO2dDQUN2QyxLQUFLO29DQUNIaTdDLFdBQVdqN0MsSUFBSSxHQUFHO29DQUNsQixPQUFPLElBQUksQ0FBQzVILEdBQUcsQ0FBQyxJQUFJLENBQUNzUyxPQUFPLEdBQUc7Z0NBRWpDLEtBQUs7b0NBQ0gsT0FBT3V3QyxXQUFXaDdDLE1BQU0sQ0FBQyxVQUFVZzdDLFdBQVc5d0MsSUFBSTtnQ0FFcEQsS0FBSztnQ0FDTCxLQUFLO29DQUNILE9BQU84d0MsV0FBVzM2QyxJQUFJOzRCQUMxQjt3QkFDRjtvQkFDRixHQUFHeTZDLFdBQVcsSUFBSTtnQkFDcEI7Z0JBRUEsU0FBU0c7b0JBQ1AsT0FBT0osbUJBQW1Cdm1ELEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUN4QztnQkFFQSxPQUFPd21EO1lBQ1Q7UUFLRjtRQUFHO1lBQ0RybUQsS0FBSztZQUNMK0QsT0FBTyxTQUFTdWlEO2dCQUNkLE9BQU8sSUFBSSxDQUFDdk4sMEJBQTBCLEdBQUcsSUFBSXdOO1lBQy9DO1FBUUY7UUFBRztZQUNEdm1ELEtBQUs7WUFDTCtELE9BQU87Z0JBQ0wsSUFBSXlpRCxpQkFBaUIvcUQsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUksc0VBQXdCLENBQUMsU0FBUzRxRCxVQUFVNWxELEVBQUU7b0JBQ2pHLE9BQU9oRixzRUFBd0IsQ0FBQyxTQUFTNnFELFdBQVdDLFVBQVU7d0JBQzVELE1BQU8sRUFBRzs0QkFDUixPQUFRQSxXQUFXejdDLElBQUksR0FBR3k3QyxXQUFXeDdDLElBQUk7Z0NBQ3ZDLEtBQUs7b0NBQ0h3N0MsV0FBV3g3QyxJQUFJLEdBQUc7b0NBQ2xCLE9BQU8sSUFBSSxDQUFDMkwsSUFBSSxDQUFDLElBQUksQ0FBQ2pCLE9BQU8sR0FBRyxhQUFhdk4sTUFBTSxDQUFDekgsSUFBSTtnQ0FFMUQsS0FBSztvQ0FDSCxPQUFPOGxELFdBQVd2N0MsTUFBTSxDQUFDLFVBQVV1N0MsV0FBV3J4QyxJQUFJO2dDQUVwRCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0gsT0FBT3F4QyxXQUFXbDdDLElBQUk7NEJBQzFCO3dCQUNGO29CQUNGLEdBQUdnN0MsV0FBVyxJQUFJO2dCQUNwQjtnQkFFQSxTQUFTRyxjQUFjQyxLQUFLO29CQUMxQixPQUFPTCxlQUFlOW1ELEtBQUssQ0FBQyxJQUFJLEVBQUVHO2dCQUNwQztnQkFFQSxPQUFPK21EO1lBQ1Q7UUFDRjtLQUFFLEVBQUU7UUFBQztZQUNINW1ELEtBQUs7WUFDTCtELE9BQU8sU0FBUytpRCxZQUFZOW1ELEdBQUcsRUFBRWkvQixlQUFlLEVBQUUvcEIsT0FBTztnQkFDdkQsSUFBSSxDQUFDOHBCLFdBQVcrbkIsU0FBUyxFQUFFO29CQUN6QixJQUFJLE9BQU85bkIsb0JBQW9CLFVBQVU7d0JBQ3ZDRCxXQUFXK25CLFNBQVMsR0FBRyxJQUFJL25CLFdBQVdoL0IsS0FBS2kvQixpQkFBaUIvcEI7b0JBQzlELE9BQU87d0JBQ0w4cEIsV0FBVytuQixTQUFTLEdBQUcsSUFBSS9uQixXQUFXaC9CLEtBQUtpL0I7b0JBQzdDO2dCQUNGO2dCQUVBLE9BQU9ELFdBQVcrbkIsU0FBUztZQUM3QjtRQUNGO0tBQUU7SUFFRixPQUFPL25CO0FBQ1Q7QUFFQXBqQyw0RUFBZUEsQ0FBQ29qQyxZQUFZLGFBQWEsS0FBSztBQUU5QyxJQUFJZ29CLFlBQVk7SUFDZCxtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLHFCQUFxQjtJQUNyQixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGlDQUFpQztJQUNqQyxnQ0FBZ0M7SUFDaEMsc0NBQXNDO0lBQ3RDLGtDQUFrQztJQUNsQyxnQ0FBZ0M7SUFDaEMsZ0NBQWdDO0lBQ2hDLHdCQUF3QjtJQUN4QiwwQkFBMEI7SUFDMUIsNEJBQTRCO0lBQzVCLDhCQUE4QjtJQUM5QixxQ0FBcUM7SUFDckMsb0JBQW9CO0lBQ3BCLGdCQUFnQjtJQUNoQixvQkFBb0I7SUFDcEIsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsZ0NBQWdDO0lBQ2hDLGdCQUFnQjtJQUNoQix1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLGVBQWU7SUFDZixvQkFBb0I7SUFDcEIsc0JBQXNCO0lBQ3RCLHdCQUF3QjtJQUN4QixxQkFBcUI7SUFDckIsd0JBQXdCO0FBQzFCO0FBRUEsSUFBSUMsUUFBUTtBQUNaLElBQUlDLE9BQU87QUFDWCxJQUFJQyxjQUFjO0lBQUM7Q0FBSTtBQUN2QixJQUFJQyxVQUFVO0lBQUM7Q0FBSTtBQUNuQixJQUFJQyxjQUFjO0FBQ2xCLElBQUlDLGNBQWMsR0FBRyxzR0FBc0c7QUFDM0gsZ0VBQWdFO0FBRWhFLElBQUlDLGFBQWEsU0FBU0EsV0FBVzk0QyxJQUFJLEVBQUUrNEMsUUFBUTtJQUNqRCxJQUFJQyxZQUFZNW5ELFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBR3NuRDtJQUNwRixJQUFJaDJDLFFBQVF0UixVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUd1bkQ7SUFDaEYsSUFBSU0sUUFBUTduRCxVQUFVM0MsTUFBTSxHQUFHLEtBQUsyQyxTQUFTLENBQUMsRUFBRSxLQUFLNkIsWUFBWTdCLFNBQVMsQ0FBQyxFQUFFLEdBQUc7SUFDaEYsSUFBSThuRCxTQUFTOW5ELFVBQVUzQyxNQUFNLEdBQUcsS0FBSzJDLFNBQVMsQ0FBQyxFQUFFLEtBQUs2QixZQUFZN0IsU0FBUyxDQUFDLEVBQUUsR0FBR29uRDtJQUVqRnZyRCw0RUFBZUEsQ0FBQyxJQUFJLEVBQUU2ckQ7SUFFdEIzckQsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFFBQVEsS0FBSztJQUVuQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFVBQVUsS0FBSztJQUVyQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFNBQVMsS0FBSztJQUVwQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFlBQVksS0FBSztJQUV2Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGFBQWEsS0FBSztJQUV4Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLFNBQVMsS0FBSztJQUVwQyxJQUFJLENBQUM2UyxJQUFJLEdBQUdBO0lBQ1osSUFBSSxDQUFDazVDLE1BQU0sR0FBR0E7SUFDZCxJQUFJLENBQUNELEtBQUssR0FBR0E7SUFDYixJQUFJLENBQUNGLFFBQVEsR0FBR0E7SUFDaEIsSUFBSSxDQUFDQyxTQUFTLEdBQUdBO0lBQ2pCLElBQUksQ0FBQ3QyQyxLQUFLLEdBQUdBO0FBQ2YsR0FBRyxhQUFhO0FBRWhCLElBQUl5MkMsV0FBVyxJQUFJTCxXQUFXLGFBQWFGLGFBQWFGLGFBQWFDLFNBQVMsT0FBT0gsUUFBUSxhQUFhO0FBRTFHLElBQUlZLFVBQVUsSUFBSU4sV0FBVyxZQUFZRCxhQUFhSCxhQUFhQyxTQUFTLE9BQU9GO0FBQ25GLElBQUlZLGVBQWU7SUFDakJDLE9BQU87SUFDUEMsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLGtCQUFrQjtJQUNsQkMsT0FBTztJQUNQQyxNQUFNO0FBQ1I7QUFDQSxJQUFJQyxxQkFBcUI7SUFDdkJDLFVBQVU7SUFDVkMsU0FBUztJQUNUQyxlQUFlO0lBQ2ZDLGVBQWU7SUFDZkMsZ0JBQWdCO0lBQ2hCQyxxQkFBcUI7SUFDckJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyxtQkFBbUI7SUFDbkJDLHFCQUFxQjtJQUNyQkMsa0JBQWtCO0lBQ2xCQyxrQkFBa0I7SUFDbEJDLG1CQUFtQjtJQUNuQkMsZ0JBQWdCO0lBQ2hCQyxnQkFBZ0I7SUFDaEJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyxrQkFBa0I7SUFDbEJDLHlCQUF5QjtJQUN6QkMseUJBQXlCO0lBQ3pCQyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyxrQkFBa0I7QUFDcEI7QUFFZ2UsQ0FDaGUsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGljdGFjdG9lLy4vbm9kZV9tb2R1bGVzL3N0cmVhbS1jaGF0L2Rpc3QvaW5kZXguZXMuanM/NzFlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tQnl0ZUFycmF5IH0gZnJvbSAnYmFzZTY0LWpzJztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF90eXBlb2YgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheSc7XG5pbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gJ0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheSc7XG5pbXBvcnQgRm9ybURhdGEgZnJvbSAnZm9ybS1kYXRhJztcbmltcG9ydCBXZWJTb2NrZXQgZnJvbSAnaXNvbW9ycGhpYy13cyc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgY3J5cHRvJDEgZnJvbSAnY3J5cHRvJztcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZic7XG5pbXBvcnQgX3dyYXBOYXRpdmVTdXBlciBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3dyYXBOYXRpdmVTdXBlcic7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nJDEoYXJyYXlPclN0cmluZykge1xuICByZXR1cm4gdHlwZW9mIGFycmF5T3JTdHJpbmcgPT09ICdzdHJpbmcnO1xufVxuXG5mdW5jdGlvbiBpc01hcFN0cmluZ0NhbGxiYWNrKGFycmF5T3JTdHJpbmcsIGNhbGxiYWNrKSB7XG4gIHJldHVybiAhIWNhbGxiYWNrICYmIGlzU3RyaW5nJDEoYXJyYXlPclN0cmluZyk7XG59IC8vIHNvdXJjZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9ibG9iL21hc3Rlci90ZXN0L2NvbnZlcnQuanMjTDcyXG5cblxuZnVuY3Rpb24gbWFwKGFycmF5T3JTdHJpbmcsIGNhbGxiYWNrKSB7XG4gIHZhciByZXMgPSBbXTtcblxuICBpZiAoaXNTdHJpbmckMShhcnJheU9yU3RyaW5nKSAmJiBpc01hcFN0cmluZ0NhbGxiYWNrKGFycmF5T3JTdHJpbmcsIGNhbGxiYWNrKSkge1xuICAgIGZvciAodmFyIGsgPSAwLCBsZW4gPSBhcnJheU9yU3RyaW5nLmxlbmd0aDsgayA8IGxlbjsgaysrKSB7XG4gICAgICBpZiAoYXJyYXlPclN0cmluZy5jaGFyQXQoaykpIHtcbiAgICAgICAgdmFyIGtWYWx1ZSA9IGFycmF5T3JTdHJpbmcuY2hhckF0KGspO1xuICAgICAgICB2YXIgbWFwcGVkVmFsdWUgPSBjYWxsYmFjayhrVmFsdWUsIGssIGFycmF5T3JTdHJpbmcpO1xuICAgICAgICByZXNba10gPSBtYXBwZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoIWlzU3RyaW5nJDEoYXJyYXlPclN0cmluZykgJiYgIWlzTWFwU3RyaW5nQ2FsbGJhY2soYXJyYXlPclN0cmluZywgY2FsbGJhY2spKSB7XG4gICAgZm9yICh2YXIgX2sgPSAwLCBfbGVuID0gYXJyYXlPclN0cmluZy5sZW5ndGg7IF9rIDwgX2xlbjsgX2srKykge1xuICAgICAgaWYgKF9rIGluIGFycmF5T3JTdHJpbmcpIHtcbiAgICAgICAgdmFyIF9rVmFsdWUgPSBhcnJheU9yU3RyaW5nW19rXTtcblxuICAgICAgICB2YXIgX21hcHBlZFZhbHVlID0gY2FsbGJhY2soX2tWYWx1ZSwgX2ssIGFycmF5T3JTdHJpbmcpO1xuXG4gICAgICAgIHJlc1tfa10gPSBfbWFwcGVkVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIGVuY29kZUJhc2U2NCA9IGZ1bmN0aW9uIGVuY29kZUJhc2U2NChkYXRhKSB7XG4gIHJldHVybiBmcm9tQnl0ZUFycmF5KG5ldyBVaW50OEFycmF5KG1hcChkYXRhLCBmdW5jdGlvbiAoY2hhcikge1xuICAgIHJldHVybiBjaGFyLmNoYXJDb2RlQXQoMCk7XG4gIH0pKSk7XG59OyAvLyBiYXNlLTY0IGRlY29kZXIgdGhyb3dzIGV4Y2VwdGlvbiBpZiBlbmNvZGVkIHN0cmluZyBpcyBub3QgcGFkZGVkIGJ5ICc9JyB0byBtYWtlIHN0cmluZyBsZW5ndGhcbi8vIGluIG11bHRpcGxlcyBvZiA0LiBTbyBnb25uYSB1c2Ugb3VyIG93biBtZXRob2QgZm9yIHRoaXMgcHVycG9zZSB0byBrZWVwIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDI2XG5cbnZhciBkZWNvZGVCYXNlNjQgPSBmdW5jdGlvbiBkZWNvZGVCYXNlNjQocykge1xuICB2YXIgZSA9IHt9LFxuICAgICAgdyA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG4gICAgICBMID0gcy5sZW5ndGg7XG4gIHZhciBpLFxuICAgICAgYiA9IDAsXG4gICAgICBjLFxuICAgICAgeCxcbiAgICAgIGwgPSAwLFxuICAgICAgYSxcbiAgICAgIHIgPSAnJztcbiAgdmFyIEEgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cbiAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgICBlW0EuY2hhckF0KGkpXSA9IGk7XG4gIH1cblxuICBmb3IgKHggPSAwOyB4IDwgTDsgeCsrKSB7XG4gICAgYyA9IGVbcy5jaGFyQXQoeCldO1xuICAgIGIgPSAoYiA8PCA2KSArIGM7XG4gICAgbCArPSA2O1xuXG4gICAgd2hpbGUgKGwgPj0gOCkge1xuICAgICAgKChhID0gYiA+Pj4gKGwgLT0gOCkgJiAweGZmKSB8fCB4IDwgTCAtIDIpICYmIChyICs9IHcoYSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByO1xufTtcblxuZnVuY3Rpb24gb3duS2V5cyQ2KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ2KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkNihPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDYoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8qKlxuICogQ2hhbm5lbFN0YXRlIC0gQSBjb250YWluZXIgY2xhc3MgZm9yIHRoZSBjaGFubmVsIHN0YXRlLlxuICovXG52YXIgQ2hhbm5lbFN0YXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIGNoYW5uZWwgc3RhdGUgY29udGFpbiBsYXRlc3QvcmVjZW50IG1lc3NhZ2VzIG9yIG5vLlxuICAgKiBUaGlzIGZsYWcgc2hvdWxkIGJlIG1hbmFnZWQgYnkgVUkgc2RrcyB1c2luZyBhIHNldHRlciAtIHNldElzVXBUb0RhdGUuXG4gICAqIFdoZW4gZmFsc2UsIGFueSBuZXcgbWVzc2FnZSAocmVjZWl2ZWQgYnkgd2Vic29ja2V0IGV2ZW50IC0gbWVzc2FnZS5uZXcpIHdpbGwgbm90XG4gICAqIGJlIHB1c2hlZCBvbiB0byBtZXNzYWdlIGxpc3QuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBEaXNqb2ludCBsaXN0cyBvZiBtZXNzYWdlc1xuICAgKiBVc2VycyBjYW4ganVtcCBpbiB0aGUgbWVzc2FnZSBsaXN0ICh3aXRoIHNlYXJjaGluZykgYW5kIHRoaXMgY2FuIHJlc3VsdCBpbiBkaXNqb2ludCBsaXN0cyBvZiBtZXNzYWdlc1xuICAgKiBUaGUgc3RhdGUgbWFuYWdlcyB0aGVzZSBsaXN0cyBhbmQgbWVyZ2VzIHRoZW0gd2hlbiBsaXN0cyBvdmVybGFwXG4gICAqIFRoZSBtZXNzYWdlcyBhcnJheSBjb250YWlucyB0aGUgY3VycmVudGx5IGFjdGl2ZSBzZXRcbiAgICovXG4gIGZ1bmN0aW9uIENoYW5uZWxTdGF0ZShjaGFubmVsKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgX2NoYW5uZWwkc3RhdGU7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhbm5lbFN0YXRlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jaGFubmVsXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3YXRjaGVyX2NvdW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eXBpbmdcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlYWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBpbm5lZE1lc3NhZ2VzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwZW5kaW5nX21lc3NhZ2VzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aHJlYWRzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtdXRlZFVzZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3YXRjaGVyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVtYmVyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidW5yZWFkQ291bnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1lbWJlcnNoaXBcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhc3RfbWVzc2FnZV9hdFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNVcFRvRGF0ZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVNldHNcIiwgW10pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2V0SXNVcFRvRGF0ZVwiLCBmdW5jdGlvbiAoaXNVcFRvRGF0ZSkge1xuICAgICAgX3RoaXMuaXNVcFRvRGF0ZSA9IGlzVXBUb0RhdGU7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZW1vdmVNZXNzYWdlRnJvbUFycmF5XCIsIGZ1bmN0aW9uIChtc2dBcnJheSwgbXNnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbXNnQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiAhKCEhbWVzc2FnZS5pZCAmJiAhIW1zZy5pZCAmJiBtZXNzYWdlLmlkID09PSBtc2cuaWQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmVkOiByZXN1bHQubGVuZ3RoIDwgbXNnQXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVVzZXJNZXNzYWdlc1wiLCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgdmFyIF91cGRhdGVVc2VyTWVzc2FnZXMgPSBmdW5jdGlvbiBfdXBkYXRlVXNlck1lc3NhZ2VzKG1lc3NhZ2VzLCB1c2VyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgX20kdXNlcjtcblxuICAgICAgICAgIHZhciBtID0gbWVzc2FnZXNbaV07XG5cbiAgICAgICAgICBpZiAoKChfbSR1c2VyID0gbS51c2VyKSA9PT0gbnVsbCB8fCBfbSR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbSR1c2VyLmlkKSA9PT0gdXNlci5pZCkge1xuICAgICAgICAgICAgbWVzc2FnZXNbaV0gPSBfb2JqZWN0U3ByZWFkJDYoX29iamVjdFNwcmVhZCQ2KHt9LCBtKSwge30sIHtcbiAgICAgICAgICAgICAgdXNlcjogdXNlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5tZXNzYWdlU2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGVVc2VyTWVzc2FnZXMoc2V0Lm1lc3NhZ2VzLCB1c2VyKTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKHZhciBwYXJlbnRJZCBpbiBfdGhpcy50aHJlYWRzKSB7XG4gICAgICAgIF91cGRhdGVVc2VyTWVzc2FnZXMoX3RoaXMudGhyZWFkc1twYXJlbnRJZF0sIHVzZXIpO1xuICAgICAgfVxuXG4gICAgICBfdXBkYXRlVXNlck1lc3NhZ2VzKF90aGlzLnBpbm5lZE1lc3NhZ2VzLCB1c2VyKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlbGV0ZVVzZXJNZXNzYWdlc1wiLCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgdmFyIGhhcmREZWxldGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICB2YXIgX2RlbGV0ZVVzZXJNZXNzYWdlcyA9IGZ1bmN0aW9uIF9kZWxldGVVc2VyTWVzc2FnZXMobWVzc2FnZXMsIHVzZXIpIHtcbiAgICAgICAgdmFyIGhhcmREZWxldGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgX20kdXNlcjI7XG5cbiAgICAgICAgICB2YXIgbSA9IG1lc3NhZ2VzW2ldO1xuXG4gICAgICAgICAgaWYgKCgoX20kdXNlcjIgPSBtLnVzZXIpID09PSBudWxsIHx8IF9tJHVzZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbSR1c2VyMi5pZCkgIT09IHVzZXIuaWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChoYXJkRGVsZXRlKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluIGNhc2Ugb2YgaGFyZCBkZWxldGUsIHdlIG5lZWQgdG8gc3RyaXAgZG93biBhbGwgdGV4dCwgaHRtbCxcbiAgICAgICAgICAgICAqIGF0dGFjaG1lbnRzIGFuZCBhbGwgdGhlIGN1c3RvbSBwcm9wZXJ0aWVzIG9uIG1lc3NhZ2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWVzc2FnZXNbaV0gPSB7XG4gICAgICAgICAgICAgIGNpZDogbS5jaWQsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG0uY3JlYXRlZF9hdCxcbiAgICAgICAgICAgICAgZGVsZXRlZF9hdDogdXNlci5kZWxldGVkX2F0LFxuICAgICAgICAgICAgICBpZDogbS5pZCxcbiAgICAgICAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogW10sXG4gICAgICAgICAgICAgIG1lbnRpb25lZF91c2VyczogW10sXG4gICAgICAgICAgICAgIG93bl9yZWFjdGlvbnM6IFtdLFxuICAgICAgICAgICAgICBwYXJlbnRfaWQ6IG0ucGFyZW50X2lkLFxuICAgICAgICAgICAgICByZXBseV9jb3VudDogbS5yZXBseV9jb3VudCxcbiAgICAgICAgICAgICAgc3RhdHVzOiBtLnN0YXR1cyxcbiAgICAgICAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogbS50aHJlYWRfcGFydGljaXBhbnRzLFxuICAgICAgICAgICAgICB0eXBlOiAnZGVsZXRlZCcsXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG0udXBkYXRlZF9hdCxcbiAgICAgICAgICAgICAgdXNlcjogbS51c2VyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlc1tpXSA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIG0pLCB7fSwge1xuICAgICAgICAgICAgICB0eXBlOiAnZGVsZXRlZCcsXG4gICAgICAgICAgICAgIGRlbGV0ZWRfYXQ6IHVzZXIuZGVsZXRlZF9hdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5tZXNzYWdlU2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVVc2VyTWVzc2FnZXMoc2V0Lm1lc3NhZ2VzLCB1c2VyLCBoYXJkRGVsZXRlKTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKHZhciBwYXJlbnRJZCBpbiBfdGhpcy50aHJlYWRzKSB7XG4gICAgICAgIF9kZWxldGVVc2VyTWVzc2FnZXMoX3RoaXMudGhyZWFkc1twYXJlbnRJZF0sIHVzZXIsIGhhcmREZWxldGUpO1xuICAgICAgfVxuXG4gICAgICBfZGVsZXRlVXNlck1lc3NhZ2VzKF90aGlzLnBpbm5lZE1lc3NhZ2VzLCB1c2VyLCBoYXJkRGVsZXRlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NoYW5uZWwgPSBjaGFubmVsO1xuICAgIHRoaXMud2F0Y2hlcl9jb3VudCA9IDA7XG4gICAgdGhpcy50eXBpbmcgPSB7fTtcbiAgICB0aGlzLnJlYWQgPSB7fTtcbiAgICB0aGlzLmluaXRNZXNzYWdlcygpO1xuICAgIHRoaXMucGlubmVkTWVzc2FnZXMgPSBbXTtcbiAgICB0aGlzLnBlbmRpbmdfbWVzc2FnZXMgPSBbXTtcbiAgICB0aGlzLnRocmVhZHMgPSB7fTsgLy8gYSBsaXN0IG9mIHVzZXJzIHRvIGhpZGUgbWVzc2FnZXMgZnJvbVxuXG4gICAgdGhpcy5tdXRlZFVzZXJzID0gW107XG4gICAgdGhpcy53YXRjaGVycyA9IHt9O1xuICAgIHRoaXMubWVtYmVycyA9IHt9O1xuICAgIHRoaXMubWVtYmVyc2hpcCA9IHt9O1xuICAgIHRoaXMudW5yZWFkQ291bnQgPSAwO1xuICAgIC8qKlxuICAgICAqIEZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIGNoYW5uZWwgc3RhdGUgY29udGFpbiBsYXRlc3QvcmVjZW50IG1lc3NhZ2VzIG9yIG5vLlxuICAgICAqIFRoaXMgZmxhZyBzaG91bGQgYmUgbWFuYWdlZCBieSBVSSBzZGtzIHVzaW5nIGEgc2V0dGVyIC0gc2V0SXNVcFRvRGF0ZS5cbiAgICAgKiBXaGVuIGZhbHNlLCBhbnkgbmV3IG1lc3NhZ2UgKHJlY2VpdmVkIGJ5IHdlYnNvY2tldCBldmVudCAtIG1lc3NhZ2UubmV3KSB3aWxsIG5vdFxuICAgICAqIGJlIHB1c2hlZCBvbiB0byBtZXNzYWdlIGxpc3QuXG4gICAgICovXG5cbiAgICB0aGlzLmlzVXBUb0RhdGUgPSB0cnVlO1xuICAgIHRoaXMubGFzdF9tZXNzYWdlX2F0ID0gKGNoYW5uZWwgPT09IG51bGwgfHwgY2hhbm5lbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jaGFubmVsJHN0YXRlID0gY2hhbm5lbC5zdGF0ZSkgPT09IG51bGwgfHwgX2NoYW5uZWwkc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsJHN0YXRlLmxhc3RfbWVzc2FnZV9hdCkgIT0gbnVsbCA/IG5ldyBEYXRlKGNoYW5uZWwuc3RhdGUubGFzdF9tZXNzYWdlX2F0KSA6IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhbm5lbFN0YXRlLCBbe1xuICAgIGtleTogXCJtZXNzYWdlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzJG1lc3NhZ2VTZXRzJGZpbjtcblxuICAgICAgcmV0dXJuICgoX3RoaXMkbWVzc2FnZVNldHMkZmluID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLmlzQ3VycmVudDtcbiAgICAgIH0pKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXNzYWdlU2V0cyRmaW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1lc3NhZ2VTZXRzJGZpbi5tZXNzYWdlcykgfHwgW107XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChtZXNzYWdlcykge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHMuaXNDdXJyZW50O1xuICAgICAgfSk7XG4gICAgICB0aGlzLm1lc3NhZ2VTZXRzW2luZGV4XS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBsYXRlc3QgbWVzc2FnZXNcbiAgICAgKiBUaGUgbWVzc2FnZXMgYXJyYXkgbm90IGFsd2F5cyBjb250YWlucyB0aGUgbGF0ZXN0IG1lc3NhZ2VzIChmb3IgZXhhbXBsZSBpZiBhIHVzZXIgc2VhcmNoZWQgZm9yIGFuIGVhcmxpZXIgbWVzc2FnZSwgdGhhdCBpcyBpbiBhIGRpZmZlcmVudCBtZXNzYWdlIHNldClcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxhdGVzdE1lc3NhZ2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMkbWVzc2FnZVNldHMkZmluMjtcblxuICAgICAgcmV0dXJuICgoX3RoaXMkbWVzc2FnZVNldHMkZmluMiA9IHRoaXMubWVzc2FnZVNldHMuZmluZChmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgIH0pKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXNzYWdlU2V0cyRmaW4yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXNzYWdlU2V0cyRmaW4yLm1lc3NhZ2VzKSB8fCBbXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG1lc3NhZ2VzKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tZXNzYWdlU2V0c1tpbmRleF0ubWVzc2FnZXMgPSBtZXNzYWdlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkTWVzc2FnZVNvcnRlZCAtIEFkZCBhIG1lc3NhZ2UgdG8gdGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBuZXdNZXNzYWdlIEEgbmV3IG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRpbWVzdGFtcENoYW5nZWQgV2hldGhlciB1cGRhdGluZyBhIG1lc3NhZ2Ugd2l0aCBjaGFuZ2VkIGNyZWF0ZWRfYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhZGRJZkRvZXNOb3RFeGlzdCBBZGQgbWVzc2FnZSBpZiBpdCBpcyBub3QgaW4gdGhlIGxpc3QsIHVzZWQgdG8gcHJldmVudCBvdXQgb2Ygb3JkZXIgdXBkYXRlZCBtZXNzYWdlcyBmcm9tIGJlaW5nIGFkZGVkLlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVNldFR5cGV9IG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgV2hpY2ggbWVzc2FnZSBzZXQgdG8gYWRkIHRvIGlmIG1lc3NhZ2UgaXMgbm90IGluIHRoZSBsaXN0IChvbmx5IHVzZWQgaWYgYWRkSWZEb2VzTm90RXhpc3QgaXMgdHJ1ZSlcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZE1lc3NhZ2VTb3J0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTWVzc2FnZVNvcnRlZChuZXdNZXNzYWdlKSB7XG4gICAgICB2YXIgdGltZXN0YW1wQ2hhbmdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICB2YXIgYWRkSWZEb2VzTm90RXhpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgICB2YXIgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ2xhdGVzdCc7XG4gICAgICByZXR1cm4gdGhpcy5hZGRNZXNzYWdlc1NvcnRlZChbbmV3TWVzc2FnZV0sIHRpbWVzdGFtcENoYW5nZWQsIGZhbHNlLCBhZGRJZkRvZXNOb3RFeGlzdCwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGZvcm1hdE1lc3NhZ2UgLSBUYWtlcyB0aGUgbWVzc2FnZSBvYmplY3QuIFBhcnNlcyB0aGUgZGF0ZXMsIHNldHMgX19odG1sXG4gICAgICogYW5kIHNldHMgdGhlIHN0YXR1cyB0byByZWNlaXZlZCBpZiBtaXNzaW5nLiBSZXR1cm5zIGEgbWVzc2FnZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IG1lc3NhZ2UgYSBtZXNzYWdlIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIG1lc3NhZ2UpLCB7fSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSBgaHRtbGBcbiAgICAgICAgICovXG4gICAgICAgIF9faHRtbDogbWVzc2FnZS5odG1sLFxuICAgICAgICAvLyBwYXJzZSB0aGUgZGF0ZS4uXG4gICAgICAgIHBpbm5lZF9hdDogbWVzc2FnZS5waW5uZWRfYXQgPyBuZXcgRGF0ZShtZXNzYWdlLnBpbm5lZF9hdCkgOiBudWxsLFxuICAgICAgICBjcmVhdGVkX2F0OiBtZXNzYWdlLmNyZWF0ZWRfYXQgPyBuZXcgRGF0ZShtZXNzYWdlLmNyZWF0ZWRfYXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbWVzc2FnZS51cGRhdGVkX2F0ID8gbmV3IERhdGUobWVzc2FnZS51cGRhdGVkX2F0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgIHN0YXR1czogbWVzc2FnZS5zdGF0dXMgfHwgJ3JlY2VpdmVkJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZE1lc3NhZ2VzU29ydGVkIC0gQWRkIHRoZSBsaXN0IG9mIG1lc3NhZ2VzIHRvIHN0YXRlIGFuZCByZXNvcnRzIHRoZSBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IG5ld01lc3NhZ2VzIEEgbGlzdCBvZiBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdGltZXN0YW1wQ2hhbmdlZCBXaGV0aGVyIHVwZGF0aW5nIG1lc3NhZ2VzIHdpdGggY2hhbmdlZCBjcmVhdGVkX2F0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdGlhbGl6aW5nIFdoZXRoZXIgY2hhbm5lbCBpcyBiZWluZyBpbml0aWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFkZElmRG9lc05vdEV4aXN0IEFkZCBtZXNzYWdlIGlmIGl0IGlzIG5vdCBpbiB0aGUgbGlzdCwgdXNlZCB0byBwcmV2ZW50IG91dCBvZiBvcmRlciB1cGRhdGVkIG1lc3NhZ2VzIGZyb20gYmVpbmcgYWRkZWQuXG4gICAgICogQHBhcmFtIHtNZXNzYWdlU2V0VHlwZX0gbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCBXaGljaCBtZXNzYWdlIHNldCB0byBhZGQgdG8gaWYgbWVzc2FnZXMgYXJlIG5vdCBpbiB0aGUgbGlzdCAob25seSB1c2VkIGlmIGFkZElmRG9lc05vdEV4aXN0IGlzIHRydWUpXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZE1lc3NhZ2VzU29ydGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE1lc3NhZ2VzU29ydGVkKG5ld01lc3NhZ2VzKSB7XG4gICAgICB2YXIgdGltZXN0YW1wQ2hhbmdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICB2YXIgaW5pdGlhbGl6aW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgIHZhciBhZGRJZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTtcbiAgICAgIHZhciBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAnY3VycmVudCc7XG5cbiAgICAgIHZhciBfdGhpcyRmaW5kVGFyZ2V0TWVzc2EgPSB0aGlzLmZpbmRUYXJnZXRNZXNzYWdlU2V0KG5ld01lc3NhZ2VzLCBhZGRJZkRvZXNOb3RFeGlzdCwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCksXG4gICAgICAgICAgbWVzc2FnZXNUb0FkZCA9IF90aGlzJGZpbmRUYXJnZXRNZXNzYS5tZXNzYWdlc1RvQWRkLFxuICAgICAgICAgIHRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IF90aGlzJGZpbmRUYXJnZXRNZXNzYS50YXJnZXRNZXNzYWdlU2V0SW5kZXg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZXNUb0FkZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgaXNGcm9tU2hhZG93QmFubmVkVXNlciA9IG1lc3NhZ2VzVG9BZGRbaV0uc2hhZG93ZWQ7XG5cbiAgICAgICAgaWYgKGlzRnJvbVNoYWRvd0Jhbm5lZFVzZXIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiBtZXNzYWdlIGlzIGFscmVhZHkgZm9ybWF0dGVkIHdlIGNhbiBza2lwIHRoZSB0YXNrcyBiZWxvd1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgdHJ1ZSBmb3IgbWVzc2FnZXMgdGhhdCBhcmUgYWxyZWFkeSBwcmVzZW50IGF0IHRoZSBzdGF0ZSAtPiB0aGlzIGhhcHBlbnMgd2hlbiB3ZSBwZXJmb3JtIG1lcmdpbmcgb2YgbWVzc2FnZSBzZXRzXG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBhbHNvIHRydWUgZm9yIG1lc3NhZ2UgcHJldmlld3MgdXNlZCBieSBzb21lIFNES3NcblxuXG4gICAgICAgIHZhciBpc01lc3NhZ2VGb3JtYXR0ZWQgPSBtZXNzYWdlc1RvQWRkW2ldLmNyZWF0ZWRfYXQgaW5zdGFuY2VvZiBEYXRlO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoaXNNZXNzYWdlRm9ybWF0dGVkKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzVG9BZGRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF90aGlzJF9jaGFubmVsO1xuXG4gICAgICAgICAgbWVzc2FnZSA9IHRoaXMuZm9ybWF0TWVzc2FnZShtZXNzYWdlc1RvQWRkW2ldKTtcblxuICAgICAgICAgIGlmIChtZXNzYWdlLnVzZXIgJiYgKF90aGlzJF9jaGFubmVsID0gdGhpcy5fY2hhbm5lbCkgIT09IG51bGwgJiYgX3RoaXMkX2NoYW5uZWwgIT09IHZvaWQgMCAmJiBfdGhpcyRfY2hhbm5lbC5jaWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RvcmUgdGhlIHJlZmVyZW5jZSB0byB1c2VyIGZvciB0aGlzIGNoYW5uZWwsIHNvIHRoYXQgd2hlbiB3ZSBoYXZlIHRvXG4gICAgICAgICAgICAgKiBoYW5kbGUgdXBkYXRlcyB0byB1c2VyLCB3ZSBjYW4gdXNlIHRoZSByZWZlcmVuY2UgbWFwLCB0byBkZXRlcm1pbmUgd2hpY2hcbiAgICAgICAgICAgICAqIGNoYW5uZWxzIG5lZWQgdG8gYmUgdXBkYXRlZCB3aXRoIHVwZGF0ZWQgdXNlciBvYmplY3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX2NoYW5uZWwuZ2V0Q2xpZW50KCkuc3RhdGUudXBkYXRlVXNlclJlZmVyZW5jZShtZXNzYWdlLnVzZXIsIHRoaXMuX2NoYW5uZWwuY2lkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5pdGlhbGl6aW5nICYmIG1lc3NhZ2UuaWQgJiYgdGhpcy50aHJlYWRzW21lc3NhZ2UuaWRdKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZSBvZiBjaGFubmVsIChlLmcuLCBpbiBjYXNlIG9mIGNvbm5lY3Rpb24gcmVjb3ZlcnkpLFxuICAgICAgICAgICAgLy8gdGhlbiBpbiB0aGF0IGNhc2Ugd2UgcmVtb3ZlIHRocmVhZCByZWxhdGVkIHRvIHRoaXMgbWVzc2FnZSBmcm9tIHRocmVhZHMgb2JqZWN0LlxuICAgICAgICAgICAgLy8gVGhpcyB3YXkgd2UgY2FuIGVuc3VyZSB0aGF0IHdlIGRvbid0IGhhdmUgYW55IHN0YWxlIGRhdGEgaW4gdGhyZWFkIG9iamVjdFxuICAgICAgICAgICAgLy8gYW5kIGNvbnN1bWVyIGNhbiByZWZldGNoIHRoZSByZXBsaWVzLlxuICAgICAgICAgICAgZGVsZXRlIHRoaXMudGhyZWFkc1ttZXNzYWdlLmlkXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRoaXMubGFzdF9tZXNzYWdlX2F0KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RfbWVzc2FnZV9hdCA9IG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdC5nZXRUaW1lKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtZXNzYWdlLmNyZWF0ZWRfYXQuZ2V0VGltZSgpID4gdGhpcy5sYXN0X21lc3NhZ2VfYXQuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RfbWVzc2FnZV9hdCA9IG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdC5nZXRUaW1lKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyB1cGRhdGUgb3IgYXBwZW5kIHRoZSBtZXNzYWdlcy4uLlxuXG5cbiAgICAgICAgdmFyIHBhcmVudElEID0gbWVzc2FnZS5wYXJlbnRfaWQ7IC8vIGFkZCB0byB0aGUgZ2l2ZW4gbWVzc2FnZSBzZXRcblxuICAgICAgICBpZiAoKCFwYXJlbnRJRCB8fCBtZXNzYWdlLnNob3dfaW5fY2hhbm5lbCkgJiYgdGFyZ2V0TWVzc2FnZVNldEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMubWVzc2FnZVNldHNbdGFyZ2V0TWVzc2FnZVNldEluZGV4XS5tZXNzYWdlcyA9IHRoaXMuX2FkZFRvTWVzc2FnZUxpc3QodGhpcy5tZXNzYWdlU2V0c1t0YXJnZXRNZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzLCBtZXNzYWdlLCB0aW1lc3RhbXBDaGFuZ2VkLCAnY3JlYXRlZF9hdCcsIGFkZElmRG9lc05vdEV4aXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIG1lc3NhZ2UgdG8gdGhyZWFkIGlmIGFwcGxpY2FibGUgYW5kIHRoZSBtZXNzYWdlXG4gICAgICAgICAqIHdhcyBhZGRlZCB3aGVuIHF1ZXJ5aW5nIGZvciByZXBsaWVzLCBvciB0aGUgdGhyZWFkIGFscmVhZHkgZXhpdHMuXG4gICAgICAgICAqIFRoaXMgaXMgdG8gcHJldmVudCB0aGUgdGhyZWFkIHN0YXRlIGZyb20gZ2V0dGluZyBvdXQgb2Ygc3luYyBpZlxuICAgICAgICAgKiBhIHRocmVhZCBtZXNzYWdlIGlzIHNob3duIGluIGNoYW5uZWwgYnV0IG9sZGVyIHRoYW4gdGhlIG5ld2VzdCB0aHJlYWRcbiAgICAgICAgICogbWVzc2FnZS4gVGhpcyBzaXR1YXRpb24gY2FuIHJlc3VsdCBpbiBhIHRocmVhZCBzdGF0ZSB3aGVyZSBhIHJhbmRvbVxuICAgICAgICAgKiBtZXNzYWdlIGlzIFwib2xkZXN0XCIgbWVzc2FnZSwgYW5kIG5ld2VyIG1lc3NhZ2VzIGFyZSB0aGVyZWZvcmUgbm90IGxvYWRlZC5cbiAgICAgICAgICogVGhpcyBjYW4gYWxzbyBvY2N1ciBpZiBhbiBvbGQgdGhyZWFkIG1lc3NhZ2UgaXMgdXBkYXRlZC5cbiAgICAgICAgICovXG5cblxuICAgICAgICBpZiAocGFyZW50SUQgJiYgIWluaXRpYWxpemluZykge1xuICAgICAgICAgIHZhciB0aHJlYWQgPSB0aGlzLnRocmVhZHNbcGFyZW50SURdIHx8IFtdO1xuXG4gICAgICAgICAgdmFyIHRocmVhZE1lc3NhZ2VzID0gdGhpcy5fYWRkVG9NZXNzYWdlTGlzdCh0aHJlYWQsIG1lc3NhZ2UsIHRpbWVzdGFtcENoYW5nZWQsICdjcmVhdGVkX2F0JywgYWRkSWZEb2VzTm90RXhpc3QpO1xuXG4gICAgICAgICAgdGhpcy50aHJlYWRzW3BhcmVudElEXSA9IHRocmVhZE1lc3NhZ2VzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VTZXQ6IHRoaXMubWVzc2FnZVNldHNbdGFyZ2V0TWVzc2FnZVNldEluZGV4XVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkUGlubmVkTWVzc2FnZXMgLSBhZGRzIG1lc3NhZ2VzIGluIHBpbm5lZE1lc3NhZ2VzIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PE1lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gcGlubmVkTWVzc2FnZXMgQSBsaXN0IG9mIHBpbm5lZCBtZXNzYWdlc1xuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRQaW5uZWRNZXNzYWdlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRQaW5uZWRNZXNzYWdlcyhwaW5uZWRNZXNzYWdlcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaW5uZWRNZXNzYWdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB0aGlzLmFkZFBpbm5lZE1lc3NhZ2UocGlubmVkTWVzc2FnZXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRQaW5uZWRNZXNzYWdlIC0gYWRkcyBtZXNzYWdlIGluIHBpbm5lZE1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBwaW5uZWRNZXNzYWdlIG1lc3NhZ2UgdG8gdXBkYXRlXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZFBpbm5lZE1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUGlubmVkTWVzc2FnZShwaW5uZWRNZXNzYWdlKSB7XG4gICAgICB0aGlzLnBpbm5lZE1lc3NhZ2VzID0gdGhpcy5fYWRkVG9NZXNzYWdlTGlzdCh0aGlzLnBpbm5lZE1lc3NhZ2VzLCB0aGlzLmZvcm1hdE1lc3NhZ2UocGlubmVkTWVzc2FnZSksIGZhbHNlLCAncGlubmVkX2F0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZVBpbm5lZE1lc3NhZ2UgLSByZW1vdmVzIHBpbm5lZCBtZXNzYWdlIGZyb20gcGlubmVkTWVzc2FnZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IG1lc3NhZ2UgbWVzc2FnZSB0byByZW1vdmVcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlUGlubmVkTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQaW5uZWRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfdGhpcyRyZW1vdmVNZXNzYWdlRnIgPSB0aGlzLnJlbW92ZU1lc3NhZ2VGcm9tQXJyYXkodGhpcy5waW5uZWRNZXNzYWdlcywgbWVzc2FnZSksXG4gICAgICAgICAgcmVzdWx0ID0gX3RoaXMkcmVtb3ZlTWVzc2FnZUZyLnJlc3VsdDtcblxuICAgICAgdGhpcy5waW5uZWRNZXNzYWdlcyA9IHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUmVhY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmVhY3Rpb24ocmVhY3Rpb24sIG1lc3NhZ2UsIGVuZm9yY2VfdW5pcXVlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKCFtZXNzYWdlKSByZXR1cm47XG4gICAgICB2YXIgbWVzc2FnZVdpdGhSZWFjdGlvbiA9IG1lc3NhZ2U7XG5cbiAgICAgIHRoaXMuX3VwZGF0ZU1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24gKG1zZykge1xuICAgICAgICBtZXNzYWdlV2l0aFJlYWN0aW9uLm93bl9yZWFjdGlvbnMgPSBfdGhpczIuX2FkZE93blJlYWN0aW9uVG9NZXNzYWdlKG1zZy5vd25fcmVhY3Rpb25zLCByZWFjdGlvbiwgZW5mb3JjZV91bmlxdWUpO1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZvcm1hdE1lc3NhZ2UobWVzc2FnZVdpdGhSZWFjdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1lc3NhZ2VXaXRoUmVhY3Rpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRPd25SZWFjdGlvblRvTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkT3duUmVhY3Rpb25Ub01lc3NhZ2Uob3duUmVhY3Rpb25zLCByZWFjdGlvbiwgZW5mb3JjZV91bmlxdWUpIHtcbiAgICAgIGlmIChlbmZvcmNlX3VuaXF1ZSkge1xuICAgICAgICBvd25SZWFjdGlvbnMgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93blJlYWN0aW9ucyA9IHRoaXMuX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2Uob3duUmVhY3Rpb25zLCByZWFjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIG93blJlYWN0aW9ucyA9IG93blJlYWN0aW9ucyB8fCBbXTtcblxuICAgICAgaWYgKHRoaXMuX2NoYW5uZWwuZ2V0Q2xpZW50KCkudXNlcklEID09PSByZWFjdGlvbi51c2VyX2lkKSB7XG4gICAgICAgIG93blJlYWN0aW9ucy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG93blJlYWN0aW9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2Uob3duUmVhY3Rpb25zLCByZWFjdGlvbikge1xuICAgICAgaWYgKG93blJlYWN0aW9ucykge1xuICAgICAgICByZXR1cm4gb3duUmVhY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLnVzZXJfaWQgIT09IHJlYWN0aW9uLnVzZXJfaWQgfHwgaXRlbS50eXBlICE9PSByZWFjdGlvbi50eXBlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG93blJlYWN0aW9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlUmVhY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUmVhY3Rpb24ocmVhY3Rpb24sIG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjtcbiAgICAgIHZhciBtZXNzYWdlV2l0aFJlYWN0aW9uID0gbWVzc2FnZTtcblxuICAgICAgdGhpcy5fdXBkYXRlTWVzc2FnZShtZXNzYWdlLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIG1lc3NhZ2VXaXRoUmVhY3Rpb24ub3duX3JlYWN0aW9ucyA9IF90aGlzMy5fcmVtb3ZlT3duUmVhY3Rpb25Gcm9tTWVzc2FnZShtc2cub3duX3JlYWN0aW9ucywgcmVhY3Rpb24pO1xuICAgICAgICByZXR1cm4gX3RoaXMzLmZvcm1hdE1lc3NhZ2UobWVzc2FnZVdpdGhSZWFjdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1lc3NhZ2VXaXRoUmVhY3Rpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVF1b3RlZE1lc3NhZ2VSZWZlcmVuY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVF1b3RlZE1lc3NhZ2VSZWZlcmVuY2VzKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFyc2VNZXNzYWdlID0gZnVuY3Rpb24gcGFyc2VNZXNzYWdlKG0pIHtcbiAgICAgICAgdmFyIF9tJHBpbm5lZF9hdCwgX20kdXBkYXRlZF9hdDtcblxuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgbSksIHt9LCB7XG4gICAgICAgICAgY3JlYXRlZF9hdDogbS5jcmVhdGVkX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgcGlubmVkX2F0OiAoX20kcGlubmVkX2F0ID0gbS5waW5uZWRfYXQpID09PSBudWxsIHx8IF9tJHBpbm5lZF9hdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20kcGlubmVkX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogKF9tJHVwZGF0ZWRfYXQgPSBtLnVwZGF0ZWRfYXQpID09PSBudWxsIHx8IF9tJHVwZGF0ZWRfYXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tJHVwZGF0ZWRfYXQudG9JU09TdHJpbmcoKVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMubWVzc2FnZVNldHMuZm9yRWFjaChmdW5jdGlvbiAoc2V0KSB7XG4gICAgICAgIHZhciB1cGRhdGVkTWVzc2FnZXMgPSBzZXQubWVzc2FnZXMuZmlsdGVyKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICByZXR1cm4gbXNnLnF1b3RlZF9tZXNzYWdlX2lkID09PSBtZXNzYWdlLmlkO1xuICAgICAgICB9KS5tYXAocGFyc2VNZXNzYWdlKS5tYXAoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJDYoX29iamVjdFNwcmVhZCQ2KHt9LCBtc2cpLCB7fSwge1xuICAgICAgICAgICAgcXVvdGVkX21lc3NhZ2U6IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIG1lc3NhZ2UpLCB7fSwge1xuICAgICAgICAgICAgICBhdHRhY2htZW50czogW11cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzNC5hZGRNZXNzYWdlc1NvcnRlZCh1cGRhdGVkTWVzc2FnZXMsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYWxsIGluc3RhbmNlcyBvZiBnaXZlbiBtZXNzYWdlIGluIGNoYW5uZWwgc3RhdGVcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB1cGRhdGVGdW5jXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlTWVzc2FnZShtZXNzYWdlLCB1cGRhdGVGdW5jKSB7XG4gICAgICB2YXIgcGFyZW50X2lkID0gbWVzc2FnZS5wYXJlbnRfaWQsXG4gICAgICAgICAgc2hvd19pbl9jaGFubmVsID0gbWVzc2FnZS5zaG93X2luX2NoYW5uZWwsXG4gICAgICAgICAgcGlubmVkID0gbWVzc2FnZS5waW5uZWQ7XG5cbiAgICAgIGlmIChwYXJlbnRfaWQgJiYgdGhpcy50aHJlYWRzW3BhcmVudF9pZF0pIHtcbiAgICAgICAgdmFyIHRocmVhZCA9IHRoaXMudGhyZWFkc1twYXJlbnRfaWRdO1xuICAgICAgICB2YXIgbXNnSW5kZXggPSB0aHJlYWQuZmluZEluZGV4KGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICByZXR1cm4gbXNnLmlkID09PSBtZXNzYWdlLmlkO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobXNnSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdGhyZWFkW21zZ0luZGV4XSA9IHVwZGF0ZUZ1bmModGhyZWFkW21zZ0luZGV4XSk7XG4gICAgICAgICAgdGhpcy50aHJlYWRzW3BhcmVudF9pZF0gPSB0aHJlYWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaG93X2luX2NoYW5uZWwgJiYgIXBhcmVudF9pZCB8fCBzaG93X2luX2NoYW5uZWwpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VTZXRJbmRleCA9IHRoaXMuZmluZE1lc3NhZ2VTZXRJbmRleChtZXNzYWdlKTtcblxuICAgICAgICBpZiAobWVzc2FnZVNldEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHZhciBfbXNnSW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzW21lc3NhZ2VTZXRJbmRleF0ubWVzc2FnZXMuZmluZEluZGV4KGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgIHJldHVybiBtc2cuaWQgPT09IG1lc3NhZ2UuaWQ7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoX21zZ0luZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlU2V0c1ttZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzW19tc2dJbmRleF0gPSB1cGRhdGVGdW5jKHRoaXMubWVzc2FnZVNldHNbbWVzc2FnZVNldEluZGV4XS5tZXNzYWdlc1tfbXNnSW5kZXhdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBpbm5lZCkge1xuICAgICAgICB2YXIgX21zZ0luZGV4MiA9IHRoaXMucGlubmVkTWVzc2FnZXMuZmluZEluZGV4KGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICByZXR1cm4gbXNnLmlkID09PSBtZXNzYWdlLmlkO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoX21zZ0luZGV4MiAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnBpbm5lZE1lc3NhZ2VzW19tc2dJbmRleDJdID0gdXBkYXRlRnVuYyh0aGlzLnBpbm5lZE1lc3NhZ2VzW19tc2dJbmRleDJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgZm9yIGlzVXBUb0RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXNVcFRvRGF0ZSAgRmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgY2hhbm5lbCBzdGF0ZSBjb250YWluIGxhdGVzdC9yZWNlbnQgbWVzc2FnZXMgb3Igbm8uXG4gICAgICogICAgICAgICAgICAgICAgICAgIFRoaXMgZmxhZyBzaG91bGQgYmUgbWFuYWdlZCBieSBVSSBzZGtzIHVzaW5nIGEgc2V0dGVyIC0gc2V0SXNVcFRvRGF0ZS5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgV2hlbiBmYWxzZSwgYW55IG5ldyBtZXNzYWdlIChyZWNlaXZlZCBieSB3ZWJzb2NrZXQgZXZlbnQgLSBtZXNzYWdlLm5ldykgd2lsbCBub3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgYmUgcHVzaGVkIG9uIHRvIG1lc3NhZ2UgbGlzdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRUb01lc3NhZ2VMaXN0XCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogX2FkZFRvTWVzc2FnZUxpc3QgLSBBZGRzIGEgbWVzc2FnZSB0byBhIGxpc3Qgb2YgbWVzc2FnZXMsIHRyaWVzIHRvIHVwZGF0ZSBmaXJzdCwgYXBwZW5kcyBpZiBtZXNzYWdlIGlzbid0IGZvdW5kXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJldHVyblR5cGU8Q2hhbm5lbFN0YXRlPFN0cmVhbUNoYXRHZW5lcmljcz5bJ2Zvcm1hdE1lc3NhZ2UnXT4+fSBtZXNzYWdlcyBBIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdGltZXN0YW1wQ2hhbmdlZCBXaGV0aGVyIHVwZGF0aW5nIGEgbWVzc2FnZSB3aXRoIGNoYW5nZWQgY3JlYXRlZF9hdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IGZpZWxkIG5hbWUgdG8gdXNlIHRvIHNvcnQgdGhlIG1lc3NhZ2VzIGJ5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBhZGRJZkRvZXNOb3RFeGlzdCBBZGQgbWVzc2FnZSBpZiBpdCBpcyBub3QgaW4gdGhlIGxpc3QsIHVzZWQgdG8gcHJldmVudCBvdXQgb2Ygb3JkZXIgdXBkYXRlZCBtZXNzYWdlcyBmcm9tIGJlaW5nIGFkZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9hZGRUb01lc3NhZ2VMaXN0KG1lc3NhZ2VzLCBtZXNzYWdlKSB7XG4gICAgICB2YXIgdGltZXN0YW1wQ2hhbmdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gICAgICB2YXIgc29ydEJ5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnY3JlYXRlZF9hdCc7XG4gICAgICB2YXIgYWRkSWZEb2VzTm90RXhpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XG4gICAgICB2YXIgYWRkTWVzc2FnZVRvTGlzdCA9IGFkZElmRG9lc05vdEV4aXN0IHx8IHRpbWVzdGFtcENoYW5nZWQ7XG4gICAgICB2YXIgbWVzc2FnZUFyciA9IG1lc3NhZ2VzOyAvLyBpZiBjcmVhdGVkX2F0IGhhcyBjaGFuZ2VkLCBtZXNzYWdlIHNob3VsZCBiZSBmaWx0ZXJlZCBhbmQgcmUtaW5zZXJ0ZWQgaW4gY29ycmVjdCBvcmRlclxuICAgICAgLy8gc2xvdyBvcCBidXQgdXN1YWxseSB0aGlzIG9ubHkgaGFwcGVucyBmb3IgYSBtZXNzYWdlIGluc2VydGVkIHRvIHN0YXRlIGJlZm9yZSBhY3R1YWwgcmVzcG9uc2Ugd2l0aCBjb3JyZWN0IHRpbWVzdGFtcFxuXG4gICAgICBpZiAodGltZXN0YW1wQ2hhbmdlZCkge1xuICAgICAgICBtZXNzYWdlQXJyID0gbWVzc2FnZUFyci5maWx0ZXIoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgIHJldHVybiAhKG1zZy5pZCAmJiBtZXNzYWdlLmlkID09PSBtc2cuaWQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gR2V0IGFycmF5IGxlbmd0aCBhZnRlciBmaWx0ZXJpbmdcblxuXG4gICAgICB2YXIgbWVzc2FnZUFycmF5TGVuZ3RoID0gbWVzc2FnZUFyci5sZW5ndGg7IC8vIGZvciBlbXB0eSBsaXN0IGp1c3QgY29uY2F0IGFuZCByZXR1cm4gdW5sZXNzIGl0J3MgYW4gdXBkYXRlIG9yIGRlbGV0aW9uXG5cbiAgICAgIGlmIChtZXNzYWdlQXJyYXlMZW5ndGggPT09IDAgJiYgYWRkTWVzc2FnZVRvTGlzdCkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZUFyci5jb25jYXQobWVzc2FnZSk7XG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VBcnJheUxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KG1lc3NhZ2VBcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVzc2FnZVRpbWUgPSBtZXNzYWdlW3NvcnRCeV0uZ2V0VGltZSgpO1xuICAgICAgdmFyIG1lc3NhZ2VJc05ld2VzdCA9IG1lc3NhZ2VBcnJbbWVzc2FnZUFycmF5TGVuZ3RoIC0gMV1bc29ydEJ5XS5nZXRUaW1lKCkgPCBtZXNzYWdlVGltZTsgLy8gaWYgbWVzc2FnZSBpcyBuZXdlciB0aGFuIGxhc3QgaXRlbSBpbiB0aGUgbGlzdCBjb25jYXQgYW5kIHJldHVybiB1bmxlc3MgaXQncyBhbiB1cGRhdGUgb3IgZGVsZXRpb25cblxuICAgICAgaWYgKG1lc3NhZ2VJc05ld2VzdCAmJiBhZGRNZXNzYWdlVG9MaXN0KSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlQXJyLmNvbmNhdChtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZUlzTmV3ZXN0KSB7XG4gICAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZUFycik7XG4gICAgICB9IC8vIGZpbmQgdGhlIGNsb3Nlc3QgaW5kZXggdG8gcHVzaCB0aGUgbmV3IG1lc3NhZ2VcblxuXG4gICAgICB2YXIgbGVmdCA9IDA7XG4gICAgICB2YXIgbWlkZGxlID0gMDtcbiAgICAgIHZhciByaWdodCA9IG1lc3NhZ2VBcnJheUxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChsZWZ0IDw9IHJpZ2h0KSB7XG4gICAgICAgIG1pZGRsZSA9IE1hdGguZmxvb3IoKHJpZ2h0ICsgbGVmdCkgLyAyKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VBcnJbbWlkZGxlXVtzb3J0QnldLmdldFRpbWUoKSA8PSBtZXNzYWdlVGltZSkgbGVmdCA9IG1pZGRsZSArIDE7ZWxzZSByaWdodCA9IG1pZGRsZSAtIDE7XG4gICAgICB9IC8vIG1lc3NhZ2UgYWxyZWFkeSBleGlzdHMgYW5kIG5vdCBmaWx0ZXJlZCBkdWUgdG8gdGltZXN0YW1wQ2hhbmdlZCwgdXBkYXRlIGFuZCByZXR1cm5cblxuXG4gICAgICBpZiAoIXRpbWVzdGFtcENoYW5nZWQgJiYgbWVzc2FnZS5pZCkge1xuICAgICAgICBpZiAobWVzc2FnZUFycltsZWZ0XSAmJiBtZXNzYWdlLmlkID09PSBtZXNzYWdlQXJyW2xlZnRdLmlkKSB7XG4gICAgICAgICAgbWVzc2FnZUFycltsZWZ0XSA9IG1lc3NhZ2U7XG4gICAgICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlQXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXNzYWdlQXJyW2xlZnQgLSAxXSAmJiBtZXNzYWdlLmlkID09PSBtZXNzYWdlQXJyW2xlZnQgLSAxXS5pZCkge1xuICAgICAgICAgIG1lc3NhZ2VBcnJbbGVmdCAtIDFdID0gbWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KG1lc3NhZ2VBcnIpO1xuICAgICAgICB9XG4gICAgICB9IC8vIERvIG5vdCBhZGQgdXBkYXRlZCBvciBkZWxldGVkIG1lc3NhZ2VzIHRvIHRoZSBsaXN0IGlmIHRoZXkgZG8gbm90IGFscmVhZHkgZXhpc3RcbiAgICAgIC8vIG9yIGhhdmUgYSB0aW1lc3RhbXAgY2hhbmdlLlxuXG5cbiAgICAgIGlmIChhZGRNZXNzYWdlVG9MaXN0KSB7XG4gICAgICAgIG1lc3NhZ2VBcnIuc3BsaWNlKGxlZnQsIDAsIG1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KG1lc3NhZ2VBcnIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZW1vdmVNZXNzYWdlIC0gRGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7eyBpZDogc3RyaW5nOyBwYXJlbnRfaWQ/OiBzdHJpbmcgfX0gbWVzc2FnZVRvUmVtb3ZlIE9iamVjdCBvZiB0aGUgbWVzc2FnZSB0byByZW1vdmUuIE5lZWRzIHRvIGhhdmUgYXQgaWQgc3BlY2lmaWVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyBpZiB0aGUgbWVzc2FnZSB3YXMgcmVtb3ZlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVNZXNzYWdlKG1lc3NhZ2VUb1JlbW92ZSkge1xuICAgICAgdmFyIGlzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAobWVzc2FnZVRvUmVtb3ZlLnBhcmVudF9pZCAmJiB0aGlzLnRocmVhZHNbbWVzc2FnZVRvUmVtb3ZlLnBhcmVudF9pZF0pIHtcbiAgICAgICAgdmFyIF90aGlzJHJlbW92ZU1lc3NhZ2VGcjIgPSB0aGlzLnJlbW92ZU1lc3NhZ2VGcm9tQXJyYXkodGhpcy50aHJlYWRzW21lc3NhZ2VUb1JlbW92ZS5wYXJlbnRfaWRdLCBtZXNzYWdlVG9SZW1vdmUpLFxuICAgICAgICAgICAgcmVtb3ZlZCA9IF90aGlzJHJlbW92ZU1lc3NhZ2VGcjIucmVtb3ZlZCxcbiAgICAgICAgICAgIHRocmVhZE1lc3NhZ2VzID0gX3RoaXMkcmVtb3ZlTWVzc2FnZUZyMi5yZXN1bHQ7XG5cbiAgICAgICAgdGhpcy50aHJlYWRzW21lc3NhZ2VUb1JlbW92ZS5wYXJlbnRfaWRdID0gdGhyZWFkTWVzc2FnZXM7XG4gICAgICAgIGlzUmVtb3ZlZCA9IHJlbW92ZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX21lc3NhZ2VUb1JlbW92ZSRtZXNzO1xuXG4gICAgICAgIHZhciBtZXNzYWdlU2V0SW5kZXggPSAoX21lc3NhZ2VUb1JlbW92ZSRtZXNzID0gbWVzc2FnZVRvUmVtb3ZlLm1lc3NhZ2VTZXRJbmRleCkgIT09IG51bGwgJiYgX21lc3NhZ2VUb1JlbW92ZSRtZXNzICE9PSB2b2lkIDAgPyBfbWVzc2FnZVRvUmVtb3ZlJG1lc3MgOiB0aGlzLmZpbmRNZXNzYWdlU2V0SW5kZXgobWVzc2FnZVRvUmVtb3ZlKTtcblxuICAgICAgICBpZiAobWVzc2FnZVNldEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHZhciBfdGhpcyRyZW1vdmVNZXNzYWdlRnIzID0gdGhpcy5yZW1vdmVNZXNzYWdlRnJvbUFycmF5KHRoaXMubWVzc2FnZVNldHNbbWVzc2FnZVNldEluZGV4XS5tZXNzYWdlcywgbWVzc2FnZVRvUmVtb3ZlKSxcbiAgICAgICAgICAgICAgX3JlbW92ZWQgPSBfdGhpcyRyZW1vdmVNZXNzYWdlRnIzLnJlbW92ZWQsXG4gICAgICAgICAgICAgIG1lc3NhZ2VzID0gX3RoaXMkcmVtb3ZlTWVzc2FnZUZyMy5yZXN1bHQ7XG5cbiAgICAgICAgICB0aGlzLm1lc3NhZ2VTZXRzW21lc3NhZ2VTZXRJbmRleF0ubWVzc2FnZXMgPSBtZXNzYWdlcztcbiAgICAgICAgICBpc1JlbW92ZWQgPSBfcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNSZW1vdmVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaWx0ZXJFcnJvck1lc3NhZ2VzXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogZmlsdGVyRXJyb3JNZXNzYWdlcyAtIFJlbW92ZXMgZXJyb3IgbWVzc2FnZXMgZnJvbSB0aGUgY2hhbm5lbCBzdGF0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlckVycm9yTWVzc2FnZXMoKSB7XG4gICAgICB2YXIgZmlsdGVyZWRNZXNzYWdlcyA9IHRoaXMubGF0ZXN0TWVzc2FnZXMuZmlsdGVyKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLnR5cGUgIT09ICdlcnJvcic7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubGF0ZXN0TWVzc2FnZXMgPSBmaWx0ZXJlZE1lc3NhZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhbiAtIFJlbW92ZSBzdGFsZSBkYXRhIHN1Y2ggYXMgdXNlcnMgdGhhdCBzdGF5ZWQgaW4gdHlwaW5nIHN0YXRlIGZvciBtb3JlIHRoYW4gNSBzZWNvbmRzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjbGVhblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhbigpIHtcbiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOyAvLyBwcmV2ZW50IG9sZCB1c2VycyBmcm9tIHNob3dpbmcgdXAgYXMgdHlwaW5nXG5cbiAgICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModGhpcy50eXBpbmcpOyBfaSA8IF9PYmplY3QkZW50cmllcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaV0sIDIpLFxuICAgICAgICAgICAgdXNlcklEID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLFxuICAgICAgICAgICAgbGFzdEV2ZW50ID0gX09iamVjdCRlbnRyaWVzJF9pWzFdO1xuXG4gICAgICAgIHZhciByZWNlaXZlZEF0ID0gdHlwZW9mIGxhc3RFdmVudC5yZWNlaXZlZF9hdCA9PT0gJ3N0cmluZycgPyBuZXcgRGF0ZShsYXN0RXZlbnQucmVjZWl2ZWRfYXQpIDogbGFzdEV2ZW50LnJlY2VpdmVkX2F0IHx8IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgaWYgKG5vdy5nZXRUaW1lKCkgLSByZWNlaXZlZEF0LmdldFRpbWUoKSA+IDcwMDApIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy50eXBpbmdbdXNlcklEXTtcblxuICAgICAgICAgIHRoaXMuX2NoYW5uZWwuZ2V0Q2xpZW50KCkuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBjaWQ6IHRoaXMuX2NoYW5uZWwuY2lkLFxuICAgICAgICAgICAgdHlwZTogJ3R5cGluZy5zdG9wJyxcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJRFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsZWFyTWVzc2FnZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJNZXNzYWdlcygpIHtcbiAgICAgIHRoaXMuaW5pdE1lc3NhZ2VzKCk7XG4gICAgICB0aGlzLnBpbm5lZE1lc3NhZ2VzID0gW107XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluaXRNZXNzYWdlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0TWVzc2FnZXMoKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VTZXRzID0gW3tcbiAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICBpc0xhdGVzdDogdHJ1ZSxcbiAgICAgICAgaXNDdXJyZW50OiB0cnVlXG4gICAgICB9XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbG9hZE1lc3NhZ2VJbnRvU3RhdGUgLSBMb2FkcyBhIGdpdmVuIG1lc3NhZ2UgKGFuZCBtZXNzYWdlcyBhcm91bmQgaXQpIGludG8gdGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZUlkIFRoZSBpZCBvZiB0aGUgbWVzc2FnZSwgb3IgJ2xhdGVzdCcgdG8gaW5kaWNhdGUgc3dpdGNoaW5nIHRvIHRoZSBsYXRlc3QgbWVzc2FnZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50TWVzc2FnZUlkIFRoZSBpZCBvZiB0aGUgcGFyZW50IG1lc3NhZ2UsIGlmIHdlIHdhbnQgbG9hZCBhIHRocmVhZCByZXBseVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZE1lc3NhZ2VJbnRvU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9sb2FkTWVzc2FnZUludG9TdGF0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobWVzc2FnZUlkLCBwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIF90aGlzJHRocmVhZHMkcGFyZW50TTtcblxuICAgICAgICB2YXIgbGltaXQsXG4gICAgICAgICAgICBtZXNzYWdlU2V0SW5kZXgsXG4gICAgICAgICAgICBzd2l0Y2hlZFRvTWVzc2FnZVNldCxcbiAgICAgICAgICAgIGxvYWRlZE1lc3NhZ2VUaHJlYWQsXG4gICAgICAgICAgICBtZXNzYWdlSWRUb0ZpbmQsXG4gICAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBsaW1pdCA9IF9hcmdzLmxlbmd0aCA+IDIgJiYgX2FyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzJdIDogMjU7XG4gICAgICAgICAgICAgICAgc3dpdGNoZWRUb01lc3NhZ2VTZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsb2FkZWRNZXNzYWdlVGhyZWFkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWVzc2FnZUlkVG9GaW5kID0gcGFyZW50TWVzc2FnZUlkIHx8IG1lc3NhZ2VJZDtcblxuICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2VJZCA9PT0gJ2xhdGVzdCcpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm1lc3NhZ2VzID09PSB0aGlzLmxhdGVzdE1lc3NhZ2VzKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2V0SW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuaXNMYXRlc3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgbWVzc2FnZVNldEluZGV4ID0gdGhpcy5maW5kTWVzc2FnZVNldEluZGV4KHtcbiAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlSWRUb0ZpbmRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlU2V0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFRvTWVzc2FnZVNldChtZXNzYWdlU2V0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgc3dpdGNoZWRUb01lc3NhZ2VTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxvYWRlZE1lc3NhZ2VUaHJlYWQgPSAhcGFyZW50TWVzc2FnZUlkIHx8ICEhKChfdGhpcyR0aHJlYWRzJHBhcmVudE0gPSB0aGlzLnRocmVhZHNbcGFyZW50TWVzc2FnZUlkXSkgIT09IG51bGwgJiYgX3RoaXMkdGhyZWFkcyRwYXJlbnRNICE9PSB2b2lkIDAgJiYgX3RoaXMkdGhyZWFkcyRwYXJlbnRNLmZpbmQoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmlkID09PSBtZXNzYWdlSWQ7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoc3dpdGNoZWRUb01lc3NhZ2VTZXQgJiYgbG9hZGVkTWVzc2FnZVRocmVhZCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICBpZiAoc3dpdGNoZWRUb01lc3NhZ2VTZXQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hhbm5lbC5xdWVyeSh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlczoge1xuICAgICAgICAgICAgICAgICAgICBpZF9hcm91bmQ6IG1lc3NhZ2VJZFRvRmluZCxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgJ25ldycpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgaWYgKCEoIWxvYWRlZE1lc3NhZ2VUaHJlYWQgJiYgcGFyZW50TWVzc2FnZUlkKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGFubmVsLmdldFJlcGxpZXMocGFyZW50TWVzc2FnZUlkLCB7XG4gICAgICAgICAgICAgICAgICBpZF9hcm91bmQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgIGxpbWl0OiBsaW1pdFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgbWVzc2FnZVNldEluZGV4ID0gdGhpcy5maW5kTWVzc2FnZVNldEluZGV4KHtcbiAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlSWRUb0ZpbmRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlU2V0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFRvTWVzc2FnZVNldChtZXNzYWdlU2V0SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBsb2FkTWVzc2FnZUludG9TdGF0ZShfeCwgX3gyKSB7XG4gICAgICAgIHJldHVybiBfbG9hZE1lc3NhZ2VJbnRvU3RhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvYWRNZXNzYWdlSW50b1N0YXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGZpbmRNZXNzYWdlIC0gRmluZHMgYSBtZXNzYWdlIGluc2lkZSB0aGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSWQgVGhlIGlkIG9mIHRoZSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudE1lc3NhZ2VJZCBUaGUgaWQgb2YgdGhlIHBhcmVudCBtZXNzYWdlLCBpZiB3ZSB3YW50IGxvYWQgYSB0aHJlYWQgcmVwbHlcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JldHVyblR5cGU8Q2hhbm5lbFN0YXRlPFN0cmVhbUNoYXRHZW5lcmljcz5bJ2Zvcm1hdE1lc3NhZ2UnXT59IFJldHVybnMgdGhlIG1lc3NhZ2UsIG9yIHVuZGVmaW5lZCBpZiB0aGUgbWVzc2FnZSB3YXNuJ3QgZm91bmRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZpbmRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRNZXNzYWdlKG1lc3NhZ2VJZCwgcGFyZW50TWVzc2FnZUlkKSB7XG4gICAgICBpZiAocGFyZW50TWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMudGhyZWFkc1twYXJlbnRNZXNzYWdlSWRdO1xuXG4gICAgICAgIGlmICghbWVzc2FnZXMpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzLmZpbmQoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICByZXR1cm4gbS5pZCA9PT0gbWVzc2FnZUlkO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lc3NhZ2VTZXRJbmRleCA9IHRoaXMuZmluZE1lc3NhZ2VTZXRJbmRleCh7XG4gICAgICAgIGlkOiBtZXNzYWdlSWRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobWVzc2FnZVNldEluZGV4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5tZXNzYWdlU2V0c1ttZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzLmZpbmQoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgcmV0dXJuIG0uaWQgPT09IG1lc3NhZ2VJZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzd2l0Y2hUb01lc3NhZ2VTZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3dpdGNoVG9NZXNzYWdlU2V0KGluZGV4KSB7XG4gICAgICB2YXIgY3VycmVudE1lc3NhZ2VzID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLmlzQ3VycmVudDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWN1cnJlbnRNZXNzYWdlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRNZXNzYWdlcy5pc0N1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHRoaXMubWVzc2FnZVNldHNbaW5kZXhdLmlzQ3VycmVudCA9IHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFyZU1lc3NhZ2VTZXRzT3ZlcmxhcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhcmVNZXNzYWdlU2V0c092ZXJsYXAobWVzc2FnZXMxLCBtZXNzYWdlczIpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlczEuc29tZShmdW5jdGlvbiAobTEpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzMi5maW5kKGZ1bmN0aW9uIChtMikge1xuICAgICAgICAgIHJldHVybiBtMS5pZCA9PT0gbTIuaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbmRNZXNzYWdlU2V0SW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZE1lc3NhZ2VTZXRJbmRleChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHNldCkge1xuICAgICAgICByZXR1cm4gISFzZXQubWVzc2FnZXMuZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgICAgIHJldHVybiBtLmlkID09PSBtZXNzYWdlLmlkO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaW5kVGFyZ2V0TWVzc2FnZVNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kVGFyZ2V0TWVzc2FnZVNldChuZXdNZXNzYWdlcykge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciBhZGRJZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgICAgIHZhciBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY3VycmVudCc7XG4gICAgICB2YXIgbWVzc2FnZXNUb0FkZCA9IG5ld01lc3NhZ2VzO1xuICAgICAgdmFyIHRhcmdldE1lc3NhZ2VTZXRJbmRleDtcblxuICAgICAgaWYgKGFkZElmRG9lc05vdEV4aXN0KSB7XG4gICAgICAgIHZhciBvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRpY2VzID0gdGhpcy5tZXNzYWdlU2V0cy5tYXAoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNS5hcmVNZXNzYWdlU2V0c092ZXJsYXAoX3RoaXM1Lm1lc3NhZ2VTZXRzW2ldLm1lc3NhZ2VzLCBuZXdNZXNzYWdlcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCkge1xuICAgICAgICAgIGNhc2UgJ25ldyc6XG4gICAgICAgICAgICBpZiAob3ZlcmxhcHBpbmdNZXNzYWdlU2V0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXNbMF07IC8vIE5vIG5ldyBtZXNzYWdlIHNldCBpcyBjcmVhdGVkIGlmIG5ld01lc3NhZ2VzIG9ubHkgY29udGFpbnMgdGhyZWFkIHJlcGxpZXNcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3TWVzc2FnZXMuc29tZShmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICByZXR1cm4gIW0ucGFyZW50X2lkO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlU2V0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogW10sXG4gICAgICAgICAgICAgICAgaXNDdXJyZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc0xhdGVzdDogZmFsc2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IHRoaXMubWVzc2FnZVNldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdjdXJyZW50JzpcbiAgICAgICAgICAgIHRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IHRoaXMubWVzc2FnZVNldHMuZmluZEluZGV4KGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzLmlzQ3VycmVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdsYXRlc3QnOlxuICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHMuaXNMYXRlc3Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IC0xO1xuICAgICAgICB9IC8vIHdoZW4gbWVyZ2luZyB0aGUgdGFyZ2V0IHNldCB3aWxsIGJlIHRoZSBmaXJzdCBvbmUgZnJvbSB0aGUgb3ZlcmxhcHBpbmcgbWVzc2FnZSBzZXRzXG5cblxuICAgICAgICB2YXIgbWVyZ2VUYXJnZXRNZXNzYWdlU2V0SW5kZXggPSBvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRpY2VzLnNwbGljZSgwLCAxKVswXTtcblxuICAgICAgICB2YXIgbWVyZ2VTb3VyY2VNZXNzYWdlU2V0SW5kaWNlcyA9IF90b0NvbnN1bWFibGVBcnJheShvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRpY2VzKTtcblxuICAgICAgICBpZiAobWVyZ2VUYXJnZXRNZXNzYWdlU2V0SW5kZXggIT09IHVuZGVmaW5lZCAmJiBtZXJnZVRhcmdldE1lc3NhZ2VTZXRJbmRleCAhPT0gdGFyZ2V0TWVzc2FnZVNldEluZGV4KSB7XG4gICAgICAgICAgbWVyZ2VTb3VyY2VNZXNzYWdlU2V0SW5kaWNlcy5wdXNoKHRhcmdldE1lc3NhZ2VTZXRJbmRleCk7XG4gICAgICAgIH0gLy8gbWVyZ2UgbWVzc2FnZSBzZXRzXG5cblxuICAgICAgICBpZiAobWVyZ2VTb3VyY2VNZXNzYWdlU2V0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMubWVzc2FnZVNldHNbbWVyZ2VUYXJnZXRNZXNzYWdlU2V0SW5kZXhdO1xuICAgICAgICAgIHZhciBzb3VyY2VzID0gdGhpcy5tZXNzYWdlU2V0cy5maWx0ZXIoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzLmluZGV4T2YoaSkgIT09IC0xO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAobWVzc2FnZVNldCkge1xuICAgICAgICAgICAgdGFyZ2V0LmlzTGF0ZXN0ID0gdGFyZ2V0LmlzTGF0ZXN0IHx8IG1lc3NhZ2VTZXQuaXNMYXRlc3Q7XG4gICAgICAgICAgICB0YXJnZXQuaXNDdXJyZW50ID0gdGFyZ2V0LmlzQ3VycmVudCB8fCBtZXNzYWdlU2V0LmlzQ3VycmVudDtcbiAgICAgICAgICAgIG1lc3NhZ2VzVG9BZGQgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG1lc3NhZ2VzVG9BZGQpLCBfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZVNldC5tZXNzYWdlcykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5tZXNzYWdlU2V0cy5zcGxpY2UoX3RoaXM1Lm1lc3NhZ2VTZXRzLmluZGV4T2YocyksIDEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRleCA9IHRoaXMubWVzc2FnZVNldHMuZmluZEluZGV4KGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1LmFyZU1lc3NhZ2VTZXRzT3ZlcmxhcChzLm1lc3NhZ2VzLCBuZXdNZXNzYWdlcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gb3ZlcmxhcHBpbmdNZXNzYWdlU2V0SW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFzc3VtZXMgdGhhdCBhbGwgbmV3IG1lc3NhZ2VzIGJlbG9uZyB0byB0aGUgc2FtZSBzZXRcbiAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gdGhpcy5maW5kTWVzc2FnZVNldEluZGV4KG5ld01lc3NhZ2VzWzBdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4OiB0YXJnZXRNZXNzYWdlU2V0SW5kZXgsXG4gICAgICAgIG1lc3NhZ2VzVG9BZGQ6IG1lc3NhZ2VzVG9BZGRcbiAgICAgIH07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYW5uZWxTdGF0ZTtcbn0oKTtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMyhvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyhvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIChfZSkgeyBmdW5jdGlvbiBlKF94KSB7IHJldHVybiBfZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfZS50b1N0cmluZygpOyB9OyByZXR1cm4gZTsgfShmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiAoX2UyKSB7IGZ1bmN0aW9uIGUoX3gyKSB7IHJldHVybiBfZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX2UyLnRvU3RyaW5nKCk7IH07IHJldHVybiBlOyB9KGZ1bmN0aW9uIChlKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IGU7IH0pLCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQzKG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMyhvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDMobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQzKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4vKipcbiAqIGxvZ0NoYXRQcm9taXNlRXhlY3V0aW9uIC0gdXRpbGl0eSBmdW5jdGlvbiBmb3IgbG9nZ2luZyB0aGUgZXhlY3V0aW9uIG9mIGEgcHJvbWlzZS4uXG4gKiAgdXNlIHRoaXMgd2hlbiB5b3Ugd2FudCB0byBydW4gdGhlIHByb21pc2UgYW5kIGhhbmRsZSBlcnJvcnMgYnkgbG9nZ2luZyBhIHdhcm5pbmdcbiAqXG4gKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2UgVGhlIHByb21pc2UgeW91IHdhbnQgdG8gcnVuIGFuZCBsb2dcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgIEEgZGVzY3JpcHRpdmUgbmFtZSBvZiB3aGF0IHRoZSBwcm9taXNlIGRvZXMgZm9yIGxvZyBvdXRwdXRcbiAqXG4gKi9cbmZ1bmN0aW9uIGxvZ0NoYXRQcm9taXNlRXhlY3V0aW9uKHByb21pc2UsIG5hbWUpIHtcbiAgcHJvbWlzZS50aGVuKCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKFwiZmFpbGVkIHRvIGRvIFwiLmNvbmNhdChuYW1lLCBcIiwgcmFuIGludG8gZXJyb3I6IFwiKSwgZXJyb3IpO1xuICB9KTtcbn1cbnZhciBzbGVlcCA9IGZ1bmN0aW9uIHNsZWVwKG0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQociwgbSk7XG4gIH0pO1xufTtcbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nIHx8ICdmdW5jdGlvbicgPT09IHR5cGVvZiB2YWx1ZSB8fCB2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKTtcbn1cbnZhciBjaGF0Q29kZXMgPSB7XG4gIFRPS0VOX0VYUElSRUQ6IDQwLFxuICBXU19DTE9TRURfU1VDQ0VTUzogMTAwMFxufTtcblxuZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbShvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiBfdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICYmIChvYmoucmVhZGFibGUgfHwgdHlwZW9mIG9iai5fcmVhZCA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaik7XG59XG5cbmZ1bmN0aW9uIGlzRmlsZVdlYkFQSSh1cmkpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICdGaWxlJyBpbiB3aW5kb3cgJiYgdXJpIGluc3RhbmNlb2YgRmlsZTtcbn1cblxuZnVuY3Rpb24gaXNPd25Vc2VyKHVzZXIpIHtcbiAgcmV0dXJuICh1c2VyID09PSBudWxsIHx8IHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVzZXIudG90YWxfdW5yZWFkX2NvdW50KSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0Jsb2JXZWJBUEkodXJpKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAnQmxvYicgaW4gd2luZG93ICYmIHVyaSBpbnN0YW5jZW9mIEJsb2I7XG59XG5cbmZ1bmN0aW9uIGlzT3duVXNlckJhc2VQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICB2YXIgb3duVXNlckJhc2VQcm9wZXJ0aWVzID0ge1xuICAgIGNoYW5uZWxfbXV0ZXM6IHRydWUsXG4gICAgZGV2aWNlczogdHJ1ZSxcbiAgICBtdXRlczogdHJ1ZSxcbiAgICB0b3RhbF91bnJlYWRfY291bnQ6IHRydWUsXG4gICAgdW5yZWFkX2NoYW5uZWxzOiB0cnVlLFxuICAgIHVucmVhZF9jb3VudDogdHJ1ZSxcbiAgICBpbnZpc2libGU6IHRydWUsXG4gICAgcm9sZXM6IHRydWVcbiAgfTtcbiAgcmV0dXJuIG93blVzZXJCYXNlUHJvcGVydGllc1twcm9wZXJ0eV07XG59XG5mdW5jdGlvbiBhZGRGaWxlVG9Gb3JtRGF0YSh1cmksIG5hbWUsIGNvbnRlbnRUeXBlKSB7XG4gIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgaWYgKGlzUmVhZGFibGVTdHJlYW0odXJpKSB8fCBpc0J1ZmZlcih1cmkpIHx8IGlzRmlsZVdlYkFQSSh1cmkpIHx8IGlzQmxvYldlYkFQSSh1cmkpKSB7XG4gICAgaWYgKG5hbWUpIGRhdGEuYXBwZW5kKCdmaWxlJywgdXJpLCBuYW1lKTtlbHNlIGRhdGEuYXBwZW5kKCdmaWxlJywgdXJpKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhLmFwcGVuZCgnZmlsZScsIHtcbiAgICAgIHVyaTogdXJpLFxuICAgICAgbmFtZTogbmFtZSB8fCB1cmkuc3BsaXQoJy8nKS5yZXZlcnNlKClbMF0sXG4gICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUgfHwgdW5kZWZpbmVkLFxuICAgICAgdHlwZTogY29udGVudFR5cGUgfHwgdW5kZWZpbmVkXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVF1ZXJ5U29ydChzb3J0KSB7XG4gIHZhciBzb3J0RmllbGRzID0gW107XG4gIHZhciBzb3J0QXJyID0gQXJyYXkuaXNBcnJheShzb3J0KSA/IHNvcnQgOiBbc29ydF07XG5cbiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDMoc29ydEFyciksXG4gICAgICBfc3RlcDtcblxuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlO1xuICAgICAgdmFyIGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhpdGVtKTtcblxuICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJjbGllbnQuX2J1aWxkU29ydCgpIC0gbXVsdGlwbGUgZmllbGRzIGluIGEgc2luZ2xlIHNvcnQgb2JqZWN0IGRldGVjdGVkLiBPYmplY3QncyBmaWVsZCBvcmRlciBpcyBub3QgZ3VhcmFudGVlZFwiKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfZW50cmllcyA9IGVudHJpZXM7IF9pIDwgX2VudHJpZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBfZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9lbnRyaWVzW19pXSwgMiksXG4gICAgICAgICAgICBmaWVsZCA9IF9lbnRyaWVzJF9pWzBdLFxuICAgICAgICAgICAgZGlyZWN0aW9uID0gX2VudHJpZXMkX2lbMV07XG5cbiAgICAgICAgc29ydEZpZWxkcy5wdXNoKHtcbiAgICAgICAgICBmaWVsZDogZmllbGQsXG4gICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3IuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvci5mKCk7XG4gIH1cblxuICByZXR1cm4gc29ydEZpZWxkcztcbn1cbi8qKlxuICogcmV0cnlJbnRlcnZhbCAtIEEgcmV0cnkgaW50ZXJ2YWwgd2hpY2ggaW5jcmVhc2VzIGFjYyB0byBudW1iZXIgb2YgZmFpbHVyZXNcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IER1cmF0aW9uIHRvIHdhaXQgaW4gbWlsbGlzZWNvbmRzXG4gKi9cblxuZnVuY3Rpb24gcmV0cnlJbnRlcnZhbChudW1iZXJPZkZhaWx1cmVzKSB7XG4gIC8vIHRyeSB0byByZWNvbm5lY3QgaW4gMC4yNS0yNSBzZWNvbmRzIChyYW5kb20gdG8gc3ByZWFkIG91dCB0aGUgbG9hZCBmcm9tIGZhaWx1cmVzKVxuICB2YXIgbWF4ID0gTWF0aC5taW4oNTAwICsgbnVtYmVyT2ZGYWlsdXJlcyAqIDIwMDAsIDI1MDAwKTtcbiAgdmFyIG1pbiA9IE1hdGgubWluKE1hdGgubWF4KDI1MCwgKG51bWJlck9mRmFpbHVyZXMgLSAxKSAqIDIwMDApLCAyNTAwMCk7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XG59XG5mdW5jdGlvbiByYW5kb21JZCgpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRHY0KCk7XG59XG5cbmZ1bmN0aW9uIGhleChieXRlcykge1xuICB2YXIgcyA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBzICs9IGJ5dGVzW2ldLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIHM7XG59IC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MTIyXG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVVVUlEdjQoKSB7XG4gIHZhciBieXRlcyA9IGdldFJhbmRvbUJ5dGVzKDE2KTtcbiAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCAweDQwOyAvLyB2ZXJzaW9uXG5cbiAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4YmYgfCAweDgwOyAvLyB2YXJpYW50XG5cbiAgcmV0dXJuIGhleChieXRlcy5zdWJhcnJheSgwLCA0KSkgKyAnLScgKyBoZXgoYnl0ZXMuc3ViYXJyYXkoNCwgNikpICsgJy0nICsgaGV4KGJ5dGVzLnN1YmFycmF5KDYsIDgpKSArICctJyArIGhleChieXRlcy5zdWJhcnJheSg4LCAxMCkpICsgJy0nICsgaGV4KGJ5dGVzLnN1YmFycmF5KDEwLCAxNikpO1xufVxuXG5mdW5jdGlvbiBnZXRSYW5kb21WYWx1ZXNXaXRoTWF0aFJhbmRvbShieXRlcykge1xuICB2YXIgbWF4ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVzLmJ5dGVMZW5ndGggLyBieXRlcy5sZW5ndGgpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBieXRlc1tpXSA9IE1hdGgucmFuZG9tKCkgKiBtYXg7XG4gIH1cbn1cblxudmFyIGdldFJhbmRvbVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9jcnlwdG87XG5cbiAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiAoKF9jcnlwdG8gPSBjcnlwdG8pID09PSBudWxsIHx8IF9jcnlwdG8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tO1xuICB9XG59KCk7XG5cbmZ1bmN0aW9uIGdldFJhbmRvbUJ5dGVzKGxlbmd0aCkge1xuICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICBnZXRSYW5kb21WYWx1ZXMoYnl0ZXMpO1xuICByZXR1cm4gYnl0ZXM7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRFcnJvclRvSnNvbihlcnIpIHtcbiAgdmFyIGpzb25PYmogPSB7fTtcbiAgaWYgKCFlcnIpIHJldHVybiBqc29uT2JqO1xuXG4gIHRyeSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXJyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGpzb25PYmpba2V5XSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZXJyLCBrZXkpO1xuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiAnZmFpbGVkIHRvIHNlcmlhbGl6ZSB0aGUgZXJyb3InXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBqc29uT2JqO1xufVxuLyoqXG4gKiBpc09ubGluZSBzYWZlbHkgcmV0dXJuIHRoZSBuYXZpZ2F0b3Iub25saW5lIHZhbHVlIGZvciBicm93c2VyIGVudlxuICogaWYgbmF2aWdhdG9yIGlzIG5vdCBpbiBnbG9iYWwgb2JqZWN0LCBpdCBhbHdheXMgcmV0dXJuIHRydWVcbiAqL1xuXG5mdW5jdGlvbiBpc09ubGluZSgpIHtcbiAgdmFyIG5hdiA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnID8gbmF2aWdhdG9yIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvciA/IHdpbmRvdy5uYXZpZ2F0b3IgOiB1bmRlZmluZWQ7XG5cbiAgaWYgKCFuYXYpIHtcbiAgICBjb25zb2xlLndhcm4oJ2lzT25saW5lIGZhaWxlZCB0byBhY2Nlc3Mgd2luZG93Lm5hdmlnYXRvciBhbmQgYXNzdW1lIGJyb3dzZXIgaXMgb25saW5lJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gUk4gbmF2aWdhdG9yIGhhcyB1bmRlZmluZWQgZm9yIG9uTGluZVxuXG5cbiAgaWYgKHR5cGVvZiBuYXYub25MaW5lICE9PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBuYXYub25MaW5lO1xufVxuLyoqXG4gKiBsaXN0ZW5Gb3JDb25uZWN0aW9uQ2hhbmdlcyAtIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgZmlyZWQgb24gYnJvd3NlciBnb2luZyBvbmxpbmUgb3Igb2ZmbGluZVxuICovXG5cbmZ1bmN0aW9uIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYikge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgY2IpO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMoY2IpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBjYik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29ubGluZScsIGNiKTtcbiAgfVxufVxudmFyIGF4aW9zUGFyYW1zU2VyaWFsaXplciA9IGZ1bmN0aW9uIGF4aW9zUGFyYW1zU2VyaWFsaXplcihwYXJhbXMpIHtcbiAgdmFyIG5ld1BhcmFtcyA9IFtdO1xuXG4gIGZvciAodmFyIGsgaW4gcGFyYW1zKSB7XG4gICAgLy8gU3RyZWFtIGJhY2tlbmQgZG9lc24ndCB0cmVhdCBcInVuZGVmaW5lZFwiIHZhbHVlIHNhbWUgYXMgdmFsdWUgbm90IGJlaW5nIHByZXNlbnQuXG4gICAgLy8gU28sIHdlIG5lZWQgdG8gc2tpcCB0aGUgdW5kZWZpbmVkIHZhbHVlcy5cbiAgICBpZiAocGFyYW1zW2tdID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW1zW2tdKSB8fCBfdHlwZW9mKHBhcmFtc1trXSkgPT09ICdvYmplY3QnKSB7XG4gICAgICBuZXdQYXJhbXMucHVzaChcIlwiLmNvbmNhdChrLCBcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwYXJhbXNba10pKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQYXJhbXMucHVzaChcIlwiLmNvbmNhdChrLCBcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba10pKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld1BhcmFtcy5qb2luKCcmJyk7XG59O1xuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDIobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQyKG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMihvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDIoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIG93bktleXMkNShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDUoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ1KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vKipcbiAqIENoYW5uZWwgLSBUaGUgQ2hhbm5lbCBjbGFzcyBtYW5hZ2VzIGl0J3Mgb3duIHN0YXRlLlxuICovXG52YXIgQ2hhbm5lbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKiAgKi9cblxuICAvKipcbiAgICogVGhpcyBib29sZWFuIGlzIGEgdmFndWUgaW5kaWNhdGlvbiBvZiB3ZWF0aGVyIHRoZSBjaGFubmVsIGV4aXN0cyBvbiBjaGF0IGJhY2tlbmQuXG4gICAqXG4gICAqIElmIHRoZSB2YWx1ZSBpcyB0cnVlLCB0aGVuIHRoYXQgbWVhbnMgdGhlIGNoYW5uZWwgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYnkgZWl0aGVyIGNhbGxpbmdcbiAgICogY2hhbm5lbC5jcmVhdGUoKSBvciBjaGFubmVsLnF1ZXJ5KCkgb3IgY2hhbm5lbC53YXRjaCgpLlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZmFsc2UsIHRoZW4gY2hhbm5lbCBtYXkgb3IgbWF5IG5vdCBleGlzdCBvbiB0aGUgYmFja2VuZC4gVGhlIG9ubHkgd2F5IHRvIGVuc3VyZVxuICAgKiBpcyBieSBjYWxsaW5nIGNoYW5uZWwuY3JlYXRlKCkgb3IgY2hhbm5lbC5xdWVyeSgpIG9yIGNoYW5uZWwud2F0Y2goKS5cbiAgICovXG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3ZWF0aGVyIGNoYW5uZWwgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYnkgbWFudWFsbHkgcG9wdWxhdGluZyB0aGUgc3RhdGUgd2l0aCBzb21lIG1lc3NhZ2VzLCBtZW1iZXJzIGV0Yy5cbiAgICogU3RhdGljIHN0YXRlIGluZGljYXRlcyB0aGF0IGNoYW5uZWwgZXhpc3RzIG9uIGJhY2tlbmQsIGJ1dCBpcyBub3QgYmVpbmcgd2F0Y2hlZCB5ZXQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBjb25zdHJ1Y3RvciAtIENyZWF0ZSBhIGNoYW5uZWxcbiAgICpcbiAgICogQHBhcmFtIHtTdHJlYW1DaGF0PFN0cmVhbUNoYXRHZW5lcmljcz59IGNsaWVudCB0aGUgY2hhdCBjbGllbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgIHRoZSB0eXBlIG9mIGNoYW5uZWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtpZF0gIHRoZSBpZCBvZiB0aGUgY2hhdFxuICAgKiBAcGFyYW0ge0NoYW5uZWxEYXRhPFN0cmVhbUNoYXRHZW5lcmljcz59IGRhdGEgYW55IGFkZGl0aW9uYWwgY3VzdG9tIHBhcmFtc1xuICAgKlxuICAgKiBAcmV0dXJuIHtDaGFubmVsPFN0cmVhbUNoYXRHZW5lcmljcz59IFJldHVybnMgYSBuZXcgdW5pbml0aWFsaXplZCBjaGFubmVsXG4gICAqL1xuICBmdW5jdGlvbiBDaGFubmVsKGNsaWVudCwgdHlwZSwgaWQsIGRhdGEpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYW5uZWwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NsaWVudFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidHlwZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhdGFcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kYXRhXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpc3RlbmVyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRpYWxpemVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvZmZsaW5lTW9kZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGFzdEtleVN0cm9rZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGFzdFR5cGluZ0V2ZW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1R5cGluZ1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzY29ubmVjdGVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcmVhdGVcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgd2F0Y2g6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgcHJlc2VuY2U6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnF1ZXJ5KGRlZmF1bHRPcHRpb25zLCAnbGF0ZXN0Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2FsbENoYW5uZWxMaXN0ZW5lcnNcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IF90aGlzOyAvLyBnYXRoZXIgYW5kIGNhbGwgdGhlIGxpc3RlbmVyc1xuXG4gICAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgICAgIGlmIChjaGFubmVsLmxpc3RlbmVycy5hbGwpIHtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBfdG9Db25zdW1hYmxlQXJyYXkoY2hhbm5lbC5saXN0ZW5lcnMuYWxsKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFubmVsLmxpc3RlbmVyc1tldmVudC50eXBlXSkge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIF90b0NvbnN1bWFibGVBcnJheShjaGFubmVsLmxpc3RlbmVyc1tldmVudC50eXBlXSkpO1xuICAgICAgfSAvLyBjYWxsIHRoZSBldmVudCBhbmQgc2VuZCBpdCB0byB0aGUgbGlzdGVuZXJzXG5cblxuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbGlzdGVuZXJzID0gbGlzdGVuZXJzOyBfaSA8IF9saXN0ZW5lcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IF9saXN0ZW5lcnNbX2ldO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2hhbm5lbFVSTFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2hhbm5lbCBpZCBpcyBub3QgZGVmaW5lZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoX3RoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCwgXCIvY2hhbm5lbHMvXCIpLmNvbmNhdChfdGhpcy50eXBlLCBcIi9cIikuY29uY2F0KF90aGlzLmlkKTtcbiAgICB9KTtcblxuICAgIHZhciB2YWxpZFR5cGVSZSA9IC9eW1xcd18tXSskLztcbiAgICB2YXIgdmFsaWRJRFJlID0gL15bXFx3IV8tXSskLztcblxuICAgIGlmICghdmFsaWRUeXBlUmUudGVzdCh0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGF0IHR5cGUgXCIuY29uY2F0KHR5cGUsIFwiLCBsZXR0ZXJzLCBudW1iZXJzIGFuZCBcXFwiXy1cXFwiIGFyZSBhbGxvd2VkXCIpKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJyAmJiAhdmFsaWRJRFJlLnRlc3QoaWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNoYXQgaWQgXCIuY29uY2F0KGlkLCBcIiwgbGV0dGVycywgbnVtYmVycyBhbmQgXFxcIiEtX1xcXCIgYXJlIGFsbG93ZWRcIikpO1xuICAgIH1cblxuICAgIHRoaXMuX2NsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuaWQgPSBpZDsgLy8gdXNlZCBieSB0aGUgZnJvbnRlbmQsIGdldHMgdXBkYXRlZDpcblxuICAgIHRoaXMuZGF0YSA9IGRhdGE7IC8vIHRoaXMuX2RhdGEgaXMgdXNlZCBmb3IgdGhlIHJlcXVlc3RzLi4uXG5cbiAgICB0aGlzLl9kYXRhID0gX29iamVjdFNwcmVhZCQ1KHt9LCBkYXRhKTtcbiAgICB0aGlzLmNpZCA9IFwiXCIuY29uY2F0KHR5cGUsIFwiOlwiKS5jb25jYXQoaWQpO1xuICAgIHRoaXMubGlzdGVuZXJzID0ge307IC8vIHBlcmhhcHMgdGhlIHN0YXRlIHZhcmlhYmxlIHNob3VsZCBiZSBwcml2YXRlXG5cbiAgICB0aGlzLnN0YXRlID0gbmV3IENoYW5uZWxTdGF0ZSh0aGlzKTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy5vZmZsaW5lTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMubGFzdFR5cGluZ0V2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmlzVHlwaW5nID0gZmFsc2U7XG4gICAgdGhpcy5kaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogZ2V0Q2xpZW50IC0gR2V0IHRoZSBjaGF0IGNsaWVudCBmb3IgdGhpcyBjaGFubmVsLiBJZiBjbGllbnQuZGlzY29ubmVjdCgpIHdhcyBjYWxsZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBlcnJvclxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJlYW1DaGF0PFN0cmVhbUNoYXRHZW5lcmljcz59XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENoYW5uZWwsIFt7XG4gICAga2V5OiBcImdldENsaWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGllbnQoKSB7XG4gICAgICBpZiAodGhpcy5kaXNjb25uZWN0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJZb3UgY2FuJ3QgdXNlIGEgY2hhbm5lbCBhZnRlciBjbGllbnQuZGlzY29ubmVjdCgpIHdhcyBjYWxsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9jbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldENvbmZpZyAtIEdldCB0aGUgY29uZmlnIGZvciB0aGlzIGNoYW5uZWwgaWQgKGNpZClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29uZmlnXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbmZpZygpIHtcbiAgICAgIHZhciBjbGllbnQgPSB0aGlzLmdldENsaWVudCgpO1xuICAgICAgcmV0dXJuIGNsaWVudC5jb25maWdzW3RoaXMuY2lkXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc2VuZE1lc3NhZ2UgLSBTZW5kIGEgbWVzc2FnZSB0byB0aGlzIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBtZXNzYWdlIFRoZSBNZXNzYWdlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcF9lbnJpY2hfdXJsXSBEbyBub3QgdHJ5IHRvIGVucmljaCB0aGUgVVJMcyB3aXRoaW4gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcF9wdXNoXSBTa2lwIHNlbmRpbmcgcHVzaCBub3RpZmljYXRpb25zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc19wZW5kaW5nX21lc3NhZ2VdIERFUFJFQ0FURUQsIHBsZWFzZSB1c2UgYHBlbmRpbmdgIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wZW5kaW5nXSBNYWtlIHRoaXMgbWVzc2FnZSBwZW5kaW5nXG4gICAgICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLHN0cmluZz59IFtvcHRpb25zLnBlbmRpbmdfbWVzc2FnZV9tZXRhZGF0YV0gTWV0YWRhdGEgZm9yIHRoZSBwZW5kaW5nIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlX21vZGVyYXRpb25dIEFwcGx5IGZvcmNlIG1vZGVyYXRpb24gZm9yIHNlcnZlci1zaWRlIHJlcXVlc3RzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFNlbmRNZXNzYWdlQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VuZE1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZW5kTWVzc2FnZVJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL21lc3NhZ2UnLCBfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2VSZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHVucmVhZENvdW50IHRvIDAuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS51bnJlYWRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgc2VuZE1lc3NhZ2VSZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKF94MiwgX3gzKSB7XG4gICAgICAgIHJldHVybiBfc2VuZE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbmRNZXNzYWdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRGaWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRGaWxlKHVyaSwgbmFtZSwgY29udGVudFR5cGUsIHVzZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnNlbmRGaWxlKFwiXCIuY29uY2F0KHRoaXMuX2NoYW5uZWxVUkwoKSwgXCIvZmlsZVwiKSwgdXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRJbWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kSW1hZ2UodXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuc2VuZEZpbGUoXCJcIi5jb25jYXQodGhpcy5fY2hhbm5lbFVSTCgpLCBcIi9pbWFnZVwiKSwgdXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUZpbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlRmlsZSh1cmwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmRlbGV0ZShcIlwiLmNvbmNhdCh0aGlzLl9jaGFubmVsVVJMKCksIFwiL2ZpbGVcIiksIHtcbiAgICAgICAgdXJsOiB1cmxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVJbWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVJbWFnZSh1cmwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmRlbGV0ZShcIlwiLmNvbmNhdCh0aGlzLl9jaGFubmVsVVJMKCksIFwiL2ltYWdlXCIpLCB7XG4gICAgICAgIHVybDogdXJsXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc2VuZEV2ZW50IC0gU2VuZCBhbiBldmVudCBvbiB0aGlzIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gZXZlbnQgZm9yIGV4YW1wbGUge3R5cGU6ICdtZXNzYWdlLnJlYWQnfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxFdmVudEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZW5kRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZW5kRXZlbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhldmVudCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL2V2ZW50Jywge1xuICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0My5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2VuZEV2ZW50KF94NCkge1xuICAgICAgICByZXR1cm4gX3NlbmRFdmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VuZEV2ZW50O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHNlYXJjaCAtIFF1ZXJ5IG1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz4gfCBzdHJpbmd9ICBxdWVyeSBzZWFyY2ggcXVlcnkgb3Igb2JqZWN0IE1vbmdvREIgc3R5bGUgZmlsdGVyc1xuICAgICAqIEBwYXJhbSB7e2NsaWVudF9pZD86IHN0cmluZzsgY29ubmVjdGlvbl9pZD86IHN0cmluZzsgcXVlcnk/OiBzdHJpbmc7IG1lc3NhZ2VfZmlsdGVyX2NvbmRpdGlvbnM/OiBNZXNzYWdlRmlsdGVyczxTdHJlYW1DaGF0R2VuZXJpY3M+fX0gb3B0aW9ucyBPcHRpb24gb2JqZWN0LCB7dXNlcl9pZDogJ3RvbW1hc28nfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxTZWFyY2hBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gc2VhcmNoIG1lc3NhZ2VzIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZWFyY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZWFyY2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChxdWVyeSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICBfYXJnczQgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQubGVuZ3RoID4gMSAmJiBfYXJnczRbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNFsxXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5vZmZzZXQgJiYgb3B0aW9ucy5uZXh0KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBvZmZzZXQgd2l0aCBuZXh0XCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYSBsaXN0IG9mIGNoYW5uZWxzXG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY2lkOiB0aGlzLmNpZFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgc29ydDogb3B0aW9ucy5zb3J0ID8gbm9ybWFsaXplUXVlcnlTb3J0KG9wdGlvbnMuc29ydCkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBxdWVyeSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXlsb2FkLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgaWYgKCEoX3R5cGVvZihxdWVyeSkgPT09ICdvYmplY3QnKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBheWxvYWQubWVzc2FnZV9maWx0ZXJfY29uZGl0aW9ucyA9IHF1ZXJ5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgdHlwZSBcIi5jb25jYXQoX3R5cGVvZihxdWVyeSksIFwiIGZvciBxdWVyeSBwYXJhbWV0ZXJcIikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS53c1Byb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyAnL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlYXJjaChfeDUpIHtcbiAgICAgICAgcmV0dXJuIF9zZWFyY2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlYXJjaDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeU1lbWJlcnMgLSBRdWVyeSBNZW1iZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1VzZXJGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz59ICBmaWx0ZXJDb25kaXRpb25zIG9iamVjdCBNb25nb0RCIHN0eWxlIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge01lbWJlclNvcnQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW3NvcnRdIFNvcnQgb3B0aW9ucywgZm9yIGluc3RhbmNlIFt7Y3JlYXRlZF9hdDogLTF9XS5cbiAgICAgKiBXaGVuIHVzaW5nIG11bHRpcGxlIGZpZWxkcywgbWFrZSBzdXJlIHlvdSB1c2UgYXJyYXkgb2Ygb2JqZWN0cyB0byBndWFyYW50ZWUgZmllbGQgb3JkZXIsIGZvciBpbnN0YW5jZSBbe25hbWU6IC0xfSwge2NyZWF0ZWRfYXQ6IDF9XVxuICAgICAqIEBwYXJhbSB7eyBsaW1pdD86IG51bWJlcjsgb2Zmc2V0PzogbnVtYmVyIH19IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCB7bGltaXQ6IDEwLCBvZmZzZXQ6MTB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPENoYW5uZWxNZW1iZXJBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gUXVlcnkgTWVtYmVycyByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlNZW1iZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlNZW1iZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZmlsdGVyQ29uZGl0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMkZGF0YTtcblxuICAgICAgICB2YXIgc29ydCxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBtZW1iZXJzLFxuICAgICAgICAgICAgX2FyZ3M1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3M1Lmxlbmd0aCA+IDEgJiYgX2FyZ3M1WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczVbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M1Lmxlbmd0aCA+IDIgJiYgX2FyZ3M1WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczVbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICB0eXBlID0gdGhpcy50eXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICAgIGlkID0gdGhpcy5pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChfdGhpcyRkYXRhID0gdGhpcy5kYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRkYXRhICE9PSB2b2lkIDAgJiYgX3RoaXMkZGF0YS5tZW1iZXJzICYmIEFycmF5LmlzQXJyYXkodGhpcy5kYXRhLm1lbWJlcnMpKSB7XG4gICAgICAgICAgICAgICAgICBtZW1iZXJzID0gdGhpcy5kYXRhLm1lbWJlcnM7XG4gICAgICAgICAgICAgICAgfSAvLyBSZXR1cm4gYSBsaXN0IG9mIG1lbWJlcnNcblxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyAnL21lbWJlcnMnLCB7XG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlcnM6IG1lbWJlcnMsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IG5vcm1hbGl6ZVF1ZXJ5U29ydChzb3J0KSxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlNZW1iZXJzKF94Nikge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5TWVtYmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlNZW1iZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHNlbmRSZWFjdGlvbiAtIFNlbmQgYSByZWFjdGlvbiBhYm91dCBhIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSUQgdGhlIG1lc3NhZ2UgaWRcbiAgICAgKiBAcGFyYW0ge1JlYWN0aW9uPFN0cmVhbUNoYXRHZW5lcmljcz59IHJlYWN0aW9uIHRoZSByZWFjdGlvbiBvYmplY3QgZm9yIGluc3RhbmNlIHt0eXBlOiAnbG92ZSd9XG4gICAgICogQHBhcmFtIHt7IGVuZm9yY2VfdW5pcXVlPzogYm9vbGVhbiwgc2tpcF9wdXNoPzogYm9vbGVhbiB9fSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwge2VuZm9yY2VfdW5pcXVlOiB0cnVlLCBza2lwX3B1c2g6IHRydWV9IHRvIG92ZXJyaWRlIGFueSBleGlzdGluZyByZWFjdGlvbiBvciBza2lwIHNlbmRpbmcgcHVzaCBub3RpZmljYXRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlYWN0aW9uQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRSZWFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlbmRSZWFjdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KG1lc3NhZ2VJRCwgcmVhY3Rpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJRCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNZXNzYWdlIGlkIGlzIG1pc3NpbmdcIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICghKCFyZWFjdGlvbiB8fCBPYmplY3Qua2V5cyhyZWFjdGlvbikubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJSZWFjdGlvbiBvYmplY3QgaXMgbWlzc2luZ1wiKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KG1lc3NhZ2VJRCwgXCIvcmVhY3Rpb25cIiksIF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICByZWFjdGlvbjogcmVhY3Rpb25cbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Ni5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2VuZFJlYWN0aW9uKF94NywgX3g4LCBfeDkpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kUmVhY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbmRSZWFjdGlvbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVSZWFjdGlvbiAtIERlbGV0ZSBhIHJlYWN0aW9uIGJ5IHVzZXIgYW5kIHR5cGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSUQgdGhlIGlkIG9mIHRoZSBtZXNzYWdlIGZyb20gd2hpY2ggdGUgcmVtb3ZlIHRoZSByZWFjdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZWFjdGlvblR5cGUgdGhlIHR5cGUgb2YgcmVhY3Rpb24gdGhhdCBzaG91bGQgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcl9pZF0gdGhlIGlkIG9mIHRoZSB1c2VyICh1c2VkIG9ubHkgZm9yIHNlcnZlciBzaWRlIHJlcXVlc3QpIGRlZmF1bHQgbnVsbFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxSZWFjdGlvbkFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVSZWFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVSZWFjdGlvbihtZXNzYWdlSUQsIHJlYWN0aW9uVHlwZSwgdXNlcl9pZCkge1xuICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICBpZiAoIXJlYWN0aW9uVHlwZSB8fCAhbWVzc2FnZUlEKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdEZWxldGluZyBhIHJlYWN0aW9uIHJlcXVpcmVzIHNwZWNpZnlpbmcgYm90aCB0aGUgbWVzc2FnZSBhbmQgcmVhY3Rpb24gdHlwZScpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdXJsID0gdGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KG1lc3NhZ2VJRCwgXCIvcmVhY3Rpb24vXCIpLmNvbmNhdChyZWFjdGlvblR5cGUpOyAvL3Byb3ZpZGVkIHdoZW4gc2VydmVyIHNpZGUgcmVxdWVzdFxuXG4gICAgICBpZiAodXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5kZWxldGUodXJsLCB7XG4gICAgICAgICAgdXNlcl9pZDogdXNlcl9pZFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZGVsZXRlKHVybCwge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGUgLSBFZGl0IHRoZSBjaGFubmVsJ3MgY3VzdG9tIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbERhdGE8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gY2hhbm5lbERhdGEgVGhlIG9iamVjdCB0byB1cGRhdGUgdGhlIGN1c3RvbSBwcm9wZXJ0aWVzIG9mIHRoaXMgY2hhbm5lbCB3aXRoXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFt1cGRhdGVNZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHtcbiAgICAgICAgdmFyIGNoYW5uZWxEYXRhLFxuICAgICAgICAgICAgdXBkYXRlTWVzc2FnZSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICByZXNlcnZlZCxcbiAgICAgICAgICAgIF9hcmdzNyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY2hhbm5lbERhdGEgPSBfYXJnczcubGVuZ3RoID4gMCAmJiBfYXJnczdbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzN1swXSA6IHt9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1lc3NhZ2UgPSBfYXJnczcubGVuZ3RoID4gMSA/IF9hcmdzN1sxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M3Lmxlbmd0aCA+IDIgPyBfYXJnczdbMl0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgLy8gU3RyaXAgb3V0IHJlc2VydmVkIG5hbWVzIHRoYXQgd2lsbCByZXN1bHQgaW4gQVBJIGVycm9ycy5cbiAgICAgICAgICAgICAgICByZXNlcnZlZCA9IFsnY29uZmlnJywgJ2NpZCcsICdjcmVhdGVkX2J5JywgJ2lkJywgJ21lbWJlcl9jb3VudCcsICd0eXBlJywgJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCcsICdsYXN0X21lc3NhZ2VfYXQnLCAnb3duX2NhcGFiaWxpdGllcyddO1xuICAgICAgICAgICAgICAgIHJlc2VydmVkLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIGNoYW5uZWxEYXRhW2tleV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ1KHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHVwZGF0ZU1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBjaGFubmVsRGF0YVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVBhcnRpYWwgLSBwYXJ0aWFsIHVwZGF0ZSBjaGFubmVsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGFydGlhbFVwZGF0ZUNoYW5uZWw8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gcGFydGlhbCB1cGRhdGUgcmVxdWVzdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxQYXJ0aWFsVXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUGFydGlhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZVBhcnRpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCh1cGRhdGUpIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wYXRjaCh0aGlzLl9jaGFubmVsVVJMKCksIHVwZGF0ZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDguc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhLmNoYW5uZWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBhcnRpYWwoX3gxMCkge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZVBhcnRpYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZVBhcnRpYWw7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZW5hYmxlU2xvd01vZGUgLSBlbmFibGUgc2xvdyBtb2RlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29vbERvd25JbnRlcnZhbCB0aGUgY29vbGRvd24gaW50ZXJ2YWwgaW4gc2Vjb25kc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlbmFibGVTbG93TW9kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2VuYWJsZVNsb3dNb2RlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoY29vbERvd25JbnRlcnZhbCkge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5fY2hhbm5lbFVSTCgpLCB7XG4gICAgICAgICAgICAgICAgICBjb29sZG93bjogY29vbERvd25JbnRlcnZhbFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ5LnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YS5jaGFubmVsO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBlbmFibGVTbG93TW9kZShfeDExKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlU2xvd01vZGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVuYWJsZVNsb3dNb2RlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRpc2FibGVTbG93TW9kZSAtIGRpc2FibGUgc2xvdyBtb2RlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzYWJsZVNsb3dNb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGlzYWJsZVNsb3dNb2RlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCksIHtcbiAgICAgICAgICAgICAgICAgIGNvb2xkb3duOiAwXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDEwLnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YS5jaGFubmVsO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdChcInJldHVyblwiLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkaXNhYmxlU2xvd01vZGUoKSB7XG4gICAgICAgIHJldHVybiBfZGlzYWJsZVNsb3dNb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaXNhYmxlU2xvd01vZGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVsZXRlIC0gRGVsZXRlIHRoZSBjaGFubmVsLiBNZXNzYWdlcyBhcmUgcGVybWFuZW50bHkgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaGFyZF9kZWxldGVdIERlZmluZXMgaWYgdGhlIGNoYW5uZWwgaXMgaGFyZCBkZWxldGVkIG9yIG5vdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxEZWxldGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxMSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczExLmxlbmd0aCA+IDAgJiYgX2FyZ3MxMVswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxMVswXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZGVsZXRlKHRoaXMuX2NoYW5uZWxVUkwoKSwgX29iamVjdFNwcmVhZCQ1KHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDExLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9kZWxldGUoKSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2RlbGV0ZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB0cnVuY2F0ZSAtIFJlbW92ZXMgYWxsIG1lc3NhZ2VzIGZyb20gdGhlIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0ge1RydW5jYXRlT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbb3B0aW9uc10gRGVmaW5lcyB0cnVuY2F0aW9uIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFRydW5jYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0cnVuY2F0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RydW5jYXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTIgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxMi5sZW5ndGggPiAwICYmIF9hcmdzMTJbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTJbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5fY2hhbm5lbFVSTCgpICsgJy90cnVuY2F0ZScsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxMi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0cnVuY2F0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF90cnVuY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1bmNhdGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogYWNjZXB0SW52aXRlIC0gYWNjZXB0IGludml0YXRpb24gdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SW52aXRlT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbb3B0aW9uc10gVGhlIG9iamVjdCB0byB1cGRhdGUgdGhlIGN1c3RvbSBwcm9wZXJ0aWVzIG9mIHRoaXMgY2hhbm5lbCB3aXRoXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWNjZXB0SW52aXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYWNjZXB0SW52aXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTMgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxMy5sZW5ndGggPiAwICYmIF9hcmdzMTNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTNbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ1KHtcbiAgICAgICAgICAgICAgICAgIGFjY2VwdF9pbnZpdGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDEzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGFjY2VwdEludml0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9hY2NlcHRJbnZpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjY2VwdEludml0ZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiByZWplY3RJbnZpdGUgLSByZWplY3QgaW52aXRhdGlvbiB0byB0aGUgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtJbnZpdGVPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IFtvcHRpb25zXSBUaGUgb2JqZWN0IHRvIHVwZGF0ZSB0aGUgY3VzdG9tIHByb3BlcnRpZXMgb2YgdGhpcyBjaGFubmVsIHdpdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWplY3RJbnZpdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWplY3RJbnZpdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxNCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE0Lmxlbmd0aCA+IDAgJiYgX2FyZ3MxNFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxNFswXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgcmVqZWN0X2ludml0ZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVqZWN0SW52aXRlKCkge1xuICAgICAgICByZXR1cm4gX3JlamVjdEludml0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVqZWN0SW52aXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGFkZE1lbWJlcnMgLSBhZGQgbWVtYmVycyB0byB0aGUgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHt7dXNlcl9pZDogc3RyaW5nLCBjaGFubmVsX3JvbGU/OiBSb2xlfVtdfSBtZW1iZXJzIEFuIGFycmF5IG9mIG1lbWJlcnMgdG8gYWRkIHRvIHRoZSBjaGFubmVsXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFttZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZE1lbWJlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hZGRNZW1iZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KG1lbWJlcnMsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczE1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTUubGVuZ3RoID4gMiAmJiBfYXJnczE1WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczE1WzJdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBhZGRfbWVtYmVyczogbWVtYmVycyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZE1lbWJlcnMoX3gxMiwgX3gxMykge1xuICAgICAgICByZXR1cm4gX2FkZE1lbWJlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZE1lbWJlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogYWRkTW9kZXJhdG9ycyAtIGFkZCBtb2RlcmF0b3JzIHRvIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBtZW1iZXJzIEFuIGFycmF5IG9mIG1lbWJlciBpZGVudGlmaWVyc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbbWVzc2FnZV0gT3B0aW9uYWwgbWVzc2FnZSBvYmplY3QgZm9yIGNoYW5uZWwgbWVtYmVycyBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxVcGRhdGVPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwgY29uZmlndXJhdGlvbiB0byBjb250cm9sIHRoZSBiZWhhdmlvciB3aGlsZSB1cGRhdGluZ1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRNb2RlcmF0b3JzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYWRkTW9kZXJhdG9ycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNihtZW1iZXJzLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxNiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE2Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxNlsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxNlsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgYWRkX21vZGVyYXRvcnM6IG1lbWJlcnMsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBhZGRNb2RlcmF0b3JzKF94MTQsIF94MTUpIHtcbiAgICAgICAgcmV0dXJuIF9hZGRNb2RlcmF0b3JzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRNb2RlcmF0b3JzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGFzc2lnblJvbGVzIC0gc2V0cyBtZW1iZXIgcm9sZXMgaW4gYSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3tjaGFubmVsX3JvbGU6IFJvbGUsIHVzZXJfaWQ6IHN0cmluZ31bXX0gcm9sZXMgTGlzdCBvZiByb2xlIGFzc2lnbm1lbnRzXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFttZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFzc2lnblJvbGVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYXNzaWduUm9sZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcocm9sZXMsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczE3ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTcubGVuZ3RoID4gMiAmJiBfYXJnczE3WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczE3WzJdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgICAgICAgICBhc3NpZ25fcm9sZXM6IHJvbGVzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYXNzaWduUm9sZXMoX3gxNiwgX3gxNykge1xuICAgICAgICByZXR1cm4gX2Fzc2lnblJvbGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhc3NpZ25Sb2xlcztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBpbnZpdGVNZW1iZXJzIC0gaW52aXRlIG1lbWJlcnMgdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7e3VzZXJfaWQ6IHN0cmluZywgY2hhbm5lbF9yb2xlPzogUm9sZX1bXX0gbWVtYmVycyBBbiBhcnJheSBvZiBtZW1iZXJzIHRvIGludml0ZSB0byB0aGUgY2hhbm5lbFxuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbbWVzc2FnZV0gT3B0aW9uYWwgbWVzc2FnZSBvYmplY3QgZm9yIGNoYW5uZWwgbWVtYmVycyBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxVcGRhdGVPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwgY29uZmlndXJhdGlvbiB0byBjb250cm9sIHRoZSBiZWhhdmlvciB3aGlsZSB1cGRhdGluZ1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZpdGVNZW1iZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfaW52aXRlTWVtYmVycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOChtZW1iZXJzLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxOCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE4Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxOFsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOFsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgaW52aXRlczogbWVtYmVycyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGludml0ZU1lbWJlcnMoX3gxOCwgX3gxOSkge1xuICAgICAgICByZXR1cm4gX2ludml0ZU1lbWJlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGludml0ZU1lbWJlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcmVtb3ZlTWVtYmVycyAtIHJlbW92ZSBtZW1iZXJzIGZyb20gY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbWVtYmVycyBBbiBhcnJheSBvZiBtZW1iZXIgaWRlbnRpZmllcnNcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW21lc3NhZ2VdIE9wdGlvbmFsIG1lc3NhZ2Ugb2JqZWN0IGZvciBjaGFubmVsIG1lbWJlcnMgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsVXBkYXRlT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIGNvbmZpZ3VyYXRpb24gdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igd2hpbGUgdXBkYXRpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlTWVtYmVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlbW92ZU1lbWJlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkobWVtYmVycywgbWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTkgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxOS5sZW5ndGggPiAyICYmIF9hcmdzMTlbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTlbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ1KHtcbiAgICAgICAgICAgICAgICAgIHJlbW92ZV9tZW1iZXJzOiBtZW1iZXJzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlTWVtYmVycyhfeDIwLCBfeDIxKSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlTWVtYmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlTWVtYmVycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZW1vdGVNb2RlcmF0b3JzIC0gcmVtb3ZlIG1vZGVyYXRvciByb2xlIGZyb20gY2hhbm5lbCBtZW1iZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBtZW1iZXJzIEFuIGFycmF5IG9mIG1lbWJlciBpZGVudGlmaWVyc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbbWVzc2FnZV0gT3B0aW9uYWwgbWVzc2FnZSBvYmplY3QgZm9yIGNoYW5uZWwgbWVtYmVycyBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxVcGRhdGVPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwgY29uZmlndXJhdGlvbiB0byBjb250cm9sIHRoZSBiZWhhdmlvciB3aGlsZSB1cGRhdGluZ1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZW1vdGVNb2RlcmF0b3JzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVtb3RlTW9kZXJhdG9ycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMChtZW1iZXJzLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MyMCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczIwLmxlbmd0aCA+IDIgJiYgX2FyZ3MyMFsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyMFsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgZGVtb3RlX21vZGVyYXRvcnM6IG1lbWJlcnMsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyMC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZW1vdGVNb2RlcmF0b3JzKF94MjIsIF94MjMpIHtcbiAgICAgICAgcmV0dXJuIF9kZW1vdGVNb2RlcmF0b3JzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZW1vdGVNb2RlcmF0b3JzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF91cGRhdGUgLSBleGVjdXRlcyBjaGFubmVsIHVwZGF0ZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHBheWxvYWQgT2JqZWN0IFVwZGF0ZSBDaGFubmVsIHBheWxvYWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqIFRPRE86IGludHJvZHVjZSBuZXcgdHlwZSBpbnN0ZWFkIG9mIE9iamVjdCBpbiB0aGUgbmV4dCBtYWpvciB1cGRhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRhdGUzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKHBheWxvYWQpIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5fY2hhbm5lbFVSTCgpLCBwYXlsb2FkKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MjEuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhLmNoYW5uZWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF91cGRhdGUoX3gyNCkge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZTMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF91cGRhdGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogbXV0ZSAtIG11dGVzIHRoZSBjdXJyZW50IGNoYW5uZWxcbiAgICAgKiBAcGFyYW0ge3sgdXNlcl9pZD86IHN0cmluZywgZXhwaXJhdGlvbj86IHN0cmluZyB9fSBvcHRzIGV4cGlyYXRpb24gaW4gbWludXRlcyBvciB1c2VyX2lkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxNdXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICpcbiAgICAgKiBleGFtcGxlIHdpdGggZXhwaXJhdGlvbjpcbiAgICAgKiBhd2FpdCBjaGFubmVsLm11dGUoe2V4cGlyYXRpb246IG1vbWVudC5kdXJhdGlvbigyLCAnd2Vla3MnKX0pO1xuICAgICAqXG4gICAgICogZXhhbXBsZSBzZXJ2ZXIgc2lkZTpcbiAgICAgKiBhd2FpdCBjaGFubmVsLm11dGUoe3VzZXJfaWQ6IHVzZXJJZH0pO1xuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtdXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbXV0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHtcbiAgICAgICAgdmFyIG9wdHMsXG4gICAgICAgICAgICBfYXJnczIyID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0cyA9IF9hcmdzMjIubGVuZ3RoID4gMCAmJiBfYXJnczIyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczIyWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArICcvbW9kZXJhdGlvbi9tdXRlL2NoYW5uZWwnLCBfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgY2hhbm5lbF9jaWQ6IHRoaXMuY2lkXG4gICAgICAgICAgICAgICAgfSwgb3B0cykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyMi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBtdXRlKCkge1xuICAgICAgICByZXR1cm4gX211dGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG11dGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdW5tdXRlIC0gbXV0ZXMgdGhlIGN1cnJlbnQgY2hhbm5lbFxuICAgICAqIEBwYXJhbSB7eyB1c2VyX2lkPzogc3RyaW5nfX0gb3B0cyB1c2VyX2lkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBUElSZXNwb25zZT59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKlxuICAgICAqIGV4YW1wbGUgc2VydmVyIHNpZGU6XG4gICAgICogYXdhaXQgY2hhbm5lbC51bm11dGUoe3VzZXJfaWQ6IHVzZXJJZH0pO1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5tdXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdW5tdXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIzKCkge1xuICAgICAgICB2YXIgb3B0cyxcbiAgICAgICAgICAgIF9hcmdzMjMgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRzID0gX2FyZ3MyMy5sZW5ndGggPiAwICYmIF9hcmdzMjNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjNbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VubXV0ZS9jaGFubmVsJywgX29iamVjdFNwcmVhZCQ1KHtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxfY2lkOiB0aGlzLmNpZFxuICAgICAgICAgICAgICAgIH0sIG9wdHMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5tdXRlKCkge1xuICAgICAgICByZXR1cm4gX3VubXV0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5tdXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIG11dGVTdGF0dXMgLSByZXR1cm5zIHRoZSBtdXRlIHN0YXR1cyBmb3IgdGhlIGN1cnJlbnQgY2hhbm5lbFxuICAgICAqIEByZXR1cm4ge3sgbXV0ZWQ6IGJvb2xlYW47IGNyZWF0ZWRBdDogRGF0ZSB8IG51bGw7IGV4cGlyZXNBdDogRGF0ZSB8IG51bGwgfX0geyBtdXRlZDogdHJ1ZSB8IGZhbHNlLCBjcmVhdGVkQXQ6IERhdGUgfCBudWxsLCBleHBpcmVzQXQ6IERhdGUgfCBudWxsfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibXV0ZVN0YXR1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtdXRlU3RhdHVzKCkge1xuICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5fbXV0ZVN0YXR1cyh0aGlzLmNpZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRBY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZEFjdGlvbihtZXNzYWdlSUQsIGZvcm1EYXRhKSB7XG4gICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgIGlmICghbWVzc2FnZUlEKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiTWVzc2FnZSBpZCBpcyBtaXNzaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlSUQsIFwiL2FjdGlvblwiKSwge1xuICAgICAgICBtZXNzYWdlX2lkOiBtZXNzYWdlSUQsXG4gICAgICAgIGZvcm1fZGF0YTogZm9ybURhdGEsXG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICB0eXBlOiB0aGlzLnR5cGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBrZXlzdHJva2UgLSBGaXJzdCBvZiB0aGUgdHlwaW5nLnN0YXJ0IGFuZCB0eXBpbmcuc3RvcCBldmVudHMgYmFzZWQgb24gdGhlIHVzZXJzIGtleXN0cm9rZXMuXG4gICAgICogQ2FsbCB0aGlzIG9uIGV2ZXJ5IGtleXN0cm9rZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2V0c3RyZWFtLmlvL2NoYXQvZG9jcy90eXBpbmdfaW5kaWNhdG9ycy8/bGFuZ3VhZ2U9anN8RG9jc31cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhcmVudF9pZF0gc2V0IHRoaXMgZmllbGQgdG8gYG1lc3NhZ2UuaWRgIHRvIGluZGljYXRlIHRoYXQgdHlwaW5nIGV2ZW50IGlzIGhhcHBlbmluZyBpbiBhIHRocmVhZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwia2V5c3Ryb2tlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfa2V5c3Ryb2tlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KHBhcmVudF9pZCkge1xuICAgICAgICB2YXIgX3RoaXMkZ2V0Q29uZmlnO1xuXG4gICAgICAgIHZhciBub3csIGRpZmY7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoKF90aGlzJGdldENvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCkpICE9PSBudWxsICYmIF90aGlzJGdldENvbmZpZyAhPT0gdm9pZCAwICYmIF90aGlzJGdldENvbmZpZy50eXBpbmdfZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRpZmYgPSB0aGlzLmxhc3RUeXBpbmdFdmVudCAmJiBub3cuZ2V0VGltZSgpIC0gdGhpcy5sYXN0VHlwaW5nRXZlbnQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEtleVN0cm9rZSA9IG5vdztcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHlwaW5nID0gdHJ1ZTsgLy8gc2VuZCBhIHR5cGluZy5zdGFydCBldmVyeSAyIHNlY29uZHNcblxuICAgICAgICAgICAgICAgIGlmICghKGRpZmYgPT09IG51bGwgfHwgZGlmZiA+IDIwMDApKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFR5cGluZ0V2ZW50ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3R5cGluZy5zdGFydCcsXG4gICAgICAgICAgICAgICAgICBwYXJlbnRfaWQ6IHBhcmVudF9pZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBrZXlzdHJva2UoX3gyNSkge1xuICAgICAgICByZXR1cm4gX2tleXN0cm9rZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ga2V5c3Ryb2tlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHN0b3BUeXBpbmcgLSBTZXRzIGxhc3QgdHlwaW5nIHRvIG51bGwgYW5kIHNlbmRzIHRoZSB0eXBpbmcuc3RvcCBldmVudFxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2V0c3RyZWFtLmlvL2NoYXQvZG9jcy90eXBpbmdfaW5kaWNhdG9ycy8/bGFuZ3VhZ2U9anN8RG9jc31cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhcmVudF9pZF0gc2V0IHRoaXMgZmllbGQgdG8gYG1lc3NhZ2UuaWRgIHRvIGluZGljYXRlIHRoYXQgdHlwaW5nIGV2ZW50IGlzIGhhcHBlbmluZyBpbiBhIHRocmVhZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcFR5cGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0b3BUeXBpbmcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUocGFyZW50X2lkKSB7XG4gICAgICAgIHZhciBfdGhpcyRnZXRDb25maWcyO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNS5wcmV2ID0gX2NvbnRleHQyNS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoKF90aGlzJGdldENvbmZpZzIgPSB0aGlzLmdldENvbmZpZygpKSAhPT0gbnVsbCAmJiBfdGhpcyRnZXRDb25maWcyICE9PSB2b2lkIDAgJiYgX3RoaXMkZ2V0Q29uZmlnMi50eXBpbmdfZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUeXBpbmdFdmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1R5cGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0eXBpbmcuc3RvcCcsXG4gICAgICAgICAgICAgICAgICBwYXJlbnRfaWQ6IHBhcmVudF9pZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHN0b3BUeXBpbmcoX3gyNikge1xuICAgICAgICByZXR1cm4gX3N0b3BUeXBpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0b3BUeXBpbmc7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogbGFzdE1lc3NhZ2UgLSByZXR1cm4gdGhlIGxhc3QgbWVzc2FnZSwgdGFrZXMgaW50byBhY2NvdW50IHRoYXQgbGFzdCBmZXcgbWVzc2FnZXMgbWlnaHQgbm90IGJlIHBlcmZlY3RseSBzb3J0ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JldHVyblR5cGU8Q2hhbm5lbFN0YXRlPFN0cmVhbUNoYXRHZW5lcmljcz5bJ2Zvcm1hdE1lc3NhZ2UnXT4gfCB1bmRlZmluZWR9IERlc2NyaXB0aW9uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsYXN0TWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsYXN0TWVzc2FnZSgpIHtcbiAgICAgIC8vIGdldCBsYXN0IDUgbWVzc2FnZXMsIHNvcnQsIHJldHVybiB0aGUgbGF0ZXN0XG4gICAgICAvLyBnZXQgYSBzbGljZSBvZiB0aGUgbGFzdCA1XG4gICAgICB2YXIgbWluID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlcy5sZW5ndGggLSA1O1xuXG4gICAgICBpZiAobWluIDwgMCkge1xuICAgICAgICBtaW4gPSAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWF4ID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlcy5sZW5ndGggKyAxO1xuICAgICAgdmFyIG1lc3NhZ2VTbGljZSA9IHRoaXMuc3RhdGUubGF0ZXN0TWVzc2FnZXMuc2xpY2UobWluLCBtYXgpOyAvLyBzb3J0IGJ5IHBrIGRlc2NcblxuICAgICAgbWVzc2FnZVNsaWNlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIuY3JlYXRlZF9hdC5nZXRUaW1lKCkgLSBhLmNyZWF0ZWRfYXQuZ2V0VGltZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVzc2FnZVNsaWNlWzBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBtYXJrUmVhZCAtIFNlbmQgdGhlIG1hcmsgcmVhZCBldmVudCBmb3IgdGhpcyB1c2VyLCBvbmx5IHdvcmtzIGlmIHRoZSBgcmVhZF9ldmVudHNgIHNldHRpbmcgaXMgZW5hYmxlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtNYXJrUmVhZE9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gZGF0YVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8RXZlbnRBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IHwgbnVsbD59IERlc2NyaXB0aW9uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXJrUmVhZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX21hcmtSZWFkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KCkge1xuICAgICAgICB2YXIgX3RoaXMkZ2V0Q29uZmlnMztcblxuICAgICAgICB2YXIgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzMjYgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI2JChfY29udGV4dDI2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2FyZ3MyNi5sZW5ndGggPiAwICYmIF9hcmdzMjZbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjZbMF0gOiB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdGlhbGl6ZWQoKTtcblxuICAgICAgICAgICAgICAgIGlmICgoX3RoaXMkZ2V0Q29uZmlnMyA9IHRoaXMuZ2V0Q29uZmlnKCkpICE9PSBudWxsICYmIF90aGlzJGdldENvbmZpZzMgIT09IHZvaWQgMCAmJiBfdGhpcyRnZXRDb25maWczLnJlYWRfZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVzb2x2ZShudWxsKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL3JlYWQnLCBfb2JqZWN0U3ByZWFkJDUoe30sIGRhdGEpKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbWFya1JlYWQoKSB7XG4gICAgICAgIHJldHVybiBfbWFya1JlYWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcmtSZWFkO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIG1hcmtVbnJlYWQgLSBNYXJrIHRoZSBjaGFubmVsIGFzIHVucmVhZCBmcm9tIG1lc3NhZ2VJRCwgb25seSB3b3JrcyBpZiB0aGUgYHJlYWRfZXZlbnRzYCBzZXR0aW5nIGlzIGVuYWJsZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWFya1VucmVhZE9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gZGF0YVxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlfSBBbiBBUEkgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcmtVbnJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9tYXJrVW5yZWFkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzJGdldENvbmZpZzQ7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjckKF9jb250ZXh0MjcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI3LnByZXYgPSBfY29udGV4dDI3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdGlhbGl6ZWQoKTtcblxuICAgICAgICAgICAgICAgIGlmICgoX3RoaXMkZ2V0Q29uZmlnNCA9IHRoaXMuZ2V0Q29uZmlnKCkpICE9PSBudWxsICYmIF90aGlzJGdldENvbmZpZzQgIT09IHZvaWQgMCAmJiBfdGhpcyRnZXRDb25maWc0LnJlYWRfZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjcuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVzb2x2ZShudWxsKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL3VucmVhZCcsIF9vYmplY3RTcHJlYWQkNSh7fSwgZGF0YSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyNy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBtYXJrVW5yZWFkKF94MjcpIHtcbiAgICAgICAgcmV0dXJuIF9tYXJrVW5yZWFkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXJrVW5yZWFkO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGNsZWFuIC0gQ2xlYW5zIHRoZSBjaGFubmVsIHN0YXRlIGFuZCBmaXJlcyBzdG9wIHR5cGluZyBpZiBuZWVkZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNsZWFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFuKCkge1xuICAgICAgaWYgKHRoaXMubGFzdEtleVN0cm9rZSkge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGRpZmYgPSBub3cuZ2V0VGltZSgpIC0gdGhpcy5sYXN0S2V5U3Ryb2tlLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAoZGlmZiA+IDEwMDAgJiYgdGhpcy5pc1R5cGluZykge1xuICAgICAgICAgIGxvZ0NoYXRQcm9taXNlRXhlY3V0aW9uKHRoaXMuc3RvcFR5cGluZygpLCAnc3RvcCB0eXBpbmcgZXZlbnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlLmNsZWFuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHdhdGNoIC0gTG9hZHMgdGhlIGluaXRpYWwgY2hhbm5lbCBzdGF0ZSBhbmQgd2F0Y2hlcyBmb3IgY2hhbmdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDaGFubmVsUXVlcnlPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IG9wdGlvbnMgYWRkaXRpb25hbCBvcHRpb25zIGZvciB0aGUgcXVlcnkgZW5kcG9pbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UXVlcnlDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndhdGNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfd2F0Y2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbnMsIGNvbWJpbmVkLCBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0MjgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI4LnByZXYgPSBfY29udGV4dDI4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICB3YXRjaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHByZXNlbmNlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07IC8vIE1ha2Ugc3VyZSB3ZSB3YWl0IGZvciB0aGUgY29ubmVjdCBwcm9taXNlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBvbmVcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkud3NQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2V0Q2xpZW50KCkuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucy53YXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbWJpbmVkID0gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDI4Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5KGNvbWJpbmVkLCAnbGF0ZXN0Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gX2NvbnRleHQyOC5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHN0YXRlLmNoYW5uZWw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGllbnQubG9nZ2VyKCdpbmZvJywgXCJjaGFubmVsOndhdGNoKCkgLSBzdGFydGVkIHdhdGNoaW5nIGNoYW5uZWwgXCIuY29uY2F0KHRoaXMuY2lkKSwge1xuICAgICAgICAgICAgICAgICAgdGFnczogWydjaGFubmVsJ10sXG4gICAgICAgICAgICAgICAgICBjaGFubmVsOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5hYnJ1cHQoXCJyZXR1cm5cIiwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB3YXRjaChfeDI4KSB7XG4gICAgICAgIHJldHVybiBfd2F0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdhdGNoO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHN0b3BXYXRjaGluZyAtIFN0b3BzIHdhdGNoaW5nIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFQSVJlc3BvbnNlPn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcFdhdGNoaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3RvcFdhdGNoaW5nID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KCkge1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI5JChfY29udGV4dDI5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOS5wcmV2ID0gX2NvbnRleHQyOS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5fY2hhbm5lbFVSTCgpICsgJy9zdG9wLXdhdGNoaW5nJywge30pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mjkuc2VudDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcImNoYW5uZWw6d2F0Y2goKSAtIHN0b3BwZWQgd2F0Y2hpbmcgY2hhbm5lbCBcIi5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgICAgICAgICAgICB0YWdzOiBbJ2NoYW5uZWwnXSxcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc3RvcFdhdGNoaW5nKCkge1xuICAgICAgICByZXR1cm4gX3N0b3BXYXRjaGluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcFdhdGNoaW5nO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldFJlcGxpZXMgLSBMaXN0IHRoZSBtZXNzYWdlIHJlcGxpZXMgZm9yIGEgcGFyZW50IG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRfaWQgVGhlIG1lc3NhZ2UgcGFyZW50IGlkLCBpZSB0aGUgdG9wIG9mIHRoZSB0aHJlYWRcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VQYWdpbmF0aW9uT3B0aW9ucyAmIHsgdXNlcj86IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+OyB1c2VyX2lkPzogc3RyaW5nIH19IG9wdGlvbnMgUGFnaW5hdGlvbiBwYXJhbXMsIGllIHtsaW1pdDoxMCwgaWRfbHRlOiAxMH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8R2V0UmVwbGllc0FQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBBIHJlc3BvbnNlIHdpdGggYSBsaXN0IG9mIG1lc3NhZ2VzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRSZXBsaWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0UmVwbGllcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMChwYXJlbnRfaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMwJChfY29udGV4dDMwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMC5wcmV2ID0gX2NvbnRleHQzMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMwLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQocGFyZW50X2lkLCBcIi9yZXBsaWVzXCIpLCBfb2JqZWN0U3ByZWFkJDUoe30sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MzAuc2VudDtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBhbnkgbWVzc2FnZXMgdG8gb3VyIHRocmVhZCBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFkZE1lc3NhZ2VzU29ydGVkKGRhdGEubWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLmFicnVwdChcInJldHVyblwiLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRSZXBsaWVzKF94MjksIF94MzApIHtcbiAgICAgICAgcmV0dXJuIF9nZXRSZXBsaWVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRSZXBsaWVzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldFBpbm5lZE1lc3NhZ2VzIC0gTGlzdCBsaXN0IHBpbm5lZCBtZXNzYWdlcyBvZiB0aGUgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQaW5uZWRNZXNzYWdlUGFnaW5hdGlvbk9wdGlvbnMgJiB7IHVzZXI/OiBVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPjsgdXNlcl9pZD86IHN0cmluZyB9fSBvcHRpb25zIFBhZ2luYXRpb24gcGFyYW1zLCBpZSB7bGltaXQ6MTAsIGlkX2x0ZTogMTB9XG4gICAgICogQHBhcmFtIHtQaW5uZWRNZXNzYWdlc1NvcnR9IHNvcnQgZGVmaW5lcyBzb3J0aW5nIGRpcmVjdGlvbiBvZiBwaW5uZWQgbWVzc2FnZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8R2V0UmVwbGllc0FQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBBIHJlc3BvbnNlIHdpdGggYSBsaXN0IG9mIG1lc3NhZ2VzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRQaW5uZWRNZXNzYWdlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldFBpbm5lZE1lc3NhZ2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMxKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNvcnQsXG4gICAgICAgICAgICBfYXJnczMxID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMSQoX2NvbnRleHQzMSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzEucHJldiA9IF9jb250ZXh0MzEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgc29ydCA9IF9hcmdzMzEubGVuZ3RoID4gMSAmJiBfYXJnczMxWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczMxWzFdIDogW107XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5nZXQodGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgXCIvY2hhbm5lbHMvXCIuY29uY2F0KHRoaXMudHlwZSwgXCIvXCIpLmNvbmNhdCh0aGlzLmlkLCBcIi9waW5uZWRfbWVzc2FnZXNcIiksIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBzb3J0OiBub3JtYWxpemVRdWVyeVNvcnQoc29ydClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMxLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDMxLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBpbm5lZE1lc3NhZ2VzKF94MzEpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRQaW5uZWRNZXNzYWdlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0UGlubmVkTWVzc2FnZXM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0UmVhY3Rpb25zIC0gTGlzdCB0aGUgcmVhY3Rpb25zLCBzdXBwb3J0cyBwYWdpbmF0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZV9pZCBUaGUgbWVzc2FnZSBpZFxuICAgICAqIEBwYXJhbSB7eyBsaW1pdD86IG51bWJlcjsgb2Zmc2V0PzogbnVtYmVyIH19IG9wdGlvbnMgVGhlIHBhZ2luYXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxHZXRSZWFjdGlvbnNBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gU2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRSZWFjdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVhY3Rpb25zKG1lc3NhZ2VfaWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQobWVzc2FnZV9pZCwgXCIvcmVhY3Rpb25zXCIpLCBfb2JqZWN0U3ByZWFkJDUoe30sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0TWVzc2FnZXNCeUlkIC0gUmV0cmlldmVzIGEgbGlzdCBvZiBtZXNzYWdlcyBieSBJRFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbWVzc2FnZUlkcyBUaGUgaWRzIG9mIHRoZSBtZXNzYWdlcyB0byByZXRyaWV2ZSBmcm9tIHRoaXMgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxHZXRNdWx0aXBsZU1lc3NhZ2VzQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWVzc2FnZXNCeUlkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1lc3NhZ2VzQnlJZChtZXNzYWdlSWRzKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5nZXQodGhpcy5fY2hhbm5lbFVSTCgpICsgJy9tZXNzYWdlcycsIHtcbiAgICAgICAgaWRzOiBtZXNzYWdlSWRzLmpvaW4oJywnKVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGxhc3RSZWFkIC0gcmV0dXJucyB0aGUgbGFzdCB0aW1lIHRoZSB1c2VyIG1hcmtlZCB0aGUgY2hhbm5lbCBhcyByZWFkIGlmIHRoZSB1c2VyIG5ldmVyIG1hcmtlZCB0aGUgY2hhbm5lbCBhcyByZWFkLCB0aGlzIHdpbGwgcmV0dXJuIG51bGxcbiAgICAgKiBAcmV0dXJuIHtEYXRlIHwgbnVsbCB8IHVuZGVmaW5lZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxhc3RSZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxhc3RSZWFkKCkge1xuICAgICAgdmFyIF90aGlzJGdldENsaWVudCA9IHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgdXNlcklEID0gX3RoaXMkZ2V0Q2xpZW50LnVzZXJJRDtcblxuICAgICAgaWYgKHVzZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5yZWFkW3VzZXJJRF0gPyB0aGlzLnN0YXRlLnJlYWRbdXNlcklEXS5sYXN0X3JlYWQgOiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfY291bnRNZXNzYWdlQXNVbnJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NvdW50TWVzc2FnZUFzVW5yZWFkKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfbWVzc2FnZSR1c2VyLCBfbWVzc2FnZSR1c2VyMiwgX3RoaXMkZGF0YTIsIF90aGlzJGRhdGEzO1xuXG4gICAgICBpZiAobWVzc2FnZS5zaGFkb3dlZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKG1lc3NhZ2Uuc2lsZW50KSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAobWVzc2FnZS5wYXJlbnRfaWQgJiYgIW1lc3NhZ2Uuc2hvd19pbl9jaGFubmVsKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoKChfbWVzc2FnZSR1c2VyID0gbWVzc2FnZS51c2VyKSA9PT0gbnVsbCB8fCBfbWVzc2FnZSR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWVzc2FnZSR1c2VyLmlkKSA9PT0gdGhpcy5nZXRDbGllbnQoKS51c2VySUQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICgoX21lc3NhZ2UkdXNlcjIgPSBtZXNzYWdlLnVzZXIpICE9PSBudWxsICYmIF9tZXNzYWdlJHVzZXIyICE9PSB2b2lkIDAgJiYgX21lc3NhZ2UkdXNlcjIuaWQgJiYgdGhpcy5nZXRDbGllbnQoKS51c2VyTXV0ZVN0YXR1cyhtZXNzYWdlLnVzZXIuaWQpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAobWVzc2FnZS50eXBlID09PSAnc3lzdGVtJykgcmV0dXJuIGZhbHNlOyAvLyBSZXR1cm4gZmFsc2UgaWYgY2hhbm5lbCBkb2Vzbid0IGFsbG93IHJlYWQgZXZlbnRzLlxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSgoX3RoaXMkZGF0YTIgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhMi5vd25fY2FwYWJpbGl0aWVzKSAmJiAhKChfdGhpcyRkYXRhMyA9IHRoaXMuZGF0YSkgIT09IG51bGwgJiYgX3RoaXMkZGF0YTMgIT09IHZvaWQgMCAmJiBfdGhpcyRkYXRhMy5vd25fY2FwYWJpbGl0aWVzLmluY2x1ZGVzKCdyZWFkLWV2ZW50cycpKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHRoaXMubXV0ZVN0YXR1cygpLm11dGVkKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY291bnRVbnJlYWQgLSBDb3VudCBvZiB1bnJlYWQgbWVzc2FnZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RGF0ZSB8IG51bGx9IFtsYXN0UmVhZF0gbGFzdFJlYWQgdGhlIHRpbWUgdGhhdCB0aGUgdXNlciByZWFkIGEgbWVzc2FnZSwgZGVmYXVsdHMgdG8gY3VycmVudCB1c2VyJ3MgcmVhZCBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBVbnJlYWQgY291bnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvdW50VW5yZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvdW50VW5yZWFkKGxhc3RSZWFkKSB7XG4gICAgICBpZiAoIWxhc3RSZWFkKSByZXR1cm4gdGhpcy5zdGF0ZS51bnJlYWRDb3VudDtcbiAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMuc3RhdGUubGF0ZXN0TWVzc2FnZXNbaV07XG5cbiAgICAgICAgaWYgKG1lc3NhZ2UuY3JlYXRlZF9hdCA+IGxhc3RSZWFkICYmIHRoaXMuX2NvdW50TWVzc2FnZUFzVW5yZWFkKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvdW50VW5yZWFkTWVudGlvbnMgLSBDb3VudCB0aGUgbnVtYmVyIG9mIHVucmVhZCBtZXNzYWdlcyBtZW50aW9uaW5nIHRoZSBjdXJyZW50IHVzZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVW5yZWFkIG1lbnRpb25zIGNvdW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb3VudFVucmVhZE1lbnRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvdW50VW5yZWFkTWVudGlvbnMoKSB7XG4gICAgICB2YXIgbGFzdFJlYWQgPSB0aGlzLmxhc3RSZWFkKCk7XG4gICAgICB2YXIgdXNlcklEID0gdGhpcy5nZXRDbGllbnQoKS51c2VySUQ7XG4gICAgICB2YXIgY291bnQgPSAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUubGF0ZXN0TWVzc2FnZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIF9tZXNzYWdlJG1lbnRpb25lZF91cztcblxuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMuc3RhdGUubGF0ZXN0TWVzc2FnZXNbaV07XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvdW50TWVzc2FnZUFzVW5yZWFkKG1lc3NhZ2UpICYmICghbGFzdFJlYWQgfHwgbWVzc2FnZS5jcmVhdGVkX2F0ID4gbGFzdFJlYWQpICYmIChfbWVzc2FnZSRtZW50aW9uZWRfdXMgPSBtZXNzYWdlLm1lbnRpb25lZF91c2VycykgIT09IG51bGwgJiYgX21lc3NhZ2UkbWVudGlvbmVkX3VzICE9PSB2b2lkIDAgJiYgX21lc3NhZ2UkbWVudGlvbmVkX3VzLnNvbWUoZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdXNlci5pZCA9PT0gdXNlcklEO1xuICAgICAgICB9KSkge1xuICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgLSBDcmVhdGVzIGEgbmV3IGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UXVlcnlDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBxdWVyeSAtIFF1ZXJ5IHRoZSBBUEksIGdldCBtZXNzYWdlcywgbWVtYmVycyBvciBvdGhlciBjaGFubmVsIGZpZWxkc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDaGFubmVsUXVlcnlPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IG9wdGlvbnMgVGhlIHF1ZXJ5IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VTZXRUeXBlfSBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0IEl0J3MgcG9zc2libGUgdG8gbG9hZCBkaXNqdW5jdCBzZXRzIG9mIGEgY2hhbm5lbCdzIG1lc3NhZ2VzIGludG8gc3RhdGUsIHVzZSBgY3VycmVudGAgdG8gbG9hZCB0aGUgaW5pdGlhbCBjaGFubmVsIHN0YXRlIG9yIGlmIHlvdSB3YW50IHRvIGV4dGVuZCB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBtZXNzYWdlcywgdXNlIGBsYXRlc3RgIGlmIHlvdSB3YW50IHRvIGxvYWQvZXh0ZW5kIHRoZSBsYXRlc3QgbWVzc2FnZXMsIGBuZXdgIGlzIHVzZWQgZm9yIGxvYWRpbmcgYSBzcGVjaWZpYyBtZXNzYWdlIGFuZCBpdCdzIHN1cnJvdW5kaW5nc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxRdWVyeUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gUmV0dXJucyBhIHF1ZXJ5IHJlc3BvbnNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyRkYXRhNCwgX3RoaXMkZGF0YTU7XG5cbiAgICAgICAgdmFyIG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QsXG4gICAgICAgICAgICBxdWVyeVVSTCxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgbWVtYmVyc1N0cixcbiAgICAgICAgICAgIHRlbXBDaGFubmVsQ2lkLFxuICAgICAgICAgICAgX3RoaXMkX2luaXRpYWxpemVTdGF0LFxuICAgICAgICAgICAgbWVzc2FnZVNldCxcbiAgICAgICAgICAgIGFyZUNhcGFiaWxpdGllc0NoYW5nZWQsXG4gICAgICAgICAgICBfYXJnczMyID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMyJChfY29udGV4dDMyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMi5wcmV2ID0gX2NvbnRleHQzMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0ID0gX2FyZ3MzMi5sZW5ndGggPiAxICYmIF9hcmdzMzJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMzJbMV0gOiAnY3VycmVudCc7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS53c1Byb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHF1ZXJ5VVJMID0gXCJcIi5jb25jYXQodGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMLCBcIi9jaGFubmVscy9cIikuY29uY2F0KHRoaXMudHlwZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICAgICAgICAgICAgcXVlcnlVUkwgKz0gXCIvXCIuY29uY2F0KHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdChxdWVyeVVSTCArICcvcXVlcnknLCBfb2JqZWN0U3ByZWFkJDUoe1xuICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9jb250ZXh0MzIuc2VudDtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgY2hhbm5lbCBpZCBpZiBpdCB3YXMgbWlzc2luZ1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5pZCA9IHN0YXRlLmNoYW5uZWwuaWQ7XG4gICAgICAgICAgICAgICAgICB0aGlzLmNpZCA9IHN0YXRlLmNoYW5uZWwuY2lkOyAvLyBzZXQgdGhlIGNoYW5uZWwgYXMgYWN0aXZlLi4uXG5cbiAgICAgICAgICAgICAgICAgIG1lbWJlcnNTdHIgPSBzdGF0ZS5tZW1iZXJzLm1hcChmdW5jdGlvbiAobWVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfbWVtYmVyJHVzZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbWJlci51c2VyX2lkIHx8ICgoX21lbWJlciR1c2VyID0gbWVtYmVyLnVzZXIpID09PSBudWxsIHx8IF9tZW1iZXIkdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21lbWJlciR1c2VyLmlkKTtcbiAgICAgICAgICAgICAgICAgIH0pLnNvcnQoKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICB0ZW1wQ2hhbm5lbENpZCA9IFwiXCIuY29uY2F0KHRoaXMudHlwZSwgXCI6IW1lbWJlcnMtXCIpLmNvbmNhdChtZW1iZXJzU3RyKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHRlbXBDaGFubmVsQ2lkIGluIHRoaXMuZ2V0Q2xpZW50KCkuYWN0aXZlQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBnZXRzIHNldCBpbiBgY2xpZW50LmNoYW5uZWwoKWAgZnVuY3Rpb24sIHdoZW4gY2hhbm5lbCBpcyBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzaW5nIG1lbWJlcnMsIG5vdCBpZC5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZ2V0Q2xpZW50KCkuYWN0aXZlQ2hhbm5lbHNbdGVtcENoYW5uZWxDaWRdO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmNpZCBpbiB0aGlzLmdldENsaWVudCgpLmFjdGl2ZUNoYW5uZWxzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLmFjdGl2ZUNoYW5uZWxzW3RoaXMuY2lkXSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKS5fYWRkQ2hhbm5lbENvbmZpZyhzdGF0ZS5jaGFubmVsKTsgLy8gYWRkIGFueSBtZXNzYWdlcyB0byBvdXIgY2hhbm5lbCBzdGF0ZVxuXG5cbiAgICAgICAgICAgICAgICBfdGhpcyRfaW5pdGlhbGl6ZVN0YXQgPSB0aGlzLl9pbml0aWFsaXplU3RhdGUoc3RhdGUsIG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QpLCBtZXNzYWdlU2V0ID0gX3RoaXMkX2luaXRpYWxpemVTdGF0Lm1lc3NhZ2VTZXQ7XG4gICAgICAgICAgICAgICAgYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCA9IF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5jaGFubmVsLm93bl9jYXBhYmlsaXRpZXMgfHwgW10pLnNvcnQoKS5qb2luKCkgIT09IF90b0NvbnN1bWFibGVBcnJheShBcnJheS5pc0FycmF5KChfdGhpcyRkYXRhNCA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRhdGE0Lm93bl9jYXBhYmlsaXRpZXMpID8gKF90aGlzJGRhdGE1ID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRkYXRhNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YTUub3duX2NhcGFiaWxpdGllcyA6IFtdKS5zb3J0KCkuam9pbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHN0YXRlLmNoYW5uZWw7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZsaW5lTW9kZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFyZUNhcGFiaWxpdGllc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCkuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjYXBhYmlsaXRpZXMuY2hhbmdlZCcsXG4gICAgICAgICAgICAgICAgICAgIGNpZDogdGhpcy5jaWQsXG4gICAgICAgICAgICAgICAgICAgIG93bl9jYXBhYmlsaXRpZXM6IHN0YXRlLmNoYW5uZWwub3duX2NhcGFiaWxpdGllc1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdjaGFubmVscy5xdWVyaWVkJyxcbiAgICAgICAgICAgICAgICAgIHF1ZXJpZWRDaGFubmVsczoge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsczogW3N0YXRlXSxcbiAgICAgICAgICAgICAgICAgICAgaXNMYXRlc3RNZXNzYWdlU2V0OiBtZXNzYWdlU2V0LmlzTGF0ZXN0XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzIuYWJydXB0KFwicmV0dXJuXCIsIHN0YXRlKTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnkoX3gzMikge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBiYW5Vc2VyIC0gQmFucyBhIHVzZXIgZnJvbSBhIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcGFyYW0ge0JhblVzZXJPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJiYW5Vc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYmFuVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMyh0YXJnZXRVc2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzMkKF9jb250ZXh0MzMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMzLnByZXYgPSBfY29udGV4dDMzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdGlhbGl6ZWQoKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuYmFuVXNlcih0YXJnZXRVc2VySUQsIF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWRcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDMzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGJhblVzZXIoX3gzMywgX3gzNCkge1xuICAgICAgICByZXR1cm4gX2JhblVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJhblVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogaGlkZXMgdGhlIGNoYW5uZWwgZnJvbSBxdWVyeUNoYW5uZWxzIGZvciB0aGUgdXNlciB1bnRpbCBhIG1lc3NhZ2UgaXMgYWRkZWRcbiAgICAgKiBJZiBjbGVhckhpc3RvcnkgaXMgc2V0IHRvIHRydWUgLSBhbGwgbWVzc2FnZXMgd2lsbCBiZSByZW1vdmVkIGZvciB0aGUgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSB1c2VySWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFySGlzdG9yeVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhpZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9oaWRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM0KCkge1xuICAgICAgICB2YXIgdXNlcklkLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5LFxuICAgICAgICAgICAgX2FyZ3MzNCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzQkKF9jb250ZXh0MzQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM0LnByZXYgPSBfY29udGV4dDM0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVzZXJJZCA9IF9hcmdzMzQubGVuZ3RoID4gMCAmJiBfYXJnczM0WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczM0WzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICBjbGVhckhpc3RvcnkgPSBfYXJnczM0Lmxlbmd0aCA+IDEgJiYgX2FyZ3MzNFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzNFsxXSA6IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KFwiXCIuY29uY2F0KHRoaXMuX2NoYW5uZWxVUkwoKSwgXCIvaGlkZVwiKSwge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgICAgICAgY2xlYXJfaGlzdG9yeTogY2xlYXJIaXN0b3J5XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgIHJldHVybiBfaGlkZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGlkZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiByZW1vdmVzIHRoZSBoaWRkZW4gc3RhdHVzIGZvciBhIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gdXNlcklkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Nob3cgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzUoKSB7XG4gICAgICAgIHZhciB1c2VySWQsXG4gICAgICAgICAgICBfYXJnczM1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNSQoX2NvbnRleHQzNSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzUucHJldiA9IF9jb250ZXh0MzUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXNlcklkID0gX2FyZ3MzNS5sZW5ndGggPiAwICYmIF9hcmdzMzVbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMzVbMF0gOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KFwiXCIuY29uY2F0KHRoaXMuX2NoYW5uZWxVUkwoKSwgXCIvc2hvd1wiKSwge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgIHJldHVybiBfc2hvdy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvdztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1bmJhblVzZXIgLSBSZW1vdmVzIHRoZSBiYW5zIGZvciBhIHVzZXIgb24gYSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5iYW5Vc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdW5iYW5Vc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM2KHRhcmdldFVzZXJJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNiQoX2NvbnRleHQzNikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzYucHJldiA9IF9jb250ZXh0MzYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS51bmJhblVzZXIodGFyZ2V0VXNlcklELCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzNi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1bmJhblVzZXIoX3gzNSkge1xuICAgICAgICByZXR1cm4gX3VuYmFuVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5iYW5Vc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHNoYWRvd0JhbiAtIFNoYWRvdyBiYW5zIGEgdXNlciBmcm9tIGEgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7QmFuVXNlck9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNoYWRvd0JhblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NoYWRvd0JhbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNyh0YXJnZXRVc2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzckKF9jb250ZXh0MzcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM3LnByZXYgPSBfY29udGV4dDM3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdGlhbGl6ZWQoKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuc2hhZG93QmFuKHRhcmdldFVzZXJJRCwgX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzcuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2hhZG93QmFuKF94MzYsIF94MzcpIHtcbiAgICAgICAgcmV0dXJuIF9zaGFkb3dCYW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNoYWRvd0JhbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiByZW1vdmVTaGFkb3dCYW4gLSBSZW1vdmVzIHRoZSBzaGFkb3cgYmFuIGZvciBhIHVzZXIgb24gYSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlU2hhZG93QmFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVtb3ZlU2hhZG93QmFuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM4KHRhcmdldFVzZXJJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOCQoX2NvbnRleHQzOCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzgucHJldiA9IF9jb250ZXh0MzgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzOC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5yZW1vdmVTaGFkb3dCYW4odGFyZ2V0VXNlcklELCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzOC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZW1vdmVTaGFkb3dCYW4oX3gzOCkge1xuICAgICAgICByZXR1cm4gX3JlbW92ZVNoYWRvd0Jhbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlU2hhZG93QmFuO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZUNhbGwgLSBjcmVhdGVzIGEgY2FsbCBmb3IgdGhlIGN1cnJlbnQgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtDcmVhdGVDYWxsT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPENyZWF0ZUNhbGxSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVDYWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlQ2FsbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzOShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM5JChfY29udGV4dDM5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzOS5wcmV2ID0gX2NvbnRleHQzOS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDM5Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5fY2hhbm5lbFVSTCgpICsgJy9jYWxsJywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzOSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGwoX3gzOSkge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZUNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZUNhbGw7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogb24gLSBMaXN0ZW4gdG8gZXZlbnRzIG9uIHRoaXMgY2hhbm5lbC5cbiAgICAgKlxuICAgICAqIGNoYW5uZWwub24oJ21lc3NhZ2UubmV3JywgZXZlbnQgPT4ge2NvbnNvbGUubG9nKFwibXkgbmV3IG1lc3NhZ2VcIiwgZXZlbnQsIGNoYW5uZWwuc3RhdGUubWVzc2FnZXMpfSlcbiAgICAgKiBvclxuICAgICAqIGNoYW5uZWwub24oZXZlbnQgPT4ge2NvbnNvbGUubG9nKGV2ZW50LnR5cGUpfSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyPFN0cmVhbUNoYXRHZW5lcmljcz4gfCBFdmVudFR5cGVzfSBjYWxsYmFja09yU3RyaW5nICBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcjxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbY2FsbGJhY2tPck5vdGhpbmddIFRoZSBjYWxsYmFjayB0byBjYWxsXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihjYWxsYmFja09yU3RyaW5nLCBjYWxsYmFja09yTm90aGluZykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBrZXkgPSBjYWxsYmFja09yTm90aGluZyA/IGNhbGxiYWNrT3JTdHJpbmcgOiAnYWxsJztcbiAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPck5vdGhpbmcgOiBjYWxsYmFja09yU3RyaW5nO1xuXG4gICAgICBpZiAoIShrZXkgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2xpZW50LmxvZ2dlcignaW5mbycsIFwiQXR0YWNoaW5nIGxpc3RlbmVyIGZvciBcIi5jb25jYXQoa2V5LCBcIiBldmVudCBvbiBjaGFubmVsIFwiKS5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2hhbm5lbCddLFxuICAgICAgICBjaGFubmVsOiB0aGlzXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICBfdGhpczIuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcIlJlbW92aW5nIGxpc3RlbmVyIGZvciBcIi5jb25jYXQoa2V5LCBcIiBldmVudCBmcm9tIGNoYW5uZWwgXCIpLmNvbmNhdChfdGhpczIuY2lkKSwge1xuICAgICAgICAgICAgdGFnczogWydldmVudCcsICdjaGFubmVsJ10sXG4gICAgICAgICAgICBjaGFubmVsOiBfdGhpczJcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzMi5saXN0ZW5lcnNba2V5XSA9IF90aGlzMi5saXN0ZW5lcnNba2V5XS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZWwgIT09IGNhbGxiYWNrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBvZmYgLSBSZW1vdmUgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihjYWxsYmFja09yU3RyaW5nLCBjYWxsYmFja09yTm90aGluZykge1xuICAgICAgdmFyIGtleSA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPclN0cmluZyA6ICdhbGwnO1xuICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yTm90aGluZyA6IGNhbGxiYWNrT3JTdHJpbmc7XG5cbiAgICAgIGlmICghKGtleSBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jbGllbnQubG9nZ2VyKCdpbmZvJywgXCJSZW1vdmluZyBsaXN0ZW5lciBmb3IgXCIuY29uY2F0KGtleSwgXCIgZXZlbnQgZnJvbSBjaGFubmVsIFwiKS5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2hhbm5lbCddLFxuICAgICAgICBjaGFubmVsOiB0aGlzXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IHRoaXMubGlzdGVuZXJzW2tleV0uZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IGNhbGxiYWNrO1xuICAgICAgfSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc29uYXJqcy9jb2duaXRpdmUtY29tcGxleGl0eVxuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZUNoYW5uZWxFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2hhbm5lbEV2ZW50KGV2ZW50KSB7XG4gICAgICB2YXIgX2V2ZW50JHVzZXIsIF9ldmVudCR1c2VyMiwgX2V2ZW50JHVzZXIzLCBfZXZlbnQkdXNlcjUsIF9ldmVudCR1c2VyNiwgX2V2ZW50JGNoYW5uZWwsIF9ldmVudCRtZW1iZXIsIF9ldmVudCR1c2VyOSwgX2V2ZW50JHVzZXIxMCwgX2NoYW5uZWxTdGF0ZSRtZW1iZXJzLCBfZXZlbnQkdXNlcjExLCBfY2hhbm5lbFN0YXRlJG1lbWJlcnMyO1xuXG4gICAgICB2YXIgY2hhbm5lbCA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcImNoYW5uZWw6X2hhbmRsZUNoYW5uZWxFdmVudCAtIFJlY2VpdmVkIGV2ZW50IG9mIHR5cGUgeyBcIi5jb25jYXQoZXZlbnQudHlwZSwgXCIgfSBvbiBcIikuY29uY2F0KHRoaXMuY2lkKSwge1xuICAgICAgICB0YWdzOiBbJ2V2ZW50JywgJ2NoYW5uZWwnXSxcbiAgICAgICAgY2hhbm5lbDogdGhpc1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjaGFubmVsU3RhdGUgPSBjaGFubmVsLnN0YXRlO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSAndHlwaW5nLnN0YXJ0JzpcbiAgICAgICAgICBpZiAoKF9ldmVudCR1c2VyID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIgIT09IHZvaWQgMCAmJiBfZXZlbnQkdXNlci5pZCkge1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnR5cGluZ1tldmVudC51c2VyLmlkXSA9IGV2ZW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3R5cGluZy5zdG9wJzpcbiAgICAgICAgICBpZiAoKF9ldmVudCR1c2VyMiA9IGV2ZW50LnVzZXIpICE9PSBudWxsICYmIF9ldmVudCR1c2VyMiAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyMi5pZCkge1xuICAgICAgICAgICAgZGVsZXRlIGNoYW5uZWxTdGF0ZS50eXBpbmdbZXZlbnQudXNlci5pZF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVzc2FnZS5yZWFkJzpcbiAgICAgICAgICBpZiAoKF9ldmVudCR1c2VyMyA9IGV2ZW50LnVzZXIpICE9PSBudWxsICYmIF9ldmVudCR1c2VyMyAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyMy5pZCAmJiBldmVudC5jcmVhdGVkX2F0KSB7XG4gICAgICAgICAgICB2YXIgX2V2ZW50JHVzZXI0LCBfdGhpcyRnZXRDbGllbnQkdXNlcjtcblxuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnJlYWRbZXZlbnQudXNlci5pZF0gPSB7XG4gICAgICAgICAgICAgIC8vIGJlY2F1c2UgaW4gY2xpZW50LnRzIHRoZSBoYW5kbGVFdmVudCBjYWxsIHRoYXQgZmxvd3MgdG8gdGhpcyBzZXRzIHRoaXMgYGV2ZW50LnJlY2VpdmVkX2F0ID0gbmV3IERhdGUoKTtgXG4gICAgICAgICAgICAgIGxhc3RfcmVhZDogbmV3IERhdGUoZXZlbnQuY3JlYXRlZF9hdCksXG4gICAgICAgICAgICAgIGxhc3RfcmVhZF9tZXNzYWdlX2lkOiBldmVudC5sYXN0X3JlYWRfbWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgdXNlcjogZXZlbnQudXNlcixcbiAgICAgICAgICAgICAgdW5yZWFkX21lc3NhZ2VzOiAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoKChfZXZlbnQkdXNlcjQgPSBldmVudC51c2VyKSA9PT0gbnVsbCB8fCBfZXZlbnQkdXNlcjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCR1c2VyNC5pZCkgPT09ICgoX3RoaXMkZ2V0Q2xpZW50JHVzZXIgPSB0aGlzLmdldENsaWVudCgpLnVzZXIpID09PSBudWxsIHx8IF90aGlzJGdldENsaWVudCR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRnZXRDbGllbnQkdXNlci5pZCkpIHtcbiAgICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnVucmVhZENvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd1c2VyLndhdGNoaW5nLnN0YXJ0JzpcbiAgICAgICAgY2FzZSAndXNlci51cGRhdGVkJzpcbiAgICAgICAgICBpZiAoKF9ldmVudCR1c2VyNSA9IGV2ZW50LnVzZXIpICE9PSBudWxsICYmIF9ldmVudCR1c2VyNSAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyNS5pZCkge1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLndhdGNoZXJzW2V2ZW50LnVzZXIuaWRdID0gZXZlbnQudXNlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd1c2VyLndhdGNoaW5nLnN0b3AnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXI2ID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXI2ICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXI2LmlkKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbm5lbFN0YXRlLndhdGNoZXJzW2V2ZW50LnVzZXIuaWRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ21lc3NhZ2UuZGVsZXRlZCc6XG4gICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dGVuZEV2ZW50V2l0aE93blJlYWN0aW9ucyhldmVudCk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5oYXJkX2RlbGV0ZSkgY2hhbm5lbFN0YXRlLnJlbW92ZU1lc3NhZ2UoZXZlbnQubWVzc2FnZSk7ZWxzZSBjaGFubmVsU3RhdGUuYWRkTWVzc2FnZVNvcnRlZChldmVudC5tZXNzYWdlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnJlbW92ZVF1b3RlZE1lc3NhZ2VSZWZlcmVuY2VzKGV2ZW50Lm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZS5waW5uZWQpIHtcbiAgICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnJlbW92ZVBpbm5lZE1lc3NhZ2UoZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVzc2FnZS5uZXcnOlxuICAgICAgICAgIGlmIChldmVudC5tZXNzYWdlKSB7XG4gICAgICAgICAgICB2YXIgX2V2ZW50JHVzZXI3LCBfdGhpcyRnZXRDbGllbnQkdXNlcjIsIF9ldmVudCR1c2VyODtcblxuICAgICAgICAgICAgLyogaWYgbWVzc2FnZSBiZWxvbmdzIHRvIGN1cnJlbnQgdXNlciwgYWx3YXlzIGFzc3VtZSB0aW1lc3RhbXAgaXMgY2hhbmdlZCB0byBmaWx0ZXIgaXQgb3V0IGFuZCBhZGQgYWdhaW4gdG8gYXZvaWQgZHVwbGljYXRpb24gKi9cbiAgICAgICAgICAgIHZhciBvd25NZXNzYWdlID0gKChfZXZlbnQkdXNlcjcgPSBldmVudC51c2VyKSA9PT0gbnVsbCB8fCBfZXZlbnQkdXNlcjcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCR1c2VyNy5pZCkgPT09ICgoX3RoaXMkZ2V0Q2xpZW50JHVzZXIyID0gdGhpcy5nZXRDbGllbnQoKS51c2VyKSA9PT0gbnVsbCB8fCBfdGhpcyRnZXRDbGllbnQkdXNlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldENsaWVudCR1c2VyMi5pZCk7XG4gICAgICAgICAgICB2YXIgaXNUaHJlYWRNZXNzYWdlID0gZXZlbnQubWVzc2FnZS5wYXJlbnRfaWQgJiYgIWV2ZW50Lm1lc3NhZ2Uuc2hvd19pbl9jaGFubmVsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1VwVG9EYXRlIHx8IGlzVGhyZWFkTWVzc2FnZSkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUuYWRkTWVzc2FnZVNvcnRlZChldmVudC5tZXNzYWdlLCBvd25NZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UucGlubmVkKSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5hZGRQaW5uZWRNZXNzYWdlKGV2ZW50Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKF9ldmVudCR1c2VyOCA9IGV2ZW50LnVzZXIpICE9PSBudWxsICYmIF9ldmVudCR1c2VyOCAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyOC5pZCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciB1c2VySWQgaW4gY2hhbm5lbFN0YXRlLnJlYWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlcklkID09PSBldmVudC51c2VyLmlkKSB7XG4gICAgICAgICAgICAgICAgICBjaGFubmVsU3RhdGUucmVhZFtldmVudC51c2VyLmlkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdF9yZWFkOiBuZXcgRGF0ZShldmVudC5jcmVhdGVkX2F0KSxcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZXZlbnQudXNlcixcbiAgICAgICAgICAgICAgICAgICAgdW5yZWFkX21lc3NhZ2VzOiAwXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjaGFubmVsU3RhdGUucmVhZFt1c2VySWRdLnVucmVhZF9tZXNzYWdlcyArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3duTWVzc2FnZSkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUudW5yZWFkQ291bnQgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jb3VudE1lc3NhZ2VBc1VucmVhZChldmVudC5tZXNzYWdlKSkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUudW5yZWFkQ291bnQgPSBjaGFubmVsU3RhdGUudW5yZWFkQ291bnQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ21lc3NhZ2UudXBkYXRlZCc6XG4gICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dGVuZEV2ZW50V2l0aE93blJlYWN0aW9ucyhldmVudCk7XG5cbiAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5hZGRNZXNzYWdlU29ydGVkKGV2ZW50Lm1lc3NhZ2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5tZXNzYWdlLnBpbm5lZCkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUuYWRkUGlubmVkTWVzc2FnZShldmVudC5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5yZW1vdmVQaW5uZWRNZXNzYWdlKGV2ZW50Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoYW5uZWwudHJ1bmNhdGVkJzpcbiAgICAgICAgICBpZiAoKF9ldmVudCRjaGFubmVsID0gZXZlbnQuY2hhbm5lbCkgIT09IG51bGwgJiYgX2V2ZW50JGNoYW5uZWwgIT09IHZvaWQgMCAmJiBfZXZlbnQkY2hhbm5lbC50cnVuY2F0ZWRfYXQpIHtcbiAgICAgICAgICAgIHZhciB0cnVuY2F0ZWRBdCA9ICtuZXcgRGF0ZShldmVudC5jaGFubmVsLnRydW5jYXRlZF9hdCk7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUubWVzc2FnZVNldHMuZm9yRWFjaChmdW5jdGlvbiAobWVzc2FnZVNldCwgbWVzc2FnZVNldEluZGV4KSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VTZXQubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZEF0ID0gX3JlZjIuY3JlYXRlZF9hdCxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBfcmVmMi5pZDtcbiAgICAgICAgICAgICAgICBpZiAodHJ1bmNhdGVkQXQgPiArY3JlYXRlZEF0KSBjaGFubmVsU3RhdGUucmVtb3ZlTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlU2V0SW5kZXg6IG1lc3NhZ2VTZXRJbmRleFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnBpbm5lZE1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgICAgICAgIHZhciBpZCA9IF9yZWYzLmlkLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0ID0gX3JlZjMuY3JlYXRlZF9hdDtcbiAgICAgICAgICAgICAgaWYgKHRydW5jYXRlZEF0ID4gK2NyZWF0ZWRBdCkgY2hhbm5lbFN0YXRlLnJlbW92ZVBpbm5lZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUuY2xlYXJNZXNzYWdlcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoYW5uZWxTdGF0ZS51bnJlYWRDb3VudCA9IDA7IC8vIHN5c3RlbSBtZXNzYWdlcyBkb24ndCBpbmNyZW1lbnQgdW5yZWFkIGNvdW50c1xuXG4gICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5hZGRNZXNzYWdlU29ydGVkKGV2ZW50Lm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZS5waW5uZWQpIHtcbiAgICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmFkZFBpbm5lZE1lc3NhZ2UoZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVtYmVyLmFkZGVkJzpcbiAgICAgICAgY2FzZSAnbWVtYmVyLnVwZGF0ZWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JG1lbWJlciA9IGV2ZW50Lm1lbWJlcikgIT09IG51bGwgJiYgX2V2ZW50JG1lbWJlciAhPT0gdm9pZCAwICYmIF9ldmVudCRtZW1iZXIudXNlcl9pZCkge1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLm1lbWJlcnNbZXZlbnQubWVtYmVyLnVzZXJfaWRdID0gZXZlbnQubWVtYmVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ21lbWJlci5yZW1vdmVkJzpcbiAgICAgICAgICBpZiAoKF9ldmVudCR1c2VyOSA9IGV2ZW50LnVzZXIpICE9PSBudWxsICYmIF9ldmVudCR1c2VyOSAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyOS5pZCkge1xuICAgICAgICAgICAgZGVsZXRlIGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoYW5uZWwudXBkYXRlZCc6XG4gICAgICAgICAgaWYgKGV2ZW50LmNoYW5uZWwpIHtcbiAgICAgICAgICAgIHZhciBfZXZlbnQkY2hhbm5lbDIsIF9jaGFubmVsJGRhdGEsIF9ldmVudCRjaGFubmVsJGhpZGRlbiwgX2V2ZW50JGNoYW5uZWwzLCBfY2hhbm5lbCRkYXRhMiwgX2V2ZW50JGNoYW5uZWwkb3duX2NhLCBfZXZlbnQkY2hhbm5lbDQsIF9jaGFubmVsJGRhdGEzO1xuXG4gICAgICAgICAgICB2YXIgaXNGcm96ZW5DaGFuZ2VkID0gKChfZXZlbnQkY2hhbm5lbDIgPSBldmVudC5jaGFubmVsKSA9PT0gbnVsbCB8fCBfZXZlbnQkY2hhbm5lbDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRjaGFubmVsMi5mcm96ZW4pICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuY2hhbm5lbC5mcm96ZW4gIT09ICgoX2NoYW5uZWwkZGF0YSA9IGNoYW5uZWwuZGF0YSkgPT09IG51bGwgfHwgX2NoYW5uZWwkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoYW5uZWwkZGF0YS5mcm96ZW4pO1xuXG4gICAgICAgICAgICBpZiAoaXNGcm96ZW5DaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIHRoaXMucXVlcnkoe1xuICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczoge1xuICAgICAgICAgICAgICAgICAgbGltaXQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdhdGNoZXJzOiB7XG4gICAgICAgICAgICAgICAgICBsaW1pdDogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYW5uZWwuZGF0YSA9IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIGV2ZW50LmNoYW5uZWwpLCB7fSwge1xuICAgICAgICAgICAgICBoaWRkZW46IChfZXZlbnQkY2hhbm5lbCRoaWRkZW4gPSAoX2V2ZW50JGNoYW5uZWwzID0gZXZlbnQuY2hhbm5lbCkgPT09IG51bGwgfHwgX2V2ZW50JGNoYW5uZWwzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXZlbnQkY2hhbm5lbDMuaGlkZGVuKSAhPT0gbnVsbCAmJiBfZXZlbnQkY2hhbm5lbCRoaWRkZW4gIT09IHZvaWQgMCA/IF9ldmVudCRjaGFubmVsJGhpZGRlbiA6IChfY2hhbm5lbCRkYXRhMiA9IGNoYW5uZWwuZGF0YSkgPT09IG51bGwgfHwgX2NoYW5uZWwkZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsJGRhdGEyLmhpZGRlbixcbiAgICAgICAgICAgICAgb3duX2NhcGFiaWxpdGllczogKF9ldmVudCRjaGFubmVsJG93bl9jYSA9IChfZXZlbnQkY2hhbm5lbDQgPSBldmVudC5jaGFubmVsKSA9PT0gbnVsbCB8fCBfZXZlbnQkY2hhbm5lbDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRjaGFubmVsNC5vd25fY2FwYWJpbGl0aWVzKSAhPT0gbnVsbCAmJiBfZXZlbnQkY2hhbm5lbCRvd25fY2EgIT09IHZvaWQgMCA/IF9ldmVudCRjaGFubmVsJG93bl9jYSA6IChfY2hhbm5lbCRkYXRhMyA9IGNoYW5uZWwuZGF0YSkgPT09IG51bGwgfHwgX2NoYW5uZWwkZGF0YTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsJGRhdGEzLm93bl9jYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JlYWN0aW9uLm5ldyc6XG4gICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UgJiYgZXZlbnQucmVhY3Rpb24pIHtcbiAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBjaGFubmVsU3RhdGUuYWRkUmVhY3Rpb24oZXZlbnQucmVhY3Rpb24sIGV2ZW50Lm1lc3NhZ2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JlYWN0aW9uLmRlbGV0ZWQnOlxuICAgICAgICAgIGlmIChldmVudC5yZWFjdGlvbikge1xuICAgICAgICAgICAgZXZlbnQubWVzc2FnZSA9IGNoYW5uZWxTdGF0ZS5yZW1vdmVSZWFjdGlvbihldmVudC5yZWFjdGlvbiwgZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVhY3Rpb24udXBkYXRlZCc6XG4gICAgICAgICAgaWYgKGV2ZW50LnJlYWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBhc3N1bWluZyByZWFjdGlvbi51cGRhdGVkIGlzIG9ubHkgY2FsbGVkIGlmIGVuZm9yY2VfdW5pcXVlIGlzIHRydWVcbiAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBjaGFubmVsU3RhdGUuYWRkUmVhY3Rpb24oZXZlbnQucmVhY3Rpb24sIGV2ZW50Lm1lc3NhZ2UsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoYW5uZWwuaGlkZGVuJzpcbiAgICAgICAgICBjaGFubmVsLmRhdGEgPSBfb2JqZWN0U3ByZWFkJDUoX29iamVjdFNwcmVhZCQ1KHt9LCBjaGFubmVsLmRhdGEpLCB7fSwge1xuICAgICAgICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoZXZlbnQuY2xlYXJfaGlzdG9yeSkge1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmNsZWFyTWVzc2FnZXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjaGFubmVsLnZpc2libGUnOlxuICAgICAgICAgIGNoYW5uZWwuZGF0YSA9IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIGNoYW5uZWwuZGF0YSksIHt9LCB7XG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndXNlci5iYW5uZWQnOlxuICAgICAgICAgIGlmICghKChfZXZlbnQkdXNlcjEwID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIxMCAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyMTAuaWQpKSBicmVhaztcbiAgICAgICAgICBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC51c2VyLmlkXSA9IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdIHx8IHt9KSwge30sIHtcbiAgICAgICAgICAgIHNoYWRvd19iYW5uZWQ6ICEhZXZlbnQuc2hhZG93LFxuICAgICAgICAgICAgYmFubmVkOiAhZXZlbnQuc2hhZG93LFxuICAgICAgICAgICAgdXNlcjogX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgKChfY2hhbm5lbFN0YXRlJG1lbWJlcnMgPSBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC51c2VyLmlkXSkgPT09IG51bGwgfHwgX2NoYW5uZWxTdGF0ZSRtZW1iZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2hhbm5lbFN0YXRlJG1lbWJlcnMudXNlcikgfHwge30pLCBldmVudC51c2VyKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3VzZXIudW5iYW5uZWQnOlxuICAgICAgICAgIGlmICghKChfZXZlbnQkdXNlcjExID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIxMSAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyMTEuaWQpKSBicmVhaztcbiAgICAgICAgICBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC51c2VyLmlkXSA9IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdIHx8IHt9KSwge30sIHtcbiAgICAgICAgICAgIHNoYWRvd19iYW5uZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYmFubmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZXI6IF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sICgoX2NoYW5uZWxTdGF0ZSRtZW1iZXJzMiA9IGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdKSA9PT0gbnVsbCB8fCBfY2hhbm5lbFN0YXRlJG1lbWJlcnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2hhbm5lbFN0YXRlJG1lbWJlcnMyLnVzZXIpIHx8IHt9KSwgZXZlbnQudXNlcilcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH0gLy8gYW55IGV2ZW50IGNhbiBzZW5kIG92ZXIgdGhlIG9ubGluZSBjb3VudFxuXG5cbiAgICAgIGlmIChldmVudC53YXRjaGVyX2NvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2hhbm5lbC5zdGF0ZS53YXRjaGVyX2NvdW50ID0gZXZlbnQud2F0Y2hlcl9jb3VudDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NoZWNrSW5pdGlhbGl6ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrSW5pdGlhbGl6ZWQoKSB7XG4gICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQgJiYgIXRoaXMub2ZmbGluZU1vZGUgJiYgIXRoaXMuZ2V0Q2xpZW50KCkuX2lzVXNpbmdTZXJ2ZXJBdXRoKCkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDaGFubmVsIFwiLmNvbmNhdCh0aGlzLmNpZCwgXCIgaGFzbid0IGJlZW4gaW5pdGlhbGl6ZWQgeWV0LiBNYWtlIHN1cmUgdG8gY2FsbCAud2F0Y2goKSBhbmQgd2FpdCBmb3IgaXQgdG8gcmVzb2x2ZVwiKSk7XG4gICAgICB9XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc29uYXJqcy9jb2duaXRpdmUtY29tcGxleGl0eVxuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRpYWxpemVTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdGlhbGl6ZVN0YXRlKHN0YXRlKSB7XG4gICAgICB2YXIgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2xhdGVzdCc7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRDbGllbnQyID0gdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICBjbGllbnRTdGF0ZSA9IF90aGlzJGdldENsaWVudDIuc3RhdGUsXG4gICAgICAgICAgdXNlciA9IF90aGlzJGdldENsaWVudDIudXNlcixcbiAgICAgICAgICB1c2VySUQgPSBfdGhpcyRnZXRDbGllbnQyLnVzZXJJRDsgLy8gYWRkIHRoZSBVc2Vyc1xuXG5cbiAgICAgIGlmIChzdGF0ZS5tZW1iZXJzKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHN0YXRlLm1lbWJlcnMpLFxuICAgICAgICAgICAgX3N0ZXA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIG1lbWJlciA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAobWVtYmVyLnVzZXIpIHtcbiAgICAgICAgICAgICAgY2xpZW50U3RhdGUudXBkYXRlVXNlclJlZmVyZW5jZShtZW1iZXIudXNlciwgdGhpcy5jaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUubWVtYmVyc2hpcCA9IHN0YXRlLm1lbWJlcnNoaXAgfHwge307XG4gICAgICB2YXIgbWVzc2FnZXMgPSBzdGF0ZS5tZXNzYWdlcyB8fCBbXTtcblxuICAgICAgaWYgKCF0aGlzLnN0YXRlLm1lc3NhZ2VzKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuaW5pdE1lc3NhZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfdGhpcyRzdGF0ZSRhZGRNZXNzYWcgPSB0aGlzLnN0YXRlLmFkZE1lc3NhZ2VzU29ydGVkKG1lc3NhZ2VzLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCksXG4gICAgICAgICAgbWVzc2FnZVNldCA9IF90aGlzJHN0YXRlJGFkZE1lc3NhZy5tZXNzYWdlU2V0O1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUucGlubmVkTWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5waW5uZWRNZXNzYWdlcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlLmFkZFBpbm5lZE1lc3NhZ2VzKHN0YXRlLnBpbm5lZF9tZXNzYWdlcyB8fCBbXSk7XG5cbiAgICAgIGlmIChzdGF0ZS5wZW5kaW5nX21lc3NhZ2VzKSB7XG4gICAgICAgIHRoaXMuc3RhdGUucGVuZGluZ19tZXNzYWdlcyA9IHN0YXRlLnBlbmRpbmdfbWVzc2FnZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS53YXRjaGVyX2NvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS53YXRjaGVyX2NvdW50ID0gc3RhdGUud2F0Y2hlcl9jb3VudDtcbiAgICAgIH0gLy8gY29udmVydCB0aGUgYXJyYXlzIGludG8gb2JqZWN0cyBmb3IgZWFzaWVyIHN5bmNpbmcuLi5cblxuXG4gICAgICBpZiAoc3RhdGUud2F0Y2hlcnMpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHN0YXRlLndhdGNoZXJzKSxcbiAgICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgd2F0Y2hlciA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHdhdGNoZXIpIHtcbiAgICAgICAgICAgICAgY2xpZW50U3RhdGUudXBkYXRlVXNlclJlZmVyZW5jZSh3YXRjaGVyLCB0aGlzLmNpZCk7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUud2F0Y2hlcnNbd2F0Y2hlci5pZF0gPSB3YXRjaGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gaW5pdGlhbGl6ZSByZWFkIHN0YXRlIHRvIGxhc3QgbWVzc2FnZSBvciBjdXJyZW50IHRpbWUgaWYgdGhlIGNoYW5uZWwgaXMgZW1wdHlcbiAgICAgIC8vIGlmIHRoZSB1c2VyIGlzIGEgbWVtYmVyLCB0aGlzIHZhbHVlIHdpbGwgYmUgb3ZlcndyaXR0ZW4gbGF0ZXIgb24gb3RoZXJ3aXNlIHRoaXMgZW5zdXJlc1xuICAgICAgLy8gdGhhdCBldmVyeXRoaW5nIHVwIHRvIHRoaXMgcG9pbnQgaXMgbm90IG1hcmtlZCBhcyB1bnJlYWRcblxuXG4gICAgICBpZiAodXNlcklEICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGxhc3RfcmVhZCA9IHRoaXMuc3RhdGUubGFzdF9tZXNzYWdlX2F0IHx8IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnJlYWRbdXNlci5pZF0gPSB7XG4gICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgbGFzdF9yZWFkOiBsYXN0X3JlYWQsXG4gICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IDBcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IC8vIGFwcGx5IHJlYWQgc3RhdGUgaWYgcGFydCBvZiB0aGUgc3RhdGVcblxuXG4gICAgICBpZiAoc3RhdGUucmVhZCkge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIoc3RhdGUucmVhZCksXG4gICAgICAgICAgICBfc3RlcDM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9yZWFkJHVucmVhZF9tZXNzYWdlcztcblxuICAgICAgICAgICAgdmFyIHJlYWQgPSBfc3RlcDMudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnJlYWRbcmVhZC51c2VyLmlkXSA9IHtcbiAgICAgICAgICAgICAgbGFzdF9yZWFkOiBuZXcgRGF0ZShyZWFkLmxhc3RfcmVhZCksXG4gICAgICAgICAgICAgIGxhc3RfcmVhZF9tZXNzYWdlX2lkOiByZWFkLmxhc3RfcmVhZF9tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IChfcmVhZCR1bnJlYWRfbWVzc2FnZXMgPSByZWFkLnVucmVhZF9tZXNzYWdlcykgIT09IG51bGwgJiYgX3JlYWQkdW5yZWFkX21lc3NhZ2VzICE9PSB2b2lkIDAgPyBfcmVhZCR1bnJlYWRfbWVzc2FnZXMgOiAwLFxuICAgICAgICAgICAgICB1c2VyOiByZWFkLnVzZXJcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChyZWFkLnVzZXIuaWQgPT09ICh1c2VyID09PSBudWxsIHx8IHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVzZXIuaWQpKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUudW5yZWFkQ291bnQgPSB0aGlzLnN0YXRlLnJlYWRbcmVhZC51c2VyLmlkXS51bnJlYWRfbWVzc2FnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IzLmYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUubWVtYmVycykge1xuICAgICAgICB0aGlzLnN0YXRlLm1lbWJlcnMgPSBzdGF0ZS5tZW1iZXJzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBtZW1iZXIpIHtcbiAgICAgICAgICBpZiAobWVtYmVyLnVzZXIpIHtcbiAgICAgICAgICAgIGFjY1ttZW1iZXIudXNlci5pZF0gPSBtZW1iZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlU2V0OiBtZXNzYWdlU2V0XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZXh0ZW5kRXZlbnRXaXRoT3duUmVhY3Rpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9leHRlbmRFdmVudFdpdGhPd25SZWFjdGlvbnMoZXZlbnQpIHtcbiAgICAgIGlmICghZXZlbnQubWVzc2FnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5zdGF0ZS5maW5kTWVzc2FnZShldmVudC5tZXNzYWdlLmlkLCBldmVudC5tZXNzYWdlLnBhcmVudF9pZCk7XG5cbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2Uub3duX3JlYWN0aW9ucyA9IG1lc3NhZ2Uub3duX3JlYWN0aW9ucztcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2Rpc2Nvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Rpc2Nvbm5lY3QoKSB7XG4gICAgICB0aGlzLl9jbGllbnQubG9nZ2VyKCdpbmZvJywgXCJjaGFubmVsOmRpc2Nvbm5lY3QoKSAtIERpc2Nvbm5lY3RpbmcgdGhlIGNoYW5uZWwgXCIuY29uY2F0KHRoaXMuY2lkKSwge1xuICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2hhbm5lbCddLFxuICAgICAgICBjaGFubmVsOiB0aGlzXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zdGF0ZS5zZXRJc1VwVG9EYXRlKGZhbHNlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhbm5lbDtcbn0oKTtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQxKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4vKipcbiAqIENsaWVudFN0YXRlIC0gQSBjb250YWluZXIgY2xhc3MgZm9yIHRoZSBjbGllbnQgc3RhdGUuXG4gKi9cbnZhciBDbGllbnRTdGF0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENsaWVudFN0YXRlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGllbnRTdGF0ZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2Vyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlckNoYW5uZWxSZWZlcmVuY2VzXCIsIHZvaWQgMCk7XG5cbiAgICAvLyBzaG93IHRoZSBzdGF0dXMgZm9yIGEgY2VydGFpbiB1c2VyLi4uXG4gICAgLy8gaWUgb25saW5lLCBvZmZsaW5lIGV0Y1xuICAgIHRoaXMudXNlcnMgPSB7fTsgLy8gc3RvcmUgd2hpY2ggY2hhbm5lbHMgY29udGFpbiByZWZlcmVuY2VzIHRvIHRoZSBzcGVjaWZpZWQgdXNlci4uLlxuXG4gICAgdGhpcy51c2VyQ2hhbm5lbFJlZmVyZW5jZXMgPSB7fTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDbGllbnRTdGF0ZSwgW3tcbiAgICBrZXk6IFwidXBkYXRlVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVXNlcnModXNlcnMpIHtcbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKHVzZXJzKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgdXNlciA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIHRoaXMudXBkYXRlVXNlcih1c2VyKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVVzZXIodXNlcikge1xuICAgICAgaWYgKHVzZXIgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnVzZXJzW3VzZXIuaWRdID0gdXNlcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVXNlclJlZmVyZW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVVc2VyUmVmZXJlbmNlKHVzZXIsIGNoYW5uZWxJRCkge1xuICAgICAgaWYgKHVzZXIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlVXNlcih1c2VyKTtcblxuICAgICAgaWYgKCF0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VyLmlkXSkge1xuICAgICAgICB0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VyLmlkXSA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VyLmlkXVtjaGFubmVsSURdID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQWxsQ2hhbm5lbFJlZmVyZW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbGxDaGFubmVsUmVmZXJlbmNlKGNoYW5uZWxJRCkge1xuICAgICAgZm9yICh2YXIgdXNlcklEIGluIHRoaXMudXNlckNoYW5uZWxSZWZlcmVuY2VzKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VySURdW2NoYW5uZWxJRF07XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENsaWVudFN0YXRlO1xufSgpO1xuXG5mdW5jdGlvbiBvd25LZXlzJDQob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkNChPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBJbnNpZ2h0TWV0cmljcyA9IGZ1bmN0aW9uIEluc2lnaHRNZXRyaWNzKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5zaWdodE1ldHJpY3MpO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcFwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzQ29uc2VjdXRpdmVGYWlsdXJlc1wiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzVG90YWxGYWlsdXJlc1wiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluc3RhbmNlQ2xpZW50SWRcIiwgdm9pZCAwKTtcblxuICB0aGlzLmNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcCA9IG51bGw7XG4gIHRoaXMud3NUb3RhbEZhaWx1cmVzID0gMDtcbiAgdGhpcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICB0aGlzLmluc3RhbmNlQ2xpZW50SWQgPSByYW5kb21JZCgpO1xufTtcbi8qKlxuICogcG9zdEluc2lnaHRzIGlzIG5vdCBzdXBwb3NlZCB0byBiZSB1c2VkIGJ5IGVuZCB1c2VycyBkaXJlY3RseSB3aXRoaW4gY2hhdCBhcHBsaWNhdGlvbiwgYW5kIHRodXMgaXMga2VwdCBpc29sYXRlZFxuICogZnJvbSBhbGwgdGhlIGNsaWVudC9jb25uZWN0aW9uIGNvZGUvbG9naWMuXG4gKlxuICogQHBhcmFtIGluc2lnaHRUeXBlXG4gKiBAcGFyYW0gaW5zaWdodHNcbiAqL1xuXG52YXIgcG9zdEluc2lnaHRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGluc2lnaHRUeXBlLCBpbnNpZ2h0cykge1xuICAgIHZhciBtYXhBdHRlbXB0cywgaTtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgbWF4QXR0ZW1wdHMgPSAzO1xuICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoIShpIDwgbWF4QXR0ZW1wdHMpKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7XG4gICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChcImh0dHBzOi8vY2hhdC1pbnNpZ2h0cy5nZXRzdHJlYW0uaW8vaW5zaWdodHMvXCIuY29uY2F0KGluc2lnaHRUeXBlKSwgaW5zaWdodHMpO1xuXG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODtcbiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgzKTtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgIHJldHVybiBzbGVlcCgoaSArIDEpICogMzAwMCk7XG5cbiAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcImNvbnRpbnVlXCIsIDE0KTtcblxuICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwiYnJlYWtcIiwgMTcpO1xuXG4gICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDhdXSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gcG9zdEluc2lnaHRzKF94LCBfeDIpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuZnVuY3Rpb24gYnVpbGRXc0ZhdGFsSW5zaWdodChjb25uZWN0aW9uLCBldmVudCkge1xuICByZXR1cm4gX29iamVjdFNwcmVhZCQ0KF9vYmplY3RTcHJlYWQkNCh7fSwgZXZlbnQpLCBidWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbikpO1xufVxuXG5mdW5jdGlvbiBidWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbikge1xuICB2YXIgX2Nvbm5lY3Rpb24kd3MsIF9uYXZpZ2F0b3IsIF9uYXZpZ2F0b3IyO1xuXG4gIHZhciBjbGllbnQgPSBjb25uZWN0aW9uLmNsaWVudDtcbiAgcmV0dXJuIHtcbiAgICByZWFkeV9zdGF0ZTogKF9jb25uZWN0aW9uJHdzID0gY29ubmVjdGlvbi53cykgPT09IG51bGwgfHwgX2Nvbm5lY3Rpb24kd3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb25uZWN0aW9uJHdzLnJlYWR5U3RhdGUsXG4gICAgdXJsOiBjb25uZWN0aW9uLl9idWlsZFVybCgpLFxuICAgIGFwaV9rZXk6IGNsaWVudC5rZXksXG4gICAgc3RhcnRfdHM6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy5jb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAsXG4gICAgZW5kX3RzOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBhdXRoX3R5cGU6IGNsaWVudC5nZXRBdXRoVHlwZSgpLFxuICAgIHRva2VuOiBjbGllbnQudG9rZW5NYW5hZ2VyLnRva2VuLFxuICAgIHVzZXJfaWQ6IGNsaWVudC51c2VySUQsXG4gICAgdXNlcl9kZXRhaWxzOiBjbGllbnQuX3VzZXIsXG4gICAgZGV2aWNlOiBjbGllbnQub3B0aW9ucy5kZXZpY2UsXG4gICAgY2xpZW50X2lkOiBjb25uZWN0aW9uLmNvbm5lY3Rpb25JRCxcbiAgICB3c19kZXRhaWxzOiBjb25uZWN0aW9uLndzLFxuICAgIHdzX2NvbnNlY3V0aXZlX2ZhaWx1cmVzOiBjbGllbnQuaW5zaWdodE1ldHJpY3Mud3NDb25zZWN1dGl2ZUZhaWx1cmVzLFxuICAgIHdzX3RvdGFsX2ZhaWx1cmVzOiBjbGllbnQuaW5zaWdodE1ldHJpY3Mud3NUb3RhbEZhaWx1cmVzLFxuICAgIHJlcXVlc3RfaWQ6IGNvbm5lY3Rpb24ucmVxdWVzdElELFxuICAgIG9ubGluZTogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyAoX25hdmlnYXRvciA9IG5hdmlnYXRvcikgPT09IG51bGwgfHwgX25hdmlnYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hdmlnYXRvci5vbkxpbmUgOiBudWxsLFxuICAgIHVzZXJfYWdlbnQ6IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnID8gKF9uYXZpZ2F0b3IyID0gbmF2aWdhdG9yKSA9PT0gbnVsbCB8fCBfbmF2aWdhdG9yMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hdmlnYXRvcjIudXNlckFnZW50IDogbnVsbCxcbiAgICBpbnN0YW5jZV9jbGllbnRfaWQ6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy5pbnN0YW5jZUNsaWVudElkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodChjb25uZWN0aW9uKSB7XG4gIHJldHVybiBidWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbik7XG59XG5cbmZ1bmN0aW9uIG93bktleXMkMyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMyh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vLyBUeXBlIGd1YXJkcyB0byBjaGVjayBXZWJTb2NrZXQgZXJyb3IgdHlwZVxudmFyIGlzQ2xvc2VFdmVudCA9IGZ1bmN0aW9uIGlzQ2xvc2VFdmVudChyZXMpIHtcbiAgcmV0dXJuIHJlcy5jb2RlICE9PSB1bmRlZmluZWQ7XG59O1xuXG52YXIgaXNFcnJvckV2ZW50ID0gZnVuY3Rpb24gaXNFcnJvckV2ZW50KHJlcykge1xuICByZXR1cm4gcmVzLmVycm9yICE9PSB1bmRlZmluZWQ7XG59O1xuLyoqXG4gKiBTdGFibGVXU0Nvbm5lY3Rpb24gLSBBIFdTIGNvbm5lY3Rpb24gdGhhdCByZWNvbm5lY3RzIHVwb24gZmFpbHVyZS5cbiAqIC0gdGhlIGJyb3dzZXIgd2lsbCBzb21ldGltZXMgcmVwb3J0IHRoYXQgeW91J3JlIG9ubGluZSBvciBvZmZsaW5lXG4gKiAtIHRoZSBXUyBjb25uZWN0aW9uIGNhbiBicmVhayBhbmQgZmFpbCAodGhlcmUgaXMgYSAzMHMgaGVhbHRoIGNoZWNrKVxuICogLSBzb21ldGltZXMgeW91ciBXUyBjb25uZWN0aW9uIHdpbGwgc2VlbSB0byB3b3JrIHdoaWxlIHRoZSB1c2VyIGlzIGluIGZhY3Qgb2ZmbGluZVxuICogLSB0byBzcGVlZCB1cCBvbmxpbmUvb2ZmbGluZSBkZXRlY3Rpb24geW91IGNhbiB1c2UgdGhlIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJyk7XG4gKlxuICogVGhlcmUgYXJlIDQgd2F5cyBpbiB3aGljaCBhIGNvbm5lY3Rpb24gY2FuIGJlY29tZSB1bmhlYWx0aHk6XG4gKiAtIHdlYnNvY2tldC5vbmVycm9yIGlzIGNhbGxlZFxuICogLSB3ZWJzb2NrZXQub25jbG9zZSBpcyBjYWxsZWRcbiAqIC0gdGhlIGhlYWx0aCBjaGVjayBmYWlscyBhbmQgbm8gZXZlbnQgaXMgcmVjZWl2ZWQgZm9yIH40MCBzZWNvbmRzXG4gKiAtIHRoZSBicm93c2VyIGluZGljYXRlcyB0aGUgY29ubmVjdGlvbiBpcyBub3cgb2ZmbGluZVxuICpcbiAqIFRoZXJlIGFyZSAyIGFzc3VtcHRpb25zIHdlIG1ha2UgYWJvdXQgdGhlIHNlcnZlcjpcbiAqIC0gc3RhdGUgY2FuIGJlIHJlY292ZXJlZCBieSBxdWVyeWluZyB0aGUgY2hhbm5lbCBhZ2FpblxuICogLSBpZiB0aGUgc2VydmVycyBmYWlscyB0byBwdWJsaXNoIGEgbWVzc2FnZSB0byB0aGUgY2xpZW50LCB0aGUgV1MgY29ubmVjdGlvbiBpcyBkZXN0cm95ZWRcbiAqL1xuXG5cbnZhciBTdGFibGVXU0Nvbm5lY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvLyBnbG9iYWwgZnJvbSBjb25zdHJ1Y3RvclxuICAvLyBsb2NhbCB2YXJzXG4gIGZ1bmN0aW9uIFN0YWJsZVdTQ29ubmVjdGlvbihfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjbGllbnQgPSBfcmVmLmNsaWVudDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGFibGVXU0Nvbm5lY3Rpb24pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25uZWN0aW9uSURcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25PcGVuXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25zZWN1dGl2ZUZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwaW5nSW50ZXJ2YWxcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlYWx0aENoZWNrVGltZW91dFJlZlwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNDb25uZWN0aW5nXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0Rpc2Nvbm5lY3RlZFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNIZWFsdGh5XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1Jlc29sdmVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXN0RXZlbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25DaGVja1RpbWVvdXRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWZcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlamVjdFByb21pc2VcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlcXVlc3RJRFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzb2x2ZVByb21pc2VcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvdGFsRmFpbHVyZXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3c0lEXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYnVpbGRVcmxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHFzID0gZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLmNsaWVudC5fYnVpbGRXU1BheWxvYWQoX3RoaXMucmVxdWVzdElEKSk7XG5cbiAgICAgIHZhciB0b2tlbiA9IF90aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuZ2V0VG9rZW4oKTtcblxuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KF90aGlzLmNsaWVudC53c0Jhc2VVUkwsIFwiL2Nvbm5lY3Q/anNvbj1cIikuY29uY2F0KHFzLCBcIiZhcGlfa2V5PVwiKS5jb25jYXQoX3RoaXMuY2xpZW50LmtleSwgXCImYXV0aG9yaXphdGlvbj1cIikuY29uY2F0KHRva2VuLCBcIiZzdHJlYW0tYXV0aC10eXBlPVwiKS5jb25jYXQoX3RoaXMuY2xpZW50LmdldEF1dGhUeXBlKCksIFwiJlgtU3RyZWFtLUNsaWVudD1cIikuY29uY2F0KF90aGlzLmNsaWVudC5nZXRVc2VyQWdlbnQoKSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbmxpbmVTdGF0dXNDaGFuZ2VkXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdvZmZsaW5lJykge1xuICAgICAgICAvLyBtYXJrIHRoZSBjb25uZWN0aW9uIGFzIGRvd25cbiAgICAgICAgX3RoaXMuX2xvZygnb25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gU3RhdHVzIGNoYW5naW5nIHRvIG9mZmxpbmUnKTtcblxuICAgICAgICBfdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgLy8gcmV0cnkgcmlnaHQgbm93Li4uXG4gICAgICAgIC8vIFdlIGNoZWNrIHRoaXMuaXNIZWFsdGh5LCBub3Qgc3VyZSBpZiBpdCdzIGFsd2F5c1xuICAgICAgICAvLyBzbWFydCB0byBjcmVhdGUgYSBuZXcgV1MgY29ubmVjdGlvbiBpZiB0aGUgb2xkIG9uZSBpcyBzdGlsbCB1cCBhbmQgcnVubmluZy5cbiAgICAgICAgLy8gaXQncyBwb3NzaWJsZSB3ZSBkaWRuJ3QgbWlzcyBhbnkgbWVzc2FnZXMsIHNvIHRoaXMgcHJvY2VzcyBpcyBqdXN0IGV4cGVuc2l2ZSBhbmQgbm90IG5lZWRlZC5cbiAgICAgICAgX3RoaXMuX2xvZyhcIm9ubGluZVN0YXR1c0NoYW5nZWQoKSAtIFN0YXR1cyBjaGFuZ2luZyB0byBvbmxpbmUuIGlzSGVhbHRoeTogXCIuY29uY2F0KF90aGlzLmlzSGVhbHRoeSkpO1xuXG4gICAgICAgIGlmICghX3RoaXMuaXNIZWFsdGh5KSB7XG4gICAgICAgICAgX3RoaXMuX3JlY29ubmVjdCh7XG4gICAgICAgICAgICBpbnRlcnZhbDogMTBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25vcGVuXCIsIGZ1bmN0aW9uICh3c0lEKSB7XG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgICBfdGhpcy5fbG9nKCdvbm9wZW4oKSAtIG9ub3BlbiBjYWxsYmFjaycsIHtcbiAgICAgICAgd3NJRDogd3NJRFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbm1lc3NhZ2VcIiwgZnVuY3Rpb24gKHdzSUQsIGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgICBfdGhpcy5fbG9nKCdvbm1lc3NhZ2UoKSAtIG9ubWVzc2FnZSBjYWxsYmFjaycsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICB3c0lEOiB3c0lEXG4gICAgICB9KTtcblxuICAgICAgdmFyIGRhdGEgPSB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIDogbnVsbDsgLy8gd2Ugd2FpdCB0aWxsIHRoZSBmaXJzdCBtZXNzYWdlIGJlZm9yZSB3ZSBjb25zaWRlciB0aGUgY29ubmVjdGlvbiBvcGVuLi5cbiAgICAgIC8vIHRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCBhdXRoIGVycm9ycyBhbmQgc2ltaWxhciBlcnJvcnMgdHJpZ2dlciBhIHdzLm9ub3BlbiBhbmQgaW1tZWRpYXRlbHlcbiAgICAgIC8vIGFmdGVyIHRoYXQgYSB3cy5vbmNsb3NlLi5cblxuICAgICAgaWYgKCFfdGhpcy5pc1Jlc29sdmVkICYmIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzJHJlc29sdmVQcm9taXNlO1xuXG4gICAgICAgIF90aGlzLmlzUmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgICAgdmFyIF90aGlzJHJlamVjdFByb21pc2U7XG5cbiAgICAgICAgICAoX3RoaXMkcmVqZWN0UHJvbWlzZSA9IF90aGlzLnJlamVjdFByb21pc2UpID09PSBudWxsIHx8IF90aGlzJHJlamVjdFByb21pc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlamVjdFByb21pc2UuY2FsbChfdGhpcywgX3RoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZGF0YSwgZmFsc2UpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAoX3RoaXMkcmVzb2x2ZVByb21pc2UgPSBfdGhpcy5yZXNvbHZlUHJvbWlzZSkgPT09IG51bGwgfHwgX3RoaXMkcmVzb2x2ZVByb21pc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlc29sdmVQcm9taXNlLmNhbGwoX3RoaXMsIGRhdGEpO1xuXG4gICAgICAgIF90aGlzLl9zZXRIZWFsdGgodHJ1ZSk7XG4gICAgICB9IC8vIHRyaWdnZXIgdGhlIGV2ZW50Li5cblxuXG4gICAgICBfdGhpcy5sYXN0RXZlbnQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdoZWFsdGguY2hlY2snKSB7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlTmV4dFBpbmcoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuY2xpZW50LmhhbmRsZUV2ZW50KGV2ZW50KTtcblxuICAgICAgX3RoaXMuc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2soKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uY2xvc2VcIiwgZnVuY3Rpb24gKHdzSUQsIGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgICBfdGhpcy5fbG9nKCdvbmNsb3NlKCkgLSBvbmNsb3NlIGNhbGxiYWNrIC0gJyArIGV2ZW50LmNvZGUsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICB3c0lEOiB3c0lEXG4gICAgICB9KTtcblxuICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IGNoYXRDb2Rlcy5XU19DTE9TRURfU1VDQ0VTUykge1xuICAgICAgICB2YXIgX3RoaXMkcmVqZWN0UHJvbWlzZTI7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBhIHBlcm1hbmVudCBlcnJvciByYWlzZWQgYnkgc3RyZWFtLi5cbiAgICAgICAgLy8gdXN1YWxseSBjYXVzZWQgYnkgaW52YWxpZCBhdXRoIGRldGFpbHNcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciBcIi5jb25jYXQoZXZlbnQucmVhc29uKSk7XG4gICAgICAgIGVycm9yLnJlYXNvbiA9IGV2ZW50LnJlYXNvbjtcbiAgICAgICAgZXJyb3IuY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICAgIGVycm9yLndhc0NsZWFuID0gZXZlbnQud2FzQ2xlYW47XG4gICAgICAgIGVycm9yLnRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgKF90aGlzJHJlamVjdFByb21pc2UyID0gX3RoaXMucmVqZWN0UHJvbWlzZSkgPT09IG51bGwgfHwgX3RoaXMkcmVqZWN0UHJvbWlzZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlamVjdFByb21pc2UyLmNhbGwoX3RoaXMsIGVycm9yKTtcblxuICAgICAgICBfdGhpcy5fbG9nKFwib25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciBcIi5jb25jYXQoZXZlbnQucmVhc29uKSwge1xuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfdGhpcyRyZWplY3RQcm9taXNlMztcblxuICAgICAgICBfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICAgIF90aGlzLnRvdGFsRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICBfdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcblxuICAgICAgICBfdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgKF90aGlzJHJlamVjdFByb21pc2UzID0gX3RoaXMucmVqZWN0UHJvbWlzZSkgPT09IG51bGwgfHwgX3RoaXMkcmVqZWN0UHJvbWlzZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlamVjdFByb21pc2UzLmNhbGwoX3RoaXMsIF90aGlzLl9lcnJvckZyb21XU0V2ZW50KGV2ZW50KSk7XG5cbiAgICAgICAgX3RoaXMuX2xvZyhcIm9uY2xvc2UoKSAtIFdTIGNvbm5lY3Rpb24gY2xvc2VkLiBDYWxsaW5nIHJlY29ubmVjdCAuLi5cIiwge1xuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTsgLy8gcmVjb25uZWN0IGlmIGl0cyBhbiBhYm5vcm1hbCBmYWlsdXJlXG5cblxuICAgICAgICBfdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbmVycm9yXCIsIGZ1bmN0aW9uICh3c0lELCBldmVudCkge1xuICAgICAgdmFyIF90aGlzJHJlamVjdFByb21pc2U0O1xuXG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuICAgICAgX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgX3RoaXMudG90YWxGYWlsdXJlcyArPSAxO1xuXG4gICAgICBfdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcblxuICAgICAgX3RoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAoX3RoaXMkcmVqZWN0UHJvbWlzZTQgPSBfdGhpcy5yZWplY3RQcm9taXNlKSA9PT0gbnVsbCB8fCBfdGhpcyRyZWplY3RQcm9taXNlNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmVqZWN0UHJvbWlzZTQuY2FsbChfdGhpcywgX3RoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZXZlbnQpKTtcblxuICAgICAgX3RoaXMuX2xvZyhcIm9uZXJyb3IoKSAtIFdTIGNvbm5lY3Rpb24gcmVzdWx0ZWQgaW50byBlcnJvclwiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLl9yZWNvbm5lY3QoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXRIZWFsdGhcIiwgZnVuY3Rpb24gKGhlYWx0aHkpIHtcbiAgICAgIGlmIChoZWFsdGh5ID09PSBfdGhpcy5pc0hlYWx0aHkpIHJldHVybjtcbiAgICAgIF90aGlzLmlzSGVhbHRoeSA9IGhlYWx0aHk7XG5cbiAgICAgIGlmIChfdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgICAgX3RoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICAgIG9ubGluZTogX3RoaXMuaXNIZWFsdGh5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gd2UncmUgb2ZmbGluZSwgd2FpdCBmZXcgc2Vjb25kcyBhbmQgZmlyZSBhbmQgZXZlbnQgaWYgc3RpbGwgb2ZmbGluZVxuXG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMuaXNIZWFsdGh5KSByZXR1cm47XG5cbiAgICAgICAgX3RoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICAgIG9ubGluZTogX3RoaXMuaXNIZWFsdGh5XG4gICAgICAgIH0pO1xuICAgICAgfSwgNTAwMCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZXJyb3JGcm9tV1NFdmVudFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBpc1dTRmFpbHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgICAgIHZhciBjb2RlO1xuICAgICAgdmFyIHN0YXR1c0NvZGU7XG4gICAgICB2YXIgbWVzc2FnZTtcblxuICAgICAgaWYgKGlzQ2xvc2VFdmVudChldmVudCkpIHtcbiAgICAgICAgY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICAgIHN0YXR1c0NvZGUgPSAndW5rbm93bic7XG4gICAgICAgIG1lc3NhZ2UgPSBldmVudC5yZWFzb247XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Vycm9yRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgIGNvZGUgPSBldmVudC5lcnJvci5jb2RlO1xuICAgICAgICBzdGF0dXNDb2RlID0gZXZlbnQuZXJyb3IuU3RhdHVzQ29kZTtcbiAgICAgICAgbWVzc2FnZSA9IGV2ZW50LmVycm9yLm1lc3NhZ2U7XG4gICAgICB9IC8vIEtlZXBpbmcgdGhpcyBgd2FybmAgbGV2ZWwgbG9nLCB0byBhdm9pZCBjbHV0dGVyaW5nIG9mIGVycm9yIGxvZ3MgZnJvbSB3cyBmYWlsdXJlcy5cblxuXG4gICAgICBfdGhpcy5fbG9nKFwiX2Vycm9yRnJvbVdTRXZlbnQoKSAtIFdTIGZhaWxlZCB3aXRoIGNvZGUgXCIuY29uY2F0KGNvZGUpLCB7XG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfSwgJ3dhcm4nKTtcblxuICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiV1MgZmFpbGVkIHdpdGggY29kZSBcIi5jb25jYXQoY29kZSwgXCIgYW5kIHJlYXNvbiAtIFwiKS5jb25jYXQobWVzc2FnZSkpO1xuICAgICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgICAvKipcbiAgICAgICAqIFN0YXR1c0NvZGUgZG9lcyBub3QgZXhpc3Qgb24gYW55IGV2ZW50IHR5cGVzIGJ1dCBoYXMgYmVlbiBsZWZ0XG4gICAgICAgKiBhcyBpcyB0byBwcmVzZXJ2ZSBKUyBmdW5jdGlvbmFsaXR5IGR1cmluZyB0aGUgVFMgaW1wbGVtZW50YXRpb25cbiAgICAgICAqL1xuXG4gICAgICBlcnJvci5TdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICAgIGVycm9yLmlzV1NGYWlsdXJlID0gaXNXU0ZhaWx1cmU7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dXBDb25uZWN0aW9uUHJvbWlzZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5pc1Jlc29sdmVkID0gZmFsc2U7XG4gICAgICAvKiogYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSB3cy5vcGVuIGlzIGNhbGxlZCAqL1xuXG4gICAgICBfdGhpcy5jb25uZWN0aW9uT3BlbiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgX3RoaXMucmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgICAgICBfdGhpcy5yZWplY3RQcm9taXNlID0gcmVqZWN0O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY2hlZHVsZU5leHRQaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZik7XG4gICAgICB9IC8vIDMwIHNlY29uZHMgaXMgdGhlIHJlY29tbWVuZGVkIGludGVydmFsIChtZXNzZW5nZXIgdXNlcyB0aGlzKVxuXG5cbiAgICAgIF90aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBzZW5kIHRoZSBoZWFsdGhjaGVjay4uLCBzZXJ2ZXIgcmVwbGllcyB3aXRoIGEgaGVhbHRoIGNoZWNrIGV2ZW50XG4gICAgICAgIHZhciBkYXRhID0gW3tcbiAgICAgICAgICB0eXBlOiAnaGVhbHRoLmNoZWNrJyxcbiAgICAgICAgICBjbGllbnRfaWQ6IF90aGlzLmNsaWVudC5jbGllbnRJRFxuICAgICAgICB9XTsgLy8gdHJ5IHRvIHNlbmQgb24gdGhlIGNvbm5lY3Rpb25cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBfdGhpcyR3cztcblxuICAgICAgICAgIChfdGhpcyR3cyA9IF90aGlzLndzKSA9PT0gbnVsbCB8fCBfdGhpcyR3cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3Muc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBlcnJvciB3aWxsIGFscmVhZHkgYmUgZGV0ZWN0ZWQgZWxzZXdoZXJlXG4gICAgICAgIH1cbiAgICAgIH0sIF90aGlzLnBpbmdJbnRlcnZhbCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY2hlZHVsZUNvbm5lY3Rpb25DaGVja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZikge1xuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgaWYgKF90aGlzLmxhc3RFdmVudCAmJiBub3cuZ2V0VGltZSgpIC0gX3RoaXMubGFzdEV2ZW50LmdldFRpbWUoKSA+IF90aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpIHtcbiAgICAgICAgICBfdGhpcy5fbG9nKCdzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIGdvaW5nIHRvIHJlY29ubmVjdCcpO1xuXG4gICAgICAgICAgX3RoaXMuX3NldEhlYWx0aChmYWxzZSk7XG5cbiAgICAgICAgICBfdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF90aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpO1xuICAgIH0pO1xuXG4gICAgLyoqIFN0cmVhbUNoYXQgY2xpZW50ICovXG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgLyoqIGNvbnNlY3V0aXZlIGZhaWx1cmVzIGluZmx1ZW5jZSB0aGUgZHVyYXRpb24gb2YgdGhlIHRpbWVvdXQgKi9cblxuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgLyoqIGtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIG51bWJlciBvZiBmYWlsdXJlcyAqL1xuXG4gICAgdGhpcy50b3RhbEZhaWx1cmVzID0gMDtcbiAgICAvKiogV2Ugb25seSBtYWtlIDEgYXR0ZW1wdCB0byByZWNvbm5lY3QgYXQgdGhlIHNhbWUgdGltZS4uICovXG5cbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIC8qKiBUbyBhdm9pZCByZWNvbm5lY3QgaWYgY2xpZW50IGlzIGRpc2Nvbm5lY3RlZCAqL1xuXG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBjb25uZWN0aW9uIHByb21pc2UgaXMgcmVzb2x2ZWQgKi9cblxuICAgIHRoaXMuaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHdlIGhhdmUgYSB3b3JraW5nIGNvbm5lY3Rpb24gdG8gdGhlIHNlcnZlciAqL1xuXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAvKiogSW5jcmVtZW50ZWQgd2hlbiBhIG5ldyBXUyBjb25uZWN0aW9uIGlzIG1hZGUgKi9cblxuICAgIHRoaXMud3NJRCA9IDE7XG4gICAgLyoqIFN0b3JlIHRoZSBsYXN0IGV2ZW50IHRpbWUgZm9yIGhlYWx0aCBjaGVja3MgKi9cblxuICAgIHRoaXMubGFzdEV2ZW50ID0gbnVsbDtcbiAgICAvKiogU2VuZCBhIGhlYWx0aCBjaGVjayBtZXNzYWdlIGV2ZXJ5IDI1IHNlY29uZHMgKi9cblxuICAgIHRoaXMucGluZ0ludGVydmFsID0gMjUgKiAxMDAwO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCA9IHRoaXMucGluZ0ludGVydmFsICsgMTAgKiAxMDAwO1xuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLm9ubGluZVN0YXR1c0NoYW5nZWQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0YWJsZVdTQ29ubmVjdGlvbiwgW3tcbiAgICBrZXk6IFwiX2xvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9nKG1zZykge1xuICAgICAgdmFyIGV4dHJhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBsZXZlbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2luZm8nO1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKGxldmVsLCAnY29ubmVjdGlvbjonICsgbXNnLCBfb2JqZWN0U3ByZWFkJDMoe1xuICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nXVxuICAgICAgfSwgZXh0cmEpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2xpZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsaWVudChjbGllbnQpIHtcbiAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IC0gQ29ubmVjdCB0byB0aGUgV1MgVVJMXG4gICAgICogdGhlIGRlZmF1bHQgMTVzIHRpbWVvdXQgYWxsb3dzIGJldHdlZW4gMn4zIHRyaWVzXG4gICAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlPENoYW5uZWxUeXBlLCBDb21tYW5kVHlwZSwgVXNlclR5cGU+fSBQcm9taXNlIHRoYXQgY29tcGxldGVzIG9uY2UgdGhlIGZpcnN0IGhlYWx0aCBjaGVjayBtZXNzYWdlIGlzIHJlY2VpdmVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY29ubmVjdDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICB2YXIgdGltZW91dCxcbiAgICAgICAgICAgIGhlYWx0aENoZWNrLFxuICAgICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDogMTUwMDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiWW91J3ZlIGNhbGxlZCBjb25uZWN0IHR3aWNlLCBjYW4gb25seSBhdHRlbXB0IDEgY29ubmVjdGlvbiBhdCB0aGUgdGltZVwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0KCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIGhlYWx0aENoZWNrID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKFwiY29ubmVjdCgpIC0gRXN0YWJsaXNoZWQgd3MgY29ubmVjdGlvbiB3aXRoIGhlYWx0aGNoZWNrOiBcIi5jb25jYXQoaGVhbHRoQ2hlY2spKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oNCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0LnQwLmNvZGUgPT09IGNoYXRDb2Rlcy5UT0tFTl9FWFBJUkVEICYmICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3Qoe1xuICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQudDAuaXNXU0ZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICBjb2RlOiBfY29udGV4dC50MC5jb2RlLFxuICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZTogX2NvbnRleHQudDAuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9jb250ZXh0LnQwLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogX2NvbnRleHQudDAuaXNXU0ZhaWx1cmVcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dhaXRGb3JIZWFsdGh5KHRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbNCwgMTJdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfY29ubmVjdDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbm5lY3Q7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX3dhaXRGb3JIZWFsdGh5IHBvbGxzIHRoZSBwcm9taXNlIGNvbm5lY3Rpb24gdG8gc2VlIGlmIGl0cyByZXNvbHZlZCB1bnRpbCBpdCB0aW1lcyBvdXRcbiAgICAgKiB0aGUgZGVmYXVsdCAxNXMgdGltZW91dCBhbGxvd3MgYmV0d2VlbiAyfjMgdHJpZXNcbiAgICAgKiBAcGFyYW0gdGltZW91dCBkdXJhdGlvbihtcylcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl93YWl0Rm9ySGVhbHRoeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3dhaXRGb3JIZWFsdGh5MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgdGltZW91dCxcbiAgICAgICAgICAgIF9hcmdzNCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IF9hcmdzNC5sZW5ndGggPiAwICYmIF9hcmdzNFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzBdIDogMTUwMDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yYWNlKFtfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBpbnRlcnZhbCwgaTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IDUwOyAvLyBtc1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGkgPD0gdGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29ubmVjdGlvbk9wZW47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyLnNlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA9PT0gdGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBfY29udGV4dDIudDAuY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0dXNDb2RlOiBfY29udGV4dDIudDAuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfY29udGV4dDIudDAubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogX2NvbnRleHQyLnQwLmlzV1NGYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKGludGVydmFsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaSArPSBpbnRlcnZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCA5XV0pO1xuICAgICAgICAgICAgICAgIH0pKSgpLCBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGVlcCh0aW1lb3V0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ2luaXRpYWwgV1MgY29ubmVjdGlvbiBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTtcbiAgICAgICAgICAgICAgICB9KSkoKV0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0KTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX3dhaXRGb3JIZWFsdGh5KCkge1xuICAgICAgICByZXR1cm4gX3dhaXRGb3JIZWFsdGh5Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3dhaXRGb3JIZWFsdGh5O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhbmQgcmV0dXJucyB0aGUgdXJsIGZvciB3ZWJzb2NrZXQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB1cmwgc3RyaW5nXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogZGlzY29ubmVjdCAtIERpc2Nvbm5lY3QgdGhlIGNvbm5lY3Rpb24gYW5kIGRvZXNuJ3QgcmVjb3Zlci4uLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlzY29ubmVjdCh0aW1lb3V0KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gQ2xvc2luZyB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gZm9yIHdzSUQgXCIuY29uY2F0KHRoaXMud3NJRCkpO1xuXG4gICAgICB0aGlzLndzSUQgKz0gMTtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gdHJ1ZTsgLy8gc3RhcnQgYnkgcmVtb3ZpbmcgYWxsIHRoZSBsaXN0ZW5lcnNcblxuICAgICAgaWYgKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMub25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlOyAvLyByZW1vdmUgd3MgaGFuZGxlcnMuLi5cblxuICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZW1vdmVBbGxMaXN0ZW5lcnMpIHtcbiAgICAgICAgdGhpcy53cy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzQ2xvc2VkUHJvbWlzZTsgLy8gYW5kIGZpbmFsbHkgY2xvc2UuLi5cbiAgICAgIC8vIEFzc2lnbmluZyB0byBsb2NhbCBoZXJlIGJlY2F1c2Ugd2Ugd2lsbCByZW1vdmUgaXQgZnJvbSB0aGlzIGJlZm9yZSB0aGVcbiAgICAgIC8vIHByb21pc2UgcmVzb2x2ZXMuXG5cbiAgICAgIHZhciB3cyA9IHRoaXMud3M7XG5cbiAgICAgIGlmICh3cyAmJiB3cy5jbG9zZSAmJiB3cy5yZWFkeVN0YXRlID09PSB3cy5PUEVOKSB7XG4gICAgICAgIGlzQ2xvc2VkUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgdmFyIG9uY2xvc2UgPSBmdW5jdGlvbiBvbmNsb3NlKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpczMuX2xvZyhcImRpc2Nvbm5lY3QoKSAtIHJlc29sdmluZyBpc0Nsb3NlZFByb21pc2UgXCIuY29uY2F0KGV2ZW50ID8gJ3dpdGgnIDogJ3dpdGhvdXQnLCBcIiBjbG9zZSBmcmFtZVwiKSwge1xuICAgICAgICAgICAgICBldmVudDogZXZlbnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHdzLm9uY2xvc2UgPSBvbmNsb3NlOyAvLyBJbiBjYXNlIHdlIGRvbid0IHJlY2VpdmUgY2xvc2UgZnJhbWUgd2Vic29ja2V0IHNlcnZlciBpbiB0aW1lLFxuICAgICAgICAgIC8vIGxldHMgbm90IHdhaXQgZm9yIG1vcmUgdGhhbiAxIHNlY29uZHMuXG5cbiAgICAgICAgICBzZXRUaW1lb3V0KG9uY2xvc2UsIHRpbWVvdXQgIT0gbnVsbCA/IHRpbWVvdXQgOiAxMDAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gTWFudWFsbHkgY2xvc2VkIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBjbGllbnQuZGlzY29ubmVjdCgpXCIpO1xuXG4gICAgICAgIHdzLmNsb3NlKGNoYXRDb2Rlcy5XU19DTE9TRURfU1VDQ0VTUywgJ01hbnVhbGx5IGNsb3NlZCBjb25uZWN0aW9uIGJ5IGNhbGxpbmcgY2xpZW50LmRpc2Nvbm5lY3QoKScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gd3MgY29ubmVjdGlvbiBkb2Vzbid0IGV4aXN0IG9yIGl0IGlzIGFscmVhZHkgY2xvc2VkLlwiKTtcblxuICAgICAgICBpc0Nsb3NlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIHRoaXMud3M7XG4gICAgICByZXR1cm4gaXNDbG9zZWRQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29ubmVjdCAtIENvbm5lY3QgdG8gdGhlIFdTIGVuZHBvaW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8Q2hhbm5lbFR5cGUsIENvbW1hbmRUeXBlLCBVc2VyVHlwZT59IFByb21pc2UgdGhhdCBjb21wbGV0ZXMgb25jZSB0aGUgZmlyc3QgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9jb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY29ubmVjdDMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHtcbiAgICAgICAgdmFyIGlzVG9rZW5SZWFkeSwgd3NVUkwsIHJlc3BvbnNlLCBpbnNpZ2h0cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0Rpc2Nvbm5lY3RlZCAmJiB0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gc2ltcGx5IGlnbm9yZSBfY29ubmVjdCBpZiBpdCdzIGN1cnJlbnRseSB0cnlpbmcgdG8gY29ubmVjdFxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RJRCA9IHJhbmRvbUlkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuaW5zaWdodE1ldHJpY3MuY29ubmVjdGlvblN0YXJ0VGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaXNUb2tlblJlYWR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA2O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKFwiX2Nvbm5lY3QoKSAtIHdhaXRpbmcgZm9yIHRva2VuXCIpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKTtcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIGlzVG9rZW5SZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMTM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1W1wiY2F0Y2hcIl0oNik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDE1O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzVG9rZW5SZWFkeSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZyhcIl9jb25uZWN0KCkgLSB0b2tlblByb3ZpZGVyIGZhaWxlZCBiZWZvcmUsIHNvIGdvaW5nIHRvIHJldHJ5XCIpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0dXBDb25uZWN0aW9uUHJvbWlzZSgpO1xuXG4gICAgICAgICAgICAgICAgd3NVUkwgPSB0aGlzLl9idWlsZFVybCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKFwiX2Nvbm5lY3QoKSAtIENvbm5lY3RpbmcgdG8gXCIuY29uY2F0KHdzVVJMKSwge1xuICAgICAgICAgICAgICAgICAgd3NVUkw6IHdzVVJMLFxuICAgICAgICAgICAgICAgICAgcmVxdWVzdElEOiB0aGlzLnJlcXVlc3RJRFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVUkwpO1xuICAgICAgICAgICAgICAgIHRoaXMud3Mub25vcGVuID0gdGhpcy5vbm9wZW4uYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9IHRoaXMub25jbG9zZS5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5vbmVycm9yID0gdGhpcy5vbmVycm9yLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub25tZXNzYWdlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDMwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25PcGVuO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbklEID0gcmVzcG9uc2UuY29ubmVjdGlvbl9pZDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMgPiAwICYmIHRoaXMuY2xpZW50Lm9wdGlvbnMuZW5hYmxlSW5zaWdodHMpIHtcbiAgICAgICAgICAgICAgICAgIHBvc3RJbnNpZ2h0cygnd3Nfc3VjY2Vzc19hZnRlcl9mYWlsdXJlJywgYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0KHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzQ29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzY6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMzg7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1W1wiY2F0Y2hcIl0oMTUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coXCJfY29ubmVjdCgpIC0gRXJyb3IgLSBcIiwgX2NvbnRleHQ1LnQxKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZUluc2lnaHRzKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMrKztcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzVG90YWxGYWlsdXJlcysrO1xuICAgICAgICAgICAgICAgICAgaW5zaWdodHMgPSBidWlsZFdzRmF0YWxJbnNpZ2h0KHRoaXMsIGNvbnZlcnRFcnJvclRvSnNvbihfY29udGV4dDUudDEpKTtcbiAgICAgICAgICAgICAgICAgIHBvc3RJbnNpZ2h0cyA9PT0gbnVsbCB8fCBwb3N0SW5zaWdodHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvc3RJbnNpZ2h0cygnd3NfZmF0YWwnLCBpbnNpZ2h0cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ1LnQxO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzLCBbWzYsIDEzXSwgWzE1LCAzOF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2Nvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfY29ubmVjdDMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jb25uZWN0O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9yZWNvbm5lY3QgLSBSZXRyeSB0aGUgY29ubmVjdGlvbiB0byBXUyBlbmRwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHt7IGludGVydmFsPzogbnVtYmVyOyByZWZyZXNoVG9rZW4/OiBib29sZWFuIH19IG9wdGlvbnMgRm9sbG93aW5nIG9wdGlvbnMgYXJlIGF2YWlsYWJsZVxuICAgICAqXG4gICAgICogLSBgaW50ZXJ2YWxgXHR7aW50fVx0XHRcdG51bWJlciBvZiBtcyB0aGF0IGZ1bmN0aW9uIHNob3VsZCB3YWl0IGJlZm9yZSByZWNvbm5lY3RpbmdcbiAgICAgKiAtIGByZWZyZXNoVG9rZW5gIHtib29sZWFufVx0cmVsb2FkL3JlZnJlc2ggdXNlciB0b2tlbiBiZSByZWZyZXNoZWQgYmVmb3JlIGF0dGVtcHRpbmcgcmVjb25uZWN0aW9uLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3JlY29ubmVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlY29ubmVjdDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBpbnRlcnZhbCxcbiAgICAgICAgICAgIF9hcmdzNiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNi5sZW5ndGggPiAwICYmIF9hcmdzNlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2WzBdIDoge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEluaXRpYXRpbmcgdGhlIHJlY29ubmVjdCcpOyAvLyBvbmx5IGFsbG93IDEgY29ubmVjdGlvbiBhdCB0aGUgdGltZVxuXG5cbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmlzSGVhbHRoeSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gQWJvcnQgKDEpIHNpbmNlIGFscmVhZHkgY29ubmVjdGluZyBvciBoZWFsdGh5Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgLy8gcmVjb25uZWN0IGluIGNhc2Ugb2Ygb24gZXJyb3Igb3Igb24gY2xvc2VcbiAgICAgICAgICAgICAgICAvLyBhbHNvIHJlY29ubmVjdCBpZiB0aGUgaGVhbHRoIGNoZWNrIGN5Y2xlIGZhaWxzXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSByZXRyeUludGVydmFsKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgfSAvLyByZWNvbm5lY3QsIG9yIHRyeSBhZ2FpbiBhZnRlciBhIGxpdHRsZSB3aGlsZS4uLlxuXG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKGludGVydmFsKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0hlYWx0aHkpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMikgc2luY2UgYWxyZWFkeSBjb25uZWN0aW5nIG9yIGhlYWx0aHknKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc0Rpc2Nvbm5lY3RlZCAmJiB0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMykgc2luY2UgZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIERlc3Ryb3lpbmcgY3VycmVudCBXUyBjb25uZWN0aW9uJyk7IC8vIGNsZWFudXAgdGhlIG9sZCBjb25uZWN0aW9uXG5cblxuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVmcmVzaFRva2VuKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAyMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0KCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdhaXRpbmcgZm9yIHJlY292ZXJDYWxsQmFjaycpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQucmVjb3ZlclN0YXRlKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEZpbmlzaGVkIHJlY292ZXJDYWxsQmFjaycpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAzMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbXCJjYXRjaFwiXSgyMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Ni50MC5jb2RlID09PSBjaGF0Q29kZXMuVE9LRU5fRVhQSVJFRCAmJiAhdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmlzU3RhdGljKCkpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuX3JlY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHRydWVcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAvLyByZWNvbm5lY3Qgb24gV1MgZmFpbHVyZXMsIGRvbid0IHJlY29ubmVjdCBpZiB0aGVyZSBpcyBhIGNvZGUgYnVnXG4gICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0Ni50MC5pc1dTRmFpbHVyZSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlLCBzbyBnb2luZyB0byB0cnkgdG8gcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gPT0gRU5EID09Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMsIFtbMjAsIDMwXV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfcmVjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gX3JlY29ubmVjdDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWNvbm5lY3Q7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogb25saW5lU3RhdHVzQ2hhbmdlZCAtIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGJyb3dzZXIgY29ubmVjdHMgb3IgZGlzY29ubmVjdHMgZnJvbSB0aGUgaW50ZXJuZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCB3aXRoIHR5cGUgb25saW5lIG9yIG9mZmxpbmVcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIC0gUmVtb3ZlcyB0aGUgY3VycmVudCBXUyBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKSB7XG4gICAgICAvLyBpbmNyZW1lbnQgdGhlIElELCBtZWFuaW5nIHdlIHdpbGwgaWdub3JlIGFsbCBtZXNzYWdlcyBmcm9tIHRoZSBvbGRcbiAgICAgIC8vIHdzIGNvbm5lY3Rpb24gZnJvbSBub3cgb24uXG4gICAgICB0aGlzLndzSUQgKz0gMTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIF90aGlzJHdzMiwgX3RoaXMkd3MzO1xuXG4gICAgICAgIHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJHdzMiA9IHRoaXMud3MpID09PSBudWxsIHx8IF90aGlzJHdzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3MyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyR3czMgPSB0aGlzLndzKSA9PT0gbnVsbCB8fCBfdGhpcyR3czMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHdzMy5jbG9zZSgpO1xuICAgICAgfSBjYXRjaCAoZSkgey8vIHdlIGRvbid0IGNhcmVcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX3NldHVwUHJvbWlzZSAtIHNldHMgdXAgdGhlIHRoaXMuY29ubmVjdE9wZW4gcHJvbWlzZVxuICAgICAqL1xuXG4gIH1dKTtcblxuICByZXR1cm4gU3RhYmxlV1NDb25uZWN0aW9uO1xufSgpO1xuXG5mdW5jdGlvbiBvd25LZXlzJDIob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDIodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQyKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkMihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBKV1QgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCBmb3IgYSBVc2VyU2Vzc2lvblxuICogQG1ldGhvZCBKV1RVc2VyVG9rZW5cbiAqIEBtZW1iZXJvZiBzaWduaW5nXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtTZWNyZXR9IGFwaVNlY3JldCAtIEFQSSBTZWNyZXQga2V5XG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVGhlIHVzZXJfaWQga2V5IGluIHRoZSBKV1QgcGF5bG9hZFxuICogQHBhcmFtIHtVUn0gW2V4dHJhRGF0YV0gLSBFeHRyYSB0aGF0IHNob3VsZCBiZSBwYXJ0IG9mIHRoZSBKV1QgdG9rZW5cbiAqIEBwYXJhbSB7U2lnbk9wdGlvbnN9IFtqd3RPcHRpb25zXSAtIE9wdGlvbnMgdGhhdCBjYW4gYmUgcGFzdCB0byBqd3Quc2lnblxuICogQHJldHVybiB7c3RyaW5nfSBKV1QgVG9rZW5cbiAqL1xuZnVuY3Rpb24gSldUVXNlclRva2VuKGFwaVNlY3JldCwgdXNlcklkKSB7XG4gIHZhciBleHRyYURhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICB2YXIgand0T3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG5cbiAgaWYgKHR5cGVvZiB1c2VySWQgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndXNlcklkIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICB9XG5cbiAgdmFyIHBheWxvYWQgPSBfb2JqZWN0U3ByZWFkJDIoe1xuICAgIHVzZXJfaWQ6IHVzZXJJZFxuICB9LCBleHRyYURhdGEpOyAvLyBtYWtlIHN1cmUgd2UgcmV0dXJuIGEgY2xlYXIgZXJyb3Igd2hlbiBqd3QgaXMgc2hpbW1lZCAoaWUuIGJyb3dzZXIgYnVpbGQpXG5cblxuICBpZiAoand0ID09IG51bGwgfHwgand0LnNpZ24gPT0gbnVsbCkge1xuICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgand0IGNyeXB0bywgaWYgeW91IGFyZSBnZXR0aW5nIHRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB5b3UgYXJlIHRyeWluZyB0byBnZW5lcmF0ZSB0b2tlbnMgb24gYnJvd3NlciBvciBSZWFjdCBOYXRpdmUgKG9yIG90aGVyIGVudmlyb25tZW50IHdoZXJlIGNyeXB0byBmdW5jdGlvbnMgYXJlIG5vdCBhdmFpbGFibGUpLiBQbGVhc2UgTm90ZTogdG9rZW4gc2hvdWxkIG9ubHkgYmUgZ2VuZXJhdGVkIHNlcnZlci1zaWRlLlwiKTtcbiAgfVxuXG4gIHZhciBvcHRzID0gX2V4dGVuZHMoe1xuICAgIGFsZ29yaXRobTogJ0hTMjU2JyxcbiAgICBub1RpbWVzdGFtcDogdHJ1ZVxuICB9LCBqd3RPcHRpb25zKTtcblxuICBpZiAocGF5bG9hZC5pYXQpIHtcbiAgICBvcHRzLm5vVGltZXN0YW1wID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIEpXVFNlcnZlclRva2VuKGFwaVNlY3JldCkge1xuICB2YXIgand0T3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciBwYXlsb2FkID0ge1xuICAgIHNlcnZlcjogdHJ1ZVxuICB9O1xuXG4gIHZhciBvcHRzID0gX2V4dGVuZHMoe1xuICAgIGFsZ29yaXRobTogJ0hTMjU2JyxcbiAgICBub1RpbWVzdGFtcDogdHJ1ZVxuICB9LCBqd3RPcHRpb25zKTtcblxuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIFVzZXJGcm9tVG9rZW4odG9rZW4pIHtcbiAgdmFyIGZyYWdtZW50cyA9IHRva2VuLnNwbGl0KCcuJyk7XG5cbiAgaWYgKGZyYWdtZW50cy5sZW5ndGggIT09IDMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB2YXIgYjY0UGF5bG9hZCA9IGZyYWdtZW50c1sxXTtcbiAgdmFyIHBheWxvYWQgPSBkZWNvZGVCYXNlNjQoYjY0UGF5bG9hZCk7XG4gIHZhciBkYXRhID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgcmV0dXJuIGRhdGEudXNlcl9pZDtcbn1cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gRGV2VG9rZW4odXNlcklkKSB7XG4gIHJldHVybiBbJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOScsIC8ve1wiYWxnXCI6IFwiSFMyNTZcIiwgXCJ0eXBcIjogXCJKV1RcIn1cbiAgZW5jb2RlQmFzZTY0KEpTT04uc3RyaW5naWZ5KHtcbiAgICB1c2VyX2lkOiB1c2VySWRcbiAgfSkpLCAnZGV2dG9rZW4nIC8vIGhhcmRjb2RlZCBzaWduYXR1cmVcbiAgXS5qb2luKCcuJyk7XG59XG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IEJ1ZmZlcn0gYm9keSB0aGUgc2lnbmVkIG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWNyZXQgdGhlIHNoYXJlZCBzZWNyZXQgdXNlZCB0byBnZW5lcmF0ZSB0aGUgc2lnbmF0dXJlIChTdHJlYW0gQVBJIHNlY3JldClcbiAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmUgdGhlIHNpZ25hdHVyZSB0byB2YWxpZGF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBDaGVja1NpZ25hdHVyZShib2R5LCBzZWNyZXQsIHNpZ25hdHVyZSkge1xuICB2YXIga2V5ID0gQnVmZmVyLmZyb20oc2VjcmV0LCAndXRmOCcpO1xuICB2YXIgaGFzaCA9IGNyeXB0byQxLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSkudXBkYXRlKGJvZHkpLmRpZ2VzdCgnaGV4Jyk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gY3J5cHRvJDEudGltaW5nU2FmZUVxdWFsKEJ1ZmZlci5mcm9tKGhhc2gpLCBCdWZmZXIuZnJvbShzaWduYXR1cmUpKTtcbiAgfSBjYXRjaCAoX3VudXNlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIFRva2VuTWFuYWdlclxuICpcbiAqIEhhbmRsZXMgYWxsIHRoZSBvcGVyYXRpb25zIGFyb3VuZCB1c2VyIHRva2VuLlxuICovXG52YXIgVG9rZW5NYW5hZ2VyID1cbi8qKlxuICogQ29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge1NlY3JldH0gc2VjcmV0XG4gKi9cbmZ1bmN0aW9uIFRva2VuTWFuYWdlcihzZWNyZXQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9rZW5NYW5hZ2VyKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2FkVG9rZW5Qcm9taXNlXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidHlwZVwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlY3JldFwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRva2VuXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG9rZW5Qcm92aWRlclwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRUb2tlbk9yUHJvdmlkZXJcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG9rZW5PclByb3ZpZGVyLCB1c2VyKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfdGhpcy52YWxpZGF0ZVRva2VuKHRva2VuT3JQcm92aWRlciwgdXNlcik7XG5cbiAgICAgICAgICAgICAgX3RoaXMudXNlciA9IHVzZXI7XG5cbiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odG9rZW5PclByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnRva2VuUHJvdmlkZXIgPSB0b2tlbk9yUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgX3RoaXMudHlwZSA9ICdwcm92aWRlcic7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHRva2VuT3JQcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50b2tlbiA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgICAgICAgICAgICBfdGhpcy50eXBlID0gJ3N0YXRpYyc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIXRva2VuT3JQcm92aWRlciAmJiBfdGhpcy51c2VyICYmIF90aGlzLnNlY3JldCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnRva2VuID0gSldUVXNlclRva2VuKF90aGlzLnNlY3JldCwgdXNlci5pZCwge30sIHt9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy50eXBlID0gJ3N0YXRpYyc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxvYWRUb2tlbigpO1xuXG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlKTtcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHtcbiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSgpKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMudG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgX3RoaXMudXNlciA9IHVuZGVmaW5lZDtcbiAgICBfdGhpcy5sb2FkVG9rZW5Qcm9taXNlID0gbnVsbDtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUb2tlblwiLCBmdW5jdGlvbiAodG9rZW5PclByb3ZpZGVyLCB1c2VyKSB7XG4gICAgLy8gYWxsb3cgZW1wdHkgdG9rZW4gZm9yIGFub24gdXNlclxuICAgIGlmICh1c2VyICYmIHVzZXIuYW5vbiAmJiAhdG9rZW5PclByb3ZpZGVyKSByZXR1cm47IC8vIERvbid0IGFsbG93IGVtcHR5IHRva2VuIGZvciBub24tc2VydmVyIHNpZGUgY2xpZW50LlxuXG4gICAgaWYgKCFfdGhpcy5zZWNyZXQgJiYgIXRva2VuT3JQcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIHRva2VuIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgICB9XG5cbiAgICBpZiAodG9rZW5PclByb3ZpZGVyICYmIHR5cGVvZiB0b2tlbk9yUHJvdmlkZXIgIT09ICdzdHJpbmcnICYmICFpc0Z1bmN0aW9uKHRva2VuT3JQcm92aWRlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlciB0b2tlbiBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRva2VuT3JQcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9ueW1vdXMgdXNlcnNcbiAgICAgIGlmICh1c2VyLmFub24gJiYgdG9rZW5PclByb3ZpZGVyID09PSAnJykgcmV0dXJuO1xuICAgICAgdmFyIHRva2VuVXNlcklkID0gVXNlckZyb21Ub2tlbih0b2tlbk9yUHJvdmlkZXIpO1xuXG4gICAgICBpZiAodG9rZW5PclByb3ZpZGVyICE9IG51bGwgJiYgKHRva2VuVXNlcklkID09IG51bGwgfHwgdG9rZW5Vc2VySWQgPT09ICcnIHx8IHRva2VuVXNlcklkICE9PSB1c2VyLmlkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZXJUb2tlbiBkb2VzIG5vdCBoYXZlIGEgdXNlcl9pZCBvciBpcyBub3QgbWF0Y2hpbmcgd2l0aCB1c2VyLmlkJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b2tlblJlYWR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMubG9hZFRva2VuUHJvbWlzZTtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibG9hZFRva2VuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXN5bmMtcHJvbWlzZS1leGVjdXRvclxuICAgIF90aGlzLmxvYWRUb2tlblByb21pc2UgPSBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy50eXBlID09PSAnc3RhdGljJykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHJlc29sdmUoX3RoaXMudG9rZW4pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMudG9rZW5Qcm92aWRlciAmJiB0eXBlb2YgX3RoaXMudG9rZW5Qcm92aWRlciAhPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudG9rZW5Qcm92aWRlcigpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBfdGhpcy50b2tlbiA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCByZWplY3QobmV3IEVycm9yKFwiQ2FsbCB0byB0b2tlblByb3ZpZGVyIGZhaWxlZCB3aXRoIG1lc3NhZ2U6IFwiLmNvbmNhdChfY29udGV4dDIudDApKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy50b2tlbik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMywgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMsIF94NCkge1xuICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcbiAgICByZXR1cm4gX3RoaXMubG9hZFRva2VuUHJvbWlzZTtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0VG9rZW5cIiwgZnVuY3Rpb24gKCkge1xuICAgIGlmIChfdGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIF90aGlzLnRva2VuO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy51c2VyICYmIF90aGlzLnVzZXIuYW5vbiAmJiAhX3RoaXMudG9rZW4pIHtcbiAgICAgIHJldHVybiBfdGhpcy50b2tlbjtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuc2VjcmV0KSB7XG4gICAgICByZXR1cm4gSldUU2VydmVyVG9rZW4oX3RoaXMuc2VjcmV0KTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb3RoIHNlY3JldCBhbmQgdXNlciB0b2tlbnMgYXJlIG5vdCBzZXQuIEVpdGhlciBjbGllbnQuY29ubmVjdFVzZXIgd2Fzbid0IGNhbGxlZCBvciBjbGllbnQuZGlzY29ubmVjdCB3YXMgY2FsbGVkXCIpO1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1N0YXRpY1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90aGlzLnR5cGUgPT09ICdzdGF0aWMnO1xuICB9KTtcblxuICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuXG4gIGlmIChzZWNyZXQpIHtcbiAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcbiAgfVxuXG4gIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuXG4gIGlmICh0aGlzLnNlY3JldCkge1xuICAgIHRoaXMudG9rZW4gPSBKV1RTZXJ2ZXJUb2tlbih0aGlzLnNlY3JldCk7XG4gIH1cbn1cbi8qKlxuICogU2V0IHRoZSBzdGF0aWMgc3RyaW5nIHRva2VuIG9yIHRva2VuIHByb3ZpZGVyLlxuICogVG9rZW4gcHJvdmlkZXIgc2hvdWxkIHJldHVybiBhIHRva2VuIHN0cmluZyBvciBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gc3RyaW5nIHRva2VuLlxuICpcbiAqIEBwYXJhbSB7VG9rZW5PclByb3ZpZGVyfSB0b2tlbk9yUHJvdmlkZXJcbiAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHVzZXJcbiAqL1xuO1xuXG52YXIgQVBJRXJyb3JDb2RlcyA9IHtcbiAgJy0xJzoge1xuICAgIG5hbWU6ICdJbnRlcm5hbFN5c3RlbUVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzInOiB7XG4gICAgbmFtZTogJ0FjY2Vzc0tleUVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICczJzoge1xuICAgIG5hbWU6ICdBdXRoZW50aWNhdGlvbkZhaWxlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzQnOiB7XG4gICAgbmFtZTogJ0lucHV0RXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzYnOiB7XG4gICAgbmFtZTogJ0R1cGxpY2F0ZVVzZXJuYW1lRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzknOiB7XG4gICAgbmFtZTogJ1JhdGVMaW1pdEVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzE2Jzoge1xuICAgIG5hbWU6ICdEb2VzTm90RXhpc3RFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMTcnOiB7XG4gICAgbmFtZTogJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMTgnOiB7XG4gICAgbmFtZTogJ0V2ZW50Tm90U3VwcG9ydGVkRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzE5Jzoge1xuICAgIG5hbWU6ICdDaGFubmVsRmVhdHVyZU5vdFN1cHBvcnRlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICcyMCc6IHtcbiAgICBuYW1lOiAnTWVzc2FnZVRvb0xvbmdFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMjEnOiB7XG4gICAgbmFtZTogJ011bHRpcGxlTmVzdGluZ0xldmVsRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzIyJzoge1xuICAgIG5hbWU6ICdQYXlsb2FkVG9vQmlnRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzIzJzoge1xuICAgIG5hbWU6ICdSZXF1ZXN0VGltZW91dEVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzI0Jzoge1xuICAgIG5hbWU6ICdNYXhIZWFkZXJTaXplRXhjZWVkZWRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDAnOiB7XG4gICAgbmFtZTogJ0F1dGhFcnJvclRva2VuRXhwaXJlZCcsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDEnOiB7XG4gICAgbmFtZTogJ0F1dGhFcnJvclRva2VuTm90VmFsaWRZZXQnLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzQyJzoge1xuICAgIG5hbWU6ICdBdXRoRXJyb3JUb2tlblVzZWRCZWZvcmVJc3N1ZWRBdCcsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDMnOiB7XG4gICAgbmFtZTogJ0F1dGhFcnJvclRva2VuU2lnbmF0dXJlSW52YWxpZCcsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDQnOiB7XG4gICAgbmFtZTogJ0N1c3RvbUNvbW1hbmRFbmRwb2ludE1pc3NpbmdFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDUnOiB7XG4gICAgbmFtZTogJ0N1c3RvbUNvbW1hbmRFbmRwb2ludENhbGxFcnJvcicsXG4gICAgcmV0cnlhYmxlOiB0cnVlXG4gIH0sXG4gICc0Nic6IHtcbiAgICBuYW1lOiAnQ29ubmVjdGlvbklETm90Rm91bmRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNjAnOiB7XG4gICAgbmFtZTogJ0Nvb2xEb3duRXJyb3InLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnNjknOiB7XG4gICAgbmFtZTogJ0Vycldyb25nUmVnaW9uJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc3MCc6IHtcbiAgICBuYW1lOiAnRXJyUXVlcnlDaGFubmVsUGVybWlzc2lvbnMnLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzcxJzoge1xuICAgIG5hbWU6ICdFcnJUb29NYW55Q29ubmVjdGlvbnMnLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnOTknOiB7XG4gICAgbmFtZTogJ0FwcFN1c3BlbmRlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH1cbn07XG5mdW5jdGlvbiBpc0FQSUVycm9yKGVycm9yKSB7XG4gIHJldHVybiBlcnJvci5jb2RlICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc0Vycm9yUmV0cnlhYmxlKGVycm9yKSB7XG4gIGlmICghZXJyb3IuY29kZSkgcmV0dXJuIGZhbHNlO1xuICB2YXIgZXJyID0gQVBJRXJyb3JDb2Rlc1tcIlwiLmNvbmNhdChlcnJvci5jb2RlKV07XG4gIGlmICghZXJyKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlcnIucmV0cnlhYmxlO1xufVxuZnVuY3Rpb24gaXNDb25uZWN0aW9uSURFcnJvcihlcnJvcikge1xuICByZXR1cm4gZXJyb3IuY29kZSA9PT0gNDY7IC8vIENvbm5lY3Rpb25JRE5vdEZvdW5kRXJyb3Jcbn1cbmZ1bmN0aW9uIGlzV1NGYWlsdXJlKGVycikge1xuICBpZiAodHlwZW9mIGVyci5pc1dTRmFpbHVyZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIGVyci5pc1dTRmFpbHVyZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZXJyLm1lc3NhZ2UpLmlzV1NGYWlsdXJlO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBpc0Vycm9yUmVzcG9uc2UocmVzKSB7XG4gIHJldHVybiAhcmVzLnN0YXR1cyB8fCByZXMuc3RhdHVzIDwgMjAwIHx8IDMwMCA8PSByZXMuc3RhdHVzO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzJDEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDEodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBDb25uZWN0aW9uU3RhdGU7XG5cbihmdW5jdGlvbiAoQ29ubmVjdGlvblN0YXRlKSB7XG4gIENvbm5lY3Rpb25TdGF0ZVtcIkNsb3NlZFwiXSA9IFwiQ0xPU0VEXCI7XG4gIENvbm5lY3Rpb25TdGF0ZVtcIkNvbm5lY3RlZFwiXSA9IFwiQ09OTkVDVEVEXCI7XG4gIENvbm5lY3Rpb25TdGF0ZVtcIkNvbm5lY3RpbmdcIl0gPSBcIkNPTk5FQ1RJTkdcIjtcbiAgQ29ubmVjdGlvblN0YXRlW1wiRGlzY29ubmVjdGVkXCJdID0gXCJESVNDT05ORUNURURcIjtcbiAgQ29ubmVjdGlvblN0YXRlW1wiSW5pdFwiXSA9IFwiSU5JVFwiO1xufSkoQ29ubmVjdGlvblN0YXRlIHx8IChDb25uZWN0aW9uU3RhdGUgPSB7fSkpO1xuXG52YXIgV1NDb25uZWN0aW9uRmFsbGJhY2sgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBXU0Nvbm5lY3Rpb25GYWxsYmFjayhfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjbGllbnQgPSBfcmVmLmNsaWVudDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXU0Nvbm5lY3Rpb25GYWxsYmFjayk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25zZWN1dGl2ZUZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25uZWN0aW9uSURcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbmNlbFRva2VuXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb25saW5lU3RhdHVzQ2hhbmdlZFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLl9sb2coXCJfb25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gXCIuY29uY2F0KGV2ZW50LnR5cGUpKTtcblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdvZmZsaW5lJykge1xuICAgICAgICB2YXIgX3RoaXMkY2FuY2VsVG9rZW47XG5cbiAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuXG4gICAgICAgIChfdGhpcyRjYW5jZWxUb2tlbiA9IF90aGlzLmNhbmNlbFRva2VuKSA9PT0gbnVsbCB8fCBfdGhpcyRjYW5jZWxUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2FuY2VsVG9rZW4uY2FuY2VsKCdkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG4gICAgICAgIF90aGlzLmNhbmNlbFRva2VuID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnb25saW5lJyAmJiBfdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNsb3NlZCkge1xuICAgICAgICBfdGhpcy5jb25uZWN0KHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlcVwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMsIGNvbmZpZywgcmV0cnkpIHtcbiAgICAgICAgdmFyIF90aGlzJGNhbmNlbFRva2VuMiwgcmVzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jYW5jZWxUb2tlbiAmJiAhcGFyYW1zLmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5jYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jbGllbnQuZG9BeGlvc1JlcXVlc3QoJ2dldCcsIF90aGlzLmNsaWVudC5iYXNlVVJMLnJlcGxhY2UoJzozMDMwJywgJzo4OTAwJykgKyAnL2xvbmdwb2xsJywgLy8gcmVwbGFjZSBwb3J0IGlmIHByZXNlbnQgZm9yIHRlc3Rpbmcgd2l0aCBsb2NhbCBBUElcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICAgIGNvbmZpZzogX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgY29uZmlnKSwge30sIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsVG9rZW46IChfdGhpcyRjYW5jZWxUb2tlbjIgPSBfdGhpcy5jYW5jZWxUb2tlbikgPT09IG51bGwgfHwgX3RoaXMkY2FuY2VsVG9rZW4yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjYW5jZWxUb2tlbjIudG9rZW5cbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDsgLy8gYWx3YXlzIHJlc2V0IGluIGNhc2Ugb2Ygbm8gZXJyb3JcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDEpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICghKHJldHJ5ICYmIGlzRXJyb3JSZXRyeWFibGUoX2NvbnRleHQudDApKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvZyhcIl9yZXEoKSAtIFJldHJ5YWJsZSBlcnJvciwgcmV0cnlpbmcgcmVxdWVzdFwiKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xlZXAocmV0cnlJbnRlcnZhbChfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLl9yZXEocGFyYW1zLCBjb25maWcsIHJldHJ5KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dC50MDtcblxuICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcG9sbFwiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICB2YXIgX2RhdGEkZXZlbnRzLCBkYXRhLCBpO1xuXG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0O1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3JlcSh7fSwge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwXG4gICAgICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDtcblxuICAgICAgICAgICAgICAvLyAzMHMgPT4gQVBJIHJlc3BvbmRzIGluIDIwcyBpZiB0aGVyZSBpcyBubyBldmVudFxuICAgICAgICAgICAgICBpZiAoKF9kYXRhJGV2ZW50cyA9IGRhdGEuZXZlbnRzKSAhPT0gbnVsbCAmJiBfZGF0YSRldmVudHMgIT09IHZvaWQgMCAmJiBfZGF0YSRldmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRhdGEuZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChkYXRhLmV2ZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA4O1xuICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgxKTtcblxuICAgICAgICAgICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKF9jb250ZXh0Mi50MCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMuX2xvZyhcIl9wb2xsKCkgLSBheGlvcyBjYW5jZWxlZCByZXF1ZXN0XCIpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBpZiAoIWlzQ29ubmVjdGlvbklERXJyb3IoX2NvbnRleHQyLnQwKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpcy5fbG9nKFwiX3BvbGwoKSAtIENvbm5lY3Rpb25JRCBlcnJvciwgY29ubmVjdGluZyB3aXRob3V0IElELi4uXCIpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkKTtcblxuICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0KHRydWUpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICBpZiAoIShpc0FQSUVycm9yKF9jb250ZXh0Mi50MCkgJiYgIWlzRXJyb3JSZXRyeWFibGUoX2NvbnRleHQyLnQwKSkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIzO1xuICAgICAgICAgICAgICByZXR1cm4gc2xlZXAocmV0cnlJbnRlcnZhbChfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG5cbiAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgOF1dKTtcbiAgICB9KSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdFwiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICB2YXIgcmVjb25uZWN0LFxuICAgICAgICAgIF95aWVsZCRfdGhpcyRfcmVxLFxuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIF9hcmdzMyA9IGFyZ3VtZW50cztcblxuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJlY29ubmVjdCA9IF9hcmdzMy5sZW5ndGggPiAwICYmIF9hcmdzM1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLl9sb2coJ2Nvbm5lY3QoKSAtIGNvbm5lY3RpbmcgYWxyZWFkeSBpbiBwcm9ncmVzcycsIHtcbiAgICAgICAgICAgICAgICByZWNvbm5lY3Q6IHJlY29ubmVjdFxuICAgICAgICAgICAgICB9LCAnd2FybicpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGlmICghKF90aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLl9sb2coJ2Nvbm5lY3QoKSAtIGFscmVhZHkgY29ubmVjdGVkIGFuZCBwb2xsaW5nJywge1xuICAgICAgICAgICAgICAgIHJlY29ubmVjdDogcmVjb25uZWN0XG4gICAgICAgICAgICAgIH0sICd3YXJuJyk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nKTtcblxuICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uSUQgPSB1bmRlZmluZWQ7IC8vIGNvbm5lY3Qgc2hvdWxkIGJlIHNlbnQgd2l0aCBlbXB0eSBjb25uZWN0aW9uX2lkIHNvIEFQSSBjcmVhdGVzIG9uZVxuXG4gICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9yZXEoe1xuICAgICAgICAgICAgICAgIGpzb246IF90aGlzLmNsaWVudC5fYnVpbGRXU1BheWxvYWQoKVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGltZW91dDogODAwMFxuICAgICAgICAgICAgICB9LCAvLyA4c1xuICAgICAgICAgICAgICByZWNvbm5lY3QpO1xuXG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkX3JlcSA9IF9jb250ZXh0My5zZW50O1xuICAgICAgICAgICAgICBldmVudCA9IF95aWVsZCRfdGhpcyRfcmVxLmV2ZW50O1xuXG4gICAgICAgICAgICAgIF90aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKTtcblxuICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uSUQgPSBldmVudC5jb25uZWN0aW9uX2lkOyAvLyBAdHMtZXhwZWN0LWVycm9yXG5cbiAgICAgICAgICAgICAgX3RoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9wb2xsKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlY29ubmVjdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsaWVudC5yZWNvdmVyU3RhdGUoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIGV2ZW50KTtcblxuICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyMjtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oOSk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuXG4gICAgICAgICAgICAgIHRocm93IF9jb250ZXh0My50MDtcblxuICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1s5LCAyMl1dKTtcbiAgICB9KSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNIZWFsdGh5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhIV90aGlzLmNvbm5lY3Rpb25JRCAmJiBfdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpc2Nvbm5lY3RcIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgdmFyIF90aGlzJGNhbmNlbFRva2VuMztcblxuICAgICAgdmFyIHRpbWVvdXQsXG4gICAgICAgICAgY29ubmVjdGlvbl9pZCxcbiAgICAgICAgICBfYXJnczQgPSBhcmd1bWVudHM7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdGltZW91dCA9IF9hcmdzNC5sZW5ndGggPiAwICYmIF9hcmdzNFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzBdIDogMjAwMDtcbiAgICAgICAgICAgICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKF90aGlzLl9vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcblxuICAgICAgICAgICAgICBfdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCk7XG5cbiAgICAgICAgICAgICAgKF90aGlzJGNhbmNlbFRva2VuMyA9IF90aGlzLmNhbmNlbFRva2VuKSA9PT0gbnVsbCB8fCBfdGhpcyRjYW5jZWxUb2tlbjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNhbmNlbFRva2VuMy5jYW5jZWwoJ2Rpc2Nvbm5lY3QoKSBpcyBjYWxsZWQnKTtcbiAgICAgICAgICAgICAgX3RoaXMuY2FuY2VsVG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb25faWQgPSBfdGhpcy5jb25uZWN0aW9uSUQ7XG4gICAgICAgICAgICAgIF90aGlzLmNvbm5lY3Rpb25JRCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA3O1xuICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3JlcSh7XG4gICAgICAgICAgICAgICAgY2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbl9pZDogY29ubmVjdGlvbl9pZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGltZW91dDogdGltZW91dFxuICAgICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIF90aGlzLl9sb2coXCJkaXNjb25uZWN0KCkgLSBDbG9zZWQgY29ubmVjdGlvbklEXCIpO1xuXG4gICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDEzO1xuICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbXCJjYXRjaFwiXSg3KTtcblxuICAgICAgICAgICAgICBfdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gRmFpbGVkXCIsIHtcbiAgICAgICAgICAgICAgICBlcnI6IF9jb250ZXh0NC50MFxuICAgICAgICAgICAgICB9LCAnZXJyb3InKTtcblxuICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1s3LCAxM11dKTtcbiAgICB9KSkpO1xuXG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5Jbml0O1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMuX29ubGluZVN0YXR1c0NoYW5nZWQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFdTQ29ubmVjdGlvbkZhbGxiYWNrLCBbe1xuICAgIGtleTogXCJfbG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2cobXNnKSB7XG4gICAgICB2YXIgZXh0cmEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIGxldmVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnaW5mbyc7XG4gICAgICB0aGlzLmNsaWVudC5sb2dnZXIobGV2ZWwsICdXU0Nvbm5lY3Rpb25GYWxsYmFjazonICsgbXNnLCBfb2JqZWN0U3ByZWFkJDEoe1xuICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb25fZmFsbGJhY2snLCAnY29ubmVjdGlvbiddXG4gICAgICB9LCBleHRyYSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2V0U3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFN0YXRlKHN0YXRlKSB7XG4gICAgICB0aGlzLl9sb2coXCJfc2V0U3RhdGUoKSAtIFwiLmNvbmNhdChzdGF0ZSkpOyAvLyB0cmFuc2l0aW9uIGZyb20gY29ubmVjdGluZyA9PiBjb25uZWN0ZWRcblxuXG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcgJiYgc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgICAgb25saW5lOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQgfHwgc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgICAgb25saW5lOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cblxuICB9XSk7XG5cbiAgcmV0dXJuIFdTQ29ubmVjdGlvbkZhbGxiYWNrO1xufSgpO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuLyoqXG4gKiBVdGlsaXR5IFR5cGVzXG4gKi9cblxuLyogVW5rbm93biBSZWNvcmQgKi9cbi8vYWxpYXMgdG8gYXZvaWQgYnJlYWtpbmcgY2hhbmdlXG5cbi8qKlxuICogUmVzcG9uc2UgVHlwZXNcbiAqL1xuLy8gVGh1bWIgVVJMKHRodW1iX3VybCkgaXMgYWRkZWQgY29uc2lkZXJpbmcgdmlkZW8gYXR0YWNobWVudHMgYXMgdGhlIGJhY2tlbmQgd2lsbCByZXR1cm4gdGhlIHRodW1ibmFpbCBpbiB0aGUgcmVzcG9uc2UuXG5cbi8qKlxuICogT3B0aW9uIFR5cGVzXG4gKi9cbi8vIFRPRE86IHJlbmFtZSB0byBVcGRhdGVDaGFubmVsT3B0aW9ucyBpbiB0aGUgbmV4dCBtYWpvciB1cGRhdGUgYW5kIHVzZSBpdCBpbiBjaGFubmVsLl91cGRhdGUgYW5kL29yIGNoYW5uZWwudXBkYXRlXG5cbi8qKiBAZGVwcmVjYXRlZCB1c2UgTWFya0NoYW5uZWxzUmVhZE9wdGlvbnMgaW5zdGVhZCAqL1xuLy8gVE9ETzogcmVuYW1lIHRvIFVwZGF0ZUNoYW5uZWxUeXBlT3B0aW9ucyBpbiB0aGUgbmV4dCBtYWpvciB1cGRhdGVcblxuLyoqXG4gKiBFdmVudCBUeXBlc1xuICovXG5cbi8qKlxuICogRmlsdGVyIFR5cGVzXG4gKi9cblxuLyoqXG4gKiBTb3J0IFR5cGVzXG4gKi9cblxuLyoqXG4gKiBCYXNlIFR5cGVzXG4gKi9cblxuLypcbiAgRGVsZXRlVXNlck9wdGlvbnMgc3BlY2lmaWVzIGEgY29sbGVjdGlvbiBvZiBvbmUgb3IgbW9yZSBgdXNlcl9pZHNgIHRvIGJlIGRlbGV0ZWQuXG5cbiAgYHVzZXJgOlxuICAgIC0gc29mdDogbWFya3MgdXNlciBhcyBkZWxldGVkIGFuZCByZXRhaW5zIGFsbCB1c2VyIGRhdGEgXG4gICAgLSBwcnVuaW5nOiBtYXJrcyB1c2VyIGFzIGRlbGV0ZWQgYW5kIG51bGxpZmllcyB1c2VyIGluZm9ybWF0aW9uIFxuICAgIC0gaGFyZDogZGVsZXRlcyB1c2VyIGNvbXBsZXRlbHkgLSB0aGlzIHJlcXVpcmVzIGhhcmQgb3B0aW9uIGZvciBtZXNzYWdlcyBhbmQgY29udmVyc2F0aW9uIGFzIHdlbGxcbiAgYGNvbnZlcnNhdGlvbnNgOlxuICAgIC0gc29mdDogbWFya3MgYWxsIGNvbnZlcnNhdGlvbiBjaGFubmVscyBhcyBkZWxldGVkIChzYW1lIGVmZmVjdCBhcyBEZWxldGUgQ2hhbm5lbHMgd2l0aCAnaGFyZCcgb3B0aW9uIGRpc2FibGVkKVxuICAgIC0gaGFyZDogZGVsZXRlcyBjaGFubmVsIGFuZCBhbGwgaXRzIGRhdGEgY29tcGxldGVseSBpbmNsdWRpbmcgbWVzc2FnZXMgKHNhbWUgZWZmZWN0IGFzIERlbGV0ZSBDaGFubmVscyB3aXRoICdoYXJkJyBvcHRpb24gZW5hYmxlZClcbiAgYG1lc3NhZ2VzYDpcbiAgICAtIHNvZnQ6IG1hcmtzIGFsbCB1c2VyIG1lc3NhZ2VzIGFzIGRlbGV0ZWQgd2l0aG91dCByZW1vdmluZyBhbnkgcmVsYXRlZCBtZXNzYWdlIGRhdGFcbiAgICAtIHBydW5pbmc6IG1hcmtzIGFsbCB1c2VyIG1lc3NhZ2VzIGFzIGRlbGV0ZWQsIG51bGxpZmllcyBtZXNzYWdlIGluZm9ybWF0aW9uIGFuZCByZW1vdmVzIHNvbWUgbWVzc2FnZSBkYXRhIHN1Y2ggYXMgcmVhY3Rpb25zIGFuZCBmbGFnc1xuICAgIC0gaGFyZDogZGVsZXRlcyBtZXNzYWdlcyBjb21wbGV0ZWx5IHdpdGggYWxsIHJlbGF0ZWQgaW5mb3JtYXRpb25cbiAgYG5ld19jaGFubmVsX293bmVyX2lkYDogYW55IGNoYW5uZWxzIG93bmVkIGJ5IHRoZSBoYXJkLWRlbGV0ZWQgdXNlciB3aWxsIGJlIHRyYW5zZmVycmVkIHRvIHRoaXMgdXNlciBJRFxuICovXG4vLyBUT0RPOiBhZGQgYmV0dGVyIHR5cGluZ1xudmFyIEVycm9yRnJvbVJlc3BvbnNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IpIHtcbiAgX2luaGVyaXRzKEVycm9yRnJvbVJlc3BvbnNlLCBfRXJyb3IpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRXJyb3JGcm9tUmVzcG9uc2UpO1xuXG4gIGZ1bmN0aW9uIEVycm9yRnJvbVJlc3BvbnNlKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFcnJvckZyb21SZXNwb25zZSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImNvZGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZXNwb25zZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXR1c1wiLCB2b2lkIDApO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIEVycm9yRnJvbVJlc3BvbnNlO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcblxudmFyIF9leGNsdWRlZCA9IFtcImNyZWF0ZWRfYXRcIiwgXCJ1cGRhdGVkX2F0XCIsIFwibGFzdF9hY3RpdmVcIiwgXCJvbmxpbmVcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcInBhcmFtc1wiLCBcImhlYWRlcnNcIl07XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBpc1N0cmluZyh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ3N0cmluZycgfHwgeCBpbnN0YW5jZW9mIFN0cmluZztcbn1cblxudmFyIFN0cmVhbUNoYXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdHJlYW1DaGF0KF9rZXksIHNlY3JldE9yT3B0aW9ucywgX29wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBfdGhpcyRvcHRpb25zO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmVhbUNoYXQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VzZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFjdGl2ZUNoYW5uZWxzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbm9ueW1vdXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYXhpb3NJbnN0YW5jZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYmFzZVVSTFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYnJvd3NlclwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xlYW5pbmdJbnRlcnZhbFJlZlwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50SURcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbmZpZ3NcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImtleVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGlzdGVuZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2dnZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlY292ZXJTdGF0ZU9uUmVjb25uZWN0XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtdXRlZENoYW5uZWxzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtdXRlZFVzZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJub2RlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcHRpb25zXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZWNyZXRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldFVzZXJQcm9taXNlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0ZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG9rZW5NYW5hZ2VyXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2VyXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2VyQWdlbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJJRFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NCYXNlVVJMXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3c0Nvbm5lY3Rpb25cIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzRmFsbGJhY2tcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzUHJvbWlzZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29uc2VjdXRpdmVGYWlsdXJlc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5zaWdodE1ldHJpY3NcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlZmF1bHRXU1RpbWVvdXRXaXRoRmFsbGJhY2tcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlZmF1bHRXU1RpbWVvdXRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyXCIsIG51bGwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2dldENvbm5lY3Rpb25JRFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkd3NDb25uZWN0aW9uLCBfdGhpcyR3c0ZhbGxiYWNrO1xuXG4gICAgICByZXR1cm4gKChfdGhpcyR3c0Nvbm5lY3Rpb24gPSBfdGhpcy53c0Nvbm5lY3Rpb24pID09PSBudWxsIHx8IF90aGlzJHdzQ29ubmVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3NDb25uZWN0aW9uLmNvbm5lY3Rpb25JRCkgfHwgKChfdGhpcyR3c0ZhbGxiYWNrID0gX3RoaXMud3NGYWxsYmFjaykgPT09IG51bGwgfHwgX3RoaXMkd3NGYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3NGYWxsYmFjay5jb25uZWN0aW9uSUQpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hhc0Nvbm5lY3Rpb25JRFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihfdGhpcy5fZ2V0Q29ubmVjdGlvbklEKCkpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdFVzZXJcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1c2VyLCB1c2VyVG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICAgIHZhciBzZXRUb2tlblByb21pc2UsIHdzUHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAodXNlci5pZCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImlkXCIgZmllbGQgb24gdGhlIHVzZXIgaXMgbWlzc2luZycpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy51c2VySUQgPT09IHVzZXIuaWQgJiYgX3RoaXMuc2V0VXNlclByb21pc2UpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29uc2VjdXRpdmUgY2FsbHMgdG8gY29ubmVjdFVzZXIgaXMgZGV0ZWN0ZWQsIGlkZWFsbHkgeW91IHNob3VsZCBvbmx5IGNhbGwgdGhpcyBmdW5jdGlvbiBvbmNlIGluIHlvdXIgYXBwLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3RoaXMuc2V0VXNlclByb21pc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnVzZXJJRCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZSBjbGllbnQuZGlzY29ubmVjdCgpIGJlZm9yZSB0cnlpbmcgdG8gY29ubmVjdCBhcyBhIGRpZmZlcmVudCB1c2VyLiBjb25uZWN0VXNlciB3YXMgY2FsbGVkIHR3aWNlLicpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBpZiAoKF90aGlzLl9pc1VzaW5nU2VydmVyQXV0aCgpIHx8IF90aGlzLm5vZGUpICYmICFfdGhpcy5vcHRpb25zLmFsbG93U2VydmVyU2lkZUNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGxlYXNlIGRvIG5vdCB1c2UgY29ubmVjdFVzZXIgc2VydmVyIHNpZGUuIGNvbm5lY3RVc2VyIGltcGFjdHMgTUFVIGFuZCBjb25jdXJyZW50IGNvbm5lY3Rpb24gdXNhZ2UgYW5kIHRodXMgeW91ciBiaWxsLiBJZiB5b3UgaGF2ZSBhIHZhbGlkIHVzZS1jYXNlLCBhZGQgXCJhbGxvd1NlcnZlclNpZGVDb25uZWN0OiB0cnVlXCIgdG8gdGhlIGNsaWVudCBvcHRpb25zIHRvIGRpc2FibGUgdGhpcyB3YXJuaW5nLicpO1xuICAgICAgICAgICAgICAgIH0gLy8gd2UgZ2VuZXJhdGUgdGhlIGNsaWVudCBpZCBjbGllbnQgc2lkZVxuXG5cbiAgICAgICAgICAgICAgICBfdGhpcy51c2VySUQgPSB1c2VyLmlkO1xuICAgICAgICAgICAgICAgIF90aGlzLmFub255bW91cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNldFRva2VuUHJvbWlzZSA9IF90aGlzLl9zZXRUb2tlbih1c2VyLCB1c2VyVG9rZW5PclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLl9zZXRVc2VyKHVzZXIpO1xuXG4gICAgICAgICAgICAgICAgd3NQcm9taXNlID0gX3RoaXMub3BlbkNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRVc2VyUHJvbWlzZSA9IFByb21pc2UuYWxsKFtzZXRUb2tlblByb21pc2UsIHdzUHJvbWlzZV0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFsxXTtcbiAgICAgICAgICAgICAgICB9IC8vIFdlIG9ubHkgcmV0dXJuIGNvbm5lY3Rpb24gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNDtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldFVzZXJQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMTQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSkge1xuICAgICAgICAgICAgICAgICAgLy8gY2xlYW51cCBjbGllbnQgdG8gYWxsb3cgdGhlIHVzZXIgdG8gcmV0cnkgY29ubmVjdFVzZXIgYWdhaW5cbiAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5kaXNjb25uZWN0VXNlcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxNCwgMjBdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94Mikge1xuICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2V0VXNlclwiLCB0aGlzLmNvbm5lY3RVc2VyKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXRUb2tlblwiLCBmdW5jdGlvbiAodXNlciwgdXNlclRva2VuT3JQcm92aWRlcikge1xuICAgICAgcmV0dXJuIF90aGlzLnRva2VuTWFuYWdlci5zZXRUb2tlbk9yUHJvdmlkZXIodXNlclRva2VuT3JQcm92aWRlciwgdXNlcik7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbG9zZUNvbm5lY3Rpb25cIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzJHdzQ29ubmVjdGlvbjIsIF90aGlzJHdzRmFsbGJhY2syO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jbGVhbmluZ0ludGVydmFsUmVmICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuY2xlYW5pbmdJbnRlcnZhbFJlZik7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5jbGVhbmluZ0ludGVydmFsUmVmID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWyhfdGhpcyR3c0Nvbm5lY3Rpb24yID0gX3RoaXMud3NDb25uZWN0aW9uKSA9PT0gbnVsbCB8fCBfdGhpcyR3c0Nvbm5lY3Rpb24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3c0Nvbm5lY3Rpb24yLmRpc2Nvbm5lY3QodGltZW91dCksIChfdGhpcyR3c0ZhbGxiYWNrMiA9IF90aGlzLndzRmFsbGJhY2spID09PSBudWxsIHx8IF90aGlzJHdzRmFsbGJhY2syID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3c0ZhbGxiYWNrMi5kaXNjb25uZWN0KHRpbWVvdXQpXSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQ29ubmVjdGlvblwiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICB2YXIgX3RoaXMkd3NDb25uZWN0aW9uMywgX3RoaXMkd3NDb25uZWN0aW9uNCwgX3RoaXMkd3NGYWxsYmFjazM7XG5cbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBpZiAoX3RoaXMudXNlcklEKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1VzZXIgaXMgbm90IHNldCBvbiBjbGllbnQsIHVzZSBjbGllbnQuY29ubmVjdFVzZXIgb3IgY2xpZW50LmNvbm5lY3RBbm9ueW1vdXNVc2VyIGluc3RlYWQnKTtcblxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBpZiAoISgoX3RoaXMkd3NDb25uZWN0aW9uMyA9IF90aGlzLndzQ29ubmVjdGlvbikgIT09IG51bGwgJiYgX3RoaXMkd3NDb25uZWN0aW9uMyAhPT0gdm9pZCAwICYmIF90aGlzJHdzQ29ubmVjdGlvbjMuaXNDb25uZWN0aW5nICYmIF90aGlzLndzUHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIoJ2luZm8nLCAnY2xpZW50Om9wZW5Db25uZWN0aW9uKCkgLSBjb25uZWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICAgICAgdGFnczogWydjb25uZWN0aW9uJywgJ2NsaWVudCddXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLndzUHJvbWlzZSk7XG5cbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgaWYgKCEoKChfdGhpcyR3c0Nvbm5lY3Rpb240ID0gX3RoaXMud3NDb25uZWN0aW9uKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb240ICE9PSB2b2lkIDAgJiYgX3RoaXMkd3NDb25uZWN0aW9uNC5pc0hlYWx0aHkgfHwgKF90aGlzJHdzRmFsbGJhY2szID0gX3RoaXMud3NGYWxsYmFjaykgIT09IG51bGwgJiYgX3RoaXMkd3NGYWxsYmFjazMgIT09IHZvaWQgMCAmJiBfdGhpcyR3c0ZhbGxiYWNrMy5pc0hlYWx0aHkoKSkgJiYgX3RoaXMuX2hhc0Nvbm5lY3Rpb25JRCgpKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIG9wZW5Db25uZWN0aW9uIGNhbGxlZCB0d2ljZSwgaGVhbHRoeSBjb25uZWN0aW9uIGFscmVhZHkgZXhpc3RzJywge1xuICAgICAgICAgICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbicsICdjbGllbnQnXVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLnJlc29sdmUoKSk7XG5cbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgX3RoaXMuY2xpZW50SUQgPSBcIlwiLmNvbmNhdChfdGhpcy51c2VySUQsIFwiLS1cIikuY29uY2F0KHJhbmRvbUlkKCkpO1xuICAgICAgICAgICAgICBfdGhpcy53c1Byb21pc2UgPSBfdGhpcy5jb25uZWN0KCk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3N0YXJ0Q2xlYW5pbmcoKTtcblxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBfdGhpcy53c1Byb21pc2UpO1xuXG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUzKTtcbiAgICB9KSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldHVwQ29ubmVjdGlvblwiLCB0aGlzLm9wZW5Db25uZWN0aW9uKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ub3JtYWxpemVEYXRlXCIsIGZ1bmN0aW9uIChiZWZvcmUpIHtcbiAgICAgIGlmIChiZWZvcmUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIGJlZm9yZSA9IGJlZm9yZS50b0lTT1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYmVmb3JlID09PSAnJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEb24ndCBwYXNzIGJsYW5rIHN0cmluZyBmb3Igc2luY2UsIHVzZSBudWxsIGluc3RlYWQgaWYgcmVzZXR0aW5nIHRoZSB0b2tlbiByZXZva2VcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiZWZvcmU7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkaXNjb25uZWN0VXNlclwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodGltZW91dCkge1xuICAgICAgICB2YXIgY2xvc2VQcm9taXNlLCBfaSwgX09iamVjdCR2YWx1ZXMsIF9jaGFubmVsO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6ZGlzY29ubmVjdCgpIC0gRGlzY29ubmVjdGluZyB0aGUgY2xpZW50Jywge1xuICAgICAgICAgICAgICAgICAgdGFnczogWydjb25uZWN0aW9uJywgJ2NsaWVudCddXG4gICAgICAgICAgICAgICAgfSk7IC8vIHJlbW92ZSB0aGUgdXNlciBzcGVjaWZpYyBmaWVsZHNcblxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLnVzZXI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl91c2VyO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy51c2VySUQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2xvc2VQcm9taXNlID0gX3RoaXMuY2xvc2VDb25uZWN0aW9uKHRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9PYmplY3QkdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhfdGhpcy5hY3RpdmVDaGFubmVscyk7IF9pIDwgX09iamVjdCR2YWx1ZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICBfY2hhbm5lbCA9IF9PYmplY3QkdmFsdWVzW19pXTtcblxuICAgICAgICAgICAgICAgICAgX2NoYW5uZWwuX2Rpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB9IC8vIGVuc3VyZSB3ZSBubyBsb25nZXIgcmV0dXJuIGluYWN0aXZlIGNoYW5uZWxzXG5cblxuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZUNoYW5uZWxzID0ge307IC8vIHJlc2V0IGNsaWVudCBzdGF0ZVxuXG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSBuZXcgQ2xpZW50U3RhdGUoKTsgLy8gcmVzZXQgdG9rZW4gbWFuYWdlclxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChfdGhpcy50b2tlbk1hbmFnZXIucmVzZXQpOyAvLyBkZWxheSByZXNldGluZyB0byB1c2UgdG9rZW4gZm9yIGRpc2Nvbm5lY3QgY2FsbHNcbiAgICAgICAgICAgICAgICAvLyBjbG9zZSB0aGUgV1MgY29ubmVjdGlvblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgY2xvc2VQcm9taXNlKTtcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNCk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7XG4gICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzY29ubmVjdFwiLCB0aGlzLmRpc2Nvbm5lY3RVc2VyKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3RBbm9ueW1vdXNVc2VyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgoX3RoaXMuX2lzVXNpbmdTZXJ2ZXJBdXRoKCkgfHwgX3RoaXMubm9kZSkgJiYgIV90aGlzLm9wdGlvbnMuYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSBkbyBub3QgdXNlIGNvbm5lY3RVc2VyIHNlcnZlciBzaWRlLiBjb25uZWN0VXNlciBpbXBhY3RzIE1BVSBhbmQgY29uY3VycmVudCBjb25uZWN0aW9uIHVzYWdlIGFuZCB0aHVzIHlvdXIgYmlsbC4gSWYgeW91IGhhdmUgYSB2YWxpZCB1c2UtY2FzZSwgYWRkIFwiYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdDogdHJ1ZVwiIHRvIHRoZSBjbGllbnQgb3B0aW9ucyB0byBkaXNhYmxlIHRoaXMgd2FybmluZy4nKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuYW5vbnltb3VzID0gdHJ1ZTtcbiAgICAgIF90aGlzLnVzZXJJRCA9IHJhbmRvbUlkKCk7XG4gICAgICB2YXIgYW5vbnltb3VzVXNlciA9IHtcbiAgICAgICAgaWQ6IF90aGlzLnVzZXJJRCxcbiAgICAgICAgYW5vbjogdHJ1ZVxuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3NldFRva2VuKGFub255bW91c1VzZXIsICcnKTtcblxuICAgICAgX3RoaXMuX3NldFVzZXIoYW5vbnltb3VzVXNlcik7XG5cbiAgICAgIHJldHVybiBfdGhpcy5fc2V0dXBDb25uZWN0aW9uKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRBbm9ueW1vdXNVc2VyXCIsIHRoaXMuY29ubmVjdEFub255bW91c1VzZXIpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9BeGlvc1JlcXVlc3RcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHR5cGUsIHVybCwgZGF0YSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIHJlcXVlc3RDb25maWcsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIF9yZXF1ZXN0Q29uZmlnJGhlYWRlcixcbiAgICAgICAgICAgIF9hcmdzNSA9IGFyZ3VtZW50cztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M1Lmxlbmd0aCA+IDMgJiYgX2FyZ3M1WzNdICE9PSB1bmRlZmluZWQgPyBfYXJnczVbM10gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRva2VuTWFuYWdlci50b2tlblJlYWR5KCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJlcXVlc3RDb25maWcgPSBfdGhpcy5fZW5yaWNoQXhpb3NPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gNDtcblxuICAgICAgICAgICAgICAgIF90aGlzLl9sb2dBcGlSZXF1ZXN0KHR5cGUsIHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSB0eXBlO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gX2NvbnRleHQ1LnQwID09PSAnZ2V0JyA/IDkgOiBfY29udGV4dDUudDAgPT09ICdkZWxldGUnID8gMTMgOiBfY29udGV4dDUudDAgPT09ICdwb3N0JyA/IDE3IDogX2NvbnRleHQ1LnQwID09PSAncG9zdEZvcm0nID8gMjEgOiBfY29udGV4dDUudDAgPT09ICdwdXQnID8gMjUgOiBfY29udGV4dDUudDAgPT09ICdwYXRjaCcgPyAyOSA6IF9jb250ZXh0NS50MCA9PT0gJ29wdGlvbnMnID8gMzMgOiAzNztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3NJbnN0YW5jZS5nZXQodXJsLCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ1LnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJicmVha1wiLCAzOCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5heGlvc0luc3RhbmNlLmRlbGV0ZSh1cmwsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2UucG9zdCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2UucG9zdEZvcm0odXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ1LnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJicmVha1wiLCAzOCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI3O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5heGlvc0luc3RhbmNlLnB1dCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2UucGF0Y2godXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgICAgICAgICBjYXNlIDMxOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ1LnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJicmVha1wiLCAzOCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM1O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5heGlvc0luc3RhbmNlLm9wdGlvbnModXJsLCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgICAgICAgICBjYXNlIDM1OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ1LnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJicmVha1wiLCAzOCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVxdWVzdCB0eXBlJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICBfdGhpcy5fbG9nQXBpUmVzcG9uc2UodHlwZSwgdXJsLCByZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLCBfdGhpcy5oYW5kbGVSZXNwb25zZShyZXNwb25zZSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA0MztcbiAgICAgICAgICAgICAgICBfY29udGV4dDUudDEgPSBfY29udGV4dDVbXCJjYXRjaFwiXSg0KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUudDEuY2xpZW50X3JlcXVlc3RfaWQgPSAoX3JlcXVlc3RDb25maWckaGVhZGVyID0gcmVxdWVzdENvbmZpZy5oZWFkZXJzKSA9PT0gbnVsbCB8fCBfcmVxdWVzdENvbmZpZyRoZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXF1ZXN0Q29uZmlnJGhlYWRlclsneC1jbGllbnQtcmVxdWVzdC1pZCddO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvZ0FwaUVycm9yKHR5cGUsIHVybCwgX2NvbnRleHQ1LnQxKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICghX2NvbnRleHQ1LnQxLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDYwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQ1LnQxLnJlc3BvbnNlLmRhdGEuY29kZSA9PT0gY2hhdENvZGVzLlRPS0VOX0VYUElSRUQgJiYgIV90aGlzLnRva2VuTWFuYWdlci5pc1N0YXRpYygpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1NztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPiAxKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1MztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKHJldHJ5SW50ZXJ2YWwoX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTM6XG4gICAgICAgICAgICAgICAgX3RoaXMudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1NjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZG9BeGlvc1JlcXVlc3QodHlwZSwgdXJsLCBkYXRhLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDU3OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLmhhbmRsZVJlc3BvbnNlKF9jb250ZXh0NS50MS5yZXNwb25zZSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjA6XG4gICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ1LnQxO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzQsIDQzXV0pO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94NSwgX3g2LCBfeDcpIHtcbiAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkaXNwYXRjaEV2ZW50XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCFldmVudC5yZWNlaXZlZF9hdCkgZXZlbnQucmVjZWl2ZWRfYXQgPSBuZXcgRGF0ZSgpOyAvLyBjbGllbnQgZXZlbnQgaGFuZGxlcnNcblxuICAgICAgdmFyIHBvc3RMaXN0ZW5lckNhbGxiYWNrcyA9IF90aGlzLl9oYW5kbGVDbGllbnRFdmVudChldmVudCk7IC8vIGNoYW5uZWwgZXZlbnQgaGFuZGxlcnNcblxuXG4gICAgICB2YXIgY2lkID0gZXZlbnQuY2lkO1xuICAgICAgdmFyIGNoYW5uZWwgPSBjaWQgPyBfdGhpcy5hY3RpdmVDaGFubmVsc1tjaWRdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsLl9oYW5kbGVDaGFubmVsRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fY2FsbENsaWVudExpc3RlbmVycyhldmVudCk7XG5cbiAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwuX2NhbGxDaGFubmVsTGlzdGVuZXJzKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgcG9zdExpc3RlbmVyQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuIGMoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlRXZlbnRcIiwgZnVuY3Rpb24gKG1lc3NhZ2VFdmVudCkge1xuICAgICAgLy8gZGlzcGF0Y2ggdGhlIGV2ZW50IHRvIHRoZSBjaGFubmVsIGxpc3RlbmVyc1xuICAgICAgdmFyIGpzb25TdHJpbmcgPSBtZXNzYWdlRXZlbnQuZGF0YTtcbiAgICAgIHZhciBldmVudCA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG5cbiAgICAgIF90aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VwZGF0ZU1lbWJlcldhdGNoZXJSZWZlcmVuY2VzXCIsIGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICB2YXIgcmVmTWFwID0gX3RoaXMuc3RhdGUudXNlckNoYW5uZWxSZWZlcmVuY2VzW3VzZXIuaWRdIHx8IHt9O1xuXG4gICAgICBmb3IgKHZhciBfY2hhbm5lbElEIGluIHJlZk1hcCkge1xuICAgICAgICB2YXIgX2NoYW5uZWwyID0gX3RoaXMuYWN0aXZlQ2hhbm5lbHNbX2NoYW5uZWxJRF07XG5cbiAgICAgICAgaWYgKF9jaGFubmVsMiAhPT0gbnVsbCAmJiBfY2hhbm5lbDIgIT09IHZvaWQgMCAmJiBfY2hhbm5lbDIuc3RhdGUpIHtcbiAgICAgICAgICBpZiAoX2NoYW5uZWwyLnN0YXRlLm1lbWJlcnNbdXNlci5pZF0pIHtcbiAgICAgICAgICAgIF9jaGFubmVsMi5zdGF0ZS5tZW1iZXJzW3VzZXIuaWRdLnVzZXIgPSB1c2VyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChfY2hhbm5lbDIuc3RhdGUud2F0Y2hlcnNbdXNlci5pZF0pIHtcbiAgICAgICAgICAgIF9jaGFubmVsMi5zdGF0ZS53YXRjaGVyc1t1c2VyLmlkXSA9IHVzZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF9jaGFubmVsMi5zdGF0ZS5yZWFkW3VzZXIuaWRdKSB7XG4gICAgICAgICAgICBfY2hhbm5lbDIuc3RhdGUucmVhZFt1c2VyLmlkXS51c2VyID0gdXNlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91cGRhdGVVc2VyUmVmZXJlbmNlc1wiLCB0aGlzLl91cGRhdGVNZW1iZXJXYXRjaGVyUmVmZXJlbmNlcyk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXBkYXRlVXNlck1lc3NhZ2VSZWZlcmVuY2VzXCIsIGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICB2YXIgcmVmTWFwID0gX3RoaXMuc3RhdGUudXNlckNoYW5uZWxSZWZlcmVuY2VzW3VzZXIuaWRdIHx8IHt9O1xuXG4gICAgICBmb3IgKHZhciBfY2hhbm5lbElEMiBpbiByZWZNYXApIHtcbiAgICAgICAgdmFyIF9jaGFubmVsMyA9IF90aGlzLmFjdGl2ZUNoYW5uZWxzW19jaGFubmVsSUQyXTtcbiAgICAgICAgdmFyIHN0YXRlID0gX2NoYW5uZWwzLnN0YXRlO1xuICAgICAgICAvKiogdXBkYXRlIHRoZSBtZXNzYWdlcyBmcm9tIHRoaXMgdXNlci4gKi9cblxuICAgICAgICBzdGF0ZSA9PT0gbnVsbCB8fCBzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGUudXBkYXRlVXNlck1lc3NhZ2VzKHVzZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RlbGV0ZVVzZXJNZXNzYWdlUmVmZXJlbmNlXCIsIGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICB2YXIgaGFyZERlbGV0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICB2YXIgcmVmTWFwID0gX3RoaXMuc3RhdGUudXNlckNoYW5uZWxSZWZlcmVuY2VzW3VzZXIuaWRdIHx8IHt9O1xuXG4gICAgICBmb3IgKHZhciBfY2hhbm5lbElEMyBpbiByZWZNYXApIHtcbiAgICAgICAgdmFyIF9jaGFubmVsNCA9IF90aGlzLmFjdGl2ZUNoYW5uZWxzW19jaGFubmVsSUQzXTtcbiAgICAgICAgdmFyIHN0YXRlID0gX2NoYW5uZWw0LnN0YXRlO1xuICAgICAgICAvKiogZGVsZXRlZCB0aGUgbWVzc2FnZXMgZnJvbSB0aGlzIHVzZXIuICovXG5cbiAgICAgICAgc3RhdGUgPT09IG51bGwgfHwgc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlLmRlbGV0ZVVzZXJNZXNzYWdlcyh1c2VyLCBoYXJkRGVsZXRlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oYW5kbGVVc2VyRXZlbnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoIWV2ZW50LnVzZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyoqIHVwZGF0ZSB0aGUgY2xpZW50LnN0YXRlIHdpdGggYW55IGNoYW5nZXMgdG8gdXNlcnMgKi9cblxuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3VzZXIucHJlc2VuY2UuY2hhbmdlZCcgfHwgZXZlbnQudHlwZSA9PT0gJ3VzZXIudXBkYXRlZCcpIHtcbiAgICAgICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IF90aGlzLnVzZXJJRCkge1xuICAgICAgICAgIHZhciB1c2VyID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMudXNlciB8fCB7fSk7XG5cbiAgICAgICAgICB2YXIgX3VzZXIgPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5fdXNlciB8fCB7fSk7IC8vIFJlbW92ZSBkZWxldGVkIHByb3BlcnRpZXMgZnJvbSB1c2VyIG9iamVjdHMuXG5cblxuICAgICAgICAgIGZvciAodmFyIF9rZXkyIGluIF90aGlzLnVzZXIpIHtcbiAgICAgICAgICAgIGlmIChfa2V5MiBpbiBldmVudC51c2VyIHx8IGlzT3duVXNlckJhc2VQcm9wZXJ0eShfa2V5MikpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSB1c2VyW19rZXkyXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdXNlcltfa2V5Ml07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qKiBVcGRhdGluZyBvbmx5IGF2YWlsYWJsZSBwcm9wZXJ0aWVzIGluIF91c2VyIG9iamVjdC4gKi9cblxuXG4gICAgICAgICAgZm9yICh2YXIgX2tleTMgaW4gZXZlbnQudXNlcikge1xuICAgICAgICAgICAgaWYgKF91c2VyICYmIF9rZXkzIGluIF91c2VyKSB7XG4gICAgICAgICAgICAgIF91c2VyW19rZXkzXSA9IGV2ZW50LnVzZXJbX2tleTNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gQHRzLWV4cGVjdC1lcnJvclxuXG5cbiAgICAgICAgICBfdGhpcy5fdXNlciA9IF9vYmplY3RTcHJlYWQoe30sIF91c2VyKTtcbiAgICAgICAgICBfdGhpcy51c2VyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB1c2VyKSwgZXZlbnQudXNlcik7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdGF0ZS51cGRhdGVVc2VyKGV2ZW50LnVzZXIpO1xuXG4gICAgICAgIF90aGlzLl91cGRhdGVNZW1iZXJXYXRjaGVyUmVmZXJlbmNlcyhldmVudC51c2VyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd1c2VyLnVwZGF0ZWQnKSB7XG4gICAgICAgIF90aGlzLl91cGRhdGVVc2VyTWVzc2FnZVJlZmVyZW5jZXMoZXZlbnQudXNlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAndXNlci5kZWxldGVkJyAmJiBldmVudC51c2VyLmRlbGV0ZWRfYXQgJiYgKGV2ZW50Lm1hcmtfbWVzc2FnZXNfZGVsZXRlZCB8fCBldmVudC5oYXJkX2RlbGV0ZSkpIHtcbiAgICAgICAgX3RoaXMuX2RlbGV0ZVVzZXJNZXNzYWdlUmVmZXJlbmNlKGV2ZW50LnVzZXIsIGV2ZW50LmhhcmRfZGVsZXRlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxsQ2xpZW50TGlzdGVuZXJzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGNsaWVudCA9IF90aGlzOyAvLyBnYXRoZXIgYW5kIGNhbGwgdGhlIGxpc3RlbmVyc1xuXG4gICAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgICAgIGlmIChjbGllbnQubGlzdGVuZXJzLmFsbCkge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIF90b0NvbnN1bWFibGVBcnJheShjbGllbnQubGlzdGVuZXJzLmFsbCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2xpZW50Lmxpc3RlbmVyc1tldmVudC50eXBlXSkge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIF90b0NvbnN1bWFibGVBcnJheShjbGllbnQubGlzdGVuZXJzW2V2ZW50LnR5cGVdKSk7XG4gICAgICB9IC8vIGNhbGwgdGhlIGV2ZW50IGFuZCBzZW5kIGl0IHRvIHRoZSBsaXN0ZW5lcnNcblxuXG4gICAgICBmb3IgKHZhciBfaTIgPSAwLCBfbGlzdGVuZXJzID0gbGlzdGVuZXJzOyBfaTIgPCBfbGlzdGVuZXJzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gX2xpc3RlbmVyc1tfaTJdO1xuICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWNvdmVyU3RhdGVcIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkge1xuICAgICAgdmFyIGNpZHM7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyKCdpbmZvJywgXCJjbGllbnQ6cmVjb3ZlclN0YXRlKCkgLSBTdGFydCBvZiByZWNvdmVyU3RhdGUgd2l0aCBjb25uZWN0aW9uSUQgXCIuY29uY2F0KF90aGlzLl9nZXRDb25uZWN0aW9uSUQoKSksIHtcbiAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nXVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjaWRzID0gT2JqZWN0LmtleXMoX3RoaXMuYWN0aXZlQ2hhbm5lbHMpO1xuXG4gICAgICAgICAgICAgIGlmICghKGNpZHMubGVuZ3RoICYmIF90aGlzLnJlY292ZXJTdGF0ZU9uUmVjb25uZWN0KSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIoJ2luZm8nLCBcImNsaWVudDpyZWNvdmVyU3RhdGUoKSAtIFN0YXJ0IHRoZSBxdWVyeWluZyBvZiBcIi5jb25jYXQoY2lkcy5sZW5ndGgsIFwiIGNoYW5uZWxzXCIpLCB7XG4gICAgICAgICAgICAgICAgdGFnczogWydjb25uZWN0aW9uJywgJ2NsaWVudCddXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnF1ZXJ5Q2hhbm5lbHMoe1xuICAgICAgICAgICAgICAgIGNpZDoge1xuICAgICAgICAgICAgICAgICAgJGluOiBjaWRzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiAtMVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IDMwXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIF90aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6cmVjb3ZlclN0YXRlKCkgLSBRdWVyeWluZyBjaGFubmVscyBmaW5pc2hlZCcsIHtcbiAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50J11cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJ1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJ1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgX3RoaXMud3NQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgIF90aGlzLnNldFVzZXJQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTYpO1xuICAgIH0pKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRDaGFubmVsQnlNZW1iZXJzXCIsIGZ1bmN0aW9uIChjaGFubmVsVHlwZSwgY3VzdG9tKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgY2hhbm5lbCBhbHJlYWR5IGV4aXN0cy5cbiAgICAgIC8vIE9ubHkgYWxsb3cgMSBjaGFubmVsIG9iamVjdCBwZXIgY2lkXG4gICAgICB2YXIgbWVtYmVyc1N0ciA9IF90b0NvbnN1bWFibGVBcnJheShjdXN0b20ubWVtYmVycyB8fCBbXSkuc29ydCgpLmpvaW4oJywnKTtcblxuICAgICAgdmFyIHRlbXBDaWQgPSBcIlwiLmNvbmNhdChjaGFubmVsVHlwZSwgXCI6IW1lbWJlcnMtXCIpLmNvbmNhdChtZW1iZXJzU3RyKTtcblxuICAgICAgaWYgKCFtZW1iZXJzU3RyKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdQbGVhc2Ugc3BlY2lmeSBhdGxlYXN0IG9uZSBtZW1iZXIgd2hlbiBjcmVhdGluZyB1bmlxdWUgY29udmVyc2F0aW9uJyk7XG4gICAgICB9IC8vIGNoYW5uZWwgY291bGQgZXhpc3QgaW4gYGFjdGl2ZUNoYW5uZWxzYCBsaXN0IHdpdGggZWl0aGVyIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR3byBrZXlzOlxuICAgICAgLy8gMS4gY2lkIC0gV2hpY2ggZ2V0cyBzZXQgb24gY2hhbm5lbCBvbmx5IGFmdGVyIGNhbGxpbmcgY2hhbm5lbC5xdWVyeSBvciBjaGFubmVsLndhdGNoIG9yIGNoYW5uZWwuY3JlYXRlXG4gICAgICAvLyAyLiBTb3J0ZWQgbWVtYmVyc1N0ciAtIEUuZy4sIFwibWVzc2FnaW5nOmFtaW4sdmlzaGFsXCIgT1IgXCJtZXNzYWdpbmc6YW1pbixqYWFwLHRvbVwiXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgc2V0IHdoZW4geW91IGNyZWF0ZSBhIGNoYW5uZWwsIGJ1dCBoYXZlbid0IHF1ZXJpZWQgeWV0LiBBZnRlciBxdWVyeSxcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgd2Ugd2lsbCByZXBsYWNlIGl0IHdpdGggYGNpZGBcblxuXG4gICAgICBmb3IgKHZhciBfa2V5NCBpbiBfdGhpcy5hY3RpdmVDaGFubmVscykge1xuICAgICAgICB2YXIgX2NoYW5uZWw1ID0gX3RoaXMuYWN0aXZlQ2hhbm5lbHNbX2tleTRdO1xuXG4gICAgICAgIGlmIChfY2hhbm5lbDUuZGlzY29ubmVjdGVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2tleTQgPT09IHRlbXBDaWQpIHtcbiAgICAgICAgICByZXR1cm4gX2NoYW5uZWw1O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9rZXk0LmluZGV4T2YoXCJcIi5jb25jYXQoY2hhbm5lbFR5cGUsIFwiOiFtZW1iZXJzLVwiKSkgPT09IDApIHtcbiAgICAgICAgICB2YXIgbWVtYmVyc1N0ckluRXhpc3RpbmdDaGFubmVsID0gT2JqZWN0LmtleXMoX2NoYW5uZWw1LnN0YXRlLm1lbWJlcnMpLnNvcnQoKS5qb2luKCcsJyk7XG5cbiAgICAgICAgICBpZiAobWVtYmVyc1N0ckluRXhpc3RpbmdDaGFubmVsID09PSBtZW1iZXJzU3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NoYW5uZWw1O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBDaGFubmVsKF90aGlzLCBjaGFubmVsVHlwZSwgdW5kZWZpbmVkLCBjdXN0b20pOyAvLyBGb3IgdGhlIHRpbWUgYmVpbmcgc2V0IHRoZSBrZXkgYXMgbWVtYmVyc1N0ciwgc2luY2Ugd2UgZG9uJ3Qga25vdyB0aGUgY2lkIHlldC5cbiAgICAgIC8vIEluIGNoYW5uZWwucXVlcnksIHdlIHdpbGwgcmVwbGFjZSBpdCB3aXRoICdjaWQnLlxuXG4gICAgICBfdGhpcy5hY3RpdmVDaGFubmVsc1t0ZW1wQ2lkXSA9IGNoYW5uZWw7XG4gICAgICByZXR1cm4gY2hhbm5lbDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldENoYW5uZWxCeUlkXCIsIGZ1bmN0aW9uIChjaGFubmVsVHlwZSwgY2hhbm5lbElELCBjdXN0b20pIHtcbiAgICAgIGlmICh0eXBlb2YgY2hhbm5lbElEID09PSAnc3RyaW5nJyAmJiB+Y2hhbm5lbElELmluZGV4T2YoJzonKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgY2hhbm5lbCBpZCBcIi5jb25jYXQoY2hhbm5lbElELCBcIiwgY2FuJ3QgY29udGFpbiB0aGUgOiBjaGFyYWN0ZXJcIikpO1xuICAgICAgfSAvLyBvbmx5IGFsbG93IDEgY2hhbm5lbCBvYmplY3QgcGVyIGNpZFxuXG5cbiAgICAgIHZhciBjaWQgPSBcIlwiLmNvbmNhdChjaGFubmVsVHlwZSwgXCI6XCIpLmNvbmNhdChjaGFubmVsSUQpO1xuXG4gICAgICBpZiAoY2lkIGluIF90aGlzLmFjdGl2ZUNoYW5uZWxzICYmICFfdGhpcy5hY3RpdmVDaGFubmVsc1tjaWRdLmRpc2Nvbm5lY3RlZCkge1xuICAgICAgICB2YXIgX2NoYW5uZWw2ID0gX3RoaXMuYWN0aXZlQ2hhbm5lbHNbY2lkXTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoY3VzdG9tKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgX2NoYW5uZWw2LmRhdGEgPSBjdXN0b207XG4gICAgICAgICAgX2NoYW5uZWw2Ll9kYXRhID0gY3VzdG9tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9jaGFubmVsNjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgQ2hhbm5lbChfdGhpcywgY2hhbm5lbFR5cGUsIGNoYW5uZWxJRCwgY3VzdG9tKTtcbiAgICAgIF90aGlzLmFjdGl2ZUNoYW5uZWxzW2NoYW5uZWwuY2lkXSA9IGNoYW5uZWw7XG4gICAgICByZXR1cm4gY2hhbm5lbDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVVzZXJzXCIsIHRoaXMudXBzZXJ0VXNlcnMpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlVXNlclwiLCB0aGlzLnVwc2VydFVzZXIpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VuYmxvY2tNZXNzYWdlXCIsIHRoaXMudW5ibG9ja01lc3NhZ2UpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWFya0FsbFJlYWRcIiwgdGhpcy5tYXJrQ2hhbm5lbHNSZWFkKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc1VzaW5nU2VydmVyQXV0aFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gISFfdGhpcy5zZWNyZXQ7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYnVpbGRXU1BheWxvYWRcIiwgZnVuY3Rpb24gKGNsaWVudF9yZXF1ZXN0X2lkKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB1c2VyX2lkOiBfdGhpcy51c2VySUQsXG4gICAgICAgIHVzZXJfZGV0YWlsczogX3RoaXMuX3VzZXIsXG4gICAgICAgIGRldmljZTogX3RoaXMub3B0aW9ucy5kZXZpY2UsXG4gICAgICAgIGNsaWVudF9yZXF1ZXN0X2lkOiBjbGllbnRfcmVxdWVzdF9pZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdGhlIGtleVxuICAgIHRoaXMua2V5ID0gX2tleTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMuc3RhdGUgPSBuZXcgQ2xpZW50U3RhdGUoKTsgLy8gYSBsaXN0IG9mIGNoYW5uZWxzIHRvIGhpZGUgd3MgZXZlbnRzIGZyb21cblxuICAgIHRoaXMubXV0ZWRDaGFubmVscyA9IFtdO1xuICAgIHRoaXMubXV0ZWRVc2VycyA9IFtdOyAvLyBzZXQgdGhlIHNlY3JldFxuXG4gICAgaWYgKHNlY3JldE9yT3B0aW9ucyAmJiBpc1N0cmluZyhzZWNyZXRPck9wdGlvbnMpKSB7XG4gICAgICB0aGlzLnNlY3JldCA9IHNlY3JldE9yT3B0aW9ucztcbiAgICB9IC8vIHNldCB0aGUgb3B0aW9ucy4uLiBhbmQgZmlndXJlIG91dCBkZWZhdWx0cy4uLlxuXG5cbiAgICB2YXIgaW5wdXRPcHRpb25zID0gX29wdGlvbnMgPyBfb3B0aW9ucyA6IHNlY3JldE9yT3B0aW9ucyAmJiAhaXNTdHJpbmcoc2VjcmV0T3JPcHRpb25zKSA/IHNlY3JldE9yT3B0aW9ucyA6IHt9O1xuICAgIHRoaXMuYnJvd3NlciA9IHR5cGVvZiBpbnB1dE9wdGlvbnMuYnJvd3NlciAhPT0gJ3VuZGVmaW5lZCcgPyBpbnB1dE9wdGlvbnMuYnJvd3NlciA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIHRoaXMubm9kZSA9ICF0aGlzLmJyb3dzZXI7XG4gICAgdGhpcy5vcHRpb25zID0gX29iamVjdFNwcmVhZCh7XG4gICAgICB0aW1lb3V0OiAzMDAwLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgIC8vIG1ha2luZyBzdXJlIGNvb2tpZXMgYXJlIG5vdCBzZW50XG4gICAgICB3YXJtVXA6IGZhbHNlLFxuICAgICAgcmVjb3ZlclN0YXRlT25SZWNvbm5lY3Q6IHRydWVcbiAgICB9LCBpbnB1dE9wdGlvbnMpO1xuXG4gICAgaWYgKHRoaXMubm9kZSAmJiAhdGhpcy5vcHRpb25zLmh0dHBzQWdlbnQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5odHRwc0FnZW50ID0gbmV3IGh0dHBzLkFnZW50KHtcbiAgICAgICAga2VlcEFsaXZlOiB0cnVlLFxuICAgICAgICBrZWVwQWxpdmVNc2VjczogMzAwMFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5heGlvc0luc3RhbmNlID0gYXhpb3MuY3JlYXRlKHRoaXMub3B0aW9ucyk7XG4gICAgdGhpcy5zZXRCYXNlVVJMKHRoaXMub3B0aW9ucy5iYXNlVVJMIHx8ICdodHRwczovL2NoYXQuc3RyZWFtLWlvLWFwaS5jb20nKTtcblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuU1RSRUFNX0xPQ0FMX1RFU1RfUlVOKSB7XG4gICAgICB0aGlzLnNldEJhc2VVUkwoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAzMCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuU1RSRUFNX0xPQ0FMX1RFU1RfSE9TVCkge1xuICAgICAgdGhpcy5zZXRCYXNlVVJMKCdodHRwOi8vJyArIHByb2Nlc3MuZW52LlNUUkVBTV9MT0NBTF9URVNUX0hPU1QpO1xuICAgIH0gLy8gV1MgY29ubmVjdGlvbiBpcyBpbml0aWFsaXplZCB3aGVuIHNldFVzZXIgaXMgY2FsbGVkXG5cblxuICAgIHRoaXMud3NDb25uZWN0aW9uID0gbnVsbDtcbiAgICB0aGlzLndzUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5zZXRVc2VyUHJvbWlzZSA9IG51bGw7IC8vIGtlZXBzIGEgcmVmZXJlbmNlIHRvIGFsbCB0aGUgY2hhbm5lbHMgdGhhdCBhcmUgaW4gdXNlXG5cbiAgICB0aGlzLmFjdGl2ZUNoYW5uZWxzID0ge307IC8vIG1hcHBpbmcgYmV0d2VlbiBjaGFubmVsIGdyb3VwcyBhbmQgY29uZmlnc1xuXG4gICAgdGhpcy5jb25maWdzID0ge307XG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcbiAgICB0aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSA9IChfdGhpcyRvcHRpb25zID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTsgLy8gSWYgaXRzIGEgc2VydmVyLXNpZGUgY2xpZW50LCB0aGVuIGxldHMgaW5pdGlhbGl6ZSB0aGUgdG9rZW5NYW5hZ2VyLCBzaW5jZSB0b2tlbiB3aWxsIGJlXG4gICAgLy8gZ2VuZXJhdGVkIGZyb20gc2VjcmV0LlxuXG4gICAgdGhpcy50b2tlbk1hbmFnZXIgPSBuZXcgVG9rZW5NYW5hZ2VyKHRoaXMuc2VjcmV0KTtcbiAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIHRoaXMuaW5zaWdodE1ldHJpY3MgPSBuZXcgSW5zaWdodE1ldHJpY3MoKTtcbiAgICB0aGlzLmRlZmF1bHRXU1RpbWVvdXRXaXRoRmFsbGJhY2sgPSA2MDAwO1xuICAgIHRoaXMuZGVmYXVsdFdTVGltZW91dCA9IDE1MDAwO1xuICAgIHRoaXMuYXhpb3NJbnN0YW5jZS5kZWZhdWx0cy5wYXJhbXNTZXJpYWxpemVyID0gYXhpb3NQYXJhbXNTZXJpYWxpemVyO1xuICAgIC8qKlxuICAgICAqIGxvZ2dlciBmdW5jdGlvbiBzaG91bGQgYWNjZXB0IDMgcGFyYW1ldGVyczpcbiAgICAgKiBAcGFyYW0gbG9nTGV2ZWwgc3RyaW5nXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgICBzdHJpbmdcbiAgICAgKiBAcGFyYW0gZXh0cmFEYXRhIG9iamVjdFxuICAgICAqXG4gICAgICogZS5nLixcbiAgICAgKiBjb25zdCBjbGllbnQgPSBuZXcgU3RyZWFtQ2hhdCgnYXBpX2tleScsIHt9LCB7XG4gICAgICogXHRcdGxvZ2dlciA9IChsb2dMZXZlbCwgbWVzc2FnZSwgZXh0cmFEYXRhKSA9PiB7XG4gICAgICogXHRcdFx0Y29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICogXHRcdH1cbiAgICAgKiB9KVxuICAgICAqXG4gICAgICogZXh0cmFEYXRhIGNvbnRhaW5zIHRhZ3MgYXJyYXkgYXR0YWNoZWQgdG8gbG9nIG1lc3NhZ2UuIFRhZ3MgY2FuIGhhdmUgb25lL21hbnkgb2YgZm9sbG93aW5nIHZhbHVlczpcbiAgICAgKiAxLiBhcGlcbiAgICAgKiAyLiBhcGlfcmVxdWVzdFxuICAgICAqIDMuIGFwaV9yZXNwb25zZVxuICAgICAqIDQuIGNsaWVudFxuICAgICAqIDUuIGNoYW5uZWxcbiAgICAgKiA2LiBjb25uZWN0aW9uXG4gICAgICogNy4gZXZlbnRcbiAgICAgKlxuICAgICAqIEl0IG1heSBhbHNvIGNvbnRhaW5zIHNvbWUgZXh0cmEgZGF0YSwgc29tZSBleGFtcGxlcyBoYXZlIGJlZW4gbWVudGlvbmVkIGJlbG93OlxuICAgICAqIDEuIHtcbiAgICAgKiBcdFx0dGFnczogWydhcGknLCAnYXBpX3JlcXVlc3QnLCAnY2xpZW50J10sXG4gICAgICogXHRcdHVybDogc3RyaW5nLFxuICAgICAqIFx0XHRwYXlsb2FkOiBvYmplY3QsXG4gICAgICogXHRcdGNvbmZpZzogb2JqZWN0XG4gICAgICogfVxuICAgICAqIDIuIHtcbiAgICAgKiBcdFx0dGFnczogWydhcGknLCAnYXBpX3Jlc3BvbnNlJywgJ2NsaWVudCddLFxuICAgICAqIFx0XHR1cmw6IHN0cmluZyxcbiAgICAgKiBcdFx0cmVzcG9uc2U6IG9iamVjdFxuICAgICAqIH1cbiAgICAgKiAzLiB7XG4gICAgICogXHRcdHRhZ3M6IFsnYXBpJywgJ2FwaV9yZXNwb25zZScsICdjbGllbnQnXSxcbiAgICAgKiBcdFx0dXJsOiBzdHJpbmcsXG4gICAgICogXHRcdGVycm9yOiBvYmplY3RcbiAgICAgKiB9XG4gICAgICogNC4ge1xuICAgICAqIFx0XHR0YWdzOiBbJ2V2ZW50JywgJ2NsaWVudCddLFxuICAgICAqIFx0XHRldmVudDogb2JqZWN0XG4gICAgICogfVxuICAgICAqIDUuIHtcbiAgICAgKiBcdFx0dGFnczogWydjaGFubmVsJ10sXG4gICAgICogXHRcdGNoYW5uZWw6IG9iamVjdFxuICAgICAqIH1cbiAgICAgKi9cblxuICAgIHRoaXMubG9nZ2VyID0gaXNGdW5jdGlvbihpbnB1dE9wdGlvbnMubG9nZ2VyKSA/IGlucHV0T3B0aW9ucy5sb2dnZXIgOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMucmVjb3ZlclN0YXRlT25SZWNvbm5lY3QgPSB0aGlzLm9wdGlvbnMucmVjb3ZlclN0YXRlT25SZWNvbm5lY3Q7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIGNsaWVudCBpbnN0YW5jZVxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGFsd2F5cyByZXR1cm5zIHRoZSBzYW1lIENsaWVudCBpbnN0YW5jZSB0byBhdm9pZCBpc3N1ZXMgcmFpc2VkIGJ5IG11bHRpcGxlIENsaWVudCBhbmQgV1MgY29ubmVjdGlvbnNcbiAgICpcbiAgICogKipBZnRlciB0aGUgZmlyc3QgY2FsbCwgdGhlIGNsaWVudCBjb25maWd1cmF0aW9uIHdpbGwgbm90IGNoYW5nZSBpZiB0aGUga2V5IG9yIG9wdGlvbnMgcGFyYW1ldGVycyBjaGFuZ2UqKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gdGhlIGFwaSBrZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZWNyZXRdIC0gdGhlIGFwaSBzZWNyZXRcbiAgICogQHBhcmFtIHtTdHJlYW1DaGF0T3B0aW9uc30gW29wdGlvbnNdIC0gYWRkaXRpb25hbCBvcHRpb25zLCBoZXJlIHlvdSBjYW4gcGFzcyBjdXN0b20gb3B0aW9ucyB0byBheGlvcyBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJyb3dzZXJdIC0gZW5mb3JjZSB0aGUgY2xpZW50IHRvIGJlIGluIGJyb3dzZXIgbW9kZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLndhcm1VcF0gLSBkZWZhdWx0IHRvIGZhbHNlLCBpZiB0cnVlLCBjbGllbnQgd2lsbCBvcGVuIGEgY29ubmVjdGlvbiBhcyBzb29uIGFzIHBvc3NpYmxlIHRvIHNwZWVkIHVwIGZvbGxvd2luZyByZXF1ZXN0c1xuICAgKiBAcGFyYW0ge0xvZ2dlcn0gW29wdGlvbnMuTG9nZ2VyXSAtIGN1c3RvbSBsb2dnZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWVvdXRdIC0gZGVmYXVsdCB0byAzMDAwXG4gICAqIEBwYXJhbSB7aHR0cHNBZ2VudH0gW29wdGlvbnMuaHR0cHNBZ2VudF0gLSBjdXN0b20gaHR0cHNBZ2VudCwgaW4gbm9kZSBpdCdzIGRlZmF1bHQgdG8gaHR0cHMuYWdlbnQoKVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5pbml0aWFsaXplIHRoZSBjbGllbnQgaW4gdXNlciBtb2RlPC9jYXB0aW9uPlxuICAgKiBTdHJlYW1DaGF0LmdldEluc3RhbmNlKCdhcGlfa2V5JylcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+aW5pdGlhbGl6ZSB0aGUgY2xpZW50IGluIHVzZXIgbW9kZSB3aXRoIG9wdGlvbnM8L2NhcHRpb24+XG4gICAqIFN0cmVhbUNoYXQuZ2V0SW5zdGFuY2UoJ2FwaV9rZXknLCB7IHRpbWVvdXQ6NTAwMCB9KVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5zZWNyZXQgaXMgb3B0aW9uYWwgYW5kIG9ubHkgdXNlZCBpbiBzZXJ2ZXIgc2lkZSBtb2RlPC9jYXB0aW9uPlxuICAgKiBTdHJlYW1DaGF0LmdldEluc3RhbmNlKCdhcGlfa2V5JywgXCJzZWNyZXRcIiwgeyBodHRwc0FnZW50OiBjdXN0b21BZ2VudCB9KVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTdHJlYW1DaGF0LCBbe1xuICAgIGtleTogXCJkZXZUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXZUb2tlbih1c2VySUQpIHtcbiAgICAgIHJldHVybiBEZXZUb2tlbih1c2VySUQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRBdXRoVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBdXRoVHlwZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFub255bW91cyA/ICdhbm9ueW1vdXMnIDogJ2p3dCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldEJhc2VVUkxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QmFzZVVSTChiYXNlVVJMKSB7XG4gICAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgICAgdGhpcy53c0Jhc2VVUkwgPSB0aGlzLmJhc2VVUkwucmVwbGFjZSgnaHR0cCcsICd3cycpLnJlcGxhY2UoJzozMDMwJywgJzo4ODAwJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZXRVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRVc2VyKHVzZXIpIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhpcyBvbmUgaXMgdXNlZCBieSB0aGUgZnJvbnRlbmQuIFRoaXMgaXMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHVzZXIgb2JqZWN0IHN0b3JlZCBvbiBiYWNrZW5kLlxuICAgICAgICogSXQgY29udGFpbnMgcmVzZXJ2ZWQgcHJvcGVydGllcyBhbmQgb3duIHVzZXIgcHJvcGVydGllcyB3aGljaCBhcmUgbm90IHByZXNlbnQgaW4gYHRoaXMuX3VzZXJgLlxuICAgICAgICovXG4gICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgdGhpcy51c2VySUQgPSB1c2VyLmlkOyAvLyB0aGlzIG9uZSBpcyBhY3R1YWxseSB1c2VkIGZvciByZXF1ZXN0cy4gVGhpcyBpcyBhIGNvcHkgb2YgY3VycmVudCB1c2VyIHByb3ZpZGVkIHRvIGBjb25uZWN0VXNlcmAgZnVuY3Rpb24uXG5cbiAgICAgIHRoaXMuX3VzZXIgPSBfb2JqZWN0U3ByZWFkKHt9LCB1c2VyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLCB3aXRob3V0IHJlbW92aW5nIHRoZSB1c2VyIHNldCBvbiBjbGllbnQuXG4gICAgICogY2xpZW50LmNsb3NlQ29ubmVjdGlvbiB3aWxsIG5vdCB0cmlnZ2VyIGRlZmF1bHQgYXV0by1yZXRyeSBtZWNoYW5pc20gZm9yIHJlY29ubmVjdGlvbi4gWW91IG5lZWRcbiAgICAgKiB0byBjYWxsIGNsaWVudC5vcGVuQ29ubmVjdGlvbiB0byByZWNvbm5lY3QgdG8gd2Vic29ja2V0LlxuICAgICAqXG4gICAgICogVGhpcyBpcyBtYWlubHkgdXNlZnVsIG9uIG1vYmlsZSBzaWRlLiBZb3UgY2FuIG9ubHkgcmVjZWl2ZSBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICAgKiBpZiB5b3UgZG9uJ3QgaGF2ZSBhY3RpdmUgd2Vic29ja2V0IGNvbm5lY3Rpb24uXG4gICAgICogU28gd2hlbiB5b3VyIGFwcCBnb2VzIHRvIGJhY2tncm91bmQsIHlvdSBjYW4gY2FsbCBgY2xpZW50LmNsb3NlQ29ubmVjdGlvbmAuXG4gICAgICogQW5kIHdoZW4gYXBwIGNvbWVzIGJhY2sgdG8gZm9yZWdyb3VuZCwgY2FsbCBgY2xpZW50Lm9wZW5Db25uZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2VzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAgICogICAgICAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUFwcFNldHRpbmdzXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogdXBkYXRlQXBwU2V0dGluZ3MgLSB1cGRhdGVzIGFwcGxpY2F0aW9uIHNldHRpbmdzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FwcFNldHRpbmdzfSBvcHRpb25zIEFwcCBzZXR0aW5ncy5cbiAgICAgKiBJRToge1xuICAgICAgICAnYXBuX2NvbmZpZyc6IHtcbiAgICAgICAgICAnYXV0aF90eXBlJzogJ3Rva2VuJyxcbiAgICAgICAgICAnYXV0aF9rZXlcIjogZnMucmVhZEZpbGVTeW5jKFxuICAgICAgICAgICAgJy4vYXBuLXB1c2gtYXV0aC1rZXkucDgnLFxuICAgICAgICAgICAgJ3V0Zi04JyxcbiAgICAgICAgICApLFxuICAgICAgICAgICdrZXlfaWQnOiAna2V5aWQnLFxuICAgICAgICAgICd0ZWFtX2lkJzogJ3RlYW1pZCcsXG4gICAgICAgICAgJ25vdGlmaWNhdGlvbl90ZW1wbGF0ZVwiOiAnbm90aWZpY2F0aW9uIGhhbmRsZWJhcnMgdGVtcGxhdGUnLFxuICAgICAgICAgICdidW5kbGVfaWQnOiAnY29tLmFwcGxlLnlvdXIuYXBwJyxcbiAgICAgICAgICAnZGV2ZWxvcG1lbnQnOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgICdmaXJlYmFzZV9jb25maWcnOiB7XG4gICAgICAgICAgJ3NlcnZlcl9rZXknOiAnc2VydmVyIGtleSBmcm9tIGZjbScsXG4gICAgICAgICAgJ25vdGlmaWNhdGlvbl90ZW1wbGF0ZSc6ICdub3RpZmljYXRpb24gaGFuZGxlYmFycyB0ZW1wbGF0ZScsXG4gICAgICAgICAgJ2RhdGFfdGVtcGxhdGUnOiAnZGF0YSBoYW5kbGViYXJzIHRlbXBsYXRlJyxcbiAgICAgICAgICAnYXBuX3RlbXBsYXRlJzogJ2FwbiBub3RpZmljYXRpb24gaGFuZGxlYmFycyB0ZW1wbGF0ZSB1bmRlciB2MidcbiAgICAgICAgfSxcbiAgICAgICAgJ3dlYmhvb2tfdXJsJzogJ2h0dHBzOi8vYWNtZS5jb20vbXkvYXdlc29tZS93ZWJob29rLydcbiAgICAgIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZUFwcFNldHRpbmdzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcob3B0aW9ucykge1xuICAgICAgICB2YXIgYXBuX2NvbmZpZztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgYXBuX2NvbmZpZyA9IG9wdGlvbnMuYXBuX2NvbmZpZztcblxuICAgICAgICAgICAgICAgIGlmIChhcG5fY29uZmlnICE9PSBudWxsICYmIGFwbl9jb25maWcgIT09IHZvaWQgMCAmJiBhcG5fY29uZmlnLnAxMl9jZXJ0KSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgICAgICAgICAgICAgYXBuX2NvbmZpZzogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhcG5fY29uZmlnKSwge30sIHtcbiAgICAgICAgICAgICAgICAgICAgICBwMTJfY2VydDogQnVmZmVyLmZyb20oYXBuX2NvbmZpZy5wMTJfY2VydCkudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0Y2godGhpcy5iYXNlVVJMICsgJy9hcHAnLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVBcHBTZXR0aW5ncyhfeDgpIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGVBcHBTZXR0aW5ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlQXBwU2V0dGluZ3M7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwicmV2b2tlVG9rZW5zXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogUmV2b2tlcyBhbGwgdG9rZW5zIG9uIGFwcGxpY2F0aW9uIGxldmVsIGlzc3VlZCBiZWZvcmUgZ2l2ZW4gdGltZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmV2b2tlVG9rZW5zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoYmVmb3JlKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVBcHBTZXR0aW5ncyh7XG4gICAgICAgICAgICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHRoaXMuX25vcm1hbGl6ZURhdGUoYmVmb3JlKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJldm9rZVRva2VucyhfeDkpIHtcbiAgICAgICAgcmV0dXJuIF9yZXZva2VUb2tlbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldm9rZVRva2VucztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBSZXZva2VzIHRva2VuIGZvciBhIHVzZXIgaXNzdWVkIGJlZm9yZSBnaXZlbiB0aW1lXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXZva2VVc2VyVG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXZva2VVc2VyVG9rZW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSh1c2VySUQsIGJlZm9yZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2b2tlVXNlcnNUb2tlbihbdXNlcklEXSwgYmVmb3JlKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXZva2VVc2VyVG9rZW4oX3gxMCwgX3gxMSkge1xuICAgICAgICByZXR1cm4gX3Jldm9rZVVzZXJUb2tlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV2b2tlVXNlclRva2VuO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIFJldm9rZXMgdG9rZW5zIGZvciBhIGxpc3Qgb2YgdXNlcnMgaXNzdWVkIGJlZm9yZSBnaXZlbiB0aW1lXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXZva2VVc2Vyc1Rva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmV2b2tlVXNlcnNUb2tlbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCh1c2VySURzLCBiZWZvcmUpIHtcbiAgICAgICAgdmFyIHVzZXJzLCBfaXRlcmF0b3IsIF9zdGVwLCB1c2VySUQ7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmIChiZWZvcmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgYmVmb3JlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBiZWZvcmUgPSB0aGlzLl9ub3JtYWxpemVEYXRlKGJlZm9yZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdXNlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih1c2VySURzKTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgICAgICB1c2VySUQgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IHVzZXJJRCxcbiAgICAgICAgICAgICAgICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogYmVmb3JlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWFsVXBkYXRlVXNlcnModXNlcnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxMC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXZva2VVc2Vyc1Rva2VuKF94MTIsIF94MTMpIHtcbiAgICAgICAgcmV0dXJuIF9yZXZva2VVc2Vyc1Rva2VuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXZva2VVc2Vyc1Rva2VuO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldEFwcFNldHRpbmdzIC0gcmV0cmlldmVzIGFwcGxpY2F0aW9uIHNldHRpbmdzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRBcHBTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldEFwcFNldHRpbmdzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgJy9hcHAnKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0QXBwU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBfZ2V0QXBwU2V0dGluZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEFwcFNldHRpbmdzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHRlc3RQdXNoU2V0dGluZ3MgLSBUZXN0cyB0aGUgcHVzaCBzZXR0aW5ncyBmb3IgYSB1c2VyIHdpdGggYSByYW5kb20gY2hhdCBtZXNzYWdlIGFuZCB0aGUgY29uZmlndXJlZCBwdXNoIHRlbXBsYXRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCBVc2VyIElELiBJZiB1c2VyIGhhcyBubyBkZXZpY2VzLCBpdCB3aWxsIGVycm9yXG4gICAgICogQHBhcmFtIHtUZXN0UHVzaERhdGFJbnB1dH0gW2RhdGFdIE92ZXJyaWRlcyBmb3IgcHVzaCB0ZW1wbGF0ZXMvbWVzc2FnZSB1c2VkXG4gICAgICogIElFOiB7XG4gICAgICAgICAgbWVzc2FnZUlEOiAnaWQtb2YtbWVzc2FnZScsIC8vIHdpbGwgZXJyb3IgaWYgbWVzc2FnZSBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgIGFwblRlbXBsYXRlOiAne30nLCAvLyBpZiBhcHAgZG9lc24ndCBoYXZlIGFwbiBjb25maWd1cmVkIGl0IHdpbGwgZXJyb3JcbiAgICAgICAgICBmaXJlYmFzZVRlbXBsYXRlOiAne30nLCAvLyBpZiBhcHAgZG9lc24ndCBoYXZlIGZpcmViYXNlIGNvbmZpZ3VyZWQgaXQgd2lsbCBlcnJvclxuICAgICAgICAgIGZpcmViYXNlRGF0YVRlbXBsYXRlOiAne30nLCAvLyBpZiBhcHAgZG9lc24ndCBoYXZlIGZpcmViYXNlIGNvbmZpZ3VyZWQgaXQgd2lsbCBlcnJvclxuICAgICAgICAgIHNraXBEZXZpY2VzOiB0cnVlLCAvLyBza2lwIGNvbmZpZy9kZXZpY2UgY2hlY2tzIGFuZCBzZW5kaW5nIHRvIHJlYWwgZGV2aWNlc1xuICAgICAgICAgIHB1c2hQcm92aWRlck5hbWU6ICdzdGFnaW5nJyAvLyBvbmUgb2YgeW91ciBjb25maWd1cmVkIHB1c2ggcHJvdmlkZXJzXG4gICAgICAgICAgcHVzaFByb3ZpZGVyVHlwZTogJ2FwbicgLy8gb25lIG9mIHN1cHBvcnRlZCBwcm92aWRlciB0eXBlc1xuICAgICAgICB9XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRlc3RQdXNoU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90ZXN0UHVzaFNldHRpbmdzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKHVzZXJJRCkge1xuICAgICAgICB2YXIgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzMTIgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2FyZ3MxMi5sZW5ndGggPiAxICYmIF9hcmdzMTJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTJbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jaGVja19wdXNoJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySURcbiAgICAgICAgICAgICAgICB9LCBkYXRhLm1lc3NhZ2VJRCA/IHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IGRhdGEubWVzc2FnZUlEXG4gICAgICAgICAgICAgICAgfSA6IHt9KSwgZGF0YS5hcG5UZW1wbGF0ZSA/IHtcbiAgICAgICAgICAgICAgICAgIGFwbl90ZW1wbGF0ZTogZGF0YS5hcG5UZW1wbGF0ZVxuICAgICAgICAgICAgICAgIH0gOiB7fSksIGRhdGEuZmlyZWJhc2VUZW1wbGF0ZSA/IHtcbiAgICAgICAgICAgICAgICAgIGZpcmViYXNlX3RlbXBsYXRlOiBkYXRhLmZpcmViYXNlVGVtcGxhdGVcbiAgICAgICAgICAgICAgICB9IDoge30pLCBkYXRhLmZpcmViYXNlRGF0YVRlbXBsYXRlID8ge1xuICAgICAgICAgICAgICAgICAgZmlyZWJhc2VfZGF0YV90ZW1wbGF0ZTogZGF0YS5maXJlYmFzZURhdGFUZW1wbGF0ZVxuICAgICAgICAgICAgICAgIH0gOiB7fSksIGRhdGEuc2tpcERldmljZXMgPyB7XG4gICAgICAgICAgICAgICAgICBza2lwX2RldmljZXM6IHRydWVcbiAgICAgICAgICAgICAgICB9IDoge30pLCBkYXRhLnB1c2hQcm92aWRlck5hbWUgPyB7XG4gICAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX25hbWU6IGRhdGEucHVzaFByb3ZpZGVyTmFtZVxuICAgICAgICAgICAgICAgIH0gOiB7fSksIGRhdGEucHVzaFByb3ZpZGVyVHlwZSA/IHtcbiAgICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfdHlwZTogZGF0YS5wdXNoUHJvdmlkZXJUeXBlXG4gICAgICAgICAgICAgICAgfSA6IHt9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDEyLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHRlc3RQdXNoU2V0dGluZ3MoX3gxNCkge1xuICAgICAgICByZXR1cm4gX3Rlc3RQdXNoU2V0dGluZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRlc3RQdXNoU2V0dGluZ3M7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdGVzdFNRU1NldHRpbmdzIC0gVGVzdHMgdGhhdCB0aGUgZ2l2ZW4gb3IgY29uZmlndXJlZCBTUVMgY29uZmlndXJhdGlvbiBpcyB2YWxpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXN0U1FTRGF0YUlucHV0fSBbZGF0YV0gT3ZlcnJpZGVzIFNRUyBzZXR0aW5ncyBmb3IgdGVzdGluZyBpZiBuZWVkZWRcbiAgICAgKiAgSUU6IHtcbiAgICAgICAgICBzcXNfa2V5OiAnYXV0aF9rZXknLFxuICAgICAgICAgIHNxc19zZWNyZXQ6ICdhdXRoX3NlY3JldCcsXG4gICAgICAgICAgc3FzX3VybDogJ3VybF90b19xdWV1ZScsXG4gICAgICAgIH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRlc3RTUVNTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Rlc3RTUVNTZXR0aW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHtcbiAgICAgICAgdmFyIGRhdGEsXG4gICAgICAgICAgICBfYXJnczEzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzMTMubGVuZ3RoID4gMCAmJiBfYXJnczEzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczEzWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvY2hlY2tfc3FzJywgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDEzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHRlc3RTUVNTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIF90ZXN0U1FTU2V0dGluZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRlc3RTUVNTZXR0aW5ncztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB0ZXN0U05TU2V0dGluZ3MgLSBUZXN0cyB0aGF0IHRoZSBnaXZlbiBvciBjb25maWd1cmVkIFNOUyBjb25maWd1cmF0aW9uIGlzIHZhbGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Rlc3RTTlNEYXRhSW5wdXR9IFtkYXRhXSBPdmVycmlkZXMgU05TIHNldHRpbmdzIGZvciB0ZXN0aW5nIGlmIG5lZWRlZFxuICAgICAqICBJRToge1xuICAgICAgICAgIHNuc19rZXk6ICdhdXRoX2tleScsXG4gICAgICAgICAgc25zX3NlY3JldDogJ2F1dGhfc2VjcmV0JyxcbiAgICAgICAgICBzbnNfdG9waWNfYXJuOiAndG9waWNfdG9fcHVibGlzaF90bycsXG4gICAgICAgIH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRlc3RTTlNTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Rlc3RTTlNTZXR0aW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHtcbiAgICAgICAgdmFyIGRhdGEsXG4gICAgICAgICAgICBfYXJnczE0ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzMTQubGVuZ3RoID4gMCAmJiBfYXJnczE0WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczE0WzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvY2hlY2tfc25zJywgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHRlc3RTTlNTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIF90ZXN0U05TU2V0dGluZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRlc3RTTlNTZXR0aW5ncztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyB0aGUgd2Vic29ja2V0IGFuZCByZW1vdmVzIHRoZSB1c2VyIGZyb20gY2xpZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAgICogICAgICAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldEd1ZXN0VXNlclwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHNldEd1ZXN0VXNlciAtIFNldHVwIGEgdGVtcG9yYXJ5IGd1ZXN0IHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHVzZXIgRGF0YSBhYm91dCB0aGlzIHVzZXIuIElFIHtuYW1lOiBcImpvaG5cIn1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgc2V0dXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NldEd1ZXN0VXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSh1c2VyKSB7XG4gICAgICAgIHZhciByZXNwb25zZSwgX3Jlc3BvbnNlJHVzZXIsIGd1ZXN0VXNlcjtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5hbm9ueW1vdXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDE7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvZ3Vlc3QnLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxNS5zZW50O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDE1LnByZXYgPSA3O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUudDAgPSBfY29udGV4dDE1W1wiY2F0Y2hcIl0oMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDE1LnQwO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuXG4gICAgICAgICAgICAgICAgX3Jlc3BvbnNlJHVzZXIgPSByZXNwb25zZS51c2VyLCBfcmVzcG9uc2UkdXNlci5jcmVhdGVkX2F0LCBfcmVzcG9uc2UkdXNlci51cGRhdGVkX2F0LCBfcmVzcG9uc2UkdXNlci5sYXN0X2FjdGl2ZSwgX3Jlc3BvbnNlJHVzZXIub25saW5lLCBndWVzdFVzZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Jlc3BvbnNlJHVzZXIsIF9leGNsdWRlZCk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdFVzZXIoZ3Vlc3RVc2VyLCByZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcywgW1sxLCA3XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZXRHdWVzdFVzZXIoX3gxNSkge1xuICAgICAgICByZXR1cm4gX3NldEd1ZXN0VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0R3Vlc3RVc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZVRva2VuIC0gQ3JlYXRlcyBhIHRva2VuIHRvIGF1dGhlbnRpY2F0ZSB0aGlzIHVzZXIuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBzZXJ2ZXIgc2lkZS5cbiAgICAgKiBUaGUgcmVzdWx0aW5nIHRva2VuIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIGNsaWVudCBzaWRlIHdoZW4gdGhlIHVzZXJzIHJlZ2lzdGVycyBvciBsb2dzIGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCBUaGUgVXNlciBJRFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZXhwXSBUaGUgZXhwaXJhdGlvbiB0aW1lIGZvciB0aGUgdG9rZW4gZXhwcmVzc2VkIGluIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gUmV0dXJucyBhIHRva2VuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUb2tlbih1c2VySUQsIGV4cCwgaWF0KSB7XG4gICAgICBpZiAodGhpcy5zZWNyZXQgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBFcnJvcihcInRva2VucyBjYW4gb25seSBiZSBjcmVhdGVkIHNlcnZlci1zaWRlIHVzaW5nIHRoZSBBUEkgU2VjcmV0XCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXh0cmEgPSB7fTtcblxuICAgICAgaWYgKGV4cCkge1xuICAgICAgICBleHRyYS5leHAgPSBleHA7XG4gICAgICB9XG5cbiAgICAgIGlmIChpYXQpIHtcbiAgICAgICAgZXh0cmEuaWF0ID0gaWF0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gSldUVXNlclRva2VuKHRoaXMuc2VjcmV0LCB1c2VySUQsIGV4dHJhLCB7fSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG9uIC0gTGlzdGVuIHRvIGV2ZW50cyBvbiBhbGwgY2hhbm5lbHMgYW5kIHVzZXJzIHlvdXIgd2F0Y2hpbmdcbiAgICAgKlxuICAgICAqIGNsaWVudC5vbignbWVzc2FnZS5uZXcnLCBldmVudCA9PiB7Y29uc29sZS5sb2coXCJteSBuZXcgbWVzc2FnZVwiLCBldmVudCwgY2hhbm5lbC5zdGF0ZS5tZXNzYWdlcyl9KVxuICAgICAqIG9yXG4gICAgICogY2xpZW50Lm9uKGV2ZW50ID0+IHtjb25zb2xlLmxvZyhldmVudC50eXBlKX0pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcjxTdHJlYW1DaGF0R2VuZXJpY3M+IHwgc3RyaW5nfSBjYWxsYmFja09yU3RyaW5nICBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcjxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbY2FsbGJhY2tPck5vdGhpbmddIFRoZSBjYWxsYmFjayB0byBjYWxsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt7IHVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkIH19IERlc2NyaXB0aW9uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihjYWxsYmFja09yU3RyaW5nLCBjYWxsYmFja09yTm90aGluZykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBrZXkgPSBjYWxsYmFja09yTm90aGluZyA/IGNhbGxiYWNrT3JTdHJpbmcgOiAnYWxsJztcbiAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPck5vdGhpbmcgOiBjYWxsYmFja09yU3RyaW5nO1xuXG4gICAgICBpZiAoIShrZXkgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBcIkF0dGFjaGluZyBsaXN0ZW5lciBmb3IgXCIuY29uY2F0KGtleSwgXCIgZXZlbnRcIiksIHtcbiAgICAgICAgdGFnczogWydldmVudCcsICdjbGllbnQnXVxuICAgICAgfSk7XG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldLnB1c2goY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgIF90aGlzMi5sb2dnZXIoJ2luZm8nLCBcIlJlbW92aW5nIGxpc3RlbmVyIGZvciBcIi5jb25jYXQoa2V5LCBcIiBldmVudFwiKSwge1xuICAgICAgICAgICAgdGFnczogWydldmVudCcsICdjbGllbnQnXVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXMyLmxpc3RlbmVyc1trZXldID0gX3RoaXMyLmxpc3RlbmVyc1trZXldLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlbCAhPT0gY2FsbGJhY2s7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG9mZiAtIFJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlclxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGNhbGxiYWNrT3JTdHJpbmcsIGNhbGxiYWNrT3JOb3RoaW5nKSB7XG4gICAgICB2YXIga2V5ID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yU3RyaW5nIDogJ2FsbCc7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja09yTm90aGluZyA/IGNhbGxiYWNrT3JOb3RoaW5nIDogY2FsbGJhY2tPclN0cmluZztcblxuICAgICAgaWYgKCEoa2V5IGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgXCJSZW1vdmluZyBsaXN0ZW5lciBmb3IgXCIuY29uY2F0KGtleSwgXCIgZXZlbnRcIiksIHtcbiAgICAgICAgdGFnczogWydldmVudCcsICdjbGllbnQnXVxuICAgICAgfSk7XG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gdGhpcy5saXN0ZW5lcnNba2V5XS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gY2FsbGJhY2s7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2xvZ0FwaVJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvZ0FwaVJlcXVlc3QodHlwZSwgdXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgXCJjbGllbnQ6IFwiLmNvbmNhdCh0eXBlLCBcIiAtIFJlcXVlc3QgLSBcIikuY29uY2F0KHVybCksIHtcbiAgICAgICAgdGFnczogWydhcGknLCAnYXBpX3JlcXVlc3QnLCAnY2xpZW50J10sXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBwYXlsb2FkOiBkYXRhLFxuICAgICAgICBjb25maWc6IGNvbmZpZ1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9sb2dBcGlSZXNwb25zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9nQXBpUmVzcG9uc2UodHlwZSwgdXJsLCByZXNwb25zZSkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBcImNsaWVudDpcIi5jb25jYXQodHlwZSwgXCIgLSBSZXNwb25zZSAtIHVybDogXCIpLmNvbmNhdCh1cmwsIFwiID4gc3RhdHVzIFwiKS5jb25jYXQocmVzcG9uc2Uuc3RhdHVzKSwge1xuICAgICAgICB0YWdzOiBbJ2FwaScsICdhcGlfcmVzcG9uc2UnLCAnY2xpZW50J10sXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfbG9nQXBpRXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvZ0FwaUVycm9yKHR5cGUsIHVybCwgZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIFwiY2xpZW50OlwiLmNvbmNhdCh0eXBlLCBcIiAtIEVycm9yIC0gdXJsOiBcIikuY29uY2F0KHVybCksIHtcbiAgICAgICAgdGFnczogWydhcGknLCAnYXBpX3Jlc3BvbnNlJywgJ2NsaWVudCddLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldCh1cmwsIHBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ2dldCcsIHVybCwgbnVsbCwge1xuICAgICAgICBwYXJhbXM6IHBhcmFtc1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXQodXJsLCBkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdCgncHV0JywgdXJsLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicG9zdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3N0KHVybCwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ3Bvc3QnLCB1cmwsIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwYXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXRjaCh1cmwsIGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0KCdwYXRjaCcsIHVybCwgZGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKHVybCwgcGFyYW1zKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdCgnZGVsZXRlJywgdXJsLCBudWxsLCB7XG4gICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VuZEZpbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZEZpbGUodXJsLCB1cmksIG5hbWUsIGNvbnRlbnRUeXBlLCB1c2VyKSB7XG4gICAgICB2YXIgZGF0YSA9IGFkZEZpbGVUb0Zvcm1EYXRhKHVyaSwgbmFtZSwgY29udGVudFR5cGUgfHwgJ211bHRpcGFydC9mb3JtLWRhdGEnKTtcbiAgICAgIGlmICh1c2VyICE9IG51bGwpIGRhdGEuYXBwZW5kKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpO1xuICAgICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ3Bvc3RGb3JtJywgdXJsLCBkYXRhLCB7XG4gICAgICAgIGhlYWRlcnM6IGRhdGEuZ2V0SGVhZGVycyA/IGRhdGEuZ2V0SGVhZGVycygpIDoge30sXG4gICAgICAgIC8vIG5vZGUgdnMgYnJvd3NlclxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICB0aW1lb3V0OiAwLFxuICAgICAgICAgIG1heENvbnRlbnRMZW5ndGg6IEluZmluaXR5LFxuICAgICAgICAgIG1heEJvZHlMZW5ndGg6IEluZmluaXR5XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlcnJvckZyb21SZXNwb25zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvckZyb21SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgdmFyIGVycjtcbiAgICAgIGVyciA9IG5ldyBFcnJvckZyb21SZXNwb25zZShcIlN0cmVhbUNoYXQgZXJyb3IgSFRUUCBjb2RlOiBcIi5jb25jYXQocmVzcG9uc2Uuc3RhdHVzKSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuY29kZSkge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoXCJTdHJlYW1DaGF0IGVycm9yIGNvZGUgXCIuY29uY2F0KHJlc3BvbnNlLmRhdGEuY29kZSwgXCI6IFwiKS5jb25jYXQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKSk7XG4gICAgICAgIGVyci5jb2RlID0gcmVzcG9uc2UuZGF0YS5jb2RlO1xuICAgICAgfVxuXG4gICAgICBlcnIucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIGVyci5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gZXJyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVSZXNwb25zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICBpZiAoaXNFcnJvclJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyB0aGlzLmVycm9yRnJvbVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9oYW5kbGVDbGllbnRFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2xpZW50RXZlbnQoZXZlbnQpIHtcbiAgICAgIHZhciBfZXZlbnQkbWUsXG4gICAgICAgICAgX3RoaXMzID0gdGhpcyxcbiAgICAgICAgICBfZXZlbnQkbWUyO1xuXG4gICAgICB2YXIgY2xpZW50ID0gdGhpcztcbiAgICAgIHZhciBwb3N0TGlzdGVuZXJDYWxsYmFja3MgPSBbXTtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgXCJjbGllbnQ6X2hhbmRsZUNsaWVudEV2ZW50IC0gUmVjZWl2ZWQgZXZlbnQgb2YgdHlwZSB7IFwiLmNvbmNhdChldmVudC50eXBlLCBcIiB9XCIpLCB7XG4gICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2xpZW50J10sXG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAndXNlci5wcmVzZW5jZS5jaGFuZ2VkJyB8fCBldmVudC50eXBlID09PSAndXNlci51cGRhdGVkJyB8fCBldmVudC50eXBlID09PSAndXNlci5kZWxldGVkJykge1xuICAgICAgICB0aGlzLl9oYW5kbGVVc2VyRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2hlYWx0aC5jaGVjaycgJiYgZXZlbnQubWUpIHtcbiAgICAgICAgY2xpZW50LnVzZXIgPSBldmVudC5tZTtcbiAgICAgICAgY2xpZW50LnN0YXRlLnVwZGF0ZVVzZXIoZXZlbnQubWUpO1xuICAgICAgICBjbGllbnQubXV0ZWRDaGFubmVscyA9IGV2ZW50Lm1lLmNoYW5uZWxfbXV0ZXM7XG4gICAgICAgIGNsaWVudC5tdXRlZFVzZXJzID0gZXZlbnQubWUubXV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5jaGFubmVsICYmIGV2ZW50LnR5cGUgPT09ICdub3RpZmljYXRpb24ubWVzc2FnZV9uZXcnKSB7XG4gICAgICAgIHRoaXMuX2FkZENoYW5uZWxDb25maWcoZXZlbnQuY2hhbm5lbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnbm90aWZpY2F0aW9uLmNoYW5uZWxfbXV0ZXNfdXBkYXRlZCcgJiYgKF9ldmVudCRtZSA9IGV2ZW50Lm1lKSAhPT0gbnVsbCAmJiBfZXZlbnQkbWUgIT09IHZvaWQgMCAmJiBfZXZlbnQkbWUuY2hhbm5lbF9tdXRlcykge1xuICAgICAgICB2YXIgY3VycmVudE11dGVkQ2hhbm5lbElkcyA9IFtdO1xuICAgICAgICB2YXIgbmV4dE11dGVkQ2hhbm5lbElkcyA9IFtdO1xuICAgICAgICB0aGlzLm11dGVkQ2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAobXV0ZSkge1xuICAgICAgICAgIHJldHVybiBtdXRlLmNoYW5uZWwgJiYgY3VycmVudE11dGVkQ2hhbm5lbElkcy5wdXNoKG11dGUuY2hhbm5lbC5jaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnQubWUuY2hhbm5lbF9tdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG11dGUuY2hhbm5lbCAmJiBuZXh0TXV0ZWRDaGFubmVsSWRzLnB1c2gobXV0ZS5jaGFubmVsLmNpZCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKiogU2V0IHRoZSB1bnJlYWQgY291bnQgb2YgdW4tbXV0ZWQgY2hhbm5lbHMgdG8gMCwgd2hpY2ggaXMgdGhlIGJlaGF2aW91ciBvZiBiYWNrZW5kICovXG5cbiAgICAgICAgY3VycmVudE11dGVkQ2hhbm5lbElkcy5mb3JFYWNoKGZ1bmN0aW9uIChjaWQpIHtcbiAgICAgICAgICBpZiAoIW5leHRNdXRlZENoYW5uZWxJZHMuaW5jbHVkZXMoY2lkKSAmJiBfdGhpczMuYWN0aXZlQ2hhbm5lbHNbY2lkXSkge1xuICAgICAgICAgICAgX3RoaXMzLmFjdGl2ZUNoYW5uZWxzW2NpZF0uc3RhdGUudW5yZWFkQ291bnQgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubXV0ZWRDaGFubmVscyA9IGV2ZW50Lm1lLmNoYW5uZWxfbXV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnbm90aWZpY2F0aW9uLm11dGVzX3VwZGF0ZWQnICYmIChfZXZlbnQkbWUyID0gZXZlbnQubWUpICE9PSBudWxsICYmIF9ldmVudCRtZTIgIT09IHZvaWQgMCAmJiBfZXZlbnQkbWUyLm11dGVzKSB7XG4gICAgICAgIHRoaXMubXV0ZWRVc2VycyA9IGV2ZW50Lm1lLm11dGVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ25vdGlmaWNhdGlvbi5tYXJrX3JlYWQnICYmIGV2ZW50LnVucmVhZF9jaGFubmVscyA9PT0gMCkge1xuICAgICAgICB2YXIgYWN0aXZlQ2hhbm5lbEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmFjdGl2ZUNoYW5uZWxzKTtcbiAgICAgICAgYWN0aXZlQ2hhbm5lbEtleXMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aXZlQ2hhbm5lbEtleSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuYWN0aXZlQ2hhbm5lbHNbYWN0aXZlQ2hhbm5lbEtleV0uc3RhdGUudW5yZWFkQ291bnQgPSAwO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKChldmVudC50eXBlID09PSAnY2hhbm5lbC5kZWxldGVkJyB8fCBldmVudC50eXBlID09PSAnbm90aWZpY2F0aW9uLmNoYW5uZWxfZGVsZXRlZCcpICYmIGV2ZW50LmNpZCkge1xuICAgICAgICB2YXIgX3RoaXMkYWN0aXZlQ2hhbm5lbHMkO1xuXG4gICAgICAgIGNsaWVudC5zdGF0ZS5kZWxldGVBbGxDaGFubmVsUmVmZXJlbmNlKGV2ZW50LmNpZCk7XG4gICAgICAgIChfdGhpcyRhY3RpdmVDaGFubmVscyQgPSB0aGlzLmFjdGl2ZUNoYW5uZWxzW2V2ZW50LmNpZF0pID09PSBudWxsIHx8IF90aGlzJGFjdGl2ZUNoYW5uZWxzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWN0aXZlQ2hhbm5lbHMkLl9kaXNjb25uZWN0KCk7XG4gICAgICAgIHBvc3RMaXN0ZW5lckNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIWV2ZW50LmNpZCkgcmV0dXJuO1xuICAgICAgICAgIGRlbGV0ZSBfdGhpczMuYWN0aXZlQ2hhbm5lbHNbZXZlbnQuY2lkXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwb3N0TGlzdGVuZXJDYWxsYmFja3M7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9tdXRlU3RhdHVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9tdXRlU3RhdHVzKGNpZCkge1xuICAgICAgdmFyIG11dGVTdGF0dXM7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tdXRlZENoYW5uZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBfbXV0ZSRjaGFubmVsO1xuXG4gICAgICAgIHZhciBtdXRlID0gdGhpcy5tdXRlZENoYW5uZWxzW2ldO1xuXG4gICAgICAgIGlmICgoKF9tdXRlJGNoYW5uZWwgPSBtdXRlLmNoYW5uZWwpID09PSBudWxsIHx8IF9tdXRlJGNoYW5uZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tdXRlJGNoYW5uZWwuY2lkKSA9PT0gY2lkKSB7XG4gICAgICAgICAgbXV0ZVN0YXR1cyA9IHtcbiAgICAgICAgICAgIG11dGVkOiBtdXRlLmV4cGlyZXMgPyBuZXcgRGF0ZShtdXRlLmV4cGlyZXMpLmdldFRpbWUoKSA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpIDogdHJ1ZSxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbXV0ZS5jcmVhdGVkX2F0ID8gbmV3IERhdGUobXV0ZS5jcmVhdGVkX2F0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBleHBpcmVzQXQ6IG11dGUuZXhwaXJlcyA/IG5ldyBEYXRlKG11dGUuZXhwaXJlcykgOiBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobXV0ZVN0YXR1cykge1xuICAgICAgICByZXR1cm4gbXV0ZVN0YXR1cztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgICBjcmVhdGVkQXQ6IG51bGwsXG4gICAgICAgIGV4cGlyZXNBdDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29ubmVjdFwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jb25uZWN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCEoIXRoaXMudXNlcklEIHx8ICF0aGlzLl91c2VyKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdDYWxsIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIGJlZm9yZSBzdGFydGluZyB0aGUgY29ubmVjdGlvbicpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53c0Jhc2VVUkwpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignV2Vic29ja2V0IGJhc2UgdXJsIG5vdCBzZXQnKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50SUQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignY2xpZW50SUQgaXMgbm90IHNldCcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NDb25uZWN0aW9uICYmICh0aGlzLm9wdGlvbnMud2FybVVwIHx8IHRoaXMub3B0aW9ucy5lbmFibGVJbnNpZ2h0cykpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX3NheUhpKCk7XG4gICAgICAgICAgICAgICAgfSAvLyBUaGUgU3RhYmxlV1NDb25uZWN0aW9uIGhhbmRsZXMgYWxsIHRoZSByZWNvbm5lY3Rpb24gbG9naWMuXG5cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMud3NDb25uZWN0aW9uICYmIHRoaXMubm9kZSkge1xuICAgICAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBhdm9pZGluZyBhZGRpbmcgdHMgZ2VuZXJpY3Mgb24gd3NDb25uZWN0aW9uIGluIG9wdGlvbnMgc2luY2UgaXRzIG9ubHkgdXNlZnVsIGZvciB1bml0IHRlc3QgcHVycG9zZS5cbiAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy53c0Nvbm5lY3Rpb24uc2V0Q2xpZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgICAgdGhpcy53c0Nvbm5lY3Rpb24gPSB0aGlzLm9wdGlvbnMud3NDb25uZWN0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLndzQ29ubmVjdGlvbiA9IG5ldyBTdGFibGVXU0Nvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXNcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDg7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMud3NGYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53c0ZhbGxiYWNrLmNvbm5lY3QoKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3NDb25uZWN0aW9uLmNvbm5lY3QodGhpcy5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2sgPyB0aGlzLmRlZmF1bHRXU1RpbWVvdXRXaXRoRmFsbGJhY2sgOiB0aGlzLmRlZmF1bHRXU1RpbWVvdXQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICBfY29udGV4dDE2LnByZXYgPSAxODtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE2LnQwID0gX2NvbnRleHQxNltcImNhdGNoXCJdKDgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2sgJiYgaXNXU0ZhaWx1cmUoX2NvbnRleHQxNi50MCkgJiYgaXNPbmxpbmUoKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnY2xpZW50OmNvbm5lY3QoKSAtIFdTIGZhaWxlZCwgZmFsbGJhY2sgdG8gbG9uZ3BvbGwnLCB7XG4gICAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50J11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYW5zcG9ydC5jaGFuZ2VkJyxcbiAgICAgICAgICAgICAgICAgIG1vZGU6ICdsb25ncG9sbCdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMud3NDb25uZWN0aW9uLl9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy53c0Nvbm5lY3Rpb24uZGlzY29ubmVjdCgpLnRoZW4oKTsgLy8gY2xvc2UgV1Mgc28gbm8gcmV0cnlcblxuICAgICAgICAgICAgICAgIHRoaXMud3NGYWxsYmFjayA9IG5ldyBXU0Nvbm5lY3Rpb25GYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyODtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53c0ZhbGxiYWNrLmNvbm5lY3QoKTtcblxuICAgICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQxNi50MDtcblxuICAgICAgICAgICAgICBjYXNlIDMwOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE2LCB0aGlzLCBbWzgsIDE4XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gX2Nvbm5lY3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbm5lY3Q7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhlIGNvbm5lY3Rpdml0eSB3aXRoIHNlcnZlciBmb3Igd2FybXVwIHB1cnBvc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3NheUhpXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zYXlIaSgpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgY2xpZW50X3JlcXVlc3RfaWQgPSByYW5kb21JZCgpO1xuICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAneC1jbGllbnQtcmVxdWVzdC1pZCc6IGNsaWVudF9yZXF1ZXN0X2lkXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLmRvQXhpb3NSZXF1ZXN0KCdnZXQnLCB0aGlzLmJhc2VVUkwgKyAnL2hpJywgbnVsbCwgb3B0cykuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKF90aGlzNC5vcHRpb25zLmVuYWJsZUluc2lnaHRzKSB7XG4gICAgICAgICAgcG9zdEluc2lnaHRzKCdodHRwX2hpX2ZhaWxlZCcsIHtcbiAgICAgICAgICAgIGFwaV9rZXk6IF90aGlzNC5rZXksXG4gICAgICAgICAgICBlcnI6IGUsXG4gICAgICAgICAgICBjbGllbnRfcmVxdWVzdF9pZDogY2xpZW50X3JlcXVlc3RfaWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5VXNlcnMgLSBRdWVyeSB1c2VycyBhbmQgd2F0Y2ggdXNlciBwcmVzZW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtVc2VyRmlsdGVyczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBmaWx0ZXJDb25kaXRpb25zIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge1VzZXJTb3J0PFN0cmVhbUNoYXRHZW5lcmljcz59IHNvcnQgU29ydCBvcHRpb25zLCBmb3IgaW5zdGFuY2UgW3tsYXN0X2FjdGl2ZTogLTF9XS5cbiAgICAgKiBXaGVuIHVzaW5nIG11bHRpcGxlIGZpZWxkcywgbWFrZSBzdXJlIHlvdSB1c2UgYXJyYXkgb2Ygb2JqZWN0cyB0byBndWFyYW50ZWUgZmllbGQgb3JkZXIsIGZvciBpbnN0YW5jZSBbe2xhc3RfYWN0aXZlOiAtMX0sIHtjcmVhdGVkX2F0OiAxfV1cbiAgICAgKiBAcGFyYW0ge1VzZXJPcHRpb25zfSBvcHRpb25zIE9wdGlvbiBvYmplY3QsIHtwcmVzZW5jZTogdHJ1ZX1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8eyB1c2VyczogQXJyYXk8VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+IH0+fSBVc2VyIFF1ZXJ5IFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeVVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlVc2VycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNyhmaWx0ZXJDb25kaXRpb25zKSB7XG4gICAgICAgIHZhciBzb3J0LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzMTcgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3MxNy5sZW5ndGggPiAxICYmIF9hcmdzMTdbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTdbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxNy5sZW5ndGggPiAyICYmIF9hcmdzMTdbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTdbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIHByZXNlbmNlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07IC8vIE1ha2Ugc3VyZSB3ZSB3YWl0IGZvciB0aGUgY29ubmVjdCBwcm9taXNlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBvbmVcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3NQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucy5wcmVzZW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gLy8gUmV0dXJuIGEgbGlzdCBvZiB1c2Vyc1xuXG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL3VzZXJzJywge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IG5vcm1hbGl6ZVF1ZXJ5U29ydChzb3J0KVxuICAgICAgICAgICAgICAgICAgfSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQxNy5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudXBkYXRlVXNlcnMoZGF0YS51c2Vycyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeVVzZXJzKF94MTYpIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeVVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeVVzZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5QmFubmVkVXNlcnMgLSBRdWVyeSB1c2VyIGJhbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QmFubmVkVXNlcnNGaWx0ZXJzfSBmaWx0ZXJDb25kaXRpb25zIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Jhbm5lZFVzZXJzU29ydH0gc29ydCBTb3J0IG9wdGlvbnMgW3tjcmVhdGVkX2F0OiAxfV0uXG4gICAgICogQHBhcmFtIHtCYW5uZWRVc2Vyc1BhZ2luYXRpb25PcHRpb25zfSBvcHRpb25zIE9wdGlvbiBvYmplY3QsIHtsaW1pdDogMTAsIG9mZnNldDowLCBleGNsdWRlX2V4cGlyZWRfYmFuczogdHJ1ZX1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QmFubmVkVXNlcnNSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gQmFuIFF1ZXJ5IFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeUJhbm5lZFVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlCYW5uZWRVc2VycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHtcbiAgICAgICAgdmFyIGZpbHRlckNvbmRpdGlvbnMsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTggPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBmaWx0ZXJDb25kaXRpb25zID0gX2FyZ3MxOC5sZW5ndGggPiAwICYmIF9hcmdzMThbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMThbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3MxOC5sZW5ndGggPiAxICYmIF9hcmdzMThbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMThbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxOC5sZW5ndGggPiAyICYmIF9hcmdzMThbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMThbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL3F1ZXJ5X2Jhbm5lZF91c2VycycsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpXG4gICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxOC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeUJhbm5lZFVzZXJzKCkge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5QmFubmVkVXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5QmFubmVkVXNlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcXVlcnlNZXNzYWdlRmxhZ3MgLSBRdWVyeSBtZXNzYWdlIGZsYWdzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VGbGFnc0ZpbHRlcnN9IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZUZsYWdzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge2xpbWl0OiAxMCwgb2Zmc2V0OjB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE1lc3NhZ2VGbGFnc1Jlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBNZXNzYWdlIEZsYWdzIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeU1lc3NhZ2VGbGFnc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5TWVzc2FnZUZsYWdzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkge1xuICAgICAgICB2YXIgZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczE5ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZmlsdGVyQ29uZGl0aW9ucyA9IF9hcmdzMTkubGVuZ3RoID4gMCAmJiBfYXJnczE5WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczE5WzBdIDoge307XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTkubGVuZ3RoID4gMSAmJiBfYXJnczE5WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczE5WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL2ZsYWdzL21lc3NhZ2UnLCB7XG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5TWVzc2FnZUZsYWdzKCkge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5TWVzc2FnZUZsYWdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeU1lc3NhZ2VGbGFncztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeUNoYW5uZWxzIC0gUXVlcnkgY2hhbm5lbHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbEZpbHRlcnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gZmlsdGVyQ29uZGl0aW9ucyBvYmplY3QgTW9uZ29EQiBzdHlsZSBmaWx0ZXJzXG4gICAgICogQHBhcmFtIHtDaGFubmVsU29ydDxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbc29ydF0gU29ydCBvcHRpb25zLCBmb3IgaW5zdGFuY2Uge2NyZWF0ZWRfYXQ6IC0xfS5cbiAgICAgKiBXaGVuIHVzaW5nIG11bHRpcGxlIGZpZWxkcywgbWFrZSBzdXJlIHlvdSB1c2UgYXJyYXkgb2Ygb2JqZWN0cyB0byBndWFyYW50ZWUgZmllbGQgb3JkZXIsIGZvciBpbnN0YW5jZSBbe2xhc3RfdXBkYXRlZDogLTF9LCB7Y3JlYXRlZF9hdDogMX1dXG4gICAgICogQHBhcmFtIHtDaGFubmVsT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtDaGFubmVsU3RhdGVPcHRpb25zfSBbc3RhdGVPcHRpb25zXSBTdGF0ZSBvcHRpb25zIG9iamVjdC4gVGhlc2Ugb3B0aW9ucyB3aWxsIG9ubHkgYmUgdXNlZCBmb3Igc3RhdGUgbWFuYWdlbWVudCBhbmQgd29uJ3QgYmUgc2VudCBpbiB0aGUgcmVxdWVzdC5cbiAgICAgKiAtIHN0YXRlT3B0aW9ucy5za2lwSW5pdGlhbGl6YXRpb24gLSBTa2lwcyB0aGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIHN0YXRlIGZvciB0aGUgY2hhbm5lbHMgbWF0Y2hpbmcgdGhlIGlkcyBpbiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8eyBjaGFubmVsczogQXJyYXk8Q2hhbm5lbEFQSVJlc3BvbnNlPEFTdHJlYW1DaGF0R2VuZXJpY3M+Pn0+IH0gc2VhcmNoIGNoYW5uZWxzIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeUNoYW5uZWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlDaGFubmVscyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMChmaWx0ZXJDb25kaXRpb25zKSB7XG4gICAgICAgIHZhciBzb3J0LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIHN0YXRlT3B0aW9ucyxcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBfYXJnczIwID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgc29ydCA9IF9hcmdzMjAubGVuZ3RoID4gMSAmJiBfYXJnczIwWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczIwWzFdIDogW107XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMjAubGVuZ3RoID4gMiAmJiBfYXJnczIwWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczIwWzJdIDoge307XG4gICAgICAgICAgICAgICAgc3RhdGVPcHRpb25zID0gX2FyZ3MyMC5sZW5ndGggPiAzICYmIF9hcmdzMjBbM10gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjBbM10gOiB7fTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgd2F0Y2g6IHRydWUsXG4gICAgICAgICAgICAgICAgICBwcmVzZW5jZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9OyAvLyBNYWtlIHN1cmUgd2Ugd2FpdCBmb3IgdGhlIGNvbm5lY3QgcHJvbWlzZSBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgb25lXG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndzUHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMud2F0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiBhIGxpc3Qgb2YgY2hhbm5lbHNcblxuXG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgICAgICAgIHNvcnQ6IG5vcm1hbGl6ZVF1ZXJ5U29ydChzb3J0KVxuICAgICAgICAgICAgICAgIH0sIGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL2NoYW5uZWxzJywgcGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyMC5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnY2hhbm5lbHMucXVlcmllZCcsXG4gICAgICAgICAgICAgICAgICBxdWVyaWVkQ2hhbm5lbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHM6IGRhdGEuY2hhbm5lbHMsXG4gICAgICAgICAgICAgICAgICAgIGlzTGF0ZXN0TWVzc2FnZVNldDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdChcInJldHVyblwiLCB0aGlzLmh5ZHJhdGVBY3RpdmVDaGFubmVscyhkYXRhLmNoYW5uZWxzLCBzdGF0ZU9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlDaGFubmVscyhfeDE3KSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlDaGFubmVscy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlDaGFubmVscztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJoeWRyYXRlQWN0aXZlQ2hhbm5lbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaHlkcmF0ZUFjdGl2ZUNoYW5uZWxzKCkge1xuICAgICAgdmFyIGNoYW5uZWxzRnJvbUFwaSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICB2YXIgc3RhdGVPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBza2lwSW5pdGlhbGl6YXRpb24gPSBzdGF0ZU9wdGlvbnMuc2tpcEluaXRpYWxpemF0aW9uLFxuICAgICAgICAgIF9zdGF0ZU9wdGlvbnMkb2ZmbGluZSA9IHN0YXRlT3B0aW9ucy5vZmZsaW5lTW9kZSxcbiAgICAgICAgICBvZmZsaW5lTW9kZSA9IF9zdGF0ZU9wdGlvbnMkb2ZmbGluZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfc3RhdGVPcHRpb25zJG9mZmxpbmU7XG5cbiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hhbm5lbHNGcm9tQXBpKSxcbiAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIGNoYW5uZWxTdGF0ZSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgIHRoaXMuX2FkZENoYW5uZWxDb25maWcoY2hhbm5lbFN0YXRlLmNoYW5uZWwpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5uZWxzID0gW107XG5cbiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hhbm5lbHNGcm9tQXBpKSxcbiAgICAgICAgICBfc3RlcDM7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIF9jaGFubmVsU3RhdGUgPSBfc3RlcDMudmFsdWU7XG4gICAgICAgICAgdmFyIGMgPSB0aGlzLmNoYW5uZWwoX2NoYW5uZWxTdGF0ZS5jaGFubmVsLnR5cGUsIF9jaGFubmVsU3RhdGUuY2hhbm5lbC5pZCk7XG4gICAgICAgICAgYy5kYXRhID0gX2NoYW5uZWxTdGF0ZS5jaGFubmVsO1xuICAgICAgICAgIGMub2ZmbGluZU1vZGUgPSBvZmZsaW5lTW9kZTtcbiAgICAgICAgICBjLmluaXRpYWxpemVkID0gIW9mZmxpbmVNb2RlO1xuXG4gICAgICAgICAgaWYgKHNraXBJbml0aWFsaXphdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjLl9pbml0aWFsaXplU3RhdGUoX2NoYW5uZWxTdGF0ZSwgJ2xhdGVzdCcpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXNraXBJbml0aWFsaXphdGlvbi5pbmNsdWRlcyhfY2hhbm5lbFN0YXRlLmNoYW5uZWwuaWQpKSB7XG4gICAgICAgICAgICBjLnN0YXRlLmNsZWFyTWVzc2FnZXMoKTtcblxuICAgICAgICAgICAgYy5faW5pdGlhbGl6ZVN0YXRlKF9jaGFubmVsU3RhdGUsICdsYXRlc3QnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGFubmVscy5wdXNoKGMpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IzLmYoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoYW5uZWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZWFyY2ggLSBRdWVyeSBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDaGFubmVsRmlsdGVyczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBmaWx0ZXJDb25kaXRpb25zIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz4gfCBzdHJpbmd9IHF1ZXJ5IHNlYXJjaCBxdWVyeSBvciBvYmplY3QgTW9uZ29EQiBzdHlsZSBmaWx0ZXJzXG4gICAgICogQHBhcmFtIHtTZWFyY2hPcHRpb25zPFN0cmVhbUNoYXRHZW5lcmljcz59IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCB7dXNlcl9pZDogJ3RvbW1hc28nfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxTZWFyY2hBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gc2VhcmNoIG1lc3NhZ2VzIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZWFyY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZWFyY2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjEoZmlsdGVyQ29uZGl0aW9ucywgcXVlcnkpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgX2FyZ3MyMSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczIxLmxlbmd0aCA+IDIgJiYgX2FyZ3MyMVsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyMVsyXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5vZmZzZXQgJiYgb3B0aW9ucy5uZXh0KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgb2Zmc2V0IHdpdGggbmV4dFwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgc29ydDogb3B0aW9ucy5zb3J0ID8gbm9ybWFsaXplUXVlcnlTb3J0KG9wdGlvbnMuc29ydCkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBxdWVyeSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICBpZiAoIShfdHlwZW9mKHF1ZXJ5KSA9PT0gJ29iamVjdCcpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBheWxvYWQubWVzc2FnZV9maWx0ZXJfY29uZGl0aW9ucyA9IHF1ZXJ5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHR5cGUgXCIuY29uY2F0KF90eXBlb2YocXVlcnkpLCBcIiBmb3IgcXVlcnkgcGFyYW1ldGVyXCIpKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndzUHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDE3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIxLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZWFyY2goX3gxOCwgX3gxOSkge1xuICAgICAgICByZXR1cm4gX3NlYXJjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VhcmNoO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHNldExvY2FsRGV2aWNlIC0gU2V0IHRoZSBkZXZpY2UgaW5mbyBmb3IgdGhlIGN1cnJlbnQgY2xpZW50KGRldmljZSkgdGhhdCB3aWxsIGJlIHNlbnQgdmlhIFdTIGNvbm5lY3Rpb24gYXV0b21hdGljYWxseVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCYXNlRGV2aWNlRmllbGRzfSBkZXZpY2UgdGhlIGRldmljZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlLmlkIGRldmljZSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2UucHVzaF9wcm92aWRlciB0aGUgcHVzaCBwcm92aWRlclxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRMb2NhbERldmljZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2NhbERldmljZShkZXZpY2UpIHtcbiAgICAgIHZhciBfdGhpcyR3c0Nvbm5lY3Rpb241LCBfdGhpcyR3c0Nvbm5lY3Rpb242LCBfdGhpcyR3c0ZhbGxiYWNrNDtcblxuICAgICAgaWYgKChfdGhpcyR3c0Nvbm5lY3Rpb241ID0gdGhpcy53c0Nvbm5lY3Rpb24pICE9PSBudWxsICYmIF90aGlzJHdzQ29ubmVjdGlvbjUgIT09IHZvaWQgMCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb241LmlzQ29ubmVjdGluZyAmJiB0aGlzLndzUHJvbWlzZSB8fCAoKF90aGlzJHdzQ29ubmVjdGlvbjYgPSB0aGlzLndzQ29ubmVjdGlvbikgIT09IG51bGwgJiYgX3RoaXMkd3NDb25uZWN0aW9uNiAhPT0gdm9pZCAwICYmIF90aGlzJHdzQ29ubmVjdGlvbjYuaXNIZWFsdGh5IHx8IChfdGhpcyR3c0ZhbGxiYWNrNCA9IHRoaXMud3NGYWxsYmFjaykgIT09IG51bGwgJiYgX3RoaXMkd3NGYWxsYmFjazQgIT09IHZvaWQgMCAmJiBfdGhpcyR3c0ZhbGxiYWNrNC5pc0hlYWx0aHkoKSkgJiYgdGhpcy5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd5b3UgY2FuIG9ubHkgc2V0IGRldmljZSBiZWZvcmUgb3BlbmluZyBhIHdlYnNvY2tldCBjb25uZWN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucy5kZXZpY2UgPSBkZXZpY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZERldmljZSAtIEFkZHMgYSBwdXNoIGRldmljZSBmb3IgYSB1c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBkZXZpY2UgaWRcbiAgICAgKiBAcGFyYW0ge1B1c2hQcm92aWRlcn0gcHVzaF9wcm92aWRlciB0aGUgcHVzaCBwcm92aWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSB0aGUgdXNlciBpZCAoZGVmYXVsdHMgdG8gY3VycmVudCB1c2VyKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHVzaF9wcm92aWRlcl9uYW1lXSB1c2VyIHByb3ZpZGVkIHB1c2ggcHJvdmlkZXIgbmFtZSBmb3IgbXVsdGkgYnVuZGxlIHN1cHBvcnRcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkRGV2aWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYWRkRGV2aWNlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKGlkLCBwdXNoX3Byb3ZpZGVyLCB1c2VySUQsIHB1c2hfcHJvdmlkZXJfbmFtZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvZGV2aWNlcycsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyOiBwdXNoX3Byb3ZpZGVyXG4gICAgICAgICAgICAgICAgfSwgdXNlcklEICE9IG51bGwgPyB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySURcbiAgICAgICAgICAgICAgICB9IDoge30pLCBwdXNoX3Byb3ZpZGVyX25hbWUgIT0gbnVsbCA/IHtcbiAgICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogcHVzaF9wcm92aWRlcl9uYW1lXG4gICAgICAgICAgICAgICAgfSA6IHt9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIyLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZERldmljZShfeDIwLCBfeDIxLCBfeDIyLCBfeDIzKSB7XG4gICAgICAgIHJldHVybiBfYWRkRGV2aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGREZXZpY2U7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0RGV2aWNlcyAtIFJldHVybnMgdGhlIGRldmljZXMgYXNzb2NpYXRlZCB3aXRoIGEgY3VycmVudCB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gVXNlciBJRC4gT25seSB3b3JrcyBvbiBzZXJ2ZXJzaWRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtEZXZpY2U8U3RyZWFtQ2hhdEdlbmVyaWNzPltdfSBBcnJheSBvZiBkZXZpY2VzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXREZXZpY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0RGV2aWNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMyh1c2VySUQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjMkKF9jb250ZXh0MjMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvZGV2aWNlcycsIHVzZXJJRCA/IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRFxuICAgICAgICAgICAgICAgIH0gOiB7fSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldERldmljZXMoX3gyNCkge1xuICAgICAgICByZXR1cm4gX2dldERldmljZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldERldmljZXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VW5yZWFkQ291bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRVbnJlYWRDb3VudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCh1c2VySUQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI0LnByZXYgPSBfY29udGV4dDI0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvdW5yZWFkJywgdXNlcklEID8ge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0VW5yZWFkQ291bnQoX3gyNSkge1xuICAgICAgICByZXR1cm4gX2dldFVucmVhZENvdW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRVbnJlYWRDb3VudDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiByZW1vdmVEZXZpY2UgLSBSZW1vdmVzIHRoZSBkZXZpY2Ugd2l0aCB0aGUgZ2l2ZW4gaWQuIENsaWVudHNpZGUgdXNlcnMgY2FuIG9ubHkgZGVsZXRlIHRoZWlyIG93biBkZXZpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGRldmljZSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSBUaGUgdXNlciBpZC4gT25seSBzcGVjaWZ5IHRoaXMgZm9yIHNlcnZlcnNpZGUgcmVxdWVzdHNcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlRGV2aWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVtb3ZlRGV2aWNlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KGlkLCB1c2VySUQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArICcvZGV2aWNlcycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgICAgfSwgdXNlcklEID8ge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZURldmljZShfeDI2LCBfeDI3KSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlRGV2aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVEZXZpY2U7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0UmF0ZUxpbWl0cyAtIFJldHVybnMgdGhlIHJhdGUgbGltaXRzIHF1b3RhIGFuZCB1c2FnZSBmb3IgdGhlIGN1cnJlbnQgYXBwLCBwb3NzaWJseSBmaWx0ZXIgZm9yIGEgc3BlY2lmaWMgcGxhdGZvcm0gYW5kL29yIGVuZHBvaW50cy5cbiAgICAgKiBPbmx5IGF2YWlsYWJsZSBzZXJ2ZXItc2lkZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIGZvciB0aGUgY2FsbC4gSWYgbm9uZSBvZiB0aGUgcGFyYW1zIGFyZSBzZXQsIGFsbCBsaW1pdHMgZm9yIGFsbCBwbGF0Zm9ybXMgYXJlIHJldHVybmVkLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEdldFJhdGVMaW1pdHNSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRSYXRlTGltaXRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0UmF0ZUxpbWl0cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNihwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9yZWY3LCBzZXJ2ZXJTaWRlLCB3ZWIsIGFuZHJvaWQsIGlvcywgZW5kcG9pbnRzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI2JChfY29udGV4dDI2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfcmVmNyA9IHBhcmFtcyB8fCB7fSwgc2VydmVyU2lkZSA9IF9yZWY3LnNlcnZlclNpZGUsIHdlYiA9IF9yZWY3LndlYiwgYW5kcm9pZCA9IF9yZWY3LmFuZHJvaWQsIGlvcyA9IF9yZWY3LmlvcywgZW5kcG9pbnRzID0gX3JlZjcuZW5kcG9pbnRzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LmFicnVwdChcInJldHVyblwiLCB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL3JhdGVfbGltaXRzJywge1xuICAgICAgICAgICAgICAgICAgc2VydmVyX3NpZGU6IHNlcnZlclNpZGUsXG4gICAgICAgICAgICAgICAgICB3ZWI6IHdlYixcbiAgICAgICAgICAgICAgICAgIGFuZHJvaWQ6IGFuZHJvaWQsXG4gICAgICAgICAgICAgICAgICBpb3M6IGlvcyxcbiAgICAgICAgICAgICAgICAgIGVuZHBvaW50czogZW5kcG9pbnRzID8gZW5kcG9pbnRzLmpvaW4oJywnKSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRSYXRlTGltaXRzKF94MjgpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRSYXRlTGltaXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRSYXRlTGltaXRzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRDaGFubmVsQ29uZmlnXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRDaGFubmVsQ29uZmlnKF9yZWY4KSB7XG4gICAgICB2YXIgY2lkID0gX3JlZjguY2lkLFxuICAgICAgICAgIGNvbmZpZyA9IF9yZWY4LmNvbmZpZztcbiAgICAgIHRoaXMuY29uZmlnc1tjaWRdID0gY29uZmlnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjaGFubmVsIC0gUmV0dXJucyBhIG5ldyBjaGFubmVsIHdpdGggdGhlIGdpdmVuIHR5cGUsIGlkIGFuZCBjdXN0b20gZGF0YVxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gY3JlYXRlIGEgdW5pcXVlIGNvbnZlcnNhdGlvbiBiZXR3ZWVuIDIgb3IgbW9yZSB1c2VyczsgeW91IGNhbiBsZWF2ZSBvdXQgdGhlIElEIHBhcmFtZXRlciBhbmQgcHJvdmlkZSB0aGUgbGlzdCBvZiBtZW1iZXJzLlxuICAgICAqIE1ha2Ugc3VyZSB0byBhd2FpdCBjaGFubmVsLmNyZWF0ZSgpIG9yIGNoYW5uZWwud2F0Y2goKSBiZWZvcmUgYWNjZXNzaW5nIGNoYW5uZWwgZnVuY3Rpb25zOlxuICAgICAqIGllLiBjaGFubmVsID0gY2xpZW50LmNoYW5uZWwoXCJtZXNzYWdpbmdcIiwge21lbWJlcnM6IFtcInRvbW1hc29cIiwgXCJ0aGllcnJ5XCJdfSlcbiAgICAgKiBhd2FpdCBjaGFubmVsLmNyZWF0ZSgpIHRvIGFzc2lnbiBhbiBJRCB0byBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhbm5lbFR5cGUgVGhlIGNoYW5uZWwgdHlwZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgQ2hhbm5lbERhdGE8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IG51bGx9IFtjaGFubmVsSURPckN1c3RvbV0gICBUaGUgY2hhbm5lbCBJRCwgeW91IGNhbiBsZWF2ZSB0aGlzIG91dCBpZiB5b3Ugd2FudCB0byBjcmVhdGUgYSBjb252ZXJzYXRpb24gY2hhbm5lbFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VzdG9tXSAgICBDdXN0b20gZGF0YSB0byBhdHRhY2ggdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2NoYW5uZWx9IFRoZSBjaGFubmVsIG9iamVjdCwgaW5pdGlhbGl6ZSBpdCB1c2luZyBjaGFubmVsLndhdGNoKClcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbm5lbChjaGFubmVsVHlwZSwgY2hhbm5lbElET3JDdXN0b20pIHtcbiAgICAgIHZhciBfY3VzdG9tJG1lbWJlcnM7XG5cbiAgICAgIHZhciBjdXN0b20gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgICBpZiAoIXRoaXMudXNlcklEICYmICF0aGlzLl9pc1VzaW5nU2VydmVyQXV0aCgpKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYWxsIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIGJlZm9yZSBjcmVhdGluZyBhIGNoYW5uZWwnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKH5jaGFubmVsVHlwZS5pbmRleE9mKCc6JykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNoYW5uZWwgZ3JvdXAgXCIuY29uY2F0KGNoYW5uZWxUeXBlLCBcIiwgY2FuJ3QgY29udGFpbiB0aGUgOiBjaGFyYWN0ZXJcIikpO1xuICAgICAgfSAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwge29wdGlvbnN9KVxuXG5cbiAgICAgIGlmIChjaGFubmVsSURPckN1c3RvbSAmJiBfdHlwZW9mKGNoYW5uZWxJRE9yQ3VzdG9tKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hhbm5lbEJ5TWVtYmVycyhjaGFubmVsVHlwZSwgY2hhbm5lbElET3JDdXN0b20pO1xuICAgICAgfSAvLyAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwgdW5kZWZpbmVkLCB7b3B0aW9uc30pXG5cblxuICAgICAgaWYgKCFjaGFubmVsSURPckN1c3RvbSAmJiBfdHlwZW9mKGN1c3RvbSkgPT09ICdvYmplY3QnICYmIChfY3VzdG9tJG1lbWJlcnMgPSBjdXN0b20ubWVtYmVycykgIT09IG51bGwgJiYgX2N1c3RvbSRtZW1iZXJzICE9PSB2b2lkIDAgJiYgX2N1c3RvbSRtZW1iZXJzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGFubmVsQnlNZW1iZXJzKGNoYW5uZWxUeXBlLCBjdXN0b20pO1xuICAgICAgfSAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwgbnVsbCwge29wdGlvbnN9KVxuICAgICAgLy8gc3VwcG9ydCBjaGFubmVsKFwibWVzc2FnaW5nXCIsIHVuZGVmaW5lZCwge29wdGlvbnN9KVxuICAgICAgLy8gc3VwcG9ydCBjaGFubmVsKFwibWVzc2FnaW5nXCIsIFwiXCIsIHtvcHRpb25zfSlcblxuXG4gICAgICBpZiAoIWNoYW5uZWxJRE9yQ3VzdG9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbm5lbCh0aGlzLCBjaGFubmVsVHlwZSwgdW5kZWZpbmVkLCBjdXN0b20pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5nZXRDaGFubmVsQnlJZChjaGFubmVsVHlwZSwgY2hhbm5lbElET3JDdXN0b20sIGN1c3RvbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0J3MgYSBoZWxwZXIgbWV0aG9kIGZvciBgY2xpZW50LmNoYW5uZWwoKWAgbWV0aG9kLCB1c2VkIHRvIGNyZWF0ZSB1bmlxdWUgY29udmVyc2F0aW9uIG9yXG4gICAgICogY2hhbm5lbCBiYXNlZCBvbiBtZW1iZXIgbGlzdCBpbnN0ZWFkIG9mIGlkLlxuICAgICAqXG4gICAgICogSWYgdGhlIGNoYW5uZWwgYWxyZWFkeSBleGlzdHMgaW4gYGFjdGl2ZUNoYW5uZWxzYCBsaXN0LCB0aGVuIHdlIHNpbXBseSByZXR1cm4gaXQsIHNpbmNlIHRoYXRcbiAgICAgKiBtZWFucyB0aGUgc2FtZSBjaGFubmVsIHdhcyBhbHJlYWR5IHJlcXVlc3RlZCBvciBjcmVhdGVkLlxuICAgICAqXG4gICAgICogT3RoZXJ3aXNlIHdlIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBDaGFubmVsIGNsYXNzIGFuZCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxUeXBlIFRoZSBjaGFubmVsIHR5cGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1c3RvbV0gICAgQ3VzdG9tIGRhdGEgdG8gYXR0YWNoIHRvIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtjaGFubmVsfSBUaGUgY2hhbm5lbCBvYmplY3QsIGluaXRpYWxpemUgaXQgdXNpbmcgY2hhbm5lbC53YXRjaCgpXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJ0aWFsVXBkYXRlVXNlclwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHBhcnRpYWxVcGRhdGVVc2VyIC0gVXBkYXRlIHRoZSBnaXZlbiB1c2VyIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsVXNlclVwZGF0ZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBwYXJ0aWFsVXNlck9iamVjdCB3aGljaCBzaG91bGQgY29udGFpbiBpZCBhbmQgYW55IG9mIFwic2V0XCIgb3IgXCJ1bnNldFwiIHBhcmFtcztcbiAgICAgKiBleGFtcGxlOiB7aWQ6IFwidXNlcjFcIiwgc2V0OntmaWVsZDogdmFsdWV9LCB1bnNldDpbXCJmaWVsZDJcIl19XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn0gbGlzdCBvZiB1cGRhdGVkIHVzZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9wYXJ0aWFsVXBkYXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNyhwYXJ0aWFsVXNlck9iamVjdCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWFsVXBkYXRlVXNlcnMoW3BhcnRpYWxVc2VyT2JqZWN0XSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnRpYWxVcGRhdGVVc2VyKF94MjkpIHtcbiAgICAgICAgcmV0dXJuIF9wYXJ0aWFsVXBkYXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbFVwZGF0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdXBzZXJ0VXNlcnMgLSBCYXRjaCB1cHNlcnQgdGhlIGxpc3Qgb2YgdXNlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz5bXX0gdXNlcnMgbGlzdCBvZiB1c2Vyc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IHVzZXJzOiB7IFtrZXk6IHN0cmluZ106IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IH0gfT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cHNlcnRVc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Vwc2VydFVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI4KHVzZXJzKSB7XG4gICAgICAgIHZhciB1c2VyTWFwLCBfaXRlcmF0b3I0LCBfc3RlcDQsIHVzZXJPYmplY3Q7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0MjgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI4LnByZXYgPSBfY29udGV4dDI4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVzZXJNYXAgPSB7fTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodXNlcnMpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjgucHJldiA9IDI7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnMoKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKChfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1c2VyT2JqZWN0ID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJPYmplY3QuaWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCB3aGVuIHVwZGF0aW5nIGEgdXNlcicpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICB1c2VyTWFwW3VzZXJPYmplY3QuaWRdID0gdXNlck9iamVjdDtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDE2O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5wcmV2ID0gMTM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC50MCA9IF9jb250ZXh0MjhbXCJjYXRjaFwiXSgyKTtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShfY29udGV4dDI4LnQwKTtcblxuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjgucHJldiA9IDE2O1xuXG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5maW5pc2goMTYpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL3VzZXJzJywge1xuICAgICAgICAgICAgICAgICAgdXNlcnM6IHVzZXJNYXBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjgsIHRoaXMsIFtbMiwgMTMsIDE2LCAxOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBzZXJ0VXNlcnMoX3gzMCkge1xuICAgICAgICByZXR1cm4gX3Vwc2VydFVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cHNlcnRVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHVwc2VydFVzZXJzKCkgZnVuY3Rpb24gaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIHVwZGF0ZVVzZXJzIC0gQmF0Y2ggdXBkYXRlIHRoZSBsaXN0IG9mIHVzZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1VzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+W119IHVzZXJzIGxpc3Qgb2YgdXNlcnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwc2VydFVzZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiB1cHNlcnRVc2VyIC0gVXBkYXRlIG9yIENyZWF0ZSB0aGUgZ2l2ZW4gdXNlciBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHVzZXJPYmplY3QgdXNlciBvYmplY3QsIHRoZSBvbmx5IHJlcXVpcmVkIGZpZWxkIGlzIHRoZSB1c2VyIGlkLiBJRSB7aWQ6IFwibXl1c2VyXCJ9IGlzIHZhbGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cHNlcnRVc2VyKHVzZXJPYmplY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwc2VydFVzZXJzKFt1c2VyT2JqZWN0XSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgdXBzZXJ0VXNlcigpIGZ1bmN0aW9uIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiB1cGRhdGVVc2VyIC0gVXBkYXRlIG9yIENyZWF0ZSB0aGUgZ2l2ZW4gdXNlciBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHVzZXJPYmplY3QgdXNlciBvYmplY3QsIHRoZSBvbmx5IHJlcXVpcmVkIGZpZWxkIGlzIHRoZSB1c2VyIGlkLiBJRSB7aWQ6IFwibXl1c2VyXCJ9IGlzIHZhbGlkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IHVzZXJzOiB7IFtrZXk6IHN0cmluZ106IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IH0gfT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJ0aWFsVXBkYXRlVXNlcnNcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBwYXJ0aWFsVXBkYXRlVXNlcnMgLSBCYXRjaCBwYXJ0aWFsIHVwZGF0ZSBvZiB1c2Vyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsVXNlclVwZGF0ZTxTdHJlYW1DaGF0R2VuZXJpY3M+W119IHVzZXJzIGxpc3Qgb2YgcGFydGlhbCB1cGRhdGUgcmVxdWVzdHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8eyB1c2VyczogeyBba2V5OiBzdHJpbmddOiBVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiB9IH0+fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcGFydGlhbFVwZGF0ZVVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KHVzZXJzKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3I1LCBfc3RlcDUsIHVzZXJPYmplY3Q7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI5LnByZXYgPSBfY29udGV4dDI5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih1c2Vycyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS5wcmV2ID0gMTtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucygpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdXNlck9iamVjdCA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmICh1c2VyT2JqZWN0LmlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1VzZXIgSUQgaXMgcmVxdWlyZWQgd2hlbiB1cGRhdGluZyBhIHVzZXInKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5LnByZXYgPSAxMTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5LnQwID0gX2NvbnRleHQyOVtcImNhdGNoXCJdKDEpO1xuXG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5lKF9jb250ZXh0MjkudDApO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS5wcmV2ID0gMTQ7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LmZpbmlzaCgxNCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxOTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRjaCh0aGlzLmJhc2VVUkwgKyAnL3VzZXJzJywge1xuICAgICAgICAgICAgICAgICAgdXNlcnM6IHVzZXJzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyOS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI5LCB0aGlzLCBbWzEsIDExLCAxNCwgMTddXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnRpYWxVcGRhdGVVc2VycyhfeDMxKSB7XG4gICAgICAgIHJldHVybiBfcGFydGlhbFVwZGF0ZVVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJ0aWFsVXBkYXRlVXNlcnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlVXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzAodXNlcklELCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMwLnByZXYgPSBfY29udGV4dDMwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL3VzZXJzL1wiLmNvbmNhdCh1c2VySUQpLCBwYXJhbXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVVc2VyKF94MzIsIF94MzMpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVVc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlc3RvcmVVc2VycyAtIFJlc3RvcmUgc29mdCBkZWxldGVkIHVzZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1c2VyX2lkcyB3aGljaCB1c2VycyB0byByZXN0b3JlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZX0gQW4gQVBJIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXN0b3JlVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXN0b3JlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzEodXNlcl9pZHMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzEkKF9jb250ZXh0MzEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMxLnByZXYgPSBfY29udGV4dDMxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9yZXN0b3JlXCIsIHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWRzOiB1c2VyX2lkc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXN0b3JlVXNlcnMoX3gzNCkge1xuICAgICAgICByZXR1cm4gX3Jlc3RvcmVVc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdG9yZVVzZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlYWN0aXZhdGVVc2VyIC0gUmVhY3RpdmF0ZSBvbmUgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCB3aGljaCB1c2VyIHRvIHJlYWN0aXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlYWN0aXZhdGVVc2VyT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtVc2VyUmVzcG9uc2V9IFJlYWN0aXZhdGVkIHVzZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlYWN0aXZhdGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVhY3RpdmF0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzIodXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMyJChfY29udGV4dDMyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMi5wcmV2ID0gX2NvbnRleHQzMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvXCIuY29uY2F0KHVzZXJJRCwgXCIvcmVhY3RpdmF0ZVwiKSwgX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZWFjdGl2YXRlVXNlcihfeDM1LCBfeDM2KSB7XG4gICAgICAgIHJldHVybiBfcmVhY3RpdmF0ZVVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlYWN0aXZhdGVVc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlYWN0aXZhdGVVc2VycyAtIFJlYWN0aXZhdGUgbWFueSB1c2VycyBhc3luY2hyb25vdXNseVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gdXNlcl9pZHMgd2hpY2ggdXNlcnMgdG8gcmVhY3RpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVhY3RpdmF0ZVVzZXJzT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUYXNrUmVzcG9uc2V9IEEgdGFzayBJRFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVhY3RpdmF0ZVVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVhY3RpdmF0ZVVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMzKHVzZXJfaWRzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMzJChfY29udGV4dDMzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMy5wcmV2ID0gX2NvbnRleHQzMy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvcmVhY3RpdmF0ZVwiLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWRzOiB1c2VyX2lkc1xuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVhY3RpdmF0ZVVzZXJzKF94MzcsIF94MzgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdGl2YXRlVXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlYWN0aXZhdGVVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWFjdGl2YXRlVXNlciAtIERlYWN0aXZhdGUgb25lIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySUQgd2hpY2ggdXNlciB0byBkZWFjdGl2YXRlXG4gICAgICogQHBhcmFtIHtEZWFjdGl2YXRlVXNlcnNPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1VzZXJSZXNwb25zZX0gRGVhY3RpdmF0ZWQgdXNlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVhY3RpdmF0ZVVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWFjdGl2YXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNCh1c2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzQkKF9jb250ZXh0MzQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM0LnByZXYgPSBfY29udGV4dDM0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9cIi5jb25jYXQodXNlcklELCBcIi9kZWFjdGl2YXRlXCIpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlYWN0aXZhdGVVc2VyKF94MzksIF94NDApIHtcbiAgICAgICAgcmV0dXJuIF9kZWFjdGl2YXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVhY3RpdmF0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVhY3RpdmF0ZVVzZXJzIC0gRGVhY3RpdmF0ZSBtYW55IHVzZXJzIGFzeW5jaHJvbm91c2x5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1c2VyX2lkcyB3aGljaCB1c2VycyB0byBkZWFjdGl2YXRlXG4gICAgICogQHBhcmFtIHtEZWFjdGl2YXRlVXNlcnNPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Rhc2tSZXNwb25zZX0gQSB0YXNrIElEXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWFjdGl2YXRlVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWFjdGl2YXRlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzUodXNlcl9pZHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzUkKF9jb250ZXh0MzUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM1LnByZXYgPSBfY29udGV4dDM1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9kZWFjdGl2YXRlXCIsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZHM6IHVzZXJfaWRzXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzNS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWFjdGl2YXRlVXNlcnMoX3g0MSwgX3g0Mikge1xuICAgICAgICByZXR1cm4gX2RlYWN0aXZhdGVVc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVhY3RpdmF0ZVVzZXJzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImV4cG9ydFVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9leHBvcnRVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM2KHVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNiQoX2NvbnRleHQzNikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzYucHJldiA9IF9jb250ZXh0MzYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvXCIuY29uY2F0KHVzZXJJRCwgXCIvZXhwb3J0XCIpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGV4cG9ydFVzZXIoX3g0MywgX3g0NCkge1xuICAgICAgICByZXR1cm4gX2V4cG9ydFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV4cG9ydFVzZXI7XG4gICAgfSgpXG4gICAgLyoqIGJhblVzZXIgLSBiYW5zIGEgdXNlciBmcm9tIGFsbCBjaGFubmVsc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7QmFuVXNlck9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYmFuVXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2JhblVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzcodGFyZ2V0VXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM3JChfY29udGV4dDM3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNy5wcmV2ID0gX2NvbnRleHQzNy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDM3Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL2JhbicsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHRhcmdldFVzZXJJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzcuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYmFuVXNlcihfeDQ1LCBfeDQ2KSB7XG4gICAgICAgIHJldHVybiBfYmFuVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFuVXNlcjtcbiAgICB9KClcbiAgICAvKiogdW5iYW5Vc2VyIC0gcmV2b2tlIGdsb2JhbCBiYW4gZm9yIGEgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7VW5CYW5Vc2VyT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5iYW5Vc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdW5iYW5Vc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM4KHRhcmdldFVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOCQoX2NvbnRleHQzOCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzgucHJldiA9IF9jb250ZXh0MzgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzOC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL2JhbicsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHRhcmdldFVzZXJJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5iYW5Vc2VyKF94NDcsIF94NDgpIHtcbiAgICAgICAgcmV0dXJuIF91bmJhblVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmFuVXNlcjtcbiAgICB9KClcbiAgICAvKiogc2hhZG93QmFuIC0gc2hhZG93IGJhbnMgYSB1c2VyIGZyb20gYWxsIGNoYW5uZWxzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHBhcmFtIHtCYW5Vc2VyT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzaGFkb3dCYW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zaGFkb3dCYW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzkodGFyZ2V0VXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM5JChfY29udGV4dDM5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzOS5wcmV2ID0gX2NvbnRleHQzOS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDM5Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJhblVzZXIodGFyZ2V0VXNlcklELCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHNoYWRvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2hhZG93QmFuKF94NDksIF94NTApIHtcbiAgICAgICAgcmV0dXJuIF9zaGFkb3dCYW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNoYWRvd0JhbjtcbiAgICB9KClcbiAgICAvKiogcmVtb3ZlU2hhZG93QmFuIC0gcmV2b2tlIGdsb2JhbCBzaGFkb3cgYmFuIGZvciBhIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcGFyYW0ge1VuQmFuVXNlck9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVNoYWRvd0JhblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlbW92ZVNoYWRvd0JhbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0MCh0YXJnZXRVc2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDAkKF9jb250ZXh0NDApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQwLnByZXYgPSBfY29udGV4dDQwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NDAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5iYW5Vc2VyKHRhcmdldFVzZXJJRCwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBzaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQwLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQwLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0MCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVNoYWRvd0JhbihfeDUxLCBfeDUyKSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlU2hhZG93QmFuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVTaGFkb3dCYW47XG4gICAgfSgpXG4gICAgLyoqIG11dGVVc2VyIC0gbXV0ZXMgYSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0SURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gT25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHBhcmFtIHtNdXRlVXNlck9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8TXV0ZVVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm11dGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbXV0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDEodGFyZ2V0SUQsIHVzZXJJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDEgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQxJChfY29udGV4dDQxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0MS5wcmV2ID0gX2NvbnRleHQ0MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0MS5sZW5ndGggPiAyICYmIF9hcmdzNDFbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDFbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL211dGUnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X2lkOiB0YXJnZXRJRFxuICAgICAgICAgICAgICAgIH0sIHVzZXJJRCA/IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRFxuICAgICAgICAgICAgICAgIH0gOiB7fSksIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQxLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbXV0ZVVzZXIoX3g1MywgX3g1NCkge1xuICAgICAgICByZXR1cm4gX211dGVVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtdXRlVXNlcjtcbiAgICB9KClcbiAgICAvKiogdW5tdXRlVXNlciAtIHVubXV0ZXMgYSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0SURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2N1cnJlbnRVc2VySURdIE9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVubXV0ZVVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bm11dGVVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQyKHRhcmdldElELCBjdXJyZW50VXNlcklEKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQyJChfY29udGV4dDQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0Mi5wcmV2ID0gX2NvbnRleHQ0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VubXV0ZScsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X2lkOiB0YXJnZXRJRFxuICAgICAgICAgICAgICAgIH0sIGN1cnJlbnRVc2VySUQgPyB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiBjdXJyZW50VXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQyLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0MiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVubXV0ZVVzZXIoX3g1NSwgX3g1Nikge1xuICAgICAgICByZXR1cm4gX3VubXV0ZVVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVubXV0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqIHVzZXJNdXRlU3RhdHVzIC0gY2hlY2sgaWYgYSB1c2VyIGlzIG11dGVkIG9yIG5vdCwgY2FuIGJlIHVzZWQgYWZ0ZXIgY29ubmVjdFVzZXIoKSBpcyBjYWxsZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRJRFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXNlck11dGVTdGF0dXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlck11dGVTdGF0dXModGFyZ2V0SUQpIHtcbiAgICAgIGlmICghdGhpcy51c2VyIHx8ICF0aGlzLndzUHJvbWlzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ha2Ugc3VyZSB0byBhd2FpdCBjb25uZWN0VXNlcigpIGZpcnN0LicpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubXV0ZWRVc2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAodGhpcy5tdXRlZFVzZXJzW2ldLnRhcmdldC5pZCA9PT0gdGFyZ2V0SUQpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGZsYWdNZXNzYWdlIC0gZmxhZyBhIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0TWVzc2FnZUlEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZsYWdNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmxhZ01lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDModGFyZ2V0TWVzc2FnZUlEKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M0MyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDMkKF9jb250ZXh0NDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQzLnByZXYgPSBfY29udGV4dDQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQzLmxlbmd0aCA+IDEgJiYgX2FyZ3M0M1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0M1sxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NDMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vZmxhZycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X21lc3NhZ2VfaWQ6IHRhcmdldE1lc3NhZ2VJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZmxhZ01lc3NhZ2UoX3g1Nykge1xuICAgICAgICByZXR1cm4gX2ZsYWdNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbGFnTWVzc2FnZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBmbGFnVXNlciAtIGZsYWcgYSB1c2VyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZsYWdVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmxhZ1VzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDQodGFyZ2V0SUQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQ0ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NCQoX2NvbnRleHQ0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDQucHJldiA9IF9jb250ZXh0NDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDQubGVuZ3RoID4gMSAmJiBfYXJnczQ0WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ0WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0NC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvbW9kZXJhdGlvbi9mbGFnJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogdGFyZ2V0SURcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0NCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZsYWdVc2VyKF94NTgpIHtcbiAgICAgICAgcmV0dXJuIF9mbGFnVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmxhZ1VzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdW5mbGFnTWVzc2FnZSAtIHVuZmxhZyBhIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0TWVzc2FnZUlEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVuZmxhZ01lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bmZsYWdNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ1KHRhcmdldE1lc3NhZ2VJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDUgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ1JChfY29udGV4dDQ1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0NS5wcmV2ID0gX2NvbnRleHQ0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0NS5sZW5ndGggPiAxICYmIF9hcmdzNDVbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDVbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQ1Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VuZmxhZycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X21lc3NhZ2VfaWQ6IHRhcmdldE1lc3NhZ2VJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQ1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5mbGFnTWVzc2FnZShfeDU5KSB7XG4gICAgICAgIHJldHVybiBfdW5mbGFnTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5mbGFnTWVzc2FnZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1bmZsYWdVc2VyIC0gdW5mbGFnIGEgdXNlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51c2VyX2lkXSBjdXJyZW50VXNlcklELCBvbmx5IHVzZWQgd2l0aCBzZXJ2ZXJzaWRlIGF1dGhcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmZsYWdVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdW5mbGFnVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0Nih0YXJnZXRJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDYgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ2JChfY29udGV4dDQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0Ni5wcmV2ID0gX2NvbnRleHQ0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0Ni5sZW5ndGggPiAxICYmIF9hcmdzNDZbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDZbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQ2Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VuZmxhZycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHRhcmdldElEXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ0Ni5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNDYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1bmZsYWdVc2VyKF94NjApIHtcbiAgICAgICAgcmV0dXJuIF91bmZsYWdVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmZsYWdVc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldENhbGxUb2tlbiAtIHJldHJpZXZlcyB0aGUgYXV0aCB0b2tlbiBuZWVkZWQgdG8gam9pbiBhIGNhbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSURcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEdldENhbGxUb2tlblJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldENhbGxUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldENhbGxUb2tlbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0NyhjYWxsSUQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQ3ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NyQoX2NvbnRleHQ0Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDcucHJldiA9IF9jb250ZXh0NDcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDcubGVuZ3RoID4gMSAmJiBfYXJnczQ3WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ3WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Ny5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NhbGxzL1wiLmNvbmNhdChjYWxsSUQpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0NywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldENhbGxUb2tlbihfeDYxKSB7XG4gICAgICAgIHJldHVybiBfZ2V0Q2FsbFRva2VuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRDYWxsVG9rZW47XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX3F1ZXJ5RmxhZ3MgLSBRdWVyeSBmbGFncy5cbiAgICAgKlxuICAgICAqIE5vdGU6IERvIG5vdCB1c2UgdGhpcy5cbiAgICAgKiBJdCBpcyBwcmVzZW50IGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuLCBhbmQgd2lsbCwgYnJlYWsgYW5kL29yIGJlIHJlbW92ZWQgYXQgYW55IHBvaW50IGluIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RmxhZ3NGaWx0ZXJzfSBmaWx0ZXJDb25kaXRpb25zIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ZsYWdzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge2xpbWl0OiAxMCwgb2Zmc2V0OjB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEZsYWdzUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEZsYWdzIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcXVlcnlGbGFnc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5RmxhZ3MyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ4KCkge1xuICAgICAgICB2YXIgZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQ4ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0OCQoX2NvbnRleHQ0OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDgucHJldiA9IF9jb250ZXh0NDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZmlsdGVyQ29uZGl0aW9ucyA9IF9hcmdzNDgubGVuZ3RoID4gMCAmJiBfYXJnczQ4WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ4WzBdIDoge307XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDgubGVuZ3RoID4gMSAmJiBfYXJnczQ4WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ4WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0OC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvbW9kZXJhdGlvbi9mbGFncycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0OCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9xdWVyeUZsYWdzKCkge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5RmxhZ3MyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcXVlcnlGbGFncztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfcXVlcnlGbGFnUmVwb3J0cyAtIFF1ZXJ5IGZsYWcgcmVwb3J0cy5cbiAgICAgKlxuICAgICAqIE5vdGU6IERvIG5vdCB1c2UgdGhpcy5cbiAgICAgKiBJdCBpcyBwcmVzZW50IGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuLCBhbmQgd2lsbCwgYnJlYWsgYW5kL29yIGJlIHJlbW92ZWQgYXQgYW55IHBvaW50IGluIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RmxhZ1JlcG9ydHNGaWx0ZXJzfSBmaWx0ZXJDb25kaXRpb25zIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ZsYWdSZXBvcnRzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge2xpbWl0OiAxMCwgb2Zmc2V0OjB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEZsYWdSZXBvcnRzUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEZsYWcgUmVwb3J0cyBSZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3F1ZXJ5RmxhZ1JlcG9ydHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeUZsYWdSZXBvcnRzMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0OSgpIHtcbiAgICAgICAgdmFyIGZpbHRlckNvbmRpdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M0OSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDkkKF9jb250ZXh0NDkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQ5LnByZXYgPSBfY29udGV4dDQ5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGZpbHRlckNvbmRpdGlvbnMgPSBfYXJnczQ5Lmxlbmd0aCA+IDAgJiYgX2FyZ3M0OVswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0OVswXSA6IHt9O1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQ5Lmxlbmd0aCA+IDEgJiYgX2FyZ3M0OVsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0OVsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NDkubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vcmVwb3J0cycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0OSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9xdWVyeUZsYWdSZXBvcnRzKCkge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5RmxhZ1JlcG9ydHMyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcXVlcnlGbGFnUmVwb3J0cztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfcmV2aWV3RmxhZ1JlcG9ydCAtIHJldmlldyBmbGFnIHJlcG9ydFxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtpZF0gZmxhZyByZXBvcnQgdG8gcmV2aWV3XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXZpZXdSZXN1bHRdIGZsYWcgcmVwb3J0IHJldmlldyByZXN1bHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudXNlcl9pZF0gY3VycmVudFVzZXJJRCwgb25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnJldmlld19kZXRhaWxzXSBjdXN0b20gaW5mb3JtYXRpb24gYWJvdXQgcmV2aWV3IHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJldmlld0ZsYWdSZXBvcnRSZXNwb25zZT4+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Jldmlld0ZsYWdSZXBvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXZpZXdGbGFnUmVwb3J0MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1MChpZCwgcmV2aWV3UmVzdWx0KSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M1MCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTAkKF9jb250ZXh0NTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUwLnByZXYgPSBfY29udGV4dDUwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczUwLmxlbmd0aCA+IDIgJiYgX2FyZ3M1MFsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1MFsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NTAubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0Y2godGhpcy5iYXNlVVJMICsgXCIvbW9kZXJhdGlvbi9yZXBvcnRzL1wiLmNvbmNhdChpZCksIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgcmV2aWV3X3Jlc3VsdDogcmV2aWV3UmVzdWx0XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1MC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfcmV2aWV3RmxhZ1JlcG9ydChfeDYyLCBfeDYzKSB7XG4gICAgICAgIHJldHVybiBfcmV2aWV3RmxhZ1JlcG9ydDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZXZpZXdGbGFnUmVwb3J0O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVuYmxvY2tNZXNzYWdlIC0gdW5ibG9ja3MgbWVzc2FnZSBibG9ja2VkIGJ5IGF1dG9tb2RcbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldE1lc3NhZ2VJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51c2VyX2lkXSBjdXJyZW50VXNlcklELCBvbmx5IHVzZWQgd2l0aCBzZXJ2ZXJzaWRlIGF1dGhcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJsb2NrTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VuYmxvY2tNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUxKHRhcmdldE1lc3NhZ2VJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNTEgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUxJChfY29udGV4dDUxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1MS5wcmV2ID0gX2NvbnRleHQ1MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M1MS5sZW5ndGggPiAxICYmIF9hcmdzNTFbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNTFbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VuYmxvY2tfbWVzc2FnZScsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X21lc3NhZ2VfaWQ6IHRhcmdldE1lc3NhZ2VJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NTEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUxLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5ibG9ja01lc3NhZ2UoX3g2NCkge1xuICAgICAgICByZXR1cm4gX3VuYmxvY2tNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrTWVzc2FnZTtcbiAgICB9KCkgLy8gYWxpYXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cbiAgfSwge1xuICAgIGtleTogXCJtYXJrQ2hhbm5lbHNSZWFkXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogbWFya0NoYW5uZWxzUmVhZCAtIG1hcmtzIGNoYW5uZWxzIHJlYWQgLVxuICAgICAqIGl0IGFjY2VwdHMgYSBtYXAgb2YgY2lkOm1lc3NhZ2VpZCBwYWlycywgaWYgbWVzc2FnZWlkIGlzIGVtcHR5LCB0aGUgd2hvbGUgY2hhbm5lbCB3aWxsIGJlIG1hcmtlZCBhcyByZWFkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hcmtDaGFubmVsc1JlYWRPcHRpb25zIDxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbZGF0YV1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbWFya0NoYW5uZWxzUmVhZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1MigpIHtcbiAgICAgICAgdmFyIGRhdGEsXG4gICAgICAgICAgICBfYXJnczUyID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1MiQoX2NvbnRleHQ1Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTIucHJldiA9IF9jb250ZXh0NTIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzNTIubGVuZ3RoID4gMCAmJiBfYXJnczUyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczUyWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvY2hhbm5lbHMvcmVhZCcsIF9vYmplY3RTcHJlYWQoe30sIGRhdGEpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBtYXJrQ2hhbm5lbHNSZWFkKCkge1xuICAgICAgICByZXR1cm4gX21hcmtDaGFubmVsc1JlYWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcmtDaGFubmVsc1JlYWQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQ29tbWFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDb21tYW5kKGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jb21tYW5kcycsIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb21tYW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbW1hbmQobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL2NvbW1hbmRzL1wiLmNvbmNhdChuYW1lKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNvbW1hbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ29tbWFuZChuYW1lLCBkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXQodGhpcy5iYXNlVVJMICsgXCIvY29tbWFuZHMvXCIuY29uY2F0KG5hbWUpLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQ29tbWFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVDb21tYW5kKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9jb21tYW5kcy9cIi5jb25jYXQobmFtZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsaXN0Q29tbWFuZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdENvbW1hbmRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL2NvbW1hbmRzXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVDaGFubmVsVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDaGFubmVsVHlwZShkYXRhKSB7XG4gICAgICB2YXIgY2hhbm5lbERhdGEgPSBfZXh0ZW5kcyh7fSwge1xuICAgICAgICBjb21tYW5kczogWydhbGwnXVxuICAgICAgfSwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jaGFubmVsdHlwZXMnLCBjaGFubmVsRGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENoYW5uZWxUeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoYW5uZWxUeXBlKGNoYW5uZWxUeXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvY2hhbm5lbHR5cGVzL1wiLmNvbmNhdChjaGFubmVsVHlwZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVDaGFubmVsVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDaGFubmVsVHlwZShjaGFubmVsVHlwZSwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMucHV0KHRoaXMuYmFzZVVSTCArIFwiL2NoYW5uZWx0eXBlcy9cIi5jb25jYXQoY2hhbm5lbFR5cGUpLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQ2hhbm5lbFR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlQ2hhbm5lbFR5cGUoY2hhbm5lbFR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9jaGFubmVsdHlwZXMvXCIuY29uY2F0KGNoYW5uZWxUeXBlKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxpc3RDaGFubmVsVHlwZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdENoYW5uZWxUeXBlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9jaGFubmVsdHlwZXNcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHRyYW5zbGF0ZU1lc3NhZ2UgLSBhZGRzIHRoZSB0cmFuc2xhdGlvbiB0byB0aGUgbWVzc2FnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZVxuICAgICAqXG4gICAgICogQHJldHVybiB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IFJlc3BvbnNlIHRoYXQgaW5jbHVkZXMgdGhlIG1lc3NhZ2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRyYW5zbGF0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90cmFuc2xhdGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUzKG1lc3NhZ2VJZCwgbGFuZ3VhZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTMkKF9jb250ZXh0NTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUzLnByZXYgPSBfY29udGV4dDUzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQobWVzc2FnZUlkLCBcIi90cmFuc2xhdGVcIiksIHtcbiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1My5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1My5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0cmFuc2xhdGVNZXNzYWdlKF94NjUsIF94NjYpIHtcbiAgICAgICAgcmV0dXJuIF90cmFuc2xhdGVNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFuc2xhdGVNZXNzYWdlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9ub3JtYWxpemVFeHBpcmF0aW9uIC0gdHJhbnNmb3JtcyBleHBpcmF0aW9uIHZhbHVlIGludG8gSVNPIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7dW5kZWZpbmVkfG51bGx8bnVtYmVyfHN0cmluZ3xEYXRlfSB0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZSBleHBpcmF0aW9uIGRhdGUgb3IgdGltZW91dC4gVXNlIG51bWJlciB0eXBlIHRvIHNldCB0aW1lb3V0IGluIHNlY29uZHMsIHN0cmluZyBvciBEYXRlIHRvIHNldCBleGFjdCBleHBpcmF0aW9uIGRhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9ub3JtYWxpemVFeHBpcmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9ub3JtYWxpemVFeHBpcmF0aW9uKHRpbWVvdXRPckV4cGlyYXRpb25EYXRlKSB7XG4gICAgICB2YXIgcGluRXhwaXJlcyA9IG51bGw7XG5cbiAgICAgIGlmICh0eXBlb2YgdGltZW91dE9yRXhwaXJhdGlvbkRhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBub3cuc2V0U2Vjb25kcyhub3cuZ2V0U2Vjb25kcygpICsgdGltZW91dE9yRXhwaXJhdGlvbkRhdGUpO1xuICAgICAgICBwaW5FeHBpcmVzID0gbm93LnRvSVNPU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKHRpbWVvdXRPckV4cGlyYXRpb25EYXRlKSkge1xuICAgICAgICBwaW5FeHBpcmVzID0gdGltZW91dE9yRXhwaXJhdGlvbkRhdGU7XG4gICAgICB9IGVsc2UgaWYgKHRpbWVvdXRPckV4cGlyYXRpb25EYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBwaW5FeHBpcmVzID0gdGltZW91dE9yRXhwaXJhdGlvbkRhdGUudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBpbkV4cGlyZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9tZXNzYWdlSWQgLSBleHRyYWN0cyBzdHJpbmcgbWVzc2FnZSBpZCBmcm9tIGVpdGhlciBtZXNzYWdlIG9iamVjdCBvciBtZXNzYWdlIGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB7IGlkOiBzdHJpbmcgfX0gbWVzc2FnZU9yTWVzc2FnZUlkIG1lc3NhZ2Ugb2JqZWN0IG9yIG1lc3NhZ2UgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXJyb3JUZXh0IGVycm9yIG1lc3NhZ2UgdG8gcmVwb3J0IGluIGNhc2Ugb2YgbWVzc2FnZSBpZCBhYnNlbmNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfdmFsaWRhdGVBbmRHZXRNZXNzYWdlSWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3ZhbGlkYXRlQW5kR2V0TWVzc2FnZUlkKG1lc3NhZ2VPck1lc3NhZ2VJZCwgZXJyb3JUZXh0KSB7XG4gICAgICB2YXIgbWVzc2FnZUlkO1xuXG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2VPck1lc3NhZ2VJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbWVzc2FnZUlkID0gbWVzc2FnZU9yTWVzc2FnZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlT3JNZXNzYWdlSWQuaWQpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihlcnJvclRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzc2FnZUlkID0gbWVzc2FnZU9yTWVzc2FnZUlkLmlkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVzc2FnZUlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBwaW5NZXNzYWdlIC0gcGlucyB0aGUgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IG1lc3NhZ2VPck1lc3NhZ2VJZCBtZXNzYWdlIG9iamVjdCBvciBtZXNzYWdlIGlkXG4gICAgICogQHBhcmFtIHt1bmRlZmluZWR8bnVsbHxudW1iZXJ8c3RyaW5nfERhdGV9IHRpbWVvdXRPckV4cGlyYXRpb25EYXRlIGV4cGlyYXRpb24gZGF0ZSBvciB0aW1lb3V0LiBVc2UgbnVtYmVyIHR5cGUgdG8gc2V0IHRpbWVvdXQgaW4gc2Vjb25kcywgc3RyaW5nIG9yIERhdGUgdG8gc2V0IGV4YWN0IGV4cGlyYXRpb24gZGF0ZVxuICAgICAqIEBwYXJhbSB7dW5kZWZpbmVkfHN0cmluZyB8IHsgaWQ6IHN0cmluZyB9fSBbcGlubmVkQnldIHdobyB3aWxsIGFwcGVhciBhcyBhIHVzZXIgd2hvIHBpbm5lZCBhIG1lc3NhZ2UuIE9ubHkgZm9yIHNlcnZlci1zaWRlIHVzZS4gUHJvdmlkZSBgdW5kZWZpbmVkYCB3aGVuIHBpbm5pbmcgbWVzc2FnZSBjbGllbnQtc2lkZVxuICAgICAqIEBwYXJhbSB7dW5kZWZpbmVkfG51bWJlcnxzdHJpbmd8RGF0ZX0gcGlubmVkQXQgZGF0ZSB3aGVuIG1lc3NhZ2Ugc2hvdWxkIGJlIHBpbm5lZC4gSXQgYWZmZWN0cyB0aGUgb3JkZXIgb2YgcGlubmVkIG1lc3NhZ2VzLiBVc2UgbmVnYXRpdmUgbnVtYmVyIHRvIHNldCByZWxhdGl2ZSB0aW1lIGluIHRoZSBwYXN0LCBzdHJpbmcgb3IgRGF0ZSB0byBzZXQgZXhhY3QgZGF0ZSBvZiBwaW5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBpbk1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGluTWVzc2FnZShtZXNzYWdlT3JNZXNzYWdlSWQsIHRpbWVvdXRPckV4cGlyYXRpb25EYXRlLCBwaW5uZWRCeSwgcGlubmVkQXQpIHtcbiAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLl92YWxpZGF0ZUFuZEdldE1lc3NhZ2VJZChtZXNzYWdlT3JNZXNzYWdlSWQsICdQbGVhc2Ugc3BlY2lmeSB0aGUgbWVzc2FnZSBpZCB3aGVuIGNhbGxpbmcgdW5waW5NZXNzYWdlJyk7XG5cbiAgICAgIHJldHVybiB0aGlzLnBhcnRpYWxVcGRhdGVNZXNzYWdlKG1lc3NhZ2VJZCwge1xuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICBwaW5uZWQ6IHRydWUsXG4gICAgICAgICAgcGluX2V4cGlyZXM6IHRoaXMuX25vcm1hbGl6ZUV4cGlyYXRpb24odGltZW91dE9yRXhwaXJhdGlvbkRhdGUpLFxuICAgICAgICAgIHBpbm5lZF9hdDogdGhpcy5fbm9ybWFsaXplRXhwaXJhdGlvbihwaW5uZWRBdClcbiAgICAgICAgfVxuICAgICAgfSwgcGlubmVkQnkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1bnBpbk1lc3NhZ2UgLSB1bnBpbnMgdGhlIG1lc3NhZ2UgdGhhdCB3YXMgcHJldmlvdXNseSBwaW5uZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHsgaWQ6IHN0cmluZyB9fSBtZXNzYWdlT3JNZXNzYWdlSWQgbWVzc2FnZSBvYmplY3Qgb3IgbWVzc2FnZSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IFt1c2VySWRdXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bnBpbk1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5waW5NZXNzYWdlKG1lc3NhZ2VPck1lc3NhZ2VJZCwgdXNlcklkKSB7XG4gICAgICB2YXIgbWVzc2FnZUlkID0gdGhpcy5fdmFsaWRhdGVBbmRHZXRNZXNzYWdlSWQobWVzc2FnZU9yTWVzc2FnZUlkLCAnUGxlYXNlIHNwZWNpZnkgdGhlIG1lc3NhZ2UgaWQgd2hlbiBjYWxsaW5nIHVucGluTWVzc2FnZScpO1xuXG4gICAgICByZXR1cm4gdGhpcy5wYXJ0aWFsVXBkYXRlTWVzc2FnZShtZXNzYWdlSWQsIHtcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgcGlubmVkOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LCB1c2VySWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVNZXNzYWdlIC0gVXBkYXRlIHRoZSBnaXZlbiBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09taXQ8TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4sICdtZW50aW9uZWRfdXNlcnMnPiAmIHsgbWVudGlvbmVkX3VzZXJzPzogc3RyaW5nW10gfX0gbWVzc2FnZSBvYmplY3QsIGlkIG5lZWRzIHRvIGJlIHNwZWNpZmllZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IFt1c2VySWRdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5za2lwX2VucmljaF91cmxdIERvIG5vdCB0cnkgdG8gZW5yaWNoIHRoZSBVUkxzIHdpdGhpbiBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt7IG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IH19IFJlc3BvbnNlIHRoYXQgaW5jbHVkZXMgdGhlIG1lc3NhZ2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRhdGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU0KG1lc3NhZ2UsIHVzZXJJZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgY2xvbmVkTWVzc2FnZSwgcmVzZXJ2ZWRNZXNzYWdlRmllbGRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NCQoX2NvbnRleHQ1NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTQucHJldiA9IF9jb250ZXh0NTQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NTQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUGxlYXNlIHNwZWNpZnkgdGhlIG1lc3NhZ2UgaWQgd2hlbiBjYWxsaW5nIHVwZGF0ZU1lc3NhZ2UnKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY2xvbmVkTWVzc2FnZSA9IF9leHRlbmRzKHt9LCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgY2xvbmVkTWVzc2FnZS5pZDtcbiAgICAgICAgICAgICAgICByZXNlcnZlZE1lc3NhZ2VGaWVsZHMgPSBbJ2NvbW1hbmQnLCAnY3JlYXRlZF9hdCcsICdodG1sJywgJ2xhdGVzdF9yZWFjdGlvbnMnLCAnb3duX3JlYWN0aW9ucycsICdxdW90ZWRfbWVzc2FnZScsICdyZWFjdGlvbl9jb3VudHMnLCAncmVwbHlfY291bnQnLCAndHlwZScsICd1cGRhdGVkX2F0JywgJ3VzZXInLCAnX19odG1sJ107XG4gICAgICAgICAgICAgICAgcmVzZXJ2ZWRNZXNzYWdlRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjbG9uZWRNZXNzYWdlW2l0ZW1dICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNsb25lZE1lc3NhZ2VbaXRlbV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlcklkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyh1c2VySWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZE1lc3NhZ2UudXNlcl9pZCA9IHVzZXJJZDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZE1lc3NhZ2UudXNlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogdXNlcklkLmlkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNlcnZlciBhbHdheXMgZXhwZWN0cyBtZW50aW9uZWRfdXNlcnMgdG8gYmUgYXJyYXkgb2Ygc3RyaW5nLiBXZSBhcmUgYWRkaW5nIGV4dHJhIGNoZWNrLCBqdXN0IGluIGNhc2VcbiAgICAgICAgICAgICAgICAgKiBTREsgbWlzc2VkIHRoaXMgY29udmVyc2lvbi5cbiAgICAgICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2xvbmVkTWVzc2FnZS5tZW50aW9uZWRfdXNlcnMpICYmICFpc1N0cmluZyhjbG9uZWRNZXNzYWdlLm1lbnRpb25lZF91c2Vyc1swXSkpIHtcbiAgICAgICAgICAgICAgICAgIGNsb25lZE1lc3NhZ2UubWVudGlvbmVkX3VzZXJzID0gY2xvbmVkTWVzc2FnZS5tZW50aW9uZWRfdXNlcnMubWFwKGZ1bmN0aW9uIChtdSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXUuaWQ7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDU0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlLmlkKSwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjbG9uZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NTQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1NCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1lc3NhZ2UoX3g2NywgX3g2OCwgX3g2OSkge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZU1lc3NhZ2U7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcGFydGlhbFVwZGF0ZU1lc3NhZ2UgLSBVcGRhdGUgdGhlIGdpdmVuIG1lc3NhZ2UgaWQgd2hpbGUgcmV0YWluaW5nIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBtZXNzYWdlIGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BhcnRpYWxVcGRhdGVNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59ICBwYXJ0aWFsTWVzc2FnZU9iamVjdCB3aGljaCBzaG91bGQgY29udGFpbiBpZCBhbmQgYW55IG9mIFwic2V0XCIgb3IgXCJ1bnNldFwiIHBhcmFtcztcbiAgICAgKiAgICAgICAgIGV4YW1wbGU6IHtpZDogXCJ1c2VyMVwiLCBzZXQ6e3RleHQ6IFwiaGlcIn0sIHVuc2V0OltcImNvbG9yXCJdfVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IFt1c2VySWRdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNraXBfZW5yaWNoX3VybF0gRG8gbm90IHRyeSB0byBlbnJpY2ggdGhlIFVSTHMgd2l0aGluIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3sgbWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfX0gUmVzcG9uc2UgdGhhdCBpbmNsdWRlcyB0aGUgdXBkYXRlZCBtZXNzYWdlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJ0aWFsVXBkYXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3BhcnRpYWxVcGRhdGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU1KGlkLCBwYXJ0aWFsTWVzc2FnZU9iamVjdCwgdXNlcklkLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB1c2VyO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NSQoX2NvbnRleHQ1NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTUucHJldiA9IF9jb250ZXh0NTUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDU1Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1BsZWFzZSBzcGVjaWZ5IHRoZSBtZXNzYWdlIGlkIHdoZW4gY2FsbGluZyBwYXJ0aWFsVXBkYXRlTWVzc2FnZScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB1c2VyID0gdXNlcklkO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJZCAhPSBudWxsICYmIGlzU3RyaW5nKHVzZXJJZCkpIHtcbiAgICAgICAgICAgICAgICAgIHVzZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB1c2VySWRcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1NS5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXQodGhpcy5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KGlkKSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcnRpYWxNZXNzYWdlT2JqZWN0KSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1NS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1NS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBwYXJ0aWFsVXBkYXRlTWVzc2FnZShfeDcwLCBfeDcxLCBfeDcyLCBfeDczKSB7XG4gICAgICAgIHJldHVybiBfcGFydGlhbFVwZGF0ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnRpYWxVcGRhdGVNZXNzYWdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxldGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU2KG1lc3NhZ2VJRCwgaGFyZERlbGV0ZSkge1xuICAgICAgICB2YXIgcGFyYW1zO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NiQoX2NvbnRleHQ1Nikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTYucHJldiA9IF9jb250ZXh0NTYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGFyYW1zID0ge307XG5cbiAgICAgICAgICAgICAgICBpZiAoaGFyZERlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBoYXJkOiB0cnVlXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlSUQpLCBwYXJhbXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1Ni5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVNZXNzYWdlKF94NzQsIF94NzUpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVNZXNzYWdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldE1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU3KG1lc3NhZ2VJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NyQoX2NvbnRleHQ1Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTcucHJldiA9IF9jb250ZXh0NTcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Ny5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChtZXNzYWdlSUQpKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDU3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1NywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldE1lc3NhZ2UoX3g3Nikge1xuICAgICAgICByZXR1cm4gX2dldE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE1lc3NhZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VXNlckFnZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzZXJBZ2VudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnVzZXJBZ2VudCB8fCBcInN0cmVhbS1jaGF0LWphdmFzY3JpcHQtY2xpZW50LVwiLmNvbmNhdCh0aGlzLm5vZGUgPyAnbm9kZScgOiAnYnJvd3NlcicsIFwiLVwiLCBcIjguMTQuNVwiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0VXNlckFnZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVzZXJBZ2VudCh1c2VyQWdlbnQpIHtcbiAgICAgIHRoaXMudXNlckFnZW50ID0gdXNlckFnZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfaXNVc2luZ1NlcnZlckF1dGggLSBSZXR1cm5zIHRydWUgaWYgd2UncmUgdXNpbmcgc2VydmVyIHNpZGUgYXV0aFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2VucmljaEF4aW9zT3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW5yaWNoQXhpb3NPcHRpb25zKCkge1xuICAgICAgdmFyIF9vcHRpb25zJGhlYWRlcnM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7XG4gICAgICAgIHBhcmFtczoge30sXG4gICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICBjb25maWc6IHt9XG4gICAgICB9O1xuXG4gICAgICB2YXIgdG9rZW4gPSB0aGlzLl9nZXRUb2tlbigpO1xuXG4gICAgICB2YXIgYXV0aG9yaXphdGlvbiA9IHRva2VuID8ge1xuICAgICAgICBBdXRob3JpemF0aW9uOiB0b2tlblxuICAgICAgfSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBzaWduYWwgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5uZXh0UmVxdWVzdEFib3J0Q29udHJvbGxlciAhPT0gbnVsbCkge1xuICAgICAgICBzaWduYWwgPSB0aGlzLm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyLnNpZ25hbDtcbiAgICAgICAgdGhpcy5uZXh0UmVxdWVzdEFib3J0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICghKChfb3B0aW9ucyRoZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRoZWFkZXJzICE9PSB2b2lkIDAgJiYgX29wdGlvbnMkaGVhZGVyc1sneC1jbGllbnQtcmVxdWVzdC1pZCddKSkge1xuICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMuaGVhZGVycyksIHt9LCB7XG4gICAgICAgICAgJ3gtY2xpZW50LXJlcXVlc3QtaWQnOiByYW5kb21JZCgpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3JlZjkgPSB0aGlzLm9wdGlvbnMuYXhpb3NSZXF1ZXN0Q29uZmlnIHx8IHt9LFxuICAgICAgICAgIGF4aW9zUmVxdWVzdENvbmZpZ1BhcmFtcyA9IF9yZWY5LnBhcmFtcyxcbiAgICAgICAgICBheGlvc1JlcXVlc3RDb25maWdIZWFkZXJzID0gX3JlZjkuaGVhZGVycyxcbiAgICAgICAgICBheGlvc1JlcXVlc3RDb25maWdSZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY5LCBfZXhjbHVkZWQyKTtcblxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcklELFxuICAgICAgICAgIGNvbm5lY3Rpb25faWQ6IHRoaXMuX2dldENvbm5lY3Rpb25JRCgpLFxuICAgICAgICAgIGFwaV9rZXk6IHRoaXMua2V5XG4gICAgICAgIH0sIG9wdGlvbnMucGFyYW1zKSwgYXhpb3NSZXF1ZXN0Q29uZmlnUGFyYW1zIHx8IHt9KSxcbiAgICAgICAgaGVhZGVyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGF1dGhvcml6YXRpb24pLCB7fSwge1xuICAgICAgICAgICdzdHJlYW0tYXV0aC10eXBlJzogdGhpcy5nZXRBdXRoVHlwZSgpLFxuICAgICAgICAgICdYLVN0cmVhbS1DbGllbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpXG4gICAgICAgIH0sIG9wdGlvbnMuaGVhZGVycyksIGF4aW9zUmVxdWVzdENvbmZpZ0hlYWRlcnMgfHwge30pXG4gICAgICB9LCBzaWduYWwgPyB7XG4gICAgICAgIHNpZ25hbDogc2lnbmFsXG4gICAgICB9IDoge30pLCBvcHRpb25zLmNvbmZpZyksIGF4aW9zUmVxdWVzdENvbmZpZ1Jlc3QgfHwge30pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0VG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFRva2VuKCkge1xuICAgICAgaWYgKCF0aGlzLnRva2VuTWFuYWdlciB8fCB0aGlzLmFub255bW91cykgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbk1hbmFnZXIuZ2V0VG9rZW4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3N0YXJ0Q2xlYW5pbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3N0YXJ0Q2xlYW5pbmcoKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmNsZWFuaW5nSW50ZXJ2YWxSZWYgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2xlYW5pbmdJbnRlcnZhbFJlZiA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2FsbCBjbGVhbiBvbiB0aGUgY2hhbm5lbCwgdXNlZCBmb3IgY2FsbGluZyB0aGUgc3RvcC50eXBpbmcgZXZlbnQgZXRjLlxuICAgICAgICBmb3IgKHZhciBfaTMgPSAwLCBfT2JqZWN0JHZhbHVlczIgPSBPYmplY3QudmFsdWVzKHRoYXQuYWN0aXZlQ2hhbm5lbHMpOyBfaTMgPCBfT2JqZWN0JHZhbHVlczIubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgIHZhciBfY2hhbm5lbDcgPSBfT2JqZWN0JHZhbHVlczJbX2kzXTtcblxuICAgICAgICAgIF9jaGFubmVsNy5jbGVhbigpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBlbmNvZGUgd3MgdXJsIHBheWxvYWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIGpzb24gc3RyaW5nXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ2ZXJpZnlXZWJob29rXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogY2hlY2tzIHNpZ25hdHVyZSBvZiBhIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IEJ1ZmZlcn0gcmF3Qm9keVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmUgZnJvbSBIVFRQIGhlYWRlclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZlcmlmeVdlYmhvb2socmVxdWVzdEJvZHksIHhTaWduYXR1cmUpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuc2VjcmV0ICYmIENoZWNrU2lnbmF0dXJlKHJlcXVlc3RCb2R5LCB0aGlzLnNlY3JldCwgeFNpZ25hdHVyZSk7XG4gICAgfVxuICAgIC8qKiBnZXRQZXJtaXNzaW9uIC0gZ2V0cyB0aGUgZGVmaW5pdGlvbiBmb3IgYSBwZXJtaXNzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFBlcm1pc3Npb25BUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRQZXJtaXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBlcm1pc3Npb24obmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcGVybWlzc2lvbnMvXCIpLmNvbmNhdChuYW1lKSk7XG4gICAgfVxuICAgIC8qKiBjcmVhdGVQZXJtaXNzaW9uIC0gY3JlYXRlcyBhIGN1c3RvbSBwZXJtaXNzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0N1c3RvbVBlcm1pc3Npb25PcHRpb25zfSBwZXJtaXNzaW9uRGF0YSB0aGUgcGVybWlzc2lvbiBkYXRhXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUGVybWlzc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQZXJtaXNzaW9uKHBlcm1pc3Npb25EYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wb3N0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcGVybWlzc2lvbnNcIiksIF9vYmplY3RTcHJlYWQoe30sIHBlcm1pc3Npb25EYXRhKSk7XG4gICAgfVxuICAgIC8qKiB1cGRhdGVQZXJtaXNzaW9uIC0gdXBkYXRlcyBhbiBleGlzdGluZyBjdXN0b20gcGVybWlzc2lvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAgICogQHBhcmFtIHtPbWl0PEN1c3RvbVBlcm1pc3Npb25PcHRpb25zLCAnaWQnPn0gcGVybWlzc2lvbkRhdGEgdGhlIHBlcm1pc3Npb24gZGF0YVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVBlcm1pc3Npb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUGVybWlzc2lvbihpZCwgcGVybWlzc2lvbkRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnB1dChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3Blcm1pc3Npb25zL1wiKS5jb25jYXQoaWQpLCBfb2JqZWN0U3ByZWFkKHt9LCBwZXJtaXNzaW9uRGF0YSkpO1xuICAgIH1cbiAgICAvKiogZGVsZXRlUGVybWlzc2lvbiAtIGRlbGV0ZXMgYSBjdXN0b20gcGVybWlzc2lvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVQZXJtaXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVBlcm1pc3Npb24obmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcGVybWlzc2lvbnMvXCIpLmNvbmNhdChuYW1lKSk7XG4gICAgfVxuICAgIC8qKiBsaXN0UGVybWlzc2lvbnMgLSByZXR1cm5zIHRoZSBsaXN0IG9mIGFsbCBwZXJtaXNzaW9ucyBmb3IgdGhpcyBhcHBsaWNhdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdFBlcm1pc3Npb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RQZXJtaXNzaW9ucygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3Blcm1pc3Npb25zXCIpKTtcbiAgICB9XG4gICAgLyoqIGNyZWF0ZVJvbGUgLSBjcmVhdGVzIGEgY3VzdG9tIHJvbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBuZXcgcm9sZSBuYW1lXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUm9sZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSb2xlKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9yb2xlc1wiKSwge1xuICAgICAgICBuYW1lOiBuYW1lXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqIGxpc3RSb2xlcyAtIHJldHVybnMgdGhlIGxpc3Qgb2YgYWxsIHJvbGVzIGZvciB0aGlzIGFwcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsaXN0Um9sZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdFJvbGVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcm9sZXNcIikpO1xuICAgIH1cbiAgICAvKiogZGVsZXRlUm9sZSAtIGRlbGV0ZXMgYSBjdXN0b20gcm9sZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIHJvbGUgbmFtZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVJvbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUm9sZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9yb2xlcy9cIikuY29uY2F0KG5hbWUpKTtcbiAgICB9XG4gICAgLyoqIHN5bmMgLSByZXR1cm5zIGFsbCBldmVudHMgdGhhdCBoYXBwZW5lZCBmb3IgYSBsaXN0IG9mIGNoYW5uZWxzIHNpbmNlIGxhc3Qgc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGNoYW5uZWxfY2lkcyBsaXN0IG9mIGNoYW5uZWwgQ0lEc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXN0X3N5bmNfYXQgbGFzdCB0aW1lIHRoZSB1c2VyIHdhcyBvbmxpbmUgYW5kIGluIHN5bmMuIFJGQzMzMzkgaWUuIFwiMjAyMC0wNS0wNlQxNTowNTowMS4yMDdaXCJcbiAgICAgKiBAcGFyYW0ge1N5bmNPcHRpb25zfSBvcHRpb25zIFNlZSBKU0RvYyBpbiB0aGUgdHlwZSBmaWVsZHMgZm9yIG1vcmUgaW5mb1xuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8U3luY1Jlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInN5bmNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3luYyhjaGFubmVsX2NpZHMsIGxhc3Rfc3luY19hdCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMucG9zdChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3N5bmNcIiksIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBjaGFubmVsX2NpZHM6IGNoYW5uZWxfY2lkcyxcbiAgICAgICAgbGFzdF9zeW5jX2F0OiBsYXN0X3N5bmNfYXRcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc2VuZFVzZXJDdXN0b21FdmVudCAtIFNlbmQgYSBjdXN0b20gZXZlbnQgdG8gYSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEIHRhcmdldCB1c2VyIGlkXG4gICAgICogQHBhcmFtIHtVc2VyQ3VzdG9tRXZlbnR9IGV2ZW50IGZvciBleGFtcGxlIHt0eXBlOiAnZnJpZW5kc2hpcC1yZXF1ZXN0J31cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZW5kVXNlckN1c3RvbUV2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VuZFVzZXJDdXN0b21FdmVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1OCh0YXJnZXRVc2VySUQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU4JChfY29udGV4dDU4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1OC5wcmV2ID0gX2NvbnRleHQ1OC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDU4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi91c2Vycy9cIikuY29uY2F0KHRhcmdldFVzZXJJRCwgXCIvZXZlbnRcIiksIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1OC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1OC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZW5kVXNlckN1c3RvbUV2ZW50KF94NzcsIF94NzgpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kVXNlckN1c3RvbUV2ZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZW5kVXNlckN1c3RvbUV2ZW50O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUJsb2NrTGlzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCbG9ja0xpc3QoYmxvY2tMaXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5wb3N0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvYmxvY2tsaXN0c1wiKSwgYmxvY2tMaXN0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdEJsb2NrTGlzdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdEJsb2NrTGlzdHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9ibG9ja2xpc3RzXCIpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QmxvY2tMaXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJsb2NrTGlzdChuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9ibG9ja2xpc3RzL1wiKS5jb25jYXQobmFtZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVCbG9ja0xpc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQmxvY2tMaXN0KG5hbWUsIGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnB1dChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL2Jsb2NrbGlzdHMvXCIpLmNvbmNhdChuYW1lKSwgZGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUJsb2NrTGlzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVCbG9ja0xpc3QobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvYmxvY2tsaXN0cy9cIikuY29uY2F0KG5hbWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXhwb3J0Q2hhbm5lbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwb3J0Q2hhbm5lbHMocmVxdWVzdCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICB2YXIgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBjaGFubmVsczogcmVxdWVzdFxuICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9leHBvcnRfY2hhbm5lbHNcIiksIHBheWxvYWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHBvcnRVc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHBvcnRVc2VycyhyZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5wb3N0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvZXhwb3J0L3VzZXJzXCIpLCByZXF1ZXN0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXhwb3J0Q2hhbm5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHBvcnRDaGFubmVsKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmV4cG9ydENoYW5uZWxzKFtyZXF1ZXN0XSwgb3B0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEV4cG9ydENoYW5uZWxTdGF0dXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RXhwb3J0Q2hhbm5lbFN0YXR1cyhpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvZXhwb3J0X2NoYW5uZWxzL1wiKS5jb25jYXQoaWQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY3JlYXRlU2VnbWVudCAtIENyZWF0ZXMgYSBDYW1wYWlnbiBTZWdtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NlZ21lbnREYXRhfSBwYXJhbXMgU2VnbWVudCBkYXRhXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTZWdtZW50fSBUaGUgQ3JlYXRlZCBTZWdtZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVTZWdtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlU2VnbWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1OShwYXJhbXMpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJHBvc3QsIHNlZ21lbnQ7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTkkKF9jb250ZXh0NTkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDU5LnByZXYgPSBfY29udGV4dDU5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9zZWdtZW50c1wiLCB7XG4gICAgICAgICAgICAgICAgICBzZWdtZW50OiBwYXJhbXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkcG9zdCA9IF9jb250ZXh0NTkuc2VudDtcbiAgICAgICAgICAgICAgICBzZWdtZW50ID0gX3lpZWxkJHRoaXMkcG9zdC5zZWdtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU5LmFicnVwdChcInJldHVyblwiLCBzZWdtZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVTZWdtZW50KF94NzkpIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVTZWdtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjcmVhdGVTZWdtZW50O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5U2VnbWVudHMgLSBRdWVyeSBDYW1wYWlnbiBTZWdtZW50c1xuICAgICAqXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTZWdtZW50W119IFNlZ21lbnRzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeVNlZ21lbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlTZWdtZW50cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2MChmaWx0ZXJzKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M2MCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjAkKF9jb250ZXh0NjApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYwLnByZXYgPSBfY29udGV4dDYwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczYwLmxlbmd0aCA+IDEgJiYgX2FyZ3M2MFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2MFsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NjAubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL3NlZ21lbnRzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyc1xuICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NjAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlTZWdtZW50cyhfeDgwKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlTZWdtZW50cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlTZWdtZW50cztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1cGRhdGVTZWdtZW50IC0gVXBkYXRlIGEgQ2FtcGFpZ24gU2VnbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFNlZ21lbnQgSURcbiAgICAgKiBAcGFyYW0ge1BhcnRpYWw8U2VnbWVudERhdGE+fSBwYXJhbXMgU2VnbWVudCBkYXRhXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTZWdtZW50fSBVcGRhdGVkIFNlZ21lbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVNlZ21lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRhdGVTZWdtZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYxKGlkLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJHB1dCwgc2VnbWVudDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MSQoX2NvbnRleHQ2MSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjEucHJldiA9IF9jb250ZXh0NjEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2MS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXQodGhpcy5iYXNlVVJMICsgXCIvc2VnbWVudHMvXCIuY29uY2F0KGlkKSwge1xuICAgICAgICAgICAgICAgICAgc2VnbWVudDogcGFyYW1zXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF95aWVsZCR0aGlzJHB1dCA9IF9jb250ZXh0NjEuc2VudDtcbiAgICAgICAgICAgICAgICBzZWdtZW50ID0gX3lpZWxkJHRoaXMkcHV0LnNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjEuYWJydXB0KFwicmV0dXJuXCIsIHNlZ21lbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2MSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNlZ21lbnQoX3g4MSwgX3g4Mikge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZVNlZ21lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZVNlZ21lbnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVsZXRlU2VnbWVudCAtIERlbGV0ZSBhIENhbXBhaWduIFNlZ21lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBTZWdtZW50IElEXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFQSVJlc3BvbnNlPn0gVGhlIFNlcnZlciBSZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlU2VnbWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZVNlZ21lbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjIoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjIkKF9jb250ZXh0NjIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYyLnByZXYgPSBfY29udGV4dDYyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYyLmFicnVwdChcInJldHVyblwiLCB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9zZWdtZW50cy9cIi5jb25jYXQoaWQpKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVsZXRlU2VnbWVudChfeDgzKSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlU2VnbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlU2VnbWVudDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBjcmVhdGVDYW1wYWlnbiAtIENyZWF0ZXMgYSBDYW1wYWlnblxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW1wYWlnbkRhdGF9IHBhcmFtcyBDYW1wYWlnbiBkYXRhXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDYW1wYWlnbn0gVGhlIENyZWF0ZWQgQ2FtcGFpZ25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUNhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlQ2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjMocGFyYW1zKSB7XG4gICAgICAgIHZhciBfeWllbGQkdGhpcyRwb3N0MiwgY2FtcGFpZ247XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjMkKF9jb250ZXh0NjMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYzLnByZXYgPSBfY29udGV4dDYzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NjMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnNcIiwge1xuICAgICAgICAgICAgICAgICAgY2FtcGFpZ246IHBhcmFtc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRwb3N0MiA9IF9jb250ZXh0NjMuc2VudDtcbiAgICAgICAgICAgICAgICBjYW1wYWlnbiA9IF95aWVsZCR0aGlzJHBvc3QyLmNhbXBhaWduO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYzLmFicnVwdChcInJldHVyblwiLCBjYW1wYWlnbik7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY3JlYXRlQ2FtcGFpZ24oX3g4NCkge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZUNhbXBhaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjcmVhdGVDYW1wYWlnbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeUNhbXBhaWducyAtIFF1ZXJ5IENhbXBhaWduc1xuICAgICAqXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDYW1wYWlnbltdfSBDYW1wYWlnbnNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5Q2FtcGFpZ25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlDYW1wYWlnbnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjQoZmlsdGVycykge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNjQgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY0JChfY29udGV4dDY0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2NC5wcmV2ID0gX2NvbnRleHQ2NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M2NC5sZW5ndGggPiAxICYmIF9hcmdzNjRbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNjRbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDY0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnNcIiwge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2NC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ2NC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeUNhbXBhaWducyhfeDg1KSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlDYW1wYWlnbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5Q2FtcGFpZ25zO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZUNhbXBhaWduIC0gVXBkYXRlIGEgQ2FtcGFpZ25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYW1wYWlnbiBJRFxuICAgICAqIEBwYXJhbSB7UGFydGlhbDxDYW1wYWlnbkRhdGE+fSBwYXJhbXMgQ2FtcGFpZ24gZGF0YVxuICAgICAqXG4gICAgICogQHJldHVybiB7Q2FtcGFpZ259IFVwZGF0ZWQgQ2FtcGFpZ25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlQ2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjUoaWQsIHBhcmFtcykge1xuICAgICAgICB2YXIgX3lpZWxkJHRoaXMkcHV0MiwgY2FtcGFpZ247XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjUkKF9jb250ZXh0NjUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDY1LnByZXYgPSBfY29udGV4dDY1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NjUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHV0KHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWducy9cIi5jb25jYXQoaWQpLCB7XG4gICAgICAgICAgICAgICAgICBjYW1wYWlnbjogcGFyYW1zXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF95aWVsZCR0aGlzJHB1dDIgPSBfY29udGV4dDY1LnNlbnQ7XG4gICAgICAgICAgICAgICAgY2FtcGFpZ24gPSBfeWllbGQkdGhpcyRwdXQyLmNhbXBhaWduO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY1LmFicnVwdChcInJldHVyblwiLCBjYW1wYWlnbik7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTY1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlQ2FtcGFpZ24oX3g4NiwgX3g4Nykge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZUNhbXBhaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGVDYW1wYWlnbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVDYW1wYWlnbiAtIERlbGV0ZSBhIENhbXBhaWduXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FtcGFpZ24gSURcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVDYW1wYWlnblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZUNhbXBhaWduID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY2KGlkKSB7XG4gICAgICAgIHZhciBwYXJhbXMsXG4gICAgICAgICAgICBfYXJnczY2ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2NiQoX2NvbnRleHQ2Nikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjYucHJldiA9IF9jb250ZXh0NjYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gX2FyZ3M2Ni5sZW5ndGggPiAxICYmIF9hcmdzNjZbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNjZbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgXCIvY2FtcGFpZ25zL1wiLmNvbmNhdChpZCksIHBhcmFtcykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2NiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNhbXBhaWduKF94ODgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVDYW1wYWlnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlQ2FtcGFpZ247XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc2NoZWR1bGVDYW1wYWlnbiAtIFNjaGVkdWxlIGEgQ2FtcGFpZ25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYW1wYWlnbiBJRFxuICAgICAqIEBwYXJhbSB7e3NjaGVkdWxlZEZvcjogbnVtYmVyfX0gcGFyYW1zIFNjaGVkdWxlIHBhcmFtc1xuICAgICAqXG4gICAgICogQHJldHVybiB7Q2FtcGFpZ259IFNjaGVkdWxlZCBDYW1wYWlnblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2NoZWR1bGVDYW1wYWlnblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NjaGVkdWxlQ2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjcoaWQsIHBhcmFtcykge1xuICAgICAgICB2YXIgc2NoZWR1bGVkRm9yLCBfeWllbGQkdGhpcyRwYXRjaCwgY2FtcGFpZ247XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjckKF9jb250ZXh0NjcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDY3LnByZXYgPSBfY29udGV4dDY3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHNjaGVkdWxlZEZvciA9IHBhcmFtcy5zY2hlZHVsZWRGb3I7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Ny5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRjaCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnMvXCIuY29uY2F0KGlkLCBcIi9zY2hlZHVsZVwiKSwge1xuICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkX2Zvcjogc2NoZWR1bGVkRm9yXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF95aWVsZCR0aGlzJHBhdGNoID0gX2NvbnRleHQ2Ny5zZW50O1xuICAgICAgICAgICAgICAgIGNhbXBhaWduID0gX3lpZWxkJHRoaXMkcGF0Y2guY2FtcGFpZ247XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjcuYWJydXB0KFwicmV0dXJuXCIsIGNhbXBhaWduKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzY2hlZHVsZUNhbXBhaWduKF94ODksIF94OTApIHtcbiAgICAgICAgcmV0dXJuIF9zY2hlZHVsZUNhbXBhaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY2hlZHVsZUNhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHN0b3BDYW1wYWlnbiAtIFN0b3AgYSBDYW1wYWlnblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIENhbXBhaWduIElEXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDYW1wYWlnbn0gU3RvcHBlZCBDYW1wYWlnblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcENhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3RvcENhbXBhaWduID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY4KGlkKSB7XG4gICAgICAgIHZhciBfeWllbGQkdGhpcyRwYXRjaDIsIGNhbXBhaWduO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY4JChfY29udGV4dDY4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2OC5wcmV2ID0gX2NvbnRleHQ2OC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDY4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGNoKHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWducy9cIi5jb25jYXQoaWQsIFwiL3N0b3BcIikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRwYXRjaDIgPSBfY29udGV4dDY4LnNlbnQ7XG4gICAgICAgICAgICAgICAgY2FtcGFpZ24gPSBfeWllbGQkdGhpcyRwYXRjaDIuY2FtcGFpZ247XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjguYWJydXB0KFwicmV0dXJuXCIsIGNhbXBhaWduKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzdG9wQ2FtcGFpZ24oX3g5MSkge1xuICAgICAgICByZXR1cm4gX3N0b3BDYW1wYWlnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcENhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlc3VtZUNhbXBhaWduIC0gUmVzdW1lIGEgQ2FtcGFpZ25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYW1wYWlnbiBJRFxuICAgICAqXG4gICAgICogQHJldHVybiB7Q2FtcGFpZ259IFJlc3VtZWQgQ2FtcGFpZ25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlc3VtZUNhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVzdW1lQ2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjkoaWQpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJHBhdGNoMywgY2FtcGFpZ247XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjkkKF9jb250ZXh0NjkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDY5LnByZXYgPSBfY29udGV4dDY5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NjkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0Y2godGhpcy5iYXNlVVJMICsgXCIvY2FtcGFpZ25zL1wiLmNvbmNhdChpZCwgXCIvcmVzdW1lXCIpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkcGF0Y2gzID0gX2NvbnRleHQ2OS5zZW50O1xuICAgICAgICAgICAgICAgIGNhbXBhaWduID0gX3lpZWxkJHRoaXMkcGF0Y2gzLmNhbXBhaWduO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY5LmFicnVwdChcInJldHVyblwiLCBjYW1wYWlnbik7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Njkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTY5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVzdW1lQ2FtcGFpZ24oX3g5Mikge1xuICAgICAgICByZXR1cm4gX3Jlc3VtZUNhbXBhaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bWVDYW1wYWlnbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB0ZXN0Q2FtcGFpZ24gLSBUZXN0IGEgQ2FtcGFpZ25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYW1wYWlnbiBJRFxuICAgICAqIEBwYXJhbSB7e3VzZXJzOiBzdHJpbmdbXX19IHBhcmFtcyBUZXN0IHBhcmFtc1xuICAgICAqXG4gICAgICogQHJldHVybiB7VGVzdENhbXBhaWduUmVzcG9uc2V9IFRlc3QgY2FtcGFpZ24gcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRlc3RDYW1wYWlnblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Rlc3RDYW1wYWlnbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3MChpZCwgcGFyYW1zKSB7XG4gICAgICAgIHZhciB1c2VycztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzAkKF9jb250ZXh0NzApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcwLnByZXYgPSBfY29udGV4dDcwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVzZXJzID0gcGFyYW1zLnVzZXJzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NzAubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnMvXCIuY29uY2F0KGlkLCBcIi90ZXN0XCIpLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyczogdXNlcnNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NzAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdGVzdENhbXBhaWduKF94OTMsIF94OTQpIHtcbiAgICAgICAgcmV0dXJuIF90ZXN0Q2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRlc3RDYW1wYWlnbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeVJlY2lwaWVudHMgLSBRdWVyeSBDYW1wYWlnbiBSZWNpcGllbnQgUmVzdWx0c1xuICAgICAqXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZWNpcGllbnRbXX0gUmVjaXBpZW50c1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlSZWNpcGllbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlSZWNpcGllbnRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcxKGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczcxID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3MSQoX2NvbnRleHQ3MSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzEucHJldiA9IF9jb250ZXh0NzEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNzEubGVuZ3RoID4gMSAmJiBfYXJnczcxWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczcxWzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3MS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvcmVjaXBpZW50c1wiLCB7XG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlcnNcbiAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcxLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDcxLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3MSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5UmVjaXBpZW50cyhfeDk1KSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlSZWNpcGllbnRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeVJlY2lwaWVudHM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZW5yaWNoVVJMIC0gR2V0IE9wZW5HcmFwaCBkYXRhIG9mIHRoZSBnaXZlbiBsaW5rXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIGxpbmtcbiAgICAgKiBAcmV0dXJuIHtPR0F0dGFjaG1lbnR9IE9HIEF0dGFjaG1lbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVucmljaFVSTFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2VucmljaFVSTCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3Mih1cmwpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzIkKF9jb250ZXh0NzIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcyLnByZXYgPSBfY29udGV4dDcyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcyLmFicnVwdChcInJldHVyblwiLCB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9vZ1wiLCB7XG4gICAgICAgICAgICAgICAgICB1cmw6IHVybFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBlbnJpY2hVUkwoX3g5Nikge1xuICAgICAgICByZXR1cm4gX2VucmljaFVSTC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW5yaWNoVVJMO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldFRhc2sgLSBHZXRzIHN0YXR1cyBvZiBhIGxvbmcgcnVubmluZyB0YXNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGFzayBJRFxuICAgICAqXG4gICAgICogQHJldHVybiB7VGFza1N0YXR1c30gVGhlIHRhc2sgc3RhdHVzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUYXNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0VGFzayA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3MyhpZCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3MyQoX2NvbnRleHQ3Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzMucHJldiA9IF9jb250ZXh0NzMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzMuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZ2V0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvdGFza3MvXCIpLmNvbmNhdChpZCkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUYXNrKF94OTcpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRUYXNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRUYXNrO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbGV0ZUNoYW5uZWxzIC0gRGVsZXRlcyBhIGxpc3Qgb2YgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gY2lkcyBDaGFubmVsIENJRHNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmhhcmRfZGVsZXRlXSBEZWZpbmVzIGlmIHRoZSBjaGFubmVsIGlzIGhhcmQgZGVsZXRlZCBvciBub3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0RlbGV0ZUNoYW5uZWxzUmVzcG9uc2V9IFJlc3VsdCBvZiB0aGUgc29mdCBkZWxldGlvbiwgaWYgc2VydmVyLXNpZGUsIGl0IGhvbGRzIHRoZSB0YXNrIElEIGFzIHdlbGxcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUNoYW5uZWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlQ2hhbm5lbHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzQoY2lkcykge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNzQgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc0JChfY29udGV4dDc0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3NC5wcmV2ID0gX2NvbnRleHQ3NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M3NC5sZW5ndGggPiAxICYmIF9hcmdzNzRbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNzRbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDc0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvY2hhbm5lbHMvZGVsZXRlXCIsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgY2lkczogY2lkc1xuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NzQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTc0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVsZXRlQ2hhbm5lbHMoX3g5OCkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZUNoYW5uZWxzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVDaGFubmVscztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVVc2VycyAtIEJhdGNoIERlbGV0ZSBVc2Vyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gdXNlcl9pZHMgd2hpY2ggdXNlcnMgdG8gZGVsZXRlXG4gICAgICogQHBhcmFtIHtEZWxldGVVc2VyT3B0aW9uc30gb3B0aW9ucyBDb25maWd1cmF0aW9uIGhvdyB0byBkZWxldGUgdXNlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Rhc2tSZXNwb25zZX0gQSB0YXNrIElEXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVVc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZVVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc1KHVzZXJfaWRzKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M3NSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzUkKF9jb250ZXh0NzUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDc1LnByZXYgPSBfY29udGV4dDc1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczc1Lmxlbmd0aCA+IDEgJiYgX2FyZ3M3NVsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3NVsxXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIG9wdGlvbnMudXNlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIVsnc29mdCcsICdoYXJkJywgJ3BydW5pbmcnXS5pbmNsdWRlcyhvcHRpb25zLnVzZXIpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3NS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkZWxldGUgdXNlciBvcHRpb25zLiB1c2VyIG11c3QgYmUgb25lIG9mIFtzb2Z0IGhhcmQgcHJ1bmluZ10nKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIG9wdGlvbnMuY29udmVyc2F0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgIVsnc29mdCcsICdoYXJkJ10uaW5jbHVkZXMob3B0aW9ucy5jb252ZXJzYXRpb25zKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NzUubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGVsZXRlIHVzZXIgb3B0aW9ucy4gY29udmVyc2F0aW9ucyBtdXN0IGJlIG9uZSBvZiBbc29mdCBoYXJkXScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2Ygb3B0aW9ucy5tZXNzYWdlcyAhPT0gJ3VuZGVmaW5lZCcgJiYgIVsnc29mdCcsICdoYXJkJywgJ3BydW5pbmcnXS5pbmNsdWRlcyhvcHRpb25zLm1lc3NhZ2VzKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NzUubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGVsZXRlIHVzZXIgb3B0aW9ucy4gbWVzc2FnZXMgbXVzdCBiZSBvbmUgb2YgW3NvZnQgaGFyZCBwcnVuaW5nXScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDc1Lm5leHQgPSA5O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvZGVsZXRlXCIsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZHM6IHVzZXJfaWRzXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3NS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTc1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVsZXRlVXNlcnMoX3g5OSkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZVVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlSW1wb3J0VVJMIC0gQ3JlYXRlIGFuIEltcG9ydCB1cGxvYWQgdXJsLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lIGZpbGVuYW1lIG9mIHVwbG9hZGVkIGRhdGFcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIENyZWF0ZUltcG9ydFJlc3BvbnNlfSBBbiBJbXBvcnRUYXNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfY3JlYXRlSW1wb3J0VVJMXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlSW1wb3J0VVJMMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3NihmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3NiQoX2NvbnRleHQ3Nikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzYucHJldiA9IF9jb250ZXh0NzYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Ni5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2ltcG9ydF91cmxzXCIsIHtcbiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3Ni5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfY3JlYXRlSW1wb3J0VVJMKF94MTAwKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlSW1wb3J0VVJMMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2NyZWF0ZUltcG9ydFVSTDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlSW1wb3J0IC0gQ3JlYXRlIGFuIEltcG9ydCBUYXNrLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggcGF0aCBvZiB1cGxvYWRlZCBkYXRhXG4gICAgICogQHBhcmFtIHtDcmVhdGVJbXBvcnRPcHRpb25zfSBvcHRpb25zIGltcG9ydCBvcHRpb25zXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2UgJiBDcmVhdGVJbXBvcnRSZXNwb25zZX0gQW4gSW1wb3J0VGFza1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2NyZWF0ZUltcG9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NyZWF0ZUltcG9ydDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzcocGF0aCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNzcgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc3JChfY29udGV4dDc3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3Ny5wcmV2ID0gX2NvbnRleHQ3Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M3Ny5sZW5ndGggPiAxICYmIF9hcmdzNzdbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNzdbMV0gOiB7XG4gICAgICAgICAgICAgICAgICBtb2RlOiAndXBzZXJ0J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Ny5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2ltcG9ydHNcIiwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3Ny5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfY3JlYXRlSW1wb3J0KF94MTAxKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlSW1wb3J0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2NyZWF0ZUltcG9ydDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfZ2V0SW1wb3J0IC0gR2V0IGFuIEltcG9ydCBUYXNrLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIEltcG9ydCBUYXNrXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIEdldEltcG9ydFJlc3BvbnNlfSBBbiBJbXBvcnRUYXNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0SW1wb3J0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0SW1wb3J0MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3OChpZCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3OCQoX2NvbnRleHQ3OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzgucHJldiA9IF9jb250ZXh0NzgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3OC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvaW1wb3J0cy9cIi5jb25jYXQoaWQpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Nzguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Nzguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTc4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2dldEltcG9ydChfeDEwMikge1xuICAgICAgICByZXR1cm4gX2dldEltcG9ydDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9nZXRJbXBvcnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX2xpc3RJbXBvcnRzIC0gTGlzdHMgSW1wb3J0IFRhc2tzLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtMaXN0SW1wb3J0c1BhZ2luYXRpb25PcHRpb25zfSBvcHRpb25zIHBhZ2luYXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2UgJiBMaXN0SW1wb3J0c1Jlc3BvbnNlfSBBbiBJbXBvcnRUYXNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfbGlzdEltcG9ydHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9saXN0SW1wb3J0czIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzkob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3OSQoX2NvbnRleHQ3OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzkucHJldiA9IF9jb250ZXh0NzkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3OS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvaW1wb3J0c1wiLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Nzkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Nzkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTc5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2xpc3RJbXBvcnRzKF94MTAzKSB7XG4gICAgICAgIHJldHVybiBfbGlzdEltcG9ydHMyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfbGlzdEltcG9ydHM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdXBzZXJ0UHVzaFByb3ZpZGVyIC0gQ3JlYXRlIG9yIFVwZGF0ZSBhIHB1c2ggcHJvdmlkZXJcbiAgICAgKlxuICAgICAqIE5vdGU6IFdvcmtzIG9ubHkgZm9yIHYyIHB1c2ggdmVyc2lvbiBpcyBlbmFibGVkIG9uIGFwcCBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UHVzaFByb3ZpZGVyQ29uZmlnfSBjb25maWd1cmF0aW9uIG9mIHRoZSBwcm92aWRlciB5b3Ugd2FudCB0byBjcmVhdGUgb3IgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIFB1c2hQcm92aWRlclVwc2VydFJlc3BvbnNlfSBBIHB1c2ggcHJvdmlkZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwc2VydFB1c2hQcm92aWRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Vwc2VydFB1c2hQcm92aWRlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MChwdXNoUHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlODAkKF9jb250ZXh0ODApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgwLnByZXYgPSBfY29udGV4dDgwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0ODAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9wdXNoX3Byb3ZpZGVyc1wiLCB7XG4gICAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyOiBwdXNoUHJvdmlkZXJcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0ODAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBzZXJ0UHVzaFByb3ZpZGVyKF94MTA0KSB7XG4gICAgICAgIHJldHVybiBfdXBzZXJ0UHVzaFByb3ZpZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cHNlcnRQdXNoUHJvdmlkZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVsZXRlUHVzaFByb3ZpZGVyIC0gRGVsZXRlIGEgcHVzaCBwcm92aWRlclxuICAgICAqXG4gICAgICogTm90ZTogV29ya3Mgb25seSBmb3IgdjIgcHVzaCB2ZXJzaW9uIGlzIGVuYWJsZWQgb24gYXBwIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQdXNoUHJvdmlkZXJJRH0gdHlwZSBhbmQgZm9yZWlnbiBpZCBvZiB0aGUgcHVzaCBwcm92aWRlciB0byBiZSBkZWxldGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZX0gQW4gQVBJIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVQdXNoUHJvdmlkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxldGVQdXNoUHJvdmlkZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlODEoX3JlZjEwKSB7XG4gICAgICAgIHZhciB0eXBlLCBuYW1lO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MSQoX2NvbnRleHQ4MSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODEucHJldiA9IF9jb250ZXh0ODEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdHlwZSA9IF9yZWYxMC50eXBlLCBuYW1lID0gX3JlZjEwLm5hbWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4MS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgXCIvcHVzaF9wcm92aWRlcnMvXCIuY29uY2F0KHR5cGUsIFwiL1wiKS5jb25jYXQobmFtZSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4MS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4MS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVQdXNoUHJvdmlkZXIoX3gxMDUpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVQdXNoUHJvdmlkZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZVB1c2hQcm92aWRlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBsaXN0UHVzaFByb3ZpZGVycyAtIEdldCBhbGwgcHVzaCBwcm92aWRlcnMgaW4gdGhlIGFwcFxuICAgICAqXG4gICAgICogTm90ZTogV29ya3Mgb25seSBmb3IgdjIgcHVzaCB2ZXJzaW9uIGlzIGVuYWJsZWQgb24gYXBwIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2UgJiBQdXNoUHJvdmlkZXJMaXN0UmVzcG9uc2V9IEEgcHVzaCBwcm92aWRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdFB1c2hQcm92aWRlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9saXN0UHVzaFByb3ZpZGVycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlODIkKF9jb250ZXh0ODIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgyLnByZXYgPSBfY29udGV4dDgyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0ODIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL3B1c2hfcHJvdmlkZXJzXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4Mi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBsaXN0UHVzaFByb3ZpZGVycygpIHtcbiAgICAgICAgcmV0dXJuIF9saXN0UHVzaFByb3ZpZGVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdFB1c2hQcm92aWRlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBhbiBhYm9ydCBjb250cm9sbGVyIHRoYXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBuZXh0IEhUVFAgUmVxdWVzdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUFib3J0Q29udHJvbGxlckZvck5leHRSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUFib3J0Q29udHJvbGxlckZvck5leHRSZXF1ZXN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbW1pdHMgYSBwZW5kaW5nIG1lc3NhZ2UsIG1ha2luZyBpdCB2aXNpYmxlIGluIHRoZSBjaGFubmVsIGFuZCBmb3Igb3RoZXIgdXNlcnNcbiAgICAgKiBAcGFyYW0gaWQgdGhlIG1lc3NhZ2UgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlICYgTWVzc2FnZVJlc3BvbnNlfSBUaGUgbWVzc2FnZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29tbWl0TWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NvbW1pdE1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlODMoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlODMkKF9jb250ZXh0ODMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgzLnByZXYgPSBfY29udGV4dDgzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0ODMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQoaWQsIFwiL2NvbW1pdFwiKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDgzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4MywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbW1pdE1lc3NhZ2UoX3gxMDYpIHtcbiAgICAgICAgcmV0dXJuIF9jb21taXRNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21taXRNZXNzYWdlO1xuICAgIH0oKVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2Uoa2V5LCBzZWNyZXRPck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghU3RyZWFtQ2hhdC5faW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWNyZXRPck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgU3RyZWFtQ2hhdC5faW5zdGFuY2UgPSBuZXcgU3RyZWFtQ2hhdChrZXksIHNlY3JldE9yT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgU3RyZWFtQ2hhdC5faW5zdGFuY2UgPSBuZXcgU3RyZWFtQ2hhdChrZXksIHNlY3JldE9yT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFN0cmVhbUNoYXQuX2luc3RhbmNlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdHJlYW1DaGF0O1xufSgpO1xuXG5fZGVmaW5lUHJvcGVydHkoU3RyZWFtQ2hhdCwgXCJfaW5zdGFuY2VcIiwgdm9pZCAwKTtcblxudmFyIEVWRU5UX01BUCA9IHtcbiAgJ2NoYW5uZWwuY3JlYXRlZCc6IHRydWUsXG4gICdjaGFubmVsLmRlbGV0ZWQnOiB0cnVlLFxuICAnY2hhbm5lbC5oaWRkZW4nOiB0cnVlLFxuICAnY2hhbm5lbC5raWNrZWQnOiB0cnVlLFxuICAnY2hhbm5lbC5tdXRlZCc6IHRydWUsXG4gICdjaGFubmVsLnRydW5jYXRlZCc6IHRydWUsXG4gICdjaGFubmVsLnVubXV0ZWQnOiB0cnVlLFxuICAnY2hhbm5lbC51cGRhdGVkJzogdHJ1ZSxcbiAgJ2NoYW5uZWwudmlzaWJsZSc6IHRydWUsXG4gICdoZWFsdGguY2hlY2snOiB0cnVlLFxuICAnbWVtYmVyLmFkZGVkJzogdHJ1ZSxcbiAgJ21lbWJlci5yZW1vdmVkJzogdHJ1ZSxcbiAgJ21lbWJlci51cGRhdGVkJzogdHJ1ZSxcbiAgJ21lc3NhZ2UuZGVsZXRlZCc6IHRydWUsXG4gICdtZXNzYWdlLm5ldyc6IHRydWUsXG4gICdtZXNzYWdlLnJlYWQnOiB0cnVlLFxuICAnbWVzc2FnZS51cGRhdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5hZGRlZF90b19jaGFubmVsJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5jaGFubmVsX2RlbGV0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLmNoYW5uZWxfbXV0ZXNfdXBkYXRlZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24uY2hhbm5lbF90cnVuY2F0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLmludml0ZV9hY2NlcHRlZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24uaW52aXRlX3JlamVjdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5pbnZpdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5tYXJrX3JlYWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLm1lc3NhZ2VfbmV3JzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5tdXRlc191cGRhdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5yZW1vdmVkX2Zyb21fY2hhbm5lbCc6IHRydWUsXG4gICdyZWFjdGlvbi5kZWxldGVkJzogdHJ1ZSxcbiAgJ3JlYWN0aW9uLm5ldyc6IHRydWUsXG4gICdyZWFjdGlvbi51cGRhdGVkJzogdHJ1ZSxcbiAgJ3R5cGluZy5zdGFydCc6IHRydWUsXG4gICd0eXBpbmcuc3RvcCc6IHRydWUsXG4gICd1c2VyLmJhbm5lZCc6IHRydWUsXG4gICd1c2VyLmRlbGV0ZWQnOiB0cnVlLFxuICAndXNlci5wcmVzZW5jZS5jaGFuZ2VkJzogdHJ1ZSxcbiAgJ3VzZXIudW5iYW5uZWQnOiB0cnVlLFxuICAndXNlci51bnJlYWRfbWVzc2FnZV9yZW1pbmRlcic6IHRydWUsXG4gICd1c2VyLnVwZGF0ZWQnOiB0cnVlLFxuICAndXNlci53YXRjaGluZy5zdGFydCc6IHRydWUsXG4gICd1c2VyLndhdGNoaW5nLnN0b3AnOiB0cnVlLFxuICAvLyBsb2NhbCBldmVudHNcbiAgJ2NoYW5uZWxzLnF1ZXJpZWQnOiB0cnVlLFxuICAnY29ubmVjdGlvbi5jaGFuZ2VkJzogdHJ1ZSxcbiAgJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJzogdHJ1ZSxcbiAgJ3RyYW5zcG9ydC5jaGFuZ2VkJzogdHJ1ZSxcbiAgJ2NhcGFiaWxpdGllcy5jaGFuZ2VkJzogdHJ1ZVxufTtcblxudmFyIEFsbG93ID0gJ0FsbG93JztcbnZhciBEZW55ID0gJ0RlbnknO1xudmFyIEFueVJlc291cmNlID0gWycqJ107XG52YXIgQW55Um9sZSA9IFsnKiddO1xudmFyIE1heFByaW9yaXR5ID0gOTk5O1xudmFyIE1pblByaW9yaXR5ID0gMTsgLy8gZGVwcmVjYXRlZCBwZXJtaXNzaW9uIG9iamVjdCBjbGFzcywgeW91IHNob3VsZCB1c2UgdGhlIG5ldyBwZXJtaXNzaW9uIHN5c3RlbSB2MiBhbmQgdXNlIHBlcm1pc3Npb25zXG4vLyBkZWZpbmVkIGluIEJ1aWx0aW5QZXJtaXNzaW9ucyB0byBjb25maWd1cmUgeW91ciBjaGFubmVsIHR5cGVzXG5cbnZhciBQZXJtaXNzaW9uID0gZnVuY3Rpb24gUGVybWlzc2lvbihuYW1lLCBwcmlvcml0eSkge1xuICB2YXIgcmVzb3VyY2VzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBBbnlSZXNvdXJjZTtcbiAgdmFyIHJvbGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBBbnlSb2xlO1xuICB2YXIgb3duZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xuICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBBbGxvdztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGVybWlzc2lvbik7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFjdGlvblwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm93bmVyXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHJpb3JpdHlcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNvdXJjZXNcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyb2xlc1wiLCB2b2lkIDApO1xuXG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICB0aGlzLm93bmVyID0gb3duZXI7XG4gIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgdGhpcy5yZXNvdXJjZXMgPSByZXNvdXJjZXM7XG4gIHRoaXMucm9sZXMgPSByb2xlcztcbn07IC8vIGRlcHJlY2F0ZWRcblxudmFyIEFsbG93QWxsID0gbmV3IFBlcm1pc3Npb24oJ0FsbG93IGFsbCcsIE1heFByaW9yaXR5LCBBbnlSZXNvdXJjZSwgQW55Um9sZSwgZmFsc2UsIEFsbG93KTsgLy8gZGVwcmVjYXRlZFxuXG52YXIgRGVueUFsbCA9IG5ldyBQZXJtaXNzaW9uKCdEZW55IGFsbCcsIE1pblByaW9yaXR5LCBBbnlSZXNvdXJjZSwgQW55Um9sZSwgZmFsc2UsIERlbnkpO1xudmFyIEJ1aWx0aW5Sb2xlcyA9IHtcbiAgQWRtaW46ICdhZG1pbicsXG4gIEFub255bW91czogJ2Fub255bW91cycsXG4gIENoYW5uZWxNZW1iZXI6ICdjaGFubmVsX21lbWJlcicsXG4gIENoYW5uZWxNb2RlcmF0b3I6ICdjaGFubmVsX21vZGVyYXRvcicsXG4gIEd1ZXN0OiAnZ3Vlc3QnLFxuICBVc2VyOiAndXNlcidcbn07XG52YXIgQnVpbHRpblBlcm1pc3Npb25zID0ge1xuICBBZGRMaW5rczogJ0FkZCBMaW5rcycsXG4gIEJhblVzZXI6ICdCYW4gVXNlcicsXG4gIENyZWF0ZUNoYW5uZWw6ICdDcmVhdGUgQ2hhbm5lbCcsXG4gIENyZWF0ZU1lc3NhZ2U6ICdDcmVhdGUgTWVzc2FnZScsXG4gIENyZWF0ZVJlYWN0aW9uOiAnQ3JlYXRlIFJlYWN0aW9uJyxcbiAgRGVsZXRlQW55QXR0YWNobWVudDogJ0RlbGV0ZSBBbnkgQXR0YWNobWVudCcsXG4gIERlbGV0ZUFueUNoYW5uZWw6ICdEZWxldGUgQW55IENoYW5uZWwnLFxuICBEZWxldGVBbnlNZXNzYWdlOiAnRGVsZXRlIEFueSBNZXNzYWdlJyxcbiAgRGVsZXRlQW55UmVhY3Rpb246ICdEZWxldGUgQW55IFJlYWN0aW9uJyxcbiAgRGVsZXRlT3duQXR0YWNobWVudDogJ0RlbGV0ZSBPd24gQXR0YWNobWVudCcsXG4gIERlbGV0ZU93bkNoYW5uZWw6ICdEZWxldGUgT3duIENoYW5uZWwnLFxuICBEZWxldGVPd25NZXNzYWdlOiAnRGVsZXRlIE93biBNZXNzYWdlJyxcbiAgRGVsZXRlT3duUmVhY3Rpb246ICdEZWxldGUgT3duIFJlYWN0aW9uJyxcbiAgUmVhZEFueUNoYW5uZWw6ICdSZWFkIEFueSBDaGFubmVsJyxcbiAgUmVhZE93bkNoYW5uZWw6ICdSZWFkIE93biBDaGFubmVsJyxcbiAgUnVuTWVzc2FnZUFjdGlvbjogJ1J1biBNZXNzYWdlIEFjdGlvbicsXG4gIFVwZGF0ZUFueUNoYW5uZWw6ICdVcGRhdGUgQW55IENoYW5uZWwnLFxuICBVcGRhdGVBbnlNZXNzYWdlOiAnVXBkYXRlIEFueSBNZXNzYWdlJyxcbiAgVXBkYXRlTWVtYmVyc0FueUNoYW5uZWw6ICdVcGRhdGUgTWVtYmVycyBBbnkgQ2hhbm5lbCcsXG4gIFVwZGF0ZU1lbWJlcnNPd25DaGFubmVsOiAnVXBkYXRlIE1lbWJlcnMgT3duIENoYW5uZWwnLFxuICBVcGRhdGVPd25DaGFubmVsOiAnVXBkYXRlIE93biBDaGFubmVsJyxcbiAgVXBkYXRlT3duTWVzc2FnZTogJ1VwZGF0ZSBPd24gTWVzc2FnZScsXG4gIFVwbG9hZEF0dGFjaG1lbnQ6ICdVcGxvYWQgQXR0YWNobWVudCcsXG4gIFVzZUZyb3plbkNoYW5uZWw6ICdTZW5kIG1lc3NhZ2VzIGFuZCByZWFjdGlvbnMgdG8gZnJvemVuIGNoYW5uZWxzJ1xufTtcblxuZXhwb3J0IHsgQWxsb3csIEFsbG93QWxsLCBBbnlSZXNvdXJjZSwgQW55Um9sZSwgQnVpbHRpblBlcm1pc3Npb25zLCBCdWlsdGluUm9sZXMsIENoYW5uZWwsIENoYW5uZWxTdGF0ZSwgQ2hlY2tTaWduYXR1cmUsIENsaWVudFN0YXRlLCBEZW55LCBEZW55QWxsLCBEZXZUb2tlbiwgRVZFTlRfTUFQLCBFcnJvckZyb21SZXNwb25zZSwgSW5zaWdodE1ldHJpY3MsIEpXVFNlcnZlclRva2VuLCBKV1RVc2VyVG9rZW4sIE1heFByaW9yaXR5LCBNaW5Qcmlvcml0eSwgUGVybWlzc2lvbiwgU3RhYmxlV1NDb25uZWN0aW9uLCBTdHJlYW1DaGF0LCBUb2tlbk1hbmFnZXIsIFVzZXJGcm9tVG9rZW4sIGJ1aWxkV3NGYXRhbEluc2lnaHQsIGJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodCwgY2hhdENvZGVzLCBkZWNvZGVCYXNlNjQsIGVuY29kZUJhc2U2NCwgaXNPd25Vc2VyLCBsb2dDaGF0UHJvbWlzZUV4ZWN1dGlvbiwgcG9zdEluc2lnaHRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJmcm9tQnl0ZUFycmF5IiwiX2V4dGVuZHMiLCJfdHlwZW9mIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJfY3JlYXRlQ2xhc3MiLCJfZGVmaW5lUHJvcGVydHkiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwiYXhpb3MiLCJodHRwcyIsIl9zbGljZWRUb0FycmF5IiwiRm9ybURhdGEiLCJXZWJTb2NrZXQiLCJqd3QiLCJjcnlwdG8kMSIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfaW5oZXJpdHMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsIl93cmFwTmF0aXZlU3VwZXIiLCJpc1N0cmluZyQxIiwiYXJyYXlPclN0cmluZyIsImlzTWFwU3RyaW5nQ2FsbGJhY2siLCJjYWxsYmFjayIsIm1hcCIsInJlcyIsImsiLCJsZW4iLCJsZW5ndGgiLCJjaGFyQXQiLCJrVmFsdWUiLCJtYXBwZWRWYWx1ZSIsIl9rIiwiX2xlbiIsIl9rVmFsdWUiLCJfbWFwcGVkVmFsdWUiLCJlbmNvZGVCYXNlNjQiLCJkYXRhIiwiVWludDhBcnJheSIsImNoYXIiLCJjaGFyQ29kZUF0IiwiZGVjb2RlQmFzZTY0IiwicyIsImUiLCJ3IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiTCIsImkiLCJiIiwiYyIsIngiLCJsIiwiYSIsInIiLCJBIiwib3duS2V5cyQ2Iiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkJDYiLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJmb3JFYWNoIiwia2V5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIkNoYW5uZWxTdGF0ZSIsImNoYW5uZWwiLCJfdGhpcyIsIl9jaGFubmVsJHN0YXRlIiwiaXNVcFRvRGF0ZSIsIm1zZ0FycmF5IiwibXNnIiwicmVzdWx0IiwibWVzc2FnZSIsImlkIiwicmVtb3ZlZCIsInVzZXIiLCJfdXBkYXRlVXNlck1lc3NhZ2VzIiwibWVzc2FnZXMiLCJfbSR1c2VyIiwibSIsIm1lc3NhZ2VTZXRzIiwic2V0IiwicGFyZW50SWQiLCJ0aHJlYWRzIiwicGlubmVkTWVzc2FnZXMiLCJoYXJkRGVsZXRlIiwidW5kZWZpbmVkIiwiX2RlbGV0ZVVzZXJNZXNzYWdlcyIsIl9tJHVzZXIyIiwiY2lkIiwiY3JlYXRlZF9hdCIsImRlbGV0ZWRfYXQiLCJsYXRlc3RfcmVhY3Rpb25zIiwibWVudGlvbmVkX3VzZXJzIiwib3duX3JlYWN0aW9ucyIsInBhcmVudF9pZCIsInJlcGx5X2NvdW50Iiwic3RhdHVzIiwidGhyZWFkX3BhcnRpY2lwYW50cyIsInR5cGUiLCJ1cGRhdGVkX2F0IiwiX2NoYW5uZWwiLCJ3YXRjaGVyX2NvdW50IiwidHlwaW5nIiwicmVhZCIsImluaXRNZXNzYWdlcyIsInBlbmRpbmdfbWVzc2FnZXMiLCJtdXRlZFVzZXJzIiwid2F0Y2hlcnMiLCJtZW1iZXJzIiwibWVtYmVyc2hpcCIsInVucmVhZENvdW50IiwibGFzdF9tZXNzYWdlX2F0Iiwic3RhdGUiLCJEYXRlIiwiZ2V0IiwiX3RoaXMkbWVzc2FnZVNldHMkZmluIiwiZmluZCIsImlzQ3VycmVudCIsImluZGV4IiwiZmluZEluZGV4IiwiX3RoaXMkbWVzc2FnZVNldHMkZmluMiIsImlzTGF0ZXN0IiwidmFsdWUiLCJhZGRNZXNzYWdlU29ydGVkIiwibmV3TWVzc2FnZSIsInRpbWVzdGFtcENoYW5nZWQiLCJhZGRJZkRvZXNOb3RFeGlzdCIsIm1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QiLCJhZGRNZXNzYWdlc1NvcnRlZCIsImZvcm1hdE1lc3NhZ2UiLCJfX2h0bWwiLCJodG1sIiwicGlubmVkX2F0IiwibmV3TWVzc2FnZXMiLCJpbml0aWFsaXppbmciLCJfdGhpcyRmaW5kVGFyZ2V0TWVzc2EiLCJmaW5kVGFyZ2V0TWVzc2FnZVNldCIsIm1lc3NhZ2VzVG9BZGQiLCJ0YXJnZXRNZXNzYWdlU2V0SW5kZXgiLCJpc0Zyb21TaGFkb3dCYW5uZWRVc2VyIiwic2hhZG93ZWQiLCJpc01lc3NhZ2VGb3JtYXR0ZWQiLCJfdGhpcyRfY2hhbm5lbCIsImdldENsaWVudCIsInVwZGF0ZVVzZXJSZWZlcmVuY2UiLCJnZXRUaW1lIiwicGFyZW50SUQiLCJzaG93X2luX2NoYW5uZWwiLCJfYWRkVG9NZXNzYWdlTGlzdCIsInRocmVhZCIsInRocmVhZE1lc3NhZ2VzIiwibWVzc2FnZVNldCIsImFkZFBpbm5lZE1lc3NhZ2VzIiwiYWRkUGlubmVkTWVzc2FnZSIsInBpbm5lZE1lc3NhZ2UiLCJyZW1vdmVQaW5uZWRNZXNzYWdlIiwiX3RoaXMkcmVtb3ZlTWVzc2FnZUZyIiwicmVtb3ZlTWVzc2FnZUZyb21BcnJheSIsImFkZFJlYWN0aW9uIiwicmVhY3Rpb24iLCJlbmZvcmNlX3VuaXF1ZSIsIl90aGlzMiIsIm1lc3NhZ2VXaXRoUmVhY3Rpb24iLCJfdXBkYXRlTWVzc2FnZSIsIl9hZGRPd25SZWFjdGlvblRvTWVzc2FnZSIsIm93blJlYWN0aW9ucyIsIl9yZW1vdmVPd25SZWFjdGlvbkZyb21NZXNzYWdlIiwidXNlcklEIiwidXNlcl9pZCIsIml0ZW0iLCJyZW1vdmVSZWFjdGlvbiIsIl90aGlzMyIsInJlbW92ZVF1b3RlZE1lc3NhZ2VSZWZlcmVuY2VzIiwiX3RoaXM0IiwicGFyc2VNZXNzYWdlIiwiX20kcGlubmVkX2F0IiwiX20kdXBkYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwidXBkYXRlZE1lc3NhZ2VzIiwicXVvdGVkX21lc3NhZ2VfaWQiLCJxdW90ZWRfbWVzc2FnZSIsImF0dGFjaG1lbnRzIiwidXBkYXRlRnVuYyIsInBpbm5lZCIsIm1zZ0luZGV4IiwibWVzc2FnZVNldEluZGV4IiwiZmluZE1lc3NhZ2VTZXRJbmRleCIsIl9tc2dJbmRleCIsIl9tc2dJbmRleDIiLCJzb3J0QnkiLCJhZGRNZXNzYWdlVG9MaXN0IiwibWVzc2FnZUFyciIsIm1lc3NhZ2VBcnJheUxlbmd0aCIsImNvbmNhdCIsIm1lc3NhZ2VUaW1lIiwibWVzc2FnZUlzTmV3ZXN0IiwibGVmdCIsIm1pZGRsZSIsInJpZ2h0IiwiTWF0aCIsImZsb29yIiwic3BsaWNlIiwicmVtb3ZlTWVzc2FnZSIsIm1lc3NhZ2VUb1JlbW92ZSIsImlzUmVtb3ZlZCIsIl90aGlzJHJlbW92ZU1lc3NhZ2VGcjIiLCJfbWVzc2FnZVRvUmVtb3ZlJG1lc3MiLCJfdGhpcyRyZW1vdmVNZXNzYWdlRnIzIiwiX3JlbW92ZWQiLCJmaWx0ZXJFcnJvck1lc3NhZ2VzIiwiZmlsdGVyZWRNZXNzYWdlcyIsImxhdGVzdE1lc3NhZ2VzIiwiY2xlYW4iLCJub3ciLCJfaSIsIl9PYmplY3QkZW50cmllcyIsImVudHJpZXMiLCJfT2JqZWN0JGVudHJpZXMkX2kiLCJsYXN0RXZlbnQiLCJyZWNlaXZlZEF0IiwicmVjZWl2ZWRfYXQiLCJkaXNwYXRjaEV2ZW50IiwiY2xlYXJNZXNzYWdlcyIsIl9sb2FkTWVzc2FnZUludG9TdGF0ZSIsIm1hcmsiLCJfY2FsbGVlIiwibWVzc2FnZUlkIiwicGFyZW50TWVzc2FnZUlkIiwiX3RoaXMkdGhyZWFkcyRwYXJlbnRNIiwibGltaXQiLCJzd2l0Y2hlZFRvTWVzc2FnZVNldCIsImxvYWRlZE1lc3NhZ2VUaHJlYWQiLCJtZXNzYWdlSWRUb0ZpbmQiLCJfYXJncyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhYnJ1cHQiLCJzd2l0Y2hUb01lc3NhZ2VTZXQiLCJxdWVyeSIsImlkX2Fyb3VuZCIsImdldFJlcGxpZXMiLCJzdG9wIiwibG9hZE1lc3NhZ2VJbnRvU3RhdGUiLCJfeCIsIl94MiIsImZpbmRNZXNzYWdlIiwiY3VycmVudE1lc3NhZ2VzIiwiYXJlTWVzc2FnZVNldHNPdmVybGFwIiwibWVzc2FnZXMxIiwibWVzc2FnZXMyIiwic29tZSIsIm0xIiwibTIiLCJfdGhpczUiLCJvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRpY2VzIiwiXyIsIm1lcmdlVGFyZ2V0TWVzc2FnZVNldEluZGV4IiwibWVyZ2VTb3VyY2VNZXNzYWdlU2V0SW5kaWNlcyIsInNvdXJjZXMiLCJpbmRleE9mIiwib3ZlcmxhcHBpbmdNZXNzYWdlU2V0SW5kZXgiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzIiwibyIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkFycmF5IiwiaXNBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQzIiwiRiIsIm4iLCJkb25lIiwiX2UiLCJ0b1N0cmluZyIsImYiLCJUeXBlRXJyb3IiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwiZXJyIiwiY2FsbCIsInN0ZXAiLCJfZTIiLCJyZXR1cm4iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSQzIiwicHJvdG90eXBlIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsImFyciIsImFycjIiLCJsb2dDaGF0UHJvbWlzZUV4ZWN1dGlvbiIsInByb21pc2UiLCJ0aGVuIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwic2xlZXAiLCJQcm9taXNlIiwic2V0VGltZW91dCIsImlzRnVuY3Rpb24iLCJGdW5jdGlvbiIsImNoYXRDb2RlcyIsIlRPS0VOX0VYUElSRUQiLCJXU19DTE9TRURfU1VDQ0VTUyIsImlzUmVhZGFibGVTdHJlYW0iLCJvYmoiLCJyZWFkYWJsZSIsIl9yZWFkIiwiaXNCdWZmZXIiLCJpc0ZpbGVXZWJBUEkiLCJ1cmkiLCJ3aW5kb3ciLCJGaWxlIiwiaXNPd25Vc2VyIiwidG90YWxfdW5yZWFkX2NvdW50IiwiaXNCbG9iV2ViQVBJIiwiQmxvYiIsImlzT3duVXNlckJhc2VQcm9wZXJ0eSIsInByb3BlcnR5Iiwib3duVXNlckJhc2VQcm9wZXJ0aWVzIiwiY2hhbm5lbF9tdXRlcyIsImRldmljZXMiLCJtdXRlcyIsInVucmVhZF9jaGFubmVscyIsInVucmVhZF9jb3VudCIsImludmlzaWJsZSIsInJvbGVzIiwiYWRkRmlsZVRvRm9ybURhdGEiLCJjb250ZW50VHlwZSIsImFwcGVuZCIsInNwbGl0IiwicmV2ZXJzZSIsIm5vcm1hbGl6ZVF1ZXJ5U29ydCIsInNvcnQiLCJzb3J0RmllbGRzIiwic29ydEFyciIsIl9pdGVyYXRvciIsIl9zdGVwIiwiX2VudHJpZXMiLCJfZW50cmllcyRfaSIsImZpZWxkIiwiZGlyZWN0aW9uIiwicmV0cnlJbnRlcnZhbCIsIm51bWJlck9mRmFpbHVyZXMiLCJtYXgiLCJtaW4iLCJyYW5kb20iLCJyYW5kb21JZCIsImdlbmVyYXRlVVVJRHY0IiwiaGV4IiwiYnl0ZXMiLCJwYWRTdGFydCIsImdldFJhbmRvbUJ5dGVzIiwic3ViYXJyYXkiLCJnZXRSYW5kb21WYWx1ZXNXaXRoTWF0aFJhbmRvbSIsInBvdyIsImJ5dGVMZW5ndGgiLCJnZXRSYW5kb21WYWx1ZXMiLCJfY3J5cHRvIiwiY3J5cHRvIiwiYmluZCIsIm1zQ3J5cHRvIiwiY29udmVydEVycm9yVG9Kc29uIiwianNvbk9iaiIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc09ubGluZSIsIm5hdiIsIm5hdmlnYXRvciIsIm9uTGluZSIsImFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyIsImNiIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJheGlvc1BhcmFtc1NlcmlhbGl6ZXIiLCJwYXJhbXMiLCJuZXdQYXJhbXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbiIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMiIsIl9hcnJheUxpa2VUb0FycmF5JDIiLCJvd25LZXlzJDUiLCJfb2JqZWN0U3ByZWFkJDUiLCJDaGFubmVsIiwiY2xpZW50IiwiX3JlZiIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIndhdGNoIiwicHJlc2VuY2UiLCJzZW50IiwiZXZlbnQiLCJsaXN0ZW5lcnMiLCJhbGwiLCJfbGlzdGVuZXJzIiwibGlzdGVuZXIiLCJFcnJvciIsImJhc2VVUkwiLCJ2YWxpZFR5cGVSZSIsInZhbGlkSURSZSIsIl9jbGllbnQiLCJfZGF0YSIsImluaXRpYWxpemVkIiwib2ZmbGluZU1vZGUiLCJsYXN0VHlwaW5nRXZlbnQiLCJpc1R5cGluZyIsImRpc2Nvbm5lY3RlZCIsImdldENvbmZpZyIsImNvbmZpZ3MiLCJfc2VuZE1lc3NhZ2UiLCJfY2FsbGVlMiIsInNlbmRNZXNzYWdlUmVzcG9uc2UiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJwb3N0IiwiX2NoYW5uZWxVUkwiLCJzZW5kTWVzc2FnZSIsIl94MyIsInNlbmRGaWxlIiwic2VuZEltYWdlIiwiZGVsZXRlRmlsZSIsInVybCIsImRlbGV0ZSIsImRlbGV0ZUltYWdlIiwiX3NlbmRFdmVudCIsIl9jYWxsZWUzIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiX2NoZWNrSW5pdGlhbGl6ZWQiLCJzZW5kRXZlbnQiLCJfeDQiLCJfc2VhcmNoIiwiX2NhbGxlZTQiLCJwYXlsb2FkIiwiX2FyZ3M0IiwiX2NhbGxlZTQkIiwiX2NvbnRleHQ0Iiwib2Zmc2V0IiwiZmlsdGVyX2NvbmRpdGlvbnMiLCJtZXNzYWdlX2ZpbHRlcl9jb25kaXRpb25zIiwid3NQcm9taXNlIiwic2VhcmNoIiwiX3g1IiwiX3F1ZXJ5TWVtYmVycyIsIl9jYWxsZWU1IiwiZmlsdGVyQ29uZGl0aW9ucyIsIl90aGlzJGRhdGEiLCJfYXJnczUiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCJxdWVyeU1lbWJlcnMiLCJfeDYiLCJfc2VuZFJlYWN0aW9uIiwiX2NhbGxlZTYiLCJtZXNzYWdlSUQiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJzZW5kUmVhY3Rpb24iLCJfeDciLCJfeDgiLCJfeDkiLCJkZWxldGVSZWFjdGlvbiIsInJlYWN0aW9uVHlwZSIsIl91cGRhdGUyIiwiX2NhbGxlZTciLCJjaGFubmVsRGF0YSIsInVwZGF0ZU1lc3NhZ2UiLCJyZXNlcnZlZCIsIl9hcmdzNyIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsIl91cGRhdGUiLCJ1cGRhdGUiLCJfdXBkYXRlUGFydGlhbCIsIl9jYWxsZWU4IiwiX2NhbGxlZTgkIiwiX2NvbnRleHQ4IiwicGF0Y2giLCJ1cGRhdGVQYXJ0aWFsIiwiX3gxMCIsIl9lbmFibGVTbG93TW9kZSIsIl9jYWxsZWU5IiwiY29vbERvd25JbnRlcnZhbCIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsImNvb2xkb3duIiwiZW5hYmxlU2xvd01vZGUiLCJfeDExIiwiX2Rpc2FibGVTbG93TW9kZSIsIl9jYWxsZWUxMCIsIl9jYWxsZWUxMCQiLCJfY29udGV4dDEwIiwiZGlzYWJsZVNsb3dNb2RlIiwiX2RlbGV0ZTIiLCJfY2FsbGVlMTEiLCJfYXJnczExIiwiX2NhbGxlZTExJCIsIl9jb250ZXh0MTEiLCJfZGVsZXRlIiwiX3RydW5jYXRlIiwiX2NhbGxlZTEyIiwiX2FyZ3MxMiIsIl9jYWxsZWUxMiQiLCJfY29udGV4dDEyIiwidHJ1bmNhdGUiLCJfYWNjZXB0SW52aXRlIiwiX2NhbGxlZTEzIiwiX2FyZ3MxMyIsIl9jYWxsZWUxMyQiLCJfY29udGV4dDEzIiwiYWNjZXB0X2ludml0ZSIsImFjY2VwdEludml0ZSIsIl9yZWplY3RJbnZpdGUiLCJfY2FsbGVlMTQiLCJfYXJnczE0IiwiX2NhbGxlZTE0JCIsIl9jb250ZXh0MTQiLCJyZWplY3RfaW52aXRlIiwicmVqZWN0SW52aXRlIiwiX2FkZE1lbWJlcnMiLCJfY2FsbGVlMTUiLCJfYXJnczE1IiwiX2NhbGxlZTE1JCIsIl9jb250ZXh0MTUiLCJhZGRfbWVtYmVycyIsImFkZE1lbWJlcnMiLCJfeDEyIiwiX3gxMyIsIl9hZGRNb2RlcmF0b3JzIiwiX2NhbGxlZTE2IiwiX2FyZ3MxNiIsIl9jYWxsZWUxNiQiLCJfY29udGV4dDE2IiwiYWRkX21vZGVyYXRvcnMiLCJhZGRNb2RlcmF0b3JzIiwiX3gxNCIsIl94MTUiLCJfYXNzaWduUm9sZXMiLCJfY2FsbGVlMTciLCJfYXJnczE3IiwiX2NhbGxlZTE3JCIsIl9jb250ZXh0MTciLCJhc3NpZ25fcm9sZXMiLCJhc3NpZ25Sb2xlcyIsIl94MTYiLCJfeDE3IiwiX2ludml0ZU1lbWJlcnMiLCJfY2FsbGVlMTgiLCJfYXJnczE4IiwiX2NhbGxlZTE4JCIsIl9jb250ZXh0MTgiLCJpbnZpdGVzIiwiaW52aXRlTWVtYmVycyIsIl94MTgiLCJfeDE5IiwiX3JlbW92ZU1lbWJlcnMiLCJfY2FsbGVlMTkiLCJfYXJnczE5IiwiX2NhbGxlZTE5JCIsIl9jb250ZXh0MTkiLCJyZW1vdmVfbWVtYmVycyIsInJlbW92ZU1lbWJlcnMiLCJfeDIwIiwiX3gyMSIsIl9kZW1vdGVNb2RlcmF0b3JzIiwiX2NhbGxlZTIwIiwiX2FyZ3MyMCIsIl9jYWxsZWUyMCQiLCJfY29udGV4dDIwIiwiZGVtb3RlX21vZGVyYXRvcnMiLCJkZW1vdGVNb2RlcmF0b3JzIiwiX3gyMiIsIl94MjMiLCJfdXBkYXRlMyIsIl9jYWxsZWUyMSIsIl9jYWxsZWUyMSQiLCJfY29udGV4dDIxIiwiX3gyNCIsIl9tdXRlIiwiX2NhbGxlZTIyIiwib3B0cyIsIl9hcmdzMjIiLCJfY2FsbGVlMjIkIiwiX2NvbnRleHQyMiIsImNoYW5uZWxfY2lkIiwibXV0ZSIsIl91bm11dGUiLCJfY2FsbGVlMjMiLCJfYXJnczIzIiwiX2NhbGxlZTIzJCIsIl9jb250ZXh0MjMiLCJ1bm11dGUiLCJtdXRlU3RhdHVzIiwiX211dGVTdGF0dXMiLCJzZW5kQWN0aW9uIiwiZm9ybURhdGEiLCJtZXNzYWdlX2lkIiwiZm9ybV9kYXRhIiwiX2tleXN0cm9rZSIsIl9jYWxsZWUyNCIsIl90aGlzJGdldENvbmZpZyIsImRpZmYiLCJfY2FsbGVlMjQkIiwiX2NvbnRleHQyNCIsInR5cGluZ19ldmVudHMiLCJsYXN0S2V5U3Ryb2tlIiwia2V5c3Ryb2tlIiwiX3gyNSIsIl9zdG9wVHlwaW5nIiwiX2NhbGxlZTI1IiwiX3RoaXMkZ2V0Q29uZmlnMiIsIl9jYWxsZWUyNSQiLCJfY29udGV4dDI1Iiwic3RvcFR5cGluZyIsIl94MjYiLCJsYXN0TWVzc2FnZSIsIm1lc3NhZ2VTbGljZSIsIl9tYXJrUmVhZCIsIl9jYWxsZWUyNiIsIl90aGlzJGdldENvbmZpZzMiLCJfYXJnczI2IiwiX2NhbGxlZTI2JCIsIl9jb250ZXh0MjYiLCJyZWFkX2V2ZW50cyIsInJlc29sdmUiLCJtYXJrUmVhZCIsIl9tYXJrVW5yZWFkIiwiX2NhbGxlZTI3IiwiX3RoaXMkZ2V0Q29uZmlnNCIsIl9jYWxsZWUyNyQiLCJfY29udGV4dDI3IiwibWFya1VucmVhZCIsIl94MjciLCJfd2F0Y2giLCJfY2FsbGVlMjgiLCJjb21iaW5lZCIsIl9jYWxsZWUyOCQiLCJfY29udGV4dDI4IiwiX2hhc0Nvbm5lY3Rpb25JRCIsImxvZ2dlciIsInRhZ3MiLCJfeDI4IiwiX3N0b3BXYXRjaGluZyIsIl9jYWxsZWUyOSIsInJlc3BvbnNlIiwiX2NhbGxlZTI5JCIsIl9jb250ZXh0MjkiLCJzdG9wV2F0Y2hpbmciLCJfZ2V0UmVwbGllcyIsIl9jYWxsZWUzMCIsIl9jYWxsZWUzMCQiLCJfY29udGV4dDMwIiwiX3gyOSIsIl94MzAiLCJfZ2V0UGlubmVkTWVzc2FnZXMiLCJfY2FsbGVlMzEiLCJfYXJnczMxIiwiX2NhbGxlZTMxJCIsIl9jb250ZXh0MzEiLCJnZXRQaW5uZWRNZXNzYWdlcyIsIl94MzEiLCJnZXRSZWFjdGlvbnMiLCJnZXRNZXNzYWdlc0J5SWQiLCJtZXNzYWdlSWRzIiwiaWRzIiwibGFzdFJlYWQiLCJfdGhpcyRnZXRDbGllbnQiLCJsYXN0X3JlYWQiLCJfY291bnRNZXNzYWdlQXNVbnJlYWQiLCJfbWVzc2FnZSR1c2VyIiwiX21lc3NhZ2UkdXNlcjIiLCJfdGhpcyRkYXRhMiIsIl90aGlzJGRhdGEzIiwic2lsZW50IiwidXNlck11dGVTdGF0dXMiLCJvd25fY2FwYWJpbGl0aWVzIiwiaW5jbHVkZXMiLCJtdXRlZCIsImNvdW50VW5yZWFkIiwiY291bnQiLCJjb3VudFVucmVhZE1lbnRpb25zIiwiX21lc3NhZ2UkbWVudGlvbmVkX3VzIiwiX3F1ZXJ5IiwiX2NhbGxlZTMyIiwiX3RoaXMkZGF0YTQiLCJfdGhpcyRkYXRhNSIsInF1ZXJ5VVJMIiwibWVtYmVyc1N0ciIsInRlbXBDaGFubmVsQ2lkIiwiX3RoaXMkX2luaXRpYWxpemVTdGF0IiwiYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCIsIl9hcmdzMzIiLCJfY2FsbGVlMzIkIiwiX2NvbnRleHQzMiIsIm1lbWJlciIsIl9tZW1iZXIkdXNlciIsImFjdGl2ZUNoYW5uZWxzIiwiX2FkZENoYW5uZWxDb25maWciLCJfaW5pdGlhbGl6ZVN0YXRlIiwicXVlcmllZENoYW5uZWxzIiwiY2hhbm5lbHMiLCJpc0xhdGVzdE1lc3NhZ2VTZXQiLCJfeDMyIiwiX2JhblVzZXIiLCJfY2FsbGVlMzMiLCJ0YXJnZXRVc2VySUQiLCJfY2FsbGVlMzMkIiwiX2NvbnRleHQzMyIsImJhblVzZXIiLCJfeDMzIiwiX3gzNCIsIl9oaWRlIiwiX2NhbGxlZTM0IiwidXNlcklkIiwiY2xlYXJIaXN0b3J5IiwiX2FyZ3MzNCIsIl9jYWxsZWUzNCQiLCJfY29udGV4dDM0IiwiY2xlYXJfaGlzdG9yeSIsImhpZGUiLCJfc2hvdyIsIl9jYWxsZWUzNSIsIl9hcmdzMzUiLCJfY2FsbGVlMzUkIiwiX2NvbnRleHQzNSIsInNob3ciLCJfdW5iYW5Vc2VyIiwiX2NhbGxlZTM2IiwiX2NhbGxlZTM2JCIsIl9jb250ZXh0MzYiLCJ1bmJhblVzZXIiLCJfeDM1IiwiX3NoYWRvd0JhbiIsIl9jYWxsZWUzNyIsIl9jYWxsZWUzNyQiLCJfY29udGV4dDM3Iiwic2hhZG93QmFuIiwiX3gzNiIsIl94MzciLCJfcmVtb3ZlU2hhZG93QmFuIiwiX2NhbGxlZTM4IiwiX2NhbGxlZTM4JCIsIl9jb250ZXh0MzgiLCJyZW1vdmVTaGFkb3dCYW4iLCJfeDM4IiwiX2NyZWF0ZUNhbGwiLCJfY2FsbGVlMzkiLCJfY2FsbGVlMzkkIiwiX2NvbnRleHQzOSIsImNyZWF0ZUNhbGwiLCJfeDM5Iiwib24iLCJjYWxsYmFja09yU3RyaW5nIiwiY2FsbGJhY2tPck5vdGhpbmciLCJ1bnN1YnNjcmliZSIsImVsIiwib2ZmIiwiX2hhbmRsZUNoYW5uZWxFdmVudCIsIl9ldmVudCR1c2VyIiwiX2V2ZW50JHVzZXIyIiwiX2V2ZW50JHVzZXIzIiwiX2V2ZW50JHVzZXI1IiwiX2V2ZW50JHVzZXI2IiwiX2V2ZW50JGNoYW5uZWwiLCJfZXZlbnQkbWVtYmVyIiwiX2V2ZW50JHVzZXI5IiwiX2V2ZW50JHVzZXIxMCIsIl9jaGFubmVsU3RhdGUkbWVtYmVycyIsIl9ldmVudCR1c2VyMTEiLCJfY2hhbm5lbFN0YXRlJG1lbWJlcnMyIiwiY2hhbm5lbFN0YXRlIiwiX2V2ZW50JHVzZXI0IiwiX3RoaXMkZ2V0Q2xpZW50JHVzZXIiLCJsYXN0X3JlYWRfbWVzc2FnZV9pZCIsInVucmVhZF9tZXNzYWdlcyIsIl9leHRlbmRFdmVudFdpdGhPd25SZWFjdGlvbnMiLCJoYXJkX2RlbGV0ZSIsIl9ldmVudCR1c2VyNyIsIl90aGlzJGdldENsaWVudCR1c2VyMiIsIl9ldmVudCR1c2VyOCIsIm93bk1lc3NhZ2UiLCJpc1RocmVhZE1lc3NhZ2UiLCJ0cnVuY2F0ZWRfYXQiLCJ0cnVuY2F0ZWRBdCIsIl9yZWYyIiwiY3JlYXRlZEF0IiwiX3JlZjMiLCJfZXZlbnQkY2hhbm5lbDIiLCJfY2hhbm5lbCRkYXRhIiwiX2V2ZW50JGNoYW5uZWwkaGlkZGVuIiwiX2V2ZW50JGNoYW5uZWwzIiwiX2NoYW5uZWwkZGF0YTIiLCJfZXZlbnQkY2hhbm5lbCRvd25fY2EiLCJfZXZlbnQkY2hhbm5lbDQiLCJfY2hhbm5lbCRkYXRhMyIsImlzRnJvemVuQ2hhbmdlZCIsImZyb3plbiIsImhpZGRlbiIsInNoYWRvd19iYW5uZWQiLCJzaGFkb3ciLCJiYW5uZWQiLCJfaXNVc2luZ1NlcnZlckF1dGgiLCJfdGhpcyRnZXRDbGllbnQyIiwiY2xpZW50U3RhdGUiLCJfdGhpcyRzdGF0ZSRhZGRNZXNzYWciLCJwaW5uZWRfbWVzc2FnZXMiLCJfaXRlcmF0b3IyIiwiX3N0ZXAyIiwid2F0Y2hlciIsIl9pdGVyYXRvcjMiLCJfc3RlcDMiLCJfcmVhZCR1bnJlYWRfbWVzc2FnZXMiLCJyZWR1Y2UiLCJhY2MiLCJfZGlzY29ubmVjdCIsInNldElzVXBUb0RhdGUiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxIiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEiLCJfYXJyYXlMaWtlVG9BcnJheSQxIiwiQ2xpZW50U3RhdGUiLCJ1c2VycyIsInVzZXJDaGFubmVsUmVmZXJlbmNlcyIsInVwZGF0ZVVzZXJzIiwidXBkYXRlVXNlciIsImNoYW5uZWxJRCIsImRlbGV0ZUFsbENoYW5uZWxSZWZlcmVuY2UiLCJvd25LZXlzJDQiLCJfb2JqZWN0U3ByZWFkJDQiLCJJbnNpZ2h0TWV0cmljcyIsImNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcCIsIndzVG90YWxGYWlsdXJlcyIsIndzQ29uc2VjdXRpdmVGYWlsdXJlcyIsImluc3RhbmNlQ2xpZW50SWQiLCJwb3N0SW5zaWdodHMiLCJpbnNpZ2h0VHlwZSIsImluc2lnaHRzIiwibWF4QXR0ZW1wdHMiLCJ0MCIsImJ1aWxkV3NGYXRhbEluc2lnaHQiLCJjb25uZWN0aW9uIiwiYnVpbGRXc0Jhc2VJbnNpZ2h0IiwiX2Nvbm5lY3Rpb24kd3MiLCJfbmF2aWdhdG9yIiwiX25hdmlnYXRvcjIiLCJyZWFkeV9zdGF0ZSIsIndzIiwicmVhZHlTdGF0ZSIsIl9idWlsZFVybCIsImFwaV9rZXkiLCJzdGFydF90cyIsImluc2lnaHRNZXRyaWNzIiwiZW5kX3RzIiwiYXV0aF90eXBlIiwiZ2V0QXV0aFR5cGUiLCJ0b2tlbiIsInRva2VuTWFuYWdlciIsInVzZXJfZGV0YWlscyIsIl91c2VyIiwiZGV2aWNlIiwiY2xpZW50X2lkIiwiY29ubmVjdGlvbklEIiwid3NfZGV0YWlscyIsIndzX2NvbnNlY3V0aXZlX2ZhaWx1cmVzIiwid3NfdG90YWxfZmFpbHVyZXMiLCJyZXF1ZXN0X2lkIiwicmVxdWVzdElEIiwib25saW5lIiwidXNlcl9hZ2VudCIsInVzZXJBZ2VudCIsImluc3RhbmNlX2NsaWVudF9pZCIsImJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodCIsIm93bktleXMkMyIsIl9vYmplY3RTcHJlYWQkMyIsImlzQ2xvc2VFdmVudCIsImNvZGUiLCJpc0Vycm9yRXZlbnQiLCJTdGFibGVXU0Nvbm5lY3Rpb24iLCJxcyIsIl9idWlsZFdTUGF5bG9hZCIsImdldFRva2VuIiwid3NCYXNlVVJMIiwiZ2V0VXNlckFnZW50IiwiX2xvZyIsIl9zZXRIZWFsdGgiLCJpc0hlYWx0aHkiLCJfcmVjb25uZWN0IiwiaW50ZXJ2YWwiLCJ3c0lEIiwicGFyc2UiLCJpc1Jlc29sdmVkIiwiX3RoaXMkcmVzb2x2ZVByb21pc2UiLCJfdGhpcyRyZWplY3RQcm9taXNlIiwicmVqZWN0UHJvbWlzZSIsIl9lcnJvckZyb21XU0V2ZW50IiwicmVzb2x2ZVByb21pc2UiLCJzY2hlZHVsZU5leHRQaW5nIiwiaGFuZGxlRXZlbnQiLCJzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayIsIl90aGlzJHJlamVjdFByb21pc2UyIiwicmVhc29uIiwid2FzQ2xlYW4iLCJfdGhpcyRyZWplY3RQcm9taXNlMyIsImNvbnNlY3V0aXZlRmFpbHVyZXMiLCJ0b3RhbEZhaWx1cmVzIiwiaXNDb25uZWN0aW5nIiwiX3RoaXMkcmVqZWN0UHJvbWlzZTQiLCJoZWFsdGh5IiwiaXNXU0ZhaWx1cmUiLCJzdGF0dXNDb2RlIiwiU3RhdHVzQ29kZSIsImNvbm5lY3Rpb25PcGVuIiwicmVqZWN0IiwiaGVhbHRoQ2hlY2tUaW1lb3V0UmVmIiwiY2xlYXJUaW1lb3V0IiwiY2xpZW50SUQiLCJfdGhpcyR3cyIsInNlbmQiLCJwaW5nSW50ZXJ2YWwiLCJjb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmIiwiY29ubmVjdGlvbkNoZWNrVGltZW91dCIsImlzRGlzY29ubmVjdGVkIiwib25saW5lU3RhdHVzQ2hhbmdlZCIsImV4dHJhIiwibGV2ZWwiLCJzZXRDbGllbnQiLCJfY29ubmVjdDIiLCJ0aW1lb3V0IiwiaGVhbHRoQ2hlY2siLCJfY29ubmVjdCIsImlzU3RhdGljIiwicmVmcmVzaFRva2VuIiwiX3dhaXRGb3JIZWFsdGh5IiwiY29ubmVjdCIsIl93YWl0Rm9ySGVhbHRoeTIiLCJyYWNlIiwiZGlzY29ubmVjdCIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJpc0Nsb3NlZFByb21pc2UiLCJjbG9zZSIsIk9QRU4iLCJvbmNsb3NlIiwiX2Nvbm5lY3QzIiwiaXNUb2tlblJlYWR5Iiwid3NVUkwiLCJlbmFibGVXU0ZhbGxiYWNrIiwidG9rZW5SZWFkeSIsImxvYWRUb2tlbiIsIl9zZXR1cENvbm5lY3Rpb25Qcm9taXNlIiwib25vcGVuIiwib25lcnJvciIsIm9ubWVzc2FnZSIsImNvbm5lY3Rpb25faWQiLCJlbmFibGVJbnNpZ2h0cyIsInQxIiwiX3JlY29ubmVjdDIiLCJfYXJnczYiLCJfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24iLCJyZWNvdmVyU3RhdGUiLCJfdGhpcyR3czIiLCJfdGhpcyR3czMiLCJvd25LZXlzJDIiLCJfb2JqZWN0U3ByZWFkJDIiLCJKV1RVc2VyVG9rZW4iLCJhcGlTZWNyZXQiLCJleHRyYURhdGEiLCJqd3RPcHRpb25zIiwic2lnbiIsImFsZ29yaXRobSIsIm5vVGltZXN0YW1wIiwiaWF0IiwiSldUU2VydmVyVG9rZW4iLCJzZXJ2ZXIiLCJVc2VyRnJvbVRva2VuIiwiZnJhZ21lbnRzIiwiYjY0UGF5bG9hZCIsIkRldlRva2VuIiwiQ2hlY2tTaWduYXR1cmUiLCJib2R5Iiwic2VjcmV0Iiwic2lnbmF0dXJlIiwiQnVmZmVyIiwiaGFzaCIsImNyZWF0ZUhtYWMiLCJkaWdlc3QiLCJ0aW1pbmdTYWZlRXF1YWwiLCJfdW51c2VkIiwiVG9rZW5NYW5hZ2VyIiwidG9rZW5PclByb3ZpZGVyIiwidmFsaWRhdGVUb2tlbiIsInRva2VuUHJvdmlkZXIiLCJsb2FkVG9rZW5Qcm9taXNlIiwiYW5vbiIsInRva2VuVXNlcklkIiwiQVBJRXJyb3JDb2RlcyIsInJldHJ5YWJsZSIsImlzQVBJRXJyb3IiLCJpc0Vycm9yUmV0cnlhYmxlIiwiaXNDb25uZWN0aW9uSURFcnJvciIsImlzRXJyb3JSZXNwb25zZSIsIm93bktleXMkMSIsIl9vYmplY3RTcHJlYWQkMSIsIkNvbm5lY3Rpb25TdGF0ZSIsIldTQ29ubmVjdGlvbkZhbGxiYWNrIiwiX3RoaXMkY2FuY2VsVG9rZW4iLCJfc2V0U3RhdGUiLCJDbG9zZWQiLCJjYW5jZWxUb2tlbiIsImNhbmNlbCIsImNvbmZpZyIsInJldHJ5IiwiX3RoaXMkY2FuY2VsVG9rZW4yIiwiQ2FuY2VsVG9rZW4iLCJkb0F4aW9zUmVxdWVzdCIsInJlcGxhY2UiLCJfcmVxIiwiX2RhdGEkZXZlbnRzIiwiQ29ubmVjdGVkIiwiZXZlbnRzIiwiaXNDYW5jZWwiLCJEaXNjb25uZWN0ZWQiLCJyZWNvbm5lY3QiLCJfeWllbGQkX3RoaXMkX3JlcSIsIl9hcmdzMyIsIkNvbm5lY3RpbmciLCJqc29uIiwiX3BvbGwiLCJfdGhpcyRjYW5jZWxUb2tlbjMiLCJfb25saW5lU3RhdHVzQ2hhbmdlZCIsIkluaXQiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiTmV3VGFyZ2V0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsInNoYW0iLCJQcm94eSIsIkJvb2xlYW4iLCJ2YWx1ZU9mIiwiRXJyb3JGcm9tUmVzcG9uc2UiLCJfRXJyb3IiLCJfc3VwZXIiLCJhcmdzIiwiX2tleSIsIl9leGNsdWRlZCIsIl9leGNsdWRlZDIiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9hcnJheUxpa2VUb0FycmF5Iiwib3duS2V5cyIsIl9vYmplY3RTcHJlYWQiLCJpc1N0cmluZyIsIlN0cmVhbUNoYXQiLCJzZWNyZXRPck9wdGlvbnMiLCJfb3B0aW9ucyIsIl90aGlzJG9wdGlvbnMiLCJfdGhpcyR3c0Nvbm5lY3Rpb24iLCJfdGhpcyR3c0ZhbGxiYWNrIiwid3NDb25uZWN0aW9uIiwid3NGYWxsYmFjayIsIl9nZXRDb25uZWN0aW9uSUQiLCJ1c2VyVG9rZW5PclByb3ZpZGVyIiwic2V0VG9rZW5Qcm9taXNlIiwic2V0VXNlclByb21pc2UiLCJub2RlIiwiYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdCIsImFub255bW91cyIsIl9zZXRUb2tlbiIsIl9zZXRVc2VyIiwib3BlbkNvbm5lY3Rpb24iLCJwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUiLCJjbG9zZUNvbm5lY3Rpb24iLCJkaXNjb25uZWN0VXNlciIsImNvbm5lY3RVc2VyIiwic2V0VG9rZW5PclByb3ZpZGVyIiwiX3RoaXMkd3NDb25uZWN0aW9uMiIsIl90aGlzJHdzRmFsbGJhY2syIiwiY2xlYW5pbmdJbnRlcnZhbFJlZiIsIl90aGlzJHdzQ29ubmVjdGlvbjMiLCJfdGhpcyR3c0Nvbm5lY3Rpb240IiwiX3RoaXMkd3NGYWxsYmFjazMiLCJfc3RhcnRDbGVhbmluZyIsImJlZm9yZSIsIl9yZWY0IiwiY2xvc2VQcm9taXNlIiwiX09iamVjdCR2YWx1ZXMiLCJ2YWx1ZXMiLCJyZXNldCIsImFub255bW91c1VzZXIiLCJfc2V0dXBDb25uZWN0aW9uIiwiY29ubmVjdEFub255bW91c1VzZXIiLCJfcmVmNSIsInJlcXVlc3RDb25maWciLCJfcmVxdWVzdENvbmZpZyRoZWFkZXIiLCJfZW5yaWNoQXhpb3NPcHRpb25zIiwiX2xvZ0FwaVJlcXVlc3QiLCJheGlvc0luc3RhbmNlIiwicG9zdEZvcm0iLCJwdXQiLCJfbG9nQXBpUmVzcG9uc2UiLCJoYW5kbGVSZXNwb25zZSIsImNsaWVudF9yZXF1ZXN0X2lkIiwiaGVhZGVycyIsIl9sb2dBcGlFcnJvciIsInBvc3RMaXN0ZW5lckNhbGxiYWNrcyIsIl9oYW5kbGVDbGllbnRFdmVudCIsIl9jYWxsQ2xpZW50TGlzdGVuZXJzIiwiX2NhbGxDaGFubmVsTGlzdGVuZXJzIiwibWVzc2FnZUV2ZW50IiwianNvblN0cmluZyIsInJlZk1hcCIsIl9jaGFubmVsSUQiLCJfY2hhbm5lbDIiLCJfdXBkYXRlTWVtYmVyV2F0Y2hlclJlZmVyZW5jZXMiLCJfY2hhbm5lbElEMiIsIl9jaGFubmVsMyIsInVwZGF0ZVVzZXJNZXNzYWdlcyIsIl9jaGFubmVsSUQzIiwiX2NoYW5uZWw0IiwiZGVsZXRlVXNlck1lc3NhZ2VzIiwiX2tleTIiLCJfa2V5MyIsIl91cGRhdGVVc2VyTWVzc2FnZVJlZmVyZW5jZXMiLCJtYXJrX21lc3NhZ2VzX2RlbGV0ZWQiLCJfZGVsZXRlVXNlck1lc3NhZ2VSZWZlcmVuY2UiLCJfaTIiLCJjaWRzIiwicmVjb3ZlclN0YXRlT25SZWNvbm5lY3QiLCJxdWVyeUNoYW5uZWxzIiwiJGluIiwiY2hhbm5lbFR5cGUiLCJjdXN0b20iLCJ0ZW1wQ2lkIiwiX2tleTQiLCJfY2hhbm5lbDUiLCJtZW1iZXJzU3RySW5FeGlzdGluZ0NoYW5uZWwiLCJfY2hhbm5lbDYiLCJ1cHNlcnRVc2VycyIsInVwc2VydFVzZXIiLCJ1bmJsb2NrTWVzc2FnZSIsIm1hcmtDaGFubmVsc1JlYWQiLCJtdXRlZENoYW5uZWxzIiwiaW5wdXRPcHRpb25zIiwiYnJvd3NlciIsIndpdGhDcmVkZW50aWFscyIsIndhcm1VcCIsImh0dHBzQWdlbnQiLCJBZ2VudCIsImtlZXBBbGl2ZSIsImtlZXBBbGl2ZU1zZWNzIiwiY3JlYXRlIiwic2V0QmFzZVVSTCIsInByb2Nlc3MiLCJlbnYiLCJTVFJFQU1fTE9DQUxfVEVTVF9SVU4iLCJTVFJFQU1fTE9DQUxfVEVTVF9IT1NUIiwiZGVmYXVsdFdTVGltZW91dFdpdGhGYWxsYmFjayIsImRlZmF1bHRXU1RpbWVvdXQiLCJkZWZhdWx0cyIsInBhcmFtc1NlcmlhbGl6ZXIiLCJkZXZUb2tlbiIsIl91cGRhdGVBcHBTZXR0aW5ncyIsImFwbl9jb25maWciLCJwMTJfY2VydCIsInVwZGF0ZUFwcFNldHRpbmdzIiwiX3Jldm9rZVRva2VucyIsInJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZSIsIl9ub3JtYWxpemVEYXRlIiwicmV2b2tlVG9rZW5zIiwiX3Jldm9rZVVzZXJUb2tlbiIsInJldm9rZVVzZXJzVG9rZW4iLCJyZXZva2VVc2VyVG9rZW4iLCJfcmV2b2tlVXNlcnNUb2tlbiIsInVzZXJJRHMiLCJwYXJ0aWFsVXBkYXRlVXNlcnMiLCJfZ2V0QXBwU2V0dGluZ3MiLCJnZXRBcHBTZXR0aW5ncyIsIl90ZXN0UHVzaFNldHRpbmdzIiwiYXBuVGVtcGxhdGUiLCJhcG5fdGVtcGxhdGUiLCJmaXJlYmFzZVRlbXBsYXRlIiwiZmlyZWJhc2VfdGVtcGxhdGUiLCJmaXJlYmFzZURhdGFUZW1wbGF0ZSIsImZpcmViYXNlX2RhdGFfdGVtcGxhdGUiLCJza2lwRGV2aWNlcyIsInNraXBfZGV2aWNlcyIsInB1c2hQcm92aWRlck5hbWUiLCJwdXNoX3Byb3ZpZGVyX25hbWUiLCJwdXNoUHJvdmlkZXJUeXBlIiwicHVzaF9wcm92aWRlcl90eXBlIiwidGVzdFB1c2hTZXR0aW5ncyIsIl90ZXN0U1FTU2V0dGluZ3MiLCJ0ZXN0U1FTU2V0dGluZ3MiLCJfdGVzdFNOU1NldHRpbmdzIiwidGVzdFNOU1NldHRpbmdzIiwiX3NldEd1ZXN0VXNlciIsIl9yZXNwb25zZSR1c2VyIiwiZ3Vlc3RVc2VyIiwibGFzdF9hY3RpdmUiLCJhY2Nlc3NfdG9rZW4iLCJzZXRHdWVzdFVzZXIiLCJjcmVhdGVUb2tlbiIsImV4cCIsImdldEhlYWRlcnMiLCJtYXhDb250ZW50TGVuZ3RoIiwiSW5maW5pdHkiLCJtYXhCb2R5TGVuZ3RoIiwiZXJyb3JGcm9tUmVzcG9uc2UiLCJfZXZlbnQkbWUiLCJfZXZlbnQkbWUyIiwiX2hhbmRsZVVzZXJFdmVudCIsIm1lIiwiY3VycmVudE11dGVkQ2hhbm5lbElkcyIsIm5leHRNdXRlZENoYW5uZWxJZHMiLCJhY3RpdmVDaGFubmVsS2V5cyIsImFjdGl2ZUNoYW5uZWxLZXkiLCJfdGhpcyRhY3RpdmVDaGFubmVscyQiLCJfbXV0ZSRjaGFubmVsIiwiZXhwaXJlcyIsImV4cGlyZXNBdCIsIl9zYXlIaSIsIm1vZGUiLCJfcXVlcnlVc2VycyIsInF1ZXJ5VXNlcnMiLCJfcXVlcnlCYW5uZWRVc2VycyIsInF1ZXJ5QmFubmVkVXNlcnMiLCJfcXVlcnlNZXNzYWdlRmxhZ3MiLCJxdWVyeU1lc3NhZ2VGbGFncyIsIl9xdWVyeUNoYW5uZWxzIiwic3RhdGVPcHRpb25zIiwiaHlkcmF0ZUFjdGl2ZUNoYW5uZWxzIiwiY2hhbm5lbHNGcm9tQXBpIiwic2tpcEluaXRpYWxpemF0aW9uIiwiX3N0YXRlT3B0aW9ucyRvZmZsaW5lIiwiX2NoYW5uZWxTdGF0ZSIsIl9hcmdzMjEiLCJzZXRMb2NhbERldmljZSIsIl90aGlzJHdzQ29ubmVjdGlvbjUiLCJfdGhpcyR3c0Nvbm5lY3Rpb242IiwiX3RoaXMkd3NGYWxsYmFjazQiLCJfYWRkRGV2aWNlIiwicHVzaF9wcm92aWRlciIsImFkZERldmljZSIsIl9nZXREZXZpY2VzIiwiZ2V0RGV2aWNlcyIsIl9nZXRVbnJlYWRDb3VudCIsImdldFVucmVhZENvdW50IiwiX3JlbW92ZURldmljZSIsInJlbW92ZURldmljZSIsIl9nZXRSYXRlTGltaXRzIiwiX3JlZjciLCJzZXJ2ZXJTaWRlIiwid2ViIiwiYW5kcm9pZCIsImlvcyIsImVuZHBvaW50cyIsInNlcnZlcl9zaWRlIiwiZ2V0UmF0ZUxpbWl0cyIsIl9yZWY4IiwiY2hhbm5lbElET3JDdXN0b20iLCJfY3VzdG9tJG1lbWJlcnMiLCJnZXRDaGFubmVsQnlNZW1iZXJzIiwiZ2V0Q2hhbm5lbEJ5SWQiLCJfcGFydGlhbFVwZGF0ZVVzZXIiLCJwYXJ0aWFsVXNlck9iamVjdCIsInBhcnRpYWxVcGRhdGVVc2VyIiwiX3Vwc2VydFVzZXJzIiwidXNlck1hcCIsIl9pdGVyYXRvcjQiLCJfc3RlcDQiLCJ1c2VyT2JqZWN0IiwiZmluaXNoIiwiX3BhcnRpYWxVcGRhdGVVc2VycyIsIl9pdGVyYXRvcjUiLCJfc3RlcDUiLCJfZGVsZXRlVXNlciIsImRlbGV0ZVVzZXIiLCJfcmVzdG9yZVVzZXJzIiwidXNlcl9pZHMiLCJyZXN0b3JlVXNlcnMiLCJfcmVhY3RpdmF0ZVVzZXIiLCJyZWFjdGl2YXRlVXNlciIsIl9yZWFjdGl2YXRlVXNlcnMiLCJyZWFjdGl2YXRlVXNlcnMiLCJfZGVhY3RpdmF0ZVVzZXIiLCJkZWFjdGl2YXRlVXNlciIsIl94NDAiLCJfZGVhY3RpdmF0ZVVzZXJzIiwiZGVhY3RpdmF0ZVVzZXJzIiwiX3g0MSIsIl94NDIiLCJfZXhwb3J0VXNlciIsImV4cG9ydFVzZXIiLCJfeDQzIiwiX3g0NCIsInRhcmdldF91c2VyX2lkIiwiX3g0NSIsIl94NDYiLCJfeDQ3IiwiX3g0OCIsIl94NDkiLCJfeDUwIiwiX2NhbGxlZTQwIiwiX2NhbGxlZTQwJCIsIl9jb250ZXh0NDAiLCJfeDUxIiwiX3g1MiIsIl9tdXRlVXNlciIsIl9jYWxsZWU0MSIsInRhcmdldElEIiwiX2FyZ3M0MSIsIl9jYWxsZWU0MSQiLCJfY29udGV4dDQxIiwidGFyZ2V0X2lkIiwibXV0ZVVzZXIiLCJfeDUzIiwiX3g1NCIsIl91bm11dGVVc2VyIiwiX2NhbGxlZTQyIiwiY3VycmVudFVzZXJJRCIsIl9jYWxsZWU0MiQiLCJfY29udGV4dDQyIiwidW5tdXRlVXNlciIsIl94NTUiLCJfeDU2IiwiX2ZsYWdNZXNzYWdlIiwiX2NhbGxlZTQzIiwidGFyZ2V0TWVzc2FnZUlEIiwiX2FyZ3M0MyIsIl9jYWxsZWU0MyQiLCJfY29udGV4dDQzIiwidGFyZ2V0X21lc3NhZ2VfaWQiLCJmbGFnTWVzc2FnZSIsIl94NTciLCJfZmxhZ1VzZXIiLCJfY2FsbGVlNDQiLCJfYXJnczQ0IiwiX2NhbGxlZTQ0JCIsIl9jb250ZXh0NDQiLCJmbGFnVXNlciIsIl94NTgiLCJfdW5mbGFnTWVzc2FnZSIsIl9jYWxsZWU0NSIsIl9hcmdzNDUiLCJfY2FsbGVlNDUkIiwiX2NvbnRleHQ0NSIsInVuZmxhZ01lc3NhZ2UiLCJfeDU5IiwiX3VuZmxhZ1VzZXIiLCJfY2FsbGVlNDYiLCJfYXJnczQ2IiwiX2NhbGxlZTQ2JCIsIl9jb250ZXh0NDYiLCJ1bmZsYWdVc2VyIiwiX3g2MCIsIl9nZXRDYWxsVG9rZW4iLCJfY2FsbGVlNDciLCJjYWxsSUQiLCJfYXJnczQ3IiwiX2NhbGxlZTQ3JCIsIl9jb250ZXh0NDciLCJnZXRDYWxsVG9rZW4iLCJfeDYxIiwiX3F1ZXJ5RmxhZ3MyIiwiX2NhbGxlZTQ4IiwiX2FyZ3M0OCIsIl9jYWxsZWU0OCQiLCJfY29udGV4dDQ4IiwiX3F1ZXJ5RmxhZ3MiLCJfcXVlcnlGbGFnUmVwb3J0czIiLCJfY2FsbGVlNDkiLCJfYXJnczQ5IiwiX2NhbGxlZTQ5JCIsIl9jb250ZXh0NDkiLCJfcXVlcnlGbGFnUmVwb3J0cyIsIl9yZXZpZXdGbGFnUmVwb3J0MiIsIl9jYWxsZWU1MCIsInJldmlld1Jlc3VsdCIsIl9hcmdzNTAiLCJfY2FsbGVlNTAkIiwiX2NvbnRleHQ1MCIsInJldmlld19yZXN1bHQiLCJfcmV2aWV3RmxhZ1JlcG9ydCIsIl94NjIiLCJfeDYzIiwiX3VuYmxvY2tNZXNzYWdlIiwiX2NhbGxlZTUxIiwiX2FyZ3M1MSIsIl9jYWxsZWU1MSQiLCJfY29udGV4dDUxIiwiX3g2NCIsIl9tYXJrQ2hhbm5lbHNSZWFkIiwiX2NhbGxlZTUyIiwiX2FyZ3M1MiIsIl9jYWxsZWU1MiQiLCJfY29udGV4dDUyIiwiY3JlYXRlQ29tbWFuZCIsImdldENvbW1hbmQiLCJ1cGRhdGVDb21tYW5kIiwiZGVsZXRlQ29tbWFuZCIsImxpc3RDb21tYW5kcyIsImNyZWF0ZUNoYW5uZWxUeXBlIiwiY29tbWFuZHMiLCJnZXRDaGFubmVsVHlwZSIsInVwZGF0ZUNoYW5uZWxUeXBlIiwiZGVsZXRlQ2hhbm5lbFR5cGUiLCJsaXN0Q2hhbm5lbFR5cGVzIiwiX3RyYW5zbGF0ZU1lc3NhZ2UiLCJfY2FsbGVlNTMiLCJsYW5ndWFnZSIsIl9jYWxsZWU1MyQiLCJfY29udGV4dDUzIiwidHJhbnNsYXRlTWVzc2FnZSIsIl94NjUiLCJfeDY2IiwiX25vcm1hbGl6ZUV4cGlyYXRpb24iLCJ0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZSIsInBpbkV4cGlyZXMiLCJzZXRTZWNvbmRzIiwiZ2V0U2Vjb25kcyIsIl92YWxpZGF0ZUFuZEdldE1lc3NhZ2VJZCIsIm1lc3NhZ2VPck1lc3NhZ2VJZCIsImVycm9yVGV4dCIsInBpbk1lc3NhZ2UiLCJwaW5uZWRCeSIsInBpbm5lZEF0IiwicGFydGlhbFVwZGF0ZU1lc3NhZ2UiLCJwaW5fZXhwaXJlcyIsInVucGluTWVzc2FnZSIsIl9jYWxsZWU1NCIsImNsb25lZE1lc3NhZ2UiLCJyZXNlcnZlZE1lc3NhZ2VGaWVsZHMiLCJfY2FsbGVlNTQkIiwiX2NvbnRleHQ1NCIsIm11IiwiX3g2NyIsIl94NjgiLCJfeDY5IiwiX3BhcnRpYWxVcGRhdGVNZXNzYWdlIiwiX2NhbGxlZTU1IiwicGFydGlhbE1lc3NhZ2VPYmplY3QiLCJfY2FsbGVlNTUkIiwiX2NvbnRleHQ1NSIsIl94NzAiLCJfeDcxIiwiX3g3MiIsIl94NzMiLCJfZGVsZXRlTWVzc2FnZSIsIl9jYWxsZWU1NiIsIl9jYWxsZWU1NiQiLCJfY29udGV4dDU2IiwiaGFyZCIsImRlbGV0ZU1lc3NhZ2UiLCJfeDc0IiwiX3g3NSIsIl9nZXRNZXNzYWdlIiwiX2NhbGxlZTU3IiwiX2NhbGxlZTU3JCIsIl9jb250ZXh0NTciLCJnZXRNZXNzYWdlIiwiX3g3NiIsInNldFVzZXJBZ2VudCIsIl9vcHRpb25zJGhlYWRlcnMiLCJfZ2V0VG9rZW4iLCJhdXRob3JpemF0aW9uIiwiQXV0aG9yaXphdGlvbiIsInNpZ25hbCIsIm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyIiwiX3JlZjkiLCJheGlvc1JlcXVlc3RDb25maWciLCJheGlvc1JlcXVlc3RDb25maWdQYXJhbXMiLCJheGlvc1JlcXVlc3RDb25maWdIZWFkZXJzIiwiYXhpb3NSZXF1ZXN0Q29uZmlnUmVzdCIsInRoYXQiLCJzZXRJbnRlcnZhbCIsIl9pMyIsIl9PYmplY3QkdmFsdWVzMiIsIl9jaGFubmVsNyIsInZlcmlmeVdlYmhvb2siLCJyZXF1ZXN0Qm9keSIsInhTaWduYXR1cmUiLCJnZXRQZXJtaXNzaW9uIiwiY3JlYXRlUGVybWlzc2lvbiIsInBlcm1pc3Npb25EYXRhIiwidXBkYXRlUGVybWlzc2lvbiIsImRlbGV0ZVBlcm1pc3Npb24iLCJsaXN0UGVybWlzc2lvbnMiLCJjcmVhdGVSb2xlIiwibGlzdFJvbGVzIiwiZGVsZXRlUm9sZSIsInN5bmMiLCJjaGFubmVsX2NpZHMiLCJsYXN0X3N5bmNfYXQiLCJfc2VuZFVzZXJDdXN0b21FdmVudCIsIl9jYWxsZWU1OCIsIl9jYWxsZWU1OCQiLCJfY29udGV4dDU4Iiwic2VuZFVzZXJDdXN0b21FdmVudCIsIl94NzciLCJfeDc4IiwiY3JlYXRlQmxvY2tMaXN0IiwiYmxvY2tMaXN0IiwibGlzdEJsb2NrTGlzdHMiLCJnZXRCbG9ja0xpc3QiLCJ1cGRhdGVCbG9ja0xpc3QiLCJkZWxldGVCbG9ja0xpc3QiLCJleHBvcnRDaGFubmVscyIsInJlcXVlc3QiLCJleHBvcnRVc2VycyIsImV4cG9ydENoYW5uZWwiLCJnZXRFeHBvcnRDaGFubmVsU3RhdHVzIiwiX2NyZWF0ZVNlZ21lbnQiLCJfY2FsbGVlNTkiLCJfeWllbGQkdGhpcyRwb3N0Iiwic2VnbWVudCIsIl9jYWxsZWU1OSQiLCJfY29udGV4dDU5IiwiY3JlYXRlU2VnbWVudCIsIl94NzkiLCJfcXVlcnlTZWdtZW50cyIsIl9jYWxsZWU2MCIsImZpbHRlcnMiLCJfYXJnczYwIiwiX2NhbGxlZTYwJCIsIl9jb250ZXh0NjAiLCJxdWVyeVNlZ21lbnRzIiwiX3g4MCIsIl91cGRhdGVTZWdtZW50IiwiX2NhbGxlZTYxIiwiX3lpZWxkJHRoaXMkcHV0IiwiX2NhbGxlZTYxJCIsIl9jb250ZXh0NjEiLCJ1cGRhdGVTZWdtZW50IiwiX3g4MSIsIl94ODIiLCJfZGVsZXRlU2VnbWVudCIsIl9jYWxsZWU2MiIsIl9jYWxsZWU2MiQiLCJfY29udGV4dDYyIiwiZGVsZXRlU2VnbWVudCIsIl94ODMiLCJfY3JlYXRlQ2FtcGFpZ24iLCJfY2FsbGVlNjMiLCJfeWllbGQkdGhpcyRwb3N0MiIsImNhbXBhaWduIiwiX2NhbGxlZTYzJCIsIl9jb250ZXh0NjMiLCJjcmVhdGVDYW1wYWlnbiIsIl94ODQiLCJfcXVlcnlDYW1wYWlnbnMiLCJfY2FsbGVlNjQiLCJfYXJnczY0IiwiX2NhbGxlZTY0JCIsIl9jb250ZXh0NjQiLCJxdWVyeUNhbXBhaWducyIsIl94ODUiLCJfdXBkYXRlQ2FtcGFpZ24iLCJfY2FsbGVlNjUiLCJfeWllbGQkdGhpcyRwdXQyIiwiX2NhbGxlZTY1JCIsIl9jb250ZXh0NjUiLCJ1cGRhdGVDYW1wYWlnbiIsIl94ODYiLCJfeDg3IiwiX2RlbGV0ZUNhbXBhaWduIiwiX2NhbGxlZTY2IiwiX2FyZ3M2NiIsIl9jYWxsZWU2NiQiLCJfY29udGV4dDY2IiwiZGVsZXRlQ2FtcGFpZ24iLCJfeDg4IiwiX3NjaGVkdWxlQ2FtcGFpZ24iLCJfY2FsbGVlNjciLCJzY2hlZHVsZWRGb3IiLCJfeWllbGQkdGhpcyRwYXRjaCIsIl9jYWxsZWU2NyQiLCJfY29udGV4dDY3Iiwic2NoZWR1bGVkX2ZvciIsInNjaGVkdWxlQ2FtcGFpZ24iLCJfeDg5IiwiX3g5MCIsIl9zdG9wQ2FtcGFpZ24iLCJfY2FsbGVlNjgiLCJfeWllbGQkdGhpcyRwYXRjaDIiLCJfY2FsbGVlNjgkIiwiX2NvbnRleHQ2OCIsInN0b3BDYW1wYWlnbiIsIl94OTEiLCJfcmVzdW1lQ2FtcGFpZ24iLCJfY2FsbGVlNjkiLCJfeWllbGQkdGhpcyRwYXRjaDMiLCJfY2FsbGVlNjkkIiwiX2NvbnRleHQ2OSIsInJlc3VtZUNhbXBhaWduIiwiX3g5MiIsIl90ZXN0Q2FtcGFpZ24iLCJfY2FsbGVlNzAiLCJfY2FsbGVlNzAkIiwiX2NvbnRleHQ3MCIsInRlc3RDYW1wYWlnbiIsIl94OTMiLCJfeDk0IiwiX3F1ZXJ5UmVjaXBpZW50cyIsIl9jYWxsZWU3MSIsIl9hcmdzNzEiLCJfY2FsbGVlNzEkIiwiX2NvbnRleHQ3MSIsInF1ZXJ5UmVjaXBpZW50cyIsIl94OTUiLCJfZW5yaWNoVVJMIiwiX2NhbGxlZTcyIiwiX2NhbGxlZTcyJCIsIl9jb250ZXh0NzIiLCJlbnJpY2hVUkwiLCJfeDk2IiwiX2dldFRhc2siLCJfY2FsbGVlNzMiLCJfY2FsbGVlNzMkIiwiX2NvbnRleHQ3MyIsImdldFRhc2siLCJfeDk3IiwiX2RlbGV0ZUNoYW5uZWxzIiwiX2NhbGxlZTc0IiwiX2FyZ3M3NCIsIl9jYWxsZWU3NCQiLCJfY29udGV4dDc0IiwiZGVsZXRlQ2hhbm5lbHMiLCJfeDk4IiwiX2RlbGV0ZVVzZXJzIiwiX2NhbGxlZTc1IiwiX2FyZ3M3NSIsIl9jYWxsZWU3NSQiLCJfY29udGV4dDc1IiwiY29udmVyc2F0aW9ucyIsImRlbGV0ZVVzZXJzIiwiX3g5OSIsIl9jcmVhdGVJbXBvcnRVUkwyIiwiX2NhbGxlZTc2IiwiZmlsZW5hbWUiLCJfY2FsbGVlNzYkIiwiX2NvbnRleHQ3NiIsIl9jcmVhdGVJbXBvcnRVUkwiLCJfeDEwMCIsIl9jcmVhdGVJbXBvcnQyIiwiX2NhbGxlZTc3IiwicGF0aCIsIl9hcmdzNzciLCJfY2FsbGVlNzckIiwiX2NvbnRleHQ3NyIsIl9jcmVhdGVJbXBvcnQiLCJfeDEwMSIsIl9nZXRJbXBvcnQyIiwiX2NhbGxlZTc4IiwiX2NhbGxlZTc4JCIsIl9jb250ZXh0NzgiLCJfZ2V0SW1wb3J0IiwiX3gxMDIiLCJfbGlzdEltcG9ydHMyIiwiX2NhbGxlZTc5IiwiX2NhbGxlZTc5JCIsIl9jb250ZXh0NzkiLCJfbGlzdEltcG9ydHMiLCJfeDEwMyIsIl91cHNlcnRQdXNoUHJvdmlkZXIiLCJfY2FsbGVlODAiLCJwdXNoUHJvdmlkZXIiLCJfY2FsbGVlODAkIiwiX2NvbnRleHQ4MCIsInVwc2VydFB1c2hQcm92aWRlciIsIl94MTA0IiwiX2RlbGV0ZVB1c2hQcm92aWRlciIsIl9jYWxsZWU4MSIsIl9yZWYxMCIsIl9jYWxsZWU4MSQiLCJfY29udGV4dDgxIiwiZGVsZXRlUHVzaFByb3ZpZGVyIiwiX3gxMDUiLCJfbGlzdFB1c2hQcm92aWRlcnMiLCJfY2FsbGVlODIiLCJfY2FsbGVlODIkIiwiX2NvbnRleHQ4MiIsImxpc3RQdXNoUHJvdmlkZXJzIiwiY3JlYXRlQWJvcnRDb250cm9sbGVyRm9yTmV4dFJlcXVlc3QiLCJBYm9ydENvbnRyb2xsZXIiLCJfY29tbWl0TWVzc2FnZSIsIl9jYWxsZWU4MyIsIl9jYWxsZWU4MyQiLCJfY29udGV4dDgzIiwiY29tbWl0TWVzc2FnZSIsIl94MTA2IiwiZ2V0SW5zdGFuY2UiLCJfaW5zdGFuY2UiLCJFVkVOVF9NQVAiLCJBbGxvdyIsIkRlbnkiLCJBbnlSZXNvdXJjZSIsIkFueVJvbGUiLCJNYXhQcmlvcml0eSIsIk1pblByaW9yaXR5IiwiUGVybWlzc2lvbiIsInByaW9yaXR5IiwicmVzb3VyY2VzIiwib3duZXIiLCJhY3Rpb24iLCJBbGxvd0FsbCIsIkRlbnlBbGwiLCJCdWlsdGluUm9sZXMiLCJBZG1pbiIsIkFub255bW91cyIsIkNoYW5uZWxNZW1iZXIiLCJDaGFubmVsTW9kZXJhdG9yIiwiR3Vlc3QiLCJVc2VyIiwiQnVpbHRpblBlcm1pc3Npb25zIiwiQWRkTGlua3MiLCJCYW5Vc2VyIiwiQ3JlYXRlQ2hhbm5lbCIsIkNyZWF0ZU1lc3NhZ2UiLCJDcmVhdGVSZWFjdGlvbiIsIkRlbGV0ZUFueUF0dGFjaG1lbnQiLCJEZWxldGVBbnlDaGFubmVsIiwiRGVsZXRlQW55TWVzc2FnZSIsIkRlbGV0ZUFueVJlYWN0aW9uIiwiRGVsZXRlT3duQXR0YWNobWVudCIsIkRlbGV0ZU93bkNoYW5uZWwiLCJEZWxldGVPd25NZXNzYWdlIiwiRGVsZXRlT3duUmVhY3Rpb24iLCJSZWFkQW55Q2hhbm5lbCIsIlJlYWRPd25DaGFubmVsIiwiUnVuTWVzc2FnZUFjdGlvbiIsIlVwZGF0ZUFueUNoYW5uZWwiLCJVcGRhdGVBbnlNZXNzYWdlIiwiVXBkYXRlTWVtYmVyc0FueUNoYW5uZWwiLCJVcGRhdGVNZW1iZXJzT3duQ2hhbm5lbCIsIlVwZGF0ZU93bkNoYW5uZWwiLCJVcGRhdGVPd25NZXNzYWdlIiwiVXBsb2FkQXR0YWNobWVudCIsIlVzZUZyb3plbkNoYW5uZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/stream-chat/dist/index.es.js\n");

/***/ })

};
;